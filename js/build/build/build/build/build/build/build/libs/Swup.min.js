var r;r=function(){const t=(r,g)=>String(r).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||g||"",e=function(r){let{hash:g}=void 0===r?{}:r;return location.pathname+location.search+(g?location.hash:"")},i=function(r,g){void 0===r&&(r=null),void 0===g&&(g={}),r=r||e({hash:!0});const y={...history.state||{},url:r,random:Math.random(),source:"swup",...g};history.replaceState(y,"",r)},r=new WeakMap;function o(g,y,E,U){if(!g&&!r.has(y))return!1;const B=r.get(y)??new WeakMap;r.set(y,B);const O=B.get(E)??new Set;B.set(E,O);const _=O.has(U);return g?O.add(U):O.delete(U),_&&g}const s=(r,g,y,E)=>{const U=new AbortController;return function(r,g,y,E={}){const{signal:U,base:B=document}=E;if(U?.aborted)return;const{once:O,..._}=E,F=B instanceof Document?B.documentElement:B,K=Boolean("object"==typeof E?E.capture:E),u=E=>{const U=function(r,g){let y=r.target;if(y instanceof Text&&(y=y.parentElement),y instanceof Element&&r.currentTarget instanceof Element){const E=y.closest(g);if(E&&r.currentTarget.contains(E))return E}}(E,r);if(U){const r=Object.assign(E,{delegateTarget:U});y.call(F,r),O&&(F.removeEventListener(g,u,_),o(!1,F,y,z))}},z=JSON.stringify({selector:r,type:g,capture:K});o(!0,F,y,z)||F.addEventListener(g,u,_),U?.addEventListener("abort",()=>{o(!1,F,y,z)})}(r,g,y,E={...E,signal:U.signal}),{destroy:()=>U.abort()}};class a extends URL{constructor(r,g){void 0===g&&(g=document.baseURI),super(r.toString(),g)}get url(){return this.pathname+this.search}static fromElement(r){const g=r.getAttribute("href")||r.getAttribute("xlink:href")||"";return new a(g)}static fromUrl(r){return new a(r)}}class c{constructor(r){this.swup=void 0,this.pages=new Map,this.swup=r}get size(){return this.pages.size}get all(){const r=new Map;return this.pages.forEach((g,y)=>{r.set(y,{...g})}),r}has(r){return this.pages.has(this.resolve(r))}get(r){const g=this.pages.get(this.resolve(r));return g?{...g}:g}set(r,g){r=this.resolve(r),g={...g,url:r},this.pages.set(r,g),this.swup.hooks.callSync("cache:set",{page:g})}update(r,g){r=this.resolve(r);const y={...this.get(r),...g,url:r};this.pages.set(r,y)}delete(r){this.pages.delete(this.resolve(r))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0)}prune(r){this.pages.forEach((g,y)=>{r(y,g)&&this.delete(y)})}resolve(r){const{url:g}=a.fromUrl(r);return this.swup.resolveUrl(g)}}const l=function(r,g){return void 0===g&&(g=document),g.querySelector(r)},h=function(r,g){return void 0===g&&(g=document),Array.from(g.querySelectorAll(r))},u=()=>new Promise(r=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})});function d(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof r.then}const m=r=>window.CSS&&window.CSS.escape?CSS.escape(r):r,f=r=>1e3*Number(r.slice(0,-1).replace(",","."));class p{constructor(r){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating"],this.swup=r}get selectors(){const{scope:r}=this.swup.visit.animation;return"containers"===r?this.swup.visit.containers:"html"===r?["html"]:Array.isArray(r)?r:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?h(this.selector):[]}add(){this.targets.forEach(r=>r.classList.add(...[].slice.call(arguments)))}remove(){this.targets.forEach(r=>r.classList.remove(...[].slice.call(arguments)))}clear(){this.targets.forEach(r=>{const g=r.className.split(" ").filter(r=>this.isSwupClass(r));r.classList.remove(...g)})}isSwupClass(r){return this.swupClasses.some(g=>r.startsWith(g))}}function v(r){let{to:g,from:y=this.currentPageUrl,hash:E,el:U,event:B}=r;return{from:{url:y},to:{url:g,hash:E},containers:this.options.containers,animation:{animate:!0,wait:!1,name:void 0,scope:this.options.animationScope,selector:this.options.animationSelector},trigger:{el:U,event:B},cache:{read:this.options.cache,write:this.options.cache},history:{action:"push",popstate:!1,direction:void 0},scroll:{reset:!0,target:void 0}}}const g="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function w(r,g,E){if(!r.s){if(E instanceof y){if(!E.s)return void(E.o=w.bind(null,r,g));1&g&&(g=E.s),E=E.v}if(E&&E.then)return void E.then(w.bind(null,r,g),w.bind(null,r,2));r.s=g,r.v=E;const U=r.o;U&&U(r)}}const y=function(){function t(){}return t.prototype.then=function(r,g){const y=new t,E=this.s;if(E){const U=1&E?r:g;if(U){try{w(y,1,U(this.v))}catch(r){w(y,2,r)}return y}return this}return this.o=function(E){try{const U=E.v;1&E.s?w(y,1,r?r(U):U):g?w(y,1,g(U)):w(y,2,U)}catch(E){w(y,2,E)}},y},t}();function P(r){return r instanceof y&&1&r.s}class k{constructor(r){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:end"],this.swup=r,this.init()}init(){this.hooks.forEach(r=>this.create(r))}create(r){this.registry.has(r)||this.registry.set(r,new Map)}exists(r){return this.registry.has(r)}get(r){const g=this.registry.get(r);if(g)return g;console.error(`Unknown hook '${r}'`)}clear(){this.registry.forEach(r=>r.clear())}on(r,g,y){void 0===y&&(y={});const E=this.get(r);if(!E)return console.warn(`Hook '${r}' not found.`),()=>{};const U=E.size+1,B={...y,id:U,hook:r,handler:g};return E.set(g,B),()=>this.off(r,g)}before(r,g,y){return void 0===y&&(y={}),this.on(r,g,{...y,before:!0})}replace(r,g,y){return void 0===y&&(y={}),this.on(r,g,{...y,replace:!0})}once(r,g,y){return void 0===y&&(y={}),this.on(r,g,{...y,once:!0})}off(r,g){const y=this.get(r);y&&g?y.delete(g)||console.warn(`Handler for hook '${r}' not found.`):y&&y.clear()}call(r,g,y){try{const E=this,{before:U,handler:B,after:O}=E.getHandlers(r,y);return Promise.resolve(E.run(U,g)).then(function(){return Promise.resolve(E.run(B,g)).then(function(y){let[U]=y;return Promise.resolve(E.run(O,g)).then(function(){return E.dispatchDomEvent(r,g),U})})})}catch(r){return Promise.reject(r)}}callSync(r,g,y){const{before:E,handler:U,after:B}=this.getHandlers(r,y);this.runSync(E,g);const[O]=this.runSync(U,g);return this.runSync(B,g),this.dispatchDomEvent(r,g),O}run(r,E){try{const U=this,B=[],O=function(r,E){if("function"==typeof r[g]){var U,B,O,_=r[g]();if(function t(r){try{for(;!(U=_.next()).done;)if((r=E(U.value))&&r.then){if(!P(r))return void r.then(t,O||(O=w.bind(null,B=new y,2)));r=r.v}B?w(B,1,r):B=r}catch(t){w(B||(B=new y),2,t)}}(),_.return){var a=function(r){try{U.done||_.return()}catch(r){}return r};if(B&&B.then)return B.then(a,function(r){throw a(r)});a()}return B}if(!("length"in r))throw new TypeError("Object is not iterable");for(var F=[],K=0;K<r.length;K++)F.push(r[K]);return function(r,g){var E,U,B=-1;return function n(O){try{for(;++B<r.length;)if((O=g(B))&&O.then){if(!P(O))return void O.then(n,U||(U=w.bind(null,E=new y,2)));O=O.v}E?w(E,1,O):E=O}catch(r){w(E||(E=new y),2,r)}}(),E}(F,function(r){return E(F[r])})}(r,function(r){let{hook:g,handler:y,defaultHandler:O,once:_}=r;return Promise.resolve(function(r,g){return void 0===g&&(g=[]),new Promise((y,E)=>{const U=r(...g);d(U)?U.then(y,E):y(U)})}(y,[U.swup.visit,E,O])).then(function(r){B.push(r),_&&U.off(g,y)})});return Promise.resolve(O&&O.then?O.then(function(){return B}):B)}catch(r){return Promise.reject(r)}}runSync(r,g){const y=[];for(const{hook:E,handler:U,defaultHandler:B,once:O}of r){const r=U(this.swup.visit,g,B);y.push(r),d(r)&&console.warn(`Promise returned from handler for synchronous hook '${E}'.Swup will not wait for it to resolve.`),O&&this.off(E,U)}return y}getHandlers(r,g){const y=this.get(r);if(!y)return{found:!1,before:[],handler:[],after:[],replaced:!1};const E=Array.from(y.values()),U=this.sortRegistrations,B=E.filter(r=>{let{before:g,replace:y}=r;return g&&!y}).sort(U),O=E.filter(r=>{let{replace:g}=r;return g}).filter(r=>!0).sort(U),_=E.filter(r=>{let{before:g,replace:y}=r;return!g&&!y}).sort(U),F=O.length>0;let K=[];if(g&&(K=[{id:0,hook:r,handler:g}],F)){const y=O.length-1,i=r=>{const y=O[r-1];return y?(g,E)=>y.handler(g,E,i(r-1)):g};K=[{id:0,hook:r,handler:O[y].handler,defaultHandler:i(y)}]}return{found:!0,before:B,handler:K,after:_,replaced:F}}sortRegistrations(r,g){return(r.priority??0)-(g.priority??0)||r.id-g.id||0}dispatchDomEvent(r,g){document.dispatchEvent(new CustomEvent(`swup:${r}`,{detail:{hook:r,args:g,visit:this.swup.visit}}))}}const S=r=>{if(r&&"#"===r.charAt(0)&&(r=r.substring(1)),!r)return null;const g=decodeURIComponent(r);let y=document.getElementById(r)||document.getElementById(g)||l(`a[name='${m(r)}']`)||l(`a[name='${m(g)}']`);return y||"top"!==r||(y=document.body),y},b=function(r){let{elements:g,selector:y}=r;try{if(!1===y&&!g)return Promise.resolve();let r=[];if(g)r=Array.from(g);else if(y&&(r=h(y,document.body),!r.length))return console.warn(`[swup] No elements found matching animationSelector \`${y}\``),Promise.resolve();const B=r.map(r=>function(r){const{type:g,timeout:y,propCount:B}=function(r,g){const y=window.getComputedStyle(r),B=C(y,`${E}Delay`),O=C(y,`${E}Duration`),_=$(B,O),F=C(y,`${U}Delay`),K=C(y,`${U}Duration`),z=$(F,K);let G=null,J=0,X=0;return g===E?_>0&&(G=E,J=_,X=O.length):g===U?z>0&&(G=U,J=z,X=K.length):(J=Math.max(_,z),G=J>0?_>z?E:U:null,X=G?G===E?O.length:K.length:0),{type:G,timeout:J,propCount:X}}(r);return!(!g||!y)&&new Promise(O=>{const _=`${g}end`,F=performance.now();let K=0;const c=()=>{r.removeEventListener(_,l),O()},l=g=>{if(g.target===r){if(!function(r){return[`${E}end`,`${U}end`].includes(r.type)}(g))throw new Error("Not a transition or animation event.");(performance.now()-F)/1e3<g.elapsedTime||++K>=B&&c()}};setTimeout(()=>{K<B&&c()},y+1),r.addEventListener(_,l)})}(r));return B.filter(Boolean).length>0?Promise.resolve(Promise.all(B)).then(function(){}):(y&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${y}\``),Promise.resolve())}catch(r){return Promise.reject(r)}},E="transition",U="animation";function C(r,g){return(r[g]||"").split(", ")}function $(r,g){for(;r.length<g.length;)r=r.concat(r);return Math.max(...g.map((g,y)=>f(g)+f(r[y])))}const x=function(r){void 0===r&&(r={});try{const g=this,{el:y}=g.visit.trigger;r.referrer=r.referrer||g.currentPageUrl,!1===r.animate&&(g.visit.animation.animate=!1),g.visit.animation.animate||g.classes.clear();const E=r.history||y?.getAttribute("data-swup-history")||void 0;E&&["push","replace"].includes(E)&&(g.visit.history.action=E);const U=r.animation||y?.getAttribute("data-swup-animation")||void 0;return U&&(g.visit.animation.name=U),"object"==typeof r.cache?(g.visit.cache.read=r.cache.read??g.visit.cache.read,g.visit.cache.write=r.cache.write??g.visit.cache.write):void 0!==r.cache&&(g.visit.cache={read:!!r.cache,write:!!r.cache}),delete r.cache,Promise.resolve(function(y,E){try{var U=Promise.resolve(g.hooks.call("visit:start",void 0)).then(function(){function o(){const r=g.animatePageOut();return Promise.resolve(Promise.all([y,r])).then(function(r){let[y]=r;return Promise.resolve(g.renderPage(g.visit.to.url,y)).then(function(){return Promise.resolve(g.animatePageIn()).then(function(){return Promise.resolve(g.hooks.call("visit:end",void 0,()=>g.classes.clear())).then(function(){})})})})}const y=g.hooks.call("page:load",{options:r},function(r,y){try{function n(r){return y.page=r,y.cache=!!E,y.page}let E;return g.visit.cache.read&&(E=g.cache.get(r.to.url)),Promise.resolve(E?n(E):Promise.resolve(g.fetchPage(r.to.url,y.options)).then(n))}catch(U){return Promise.reject(U)}});if(!g.visit.history.popstate){const r=g.visit.to.url+g.visit.to.hash;"replace"===g.visit.history.action||g.visit.to.url===g.currentPageUrl?i(r):function(r,g){void 0===g&&(g={});const y={url:r=r||e({hash:!0}),random:Math.random(),source:"swup",...g};history.pushState(y,"",r)}(r,{index:g.currentHistoryIndex+1})}g.currentPageUrl=e();const E=function(){if(g.visit.animation.wait)return Promise.resolve(y).then(function(r){let{html:y}=r;g.visit.to.html=y})}();return E&&E.then?E.then(o):o()})}catch(r){return E(r)}return U&&U.then?U.then(void 0,E):U}(0,function(r){r&&(console.error(r),g.options.skipPopStateHandling=()=>(window.location.href=g.visit.to.url+g.visit.to.hash,!0),window.history.go(-1))}))}catch(r){return Promise.reject(r)}};function A(r,g,y){if(void 0===g&&(g={}),void 0===y&&(y={}),"string"!=typeof r)throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(r,{el:y.el,event:y.event}))return void(window.location.href=r);const{url:E,hash:U}=a.fromUrl(r);this.visit=this.createVisit({...y,to:E,hash:U}),this.performNavigation(g)}const j=function(r,g){void 0===g&&(g={});try{const y=this;r=a.fromUrl(r).url;const E={...y.options.requestHeaders,...g.headers};return g={...g,headers:E},Promise.resolve(y.hooks.call("fetch:request",{url:r,options:g},(r,g)=>{let{url:y,options:E}=g;return fetch(y,E)})).then(function(E){const{status:U,url:B}=E;return Promise.resolve(E.text()).then(function(O){if(500===U)throw y.hooks.call("fetch:error",{status:U,response:E,url:B}),new H(`Server error: ${B}`,{status:U,url:B});if(!O)throw new H(`Empty response: ${B}`,{status:U,url:B});const{url:_}=a.fromUrl(B),F={url:_,html:O};return!y.visit.cache.write||g.method&&"GET"!==g.method||r!==_||y.cache.set(F.url,F),F})})}catch(r){return Promise.reject(r)}};class H extends Error{constructor(r,g){super(r),this.url=void 0,this.status=void 0,this.name="FetchError",this.url=g.url,this.status=g.status}}const L=function(){try{let r;const g=this;function e(y){return r?y:Promise.resolve(g.hooks.call("animation:out:start",void 0,r=>{g.classes.add("is-changing","is-leaving","is-animating"),r.history.popstate&&g.classes.add("is-popstate"),r.animation.name&&g.classes.add(`to-${t(r.animation.name)}`)})).then(function(){return Promise.resolve(g.hooks.call("animation:out:await",{skip:!1},function(r,y){let{skip:E}=y;try{return E?Promise.resolve():Promise.resolve(g.awaitAnimations({selector:r.animation.selector})).then(function(){})}catch(r){return Promise.reject(r)}})).then(function(){return Promise.resolve(g.hooks.call("animation:out:end",void 0)).then(function(){})})})}const y=function(){if(!g.visit.animation.animate)return Promise.resolve(g.hooks.call("animation:skip",void 0)).then(function(){r=1})}();return Promise.resolve(y&&y.then?y.then(e):e(y))}catch(E){return Promise.reject(E)}},T=function(r,g){let{html:y}=r,{containers:E}=void 0===g?this.options:g;const U=(new DOMParser).parseFromString(y,"text/html"),B=U.querySelector("title")?.innerText||"";document.title=B;const O=h('[data-swup-persist]:not([data-swup-persist=""])'),_=E.map(r=>{const g=document.querySelector(r),y=U.querySelector(r);return g&&y?(g.replaceWith(y),!0):(g||console.warn(`[swup] Container missing in current document: ${r}`),y||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return O.forEach(r=>{const g=r.getAttribute("data-swup-persist"),y=l(`[data-swup-persist="${g}"]`);y&&y!==r&&y.replaceWith(r)}),_.length===E.length},q=function(){const r={behavior:"auto"},{target:g,reset:y}=this.visit.scroll,E=g??this.visit.to.hash;let U=!1;return E&&(U=this.hooks.callSync("scroll:anchor",{hash:E,options:r},(r,g)=>{let{hash:y,options:E}=g;const U=this.getAnchorElement(y);return U&&U.scrollIntoView(E),!!U})),y&&!U&&(U=this.hooks.callSync("scroll:top",{options:r},(r,g)=>{let{options:y}=g;return window.scrollTo({top:0,left:0,...y}),!0})),U},R=function(){try{const r=this;if(!r.visit.animation.animate)return Promise.resolve();const g=r.hooks.call("animation:in:await",{skip:!1},function(g,y){let{skip:E}=y;try{return E?Promise.resolve():Promise.resolve(r.awaitAnimations({selector:g.animation.selector})).then(function(){})}catch(r){return Promise.reject(r)}});return Promise.resolve(u()).then(function(){return Promise.resolve(r.hooks.call("animation:in:start",void 0,()=>{r.classes.remove("is-animating")})).then(function(){return Promise.resolve(g).then(function(){return Promise.resolve(r.hooks.call("animation:in:end",void 0)).then(function(){})})})})}catch(r){return Promise.reject(r)}},N=function(r,g){try{const y=this,{url:E,html:U}=g;return y.classes.remove("is-leaving"),y.isSameResolvedUrl(e(),r)?(y.isSameResolvedUrl(e(),E)||(i(E),y.currentPageUrl=e(),y.visit.to.url=y.currentPageUrl),y.visit.animation.animate&&y.classes.add("is-rendering"),y.visit.to.html=U,Promise.resolve(y.hooks.call("content:replace",{page:g},(r,g)=>{let{page:E}=g;if(!y.replaceContent(E,{containers:r.containers}))throw new Error("[swup] Container mismatch, aborting");r.animation.animate&&(y.classes.add("is-animating","is-changing","is-rendering"),r.animation.name&&y.classes.add(`to-${t(r.animation.name)}`))})).then(function(){return Promise.resolve(y.hooks.call("content:scroll",void 0,()=>y.scrollToContent())).then(function(){return Promise.resolve(y.hooks.call("page:view",{url:y.currentPageUrl,title:document.title})).then(function(){})})})):Promise.resolve()}catch(r){return Promise.reject(r)}},D=function(r){var g;if(g=r,Boolean(g?.isSwupPlugin)){if(r.swup=this,!r._checkRequirements||r._checkRequirements())return r._beforeMount&&r._beforeMount(),r.mount(),this.plugins.push(r),this.plugins}else console.error("Not a swup plugin instance",r)};function I(r){const g=this.findPlugin(r);if(g)return g.unmount(),g._afterUnmount&&g._afterUnmount(),this.plugins=this.plugins.filter(r=>r!==g),this.plugins;console.error("No such plugin",g)}function M(r){return this.plugins.find(g=>g===r||g.name===r||g.name===`Swup${String(r)}`)}function W(r){if("function"!=typeof this.options.resolveUrl)return console.warn("[swup] options.resolveUrl expects a callback function."),r;const g=this.options.resolveUrl(r);return g&&"string"==typeof g?g.startsWith("//")||g.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),r):g:(console.warn("[swup] options.resolveUrl needs to return a url"),r)}function V(r,g){return this.resolveUrl(r)===this.resolveUrl(g)}const B={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:function(r,g){let{el:y}=void 0===g?{}:g;return!!y?.closest("[data-no-swup]")},linkSelector:"a[href]",linkToSelf:"scroll",plugins:[],resolveUrl:r=>r,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:r=>"swup"!==r.state?.source};return class{constructor(r){void 0===r&&(r={}),this.version="4.3.1",this.options=void 0,this.defaults=B,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.currentPageUrl=e(),this.currentHistoryIndex=1,this.clickDelegate=void 0,this.use=D,this.unuse=I,this.findPlugin=M,this.log=()=>{},this.navigate=A,this.performNavigation=x,this.createVisit=v,this.delegateEvent=s,this.fetchPage=j,this.awaitAnimations=b,this.renderPage=N,this.replaceContent=T,this.animatePageIn=R,this.animatePageOut=L,this.scrollToContent=q,this.getAnchorElement=S,this.getCurrentUrl=e,this.resolveUrl=W,this.isSameResolvedUrl=V,this.options={...this.defaults,...r},this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new c(this),this.classes=new p(this),this.hooks=new k(this),this.visit=this.createVisit({to:""}),this.checkRequirements()&&this.enable()}checkRequirements(){return"undefined"!=typeof Promise||(console.warn("Promise is not supported"),!1)}enable(){try{const r=this,{linkSelector:g}=r.options;return r.clickDelegate=r.delegateEvent(g,"click",r.handleLinkClick),window.addEventListener("popstate",r.handlePopState),r.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),r.options.plugins.forEach(g=>r.use(g)),i(null,{index:1}),Promise.resolve(u()).then(function(){return Promise.resolve(r.hooks.call("enable",void 0,()=>{document.documentElement.classList.add("swup-enabled")})).then(function(){})})}catch(r){return Promise.reject(r)}}destroy(){try{const r=this;return r.clickDelegate.destroy(),window.removeEventListener("popstate",r.handlePopState),r.cache.clear(),r.options.plugins.forEach(g=>r.unuse(g)),Promise.resolve(r.hooks.call("disable",void 0,()=>{document.documentElement.classList.remove("swup-enabled")})).then(function(){r.hooks.clear()})}catch(r){return Promise.reject(r)}}shouldIgnoreVisit(r,g){let{el:y,event:E}=void 0===g?{}:g;const{origin:U,url:B,hash:O}=a.fromUrl(r);return U!==window.location.origin||!(!y||!this.triggerWillOpenNewWindow(y))||!!this.options.ignoreVisit(B+O,{el:y,event:E})}handleLinkClick(r){const g=r.delegateTarget,{href:y,url:E,hash:U}=a.fromElement(g);this.shouldIgnoreVisit(y,{el:g,event:r})||(this.visit=this.createVisit({to:E,hash:U,el:g,event:r}),r.metaKey||r.ctrlKey||r.shiftKey||r.altKey?this.hooks.call("link:newtab",{href:y}):0===r.button&&this.hooks.callSync("link:click",{el:g,event:r},()=>{const g=this.visit.from.url??"";r.preventDefault(),E&&E!==g?this.isSameResolvedUrl(E,g)||this.performNavigation():U?this.hooks.callSync("link:anchor",{hash:U},()=>{i(E+U),this.scrollToContent()}):this.hooks.callSync("link:self",void 0,()=>"navigate"===this.options.linkToSelf?this.performNavigation():this.scrollToContent())}))}handlePopState(r){const g=r.state?.url??location.href;if(this.options.skipPopStateHandling(r))return;if(this.isSameResolvedUrl(e(),this.currentPageUrl))return;const{url:y,hash:E}=a.fromUrl(g);this.visit=this.createVisit({to:y,hash:E,event:r}),this.visit.history.popstate=!0;const U=Number(r.state?.index);U&&(this.visit.history.direction=U-this.currentHistoryIndex>0?"forwards":"backwards"),this.visit.animation.animate=!1,this.visit.scroll.reset=!1,this.visit.scroll.target=!1,this.options.animateHistoryBrowsing&&(this.visit.animation.animate=!0,this.visit.scroll.reset=!0),this.hooks.callSync("history:popstate",{event:r},()=>{this.performNavigation()})}triggerWillOpenNewWindow(r){return!!r.matches('[download], [target="_blank"]')}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(this||self).Swup=r();
//# sourceMappingURL=Swup.min.js.map
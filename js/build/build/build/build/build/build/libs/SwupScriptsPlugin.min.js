var n;n=function(){function t(){return t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},t.apply(this,arguments)}const e=n=>String(n).split(".").map(n=>String(parseInt(n||"0",10))).concat(["0","0"]).slice(0,3).join(".");class r{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(n=>n()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach(([n,s])=>{if(!function(n,s,o){const i=function(n,s){var o;if("swup"===n)return null!=(o=s.version)?o:"";{var i;const o=s.findPlugin(n);return null!=(i=null==o?void 0:o.version)?i:""}}(n,o);return!!i&&((n,s)=>s.every(s=>{const[,o,i]=s.match(/^([\D]+)?(.*)$/)||[];var u,c;return((n,s)=>{const o={"":n=>0===n,">":n=>n>0,">=":n=>n>=0,"<":n=>n<0,"<=":n=>n<=0};return(o[s]||o[""])(n)})((c=i,u=e(u=n),c=e(c),u.localeCompare(c,void 0,{numeric:!0})),o||">=")}))(i,s)}(n,s=Array.isArray(s)?s:[s],this.swup)){const o=`${n} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${o}`)}}),!0}on(n,s,o={}){var i;s=!(i=s).name.startsWith("bound ")||i.hasOwnProperty("prototype")?s.bind(this):s;const u=this.swup.hooks.on(n,s,o);return this.handlersToUnregister.push(u),u}once(n,s,o={}){return this.on(n,s,t({},o,{once:!0}))}before(n,s,o={}){return this.on(n,s,t({},o,{before:!0}))}replace(n,s,o={}){return this.on(n,s,t({},o,{replace:!0}))}off(n,s){return this.swup.hooks.off(n,s)}}return class extends r{constructor(n){void 0===n&&(n={}),super(),this.name="SwupScriptsPlugin",this.requires={swup:">=4"},this.defaults={head:!0,body:!0,optin:!1},this.options={...this.defaults,...n}}mount(){this.on("content:replace",this.runScripts)}runScripts(){const{head:n,body:s,optin:o}=this.options,i=this.getScope({head:n,body:s});if(!i)return;const u=Array.from(i.querySelectorAll(o?"script[data-swup-reload-script]":"script:not([data-swup-ignore-script])"));u.forEach(n=>this.runScript(n)),this.swup.log(`Executed ${u.length} scripts.`)}runScript(n){const s=document.createElement("script");for(const{name:o,value:i}of n.attributes)s.setAttribute(o,i);return s.textContent=n.textContent,n.replaceWith(s),s}getScope(n){let{head:s,body:o}=n;return s&&o?document:s?document.head:o?document.body:null}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(this||self).SwupScriptsPlugin=n();
//# sourceMappingURL=SwupScriptsPlugin.min.js.map
{"version":3,"file":"SwupPreloadPlugin.min.js","names":["n","e","Object","assign","bind","a","arguments","length","l","d","prototype","hasOwnProperty","call","apply","this","t","String","split","map","parseInt","concat","slice","join","r","constructor","isSwupPlugin","swup","version","requires","handlersToUnregister","mount","unmount","forEach","_beforeMount","name","Error","_afterUnmount","_checkRequirements","entries","findPlugin","every","match","p","f","localeCompare","numeric","Array","isArray","on","startsWith","hooks","push","once","before","replace","off","o","hash","location","pathname","search","s","URL","document","baseURI","super","toString","url","fromElement","getAttribute","fromUrl","i","window","matchMedia","matches","requestIdleCallback","setTimeout","defaults","throttle","preloadInitialPage","preloadHoveredLinks","preloadVisibleLinks","enabled","threshold","delay","containers","ignore","options","queue","preloadObserver","preloadPromises","Map","mouseEnterDelegate","touchStartDelegate","focusDelegate","onPageLoad","to","has","get","onMouseEnter","target","delegateTarget","Promise","resolve","HTMLAnchorElement","callSync","el","event","preload","priority","reject","onTouchStart","onFocus","Boolean","shift","add","__queued","indexOf","splice","next","cache","console","warn","create","preloadLinks","linkSelector","passive","capture","delegateEvent","clear","destroy","stopPreloadingVisibleLinks","all","shouldPreload","m","performPreload","catch","then","finally","delete","set","from","querySelectorAll","update","callback","filter","g","v","IntersectionObserver","isIntersecting","h","u","href","Set","size","unobserve","c","observe","start","stop","disconnect","navigator","connection","saveData","effectiveType","endsWith","shouldIgnoreVisit","resolveUrl","fetchPage","page","exports","module","define","amd","self","SwupPreloadPlugin"],"sources":["0"],"mappings":"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","ignoreList":[]}
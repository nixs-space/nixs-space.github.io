{"version":3,"file":"SwupPreloadPlugin.min.js","names":["a","e","Object","assign","bind","n","arguments","length","l","d","prototype","hasOwnProperty","call","apply","this","t","String","split","map","parseInt","concat","slice","join","r","constructor","isSwupPlugin","swup","version","requires","handlersToUnregister","mount","unmount","forEach","_beforeMount","name","Error","_afterUnmount","_checkRequirements","entries","findPlugin","every","match","p","f","localeCompare","numeric","Array","isArray","on","startsWith","hooks","push","once","before","replace","off","o","hash","location","pathname","search","s","URL","document","baseURI","super","toString","url","fromElement","getAttribute","fromUrl","i","window","matchMedia","matches","requestIdleCallback","setTimeout","defaults","throttle","preloadInitialPage","preloadHoveredLinks","preloadVisibleLinks","enabled","threshold","delay","containers","ignore","options","queue","preloadObserver","preloadPromises","Map","mouseEnterDelegate","touchStartDelegate","focusDelegate","onPageLoad","to","has","get","onMouseEnter","target","delegateTarget","Promise","resolve","HTMLAnchorElement","callSync","el","event","preload","priority","reject","onTouchStart","onFocus","Boolean","shift","add","__queued","indexOf","splice","next","cache","console","warn","create","preloadLinks","linkSelector","passive","capture","delegateEvent","clear","destroy","stopPreloadingVisibleLinks","all","shouldPreload","m","performPreload","catch","then","finally","delete","set","from","querySelectorAll","update","callback","filter","g","v","IntersectionObserver","isIntersecting","h","u","href","Set","size","unobserve","c","observe","start","stop","disconnect","navigator","connection","saveData","effectiveType","endsWith","shouldIgnoreVisit","resolveUrl","fetchPage","page","exports","module","define","amd","self","SwupPreloadPlugin"],"sources":["0"],"mappings":"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","ignoreList":[]}
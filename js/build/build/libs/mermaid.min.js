(()=>{var q,Y,V,Z,re,ae,se,oe,he,de,pe,ge,me,ve,be=Object.create,we=Object.defineProperty,Te=Object.getOwnPropertyDescriptor,_e=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,Ce=Object.prototype.hasOwnProperty,o=(c,q)=>we(c,"name",{value:q,configurable:!0}),M=(c,q)=>()=>(c&&(q=c(c=0)),q),Ni=(c,q)=>()=>(q||c((q={exports:{}}).exports,q),q.exports),vr=(c,q)=>{for(var Y in q)we(c,Y,{get:q[Y],enumerable:!0})},Cb=(c,q,Y,V)=>{if(q&&"object"==typeof q||"function"==typeof q)for(let Z of _e(q))!Ce.call(c,Z)&&Z!==Y&&we(c,Z,{get:()=>q[Z],enumerable:!(V=Te(q,Z))||V.enumerable});return c},Er=(c,q,Y)=>(Cb(c,q,"default"),Y&&Cb(Y,q,"default")),ka=(c,q,Y)=>(Y=null!=c?be(Ee(c)):{},Cb(!q&&c&&c.__esModule?Y:we(Y,"default",{value:c,enumerable:!0}),c)),Se=Ni((c,q)=>{var Y,V;Y=c,V=function(){var c=6e4,q=36e5,Y="millisecond",V="second",Z="minute",re="hour",ae="day",se="week",oe="month",he="quarter",de="year",pe="date",ge="Invalid Date",me=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ve=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,be={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o(function(c){var q=["th","st","nd","rd"],Y=c%100;return"["+c+(q[(Y-20)%10]||q[Y]||q[0])+"]"},"ordinal")},we=o(function(c,q,Y){var V=String(c);return!V||V.length>=q?c:""+Array(q+1-V.length).join(Y)+c},"m"),Te={s:we,z:o(function(c){var q=-c.utcOffset(),Y=Math.abs(q),V=Math.floor(Y/60),Z=Y%60;return(q<=0?"+":"-")+we(V,2,"0")+":"+we(Z,2,"0")},"z"),m:o(function k(c,q){if(c.date()<q.date())return-k(q,c);var Y=12*(q.year()-c.year())+(q.month()-c.month()),V=c.clone().add(Y,oe),Z=q-V<0,re=c.clone().add(Y+(Z?-1:1),oe);return+(-(Y+(q-V)/(Z?V-re:re-V))||0)},"t"),a:o(function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},"a"),p:o(function(c){return{M:oe,y:de,w:se,d:ae,D:pe,h:re,m:Z,s:V,ms:Y,Q:he}[c]||String(c||"").toLowerCase().replace(/s$/,"")},"p"),u:o(function(c){return void 0===c},"u")},_e="en",Ee={};Ee[_e]=be;var Ce="$isDayjsObject",Se=o(function(c){return c instanceof Ie||!(!c||!c[Ce])},"S"),Ae=o(function k(c,q,Y){var V;if(!c)return _e;if("string"==typeof c){var Z=c.toLowerCase();Ee[Z]&&(V=Z),q&&(Ee[Z]=q,V=Z);var re=c.split("-");if(!V&&re.length>1)return k(re[0])}else{var ae=c.name;Ee[ae]=c,V=ae}return!Y&&V&&(_e=V),V||!Y&&_e},"t"),Le=o(function(c,q){if(Se(c))return c.clone();var Y="object"==typeof q?q:{};return Y.date=c,Y.args=arguments,new Ie(Y)},"O"),Ne=Te;Ne.l=Ae,Ne.i=Se,Ne.w=function(c,q){return Le(c,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var Ie=function(){function k(c){this.$L=Ae(c.locale,null,!0),this.parse(c),this.$x=this.$x||c.x||{},this[Ce]=!0}o(k,"M");var be=k.prototype;return be.parse=function(c){this.$d=function(c){var q=c.date,Y=c.utc;if(null===q)return new Date(NaN);if(Ne.u(q))return new Date;if(q instanceof Date)return new Date(q);if("string"==typeof q&&!/Z$/i.test(q)){var V=q.match(me);if(V){var Z=V[2]-1||0,re=(V[7]||"0").substring(0,3);return Y?new Date(Date.UTC(V[1],Z,V[3]||1,V[4]||0,V[5]||0,V[6]||0,re)):new Date(V[1],Z,V[3]||1,V[4]||0,V[5]||0,V[6]||0,re)}}return new Date(q)}(c),this.init()},be.init=function(){var c=this.$d;this.$y=c.getFullYear(),this.$M=c.getMonth(),this.$D=c.getDate(),this.$W=c.getDay(),this.$H=c.getHours(),this.$m=c.getMinutes(),this.$s=c.getSeconds(),this.$ms=c.getMilliseconds()},be.$utils=function(){return Ne},be.isValid=function(){return this.$d.toString()!==ge},be.isSame=function(c,q){var Y=Le(c);return this.startOf(q)<=Y&&Y<=this.endOf(q)},be.isAfter=function(c,q){return Le(c)<this.startOf(q)},be.isBefore=function(c,q){return this.endOf(q)<Le(c)},be.$g=function(c,q,Y){return Ne.u(c)?this[q]:this.set(Y,c)},be.unix=function(){return Math.floor(this.valueOf()/1e3)},be.valueOf=function(){return this.$d.getTime()},be.startOf=function(c,q){var Y=this,he=!!Ne.u(q)||q,ge=Ne.p(c),me=o(function(c,q){var V=Ne.w(Y.$u?Date.UTC(Y.$y,q,c):new Date(Y.$y,q,c),Y);return he?V:V.endOf(ae)},"l"),ve=o(function(c,q){return Ne.w(Y.toDate()[c].apply(Y.toDate("s"),(he?[0,0,0,0]:[23,59,59,999]).slice(q)),Y)},"$"),be=this.$W,we=this.$M,Te=this.$D,_e="set"+(this.$u?"UTC":"");switch(ge){case de:return he?me(1,0):me(31,11);case oe:return he?me(1,we):me(0,we+1);case se:var Ee=this.$locale().weekStart||0,Ce=(be<Ee?be+7:be)-Ee;return me(he?Te-Ce:Te+(6-Ce),we);case ae:case pe:return ve(_e+"Hours",0);case re:return ve(_e+"Minutes",1);case Z:return ve(_e+"Seconds",2);case V:return ve(_e+"Milliseconds",3);default:return this.clone()}},be.endOf=function(c){return this.startOf(c,!1)},be.$set=function(c,q){var se,he=Ne.p(c),ge="set"+(this.$u?"UTC":""),me=(se={},se[ae]=ge+"Date",se[pe]=ge+"Date",se[oe]=ge+"Month",se[de]=ge+"FullYear",se[re]=ge+"Hours",se[Z]=ge+"Minutes",se[V]=ge+"Seconds",se[Y]=ge+"Milliseconds",se)[he],ve=he===ae?this.$D+(q-this.$W):q;if(he===oe||he===de){var be=this.clone().set(pe,1);be.$d[me](ve),be.init(),this.$d=be.set(pe,Math.min(this.$D,be.daysInMonth())).$d}else me&&this.$d[me](ve);return this.init(),this},be.set=function(c,q){return this.clone().$set(c,q)},be.get=function(c){return this[Ne.p(c)]()},be.add=function(Y,he){var pe,ge=this;Y=Number(Y);var me=Ne.p(he),ve=o(function(c){var q=Le(ge);return Ne.w(q.date(q.date()+Math.round(c*Y)),ge)},"y");if(me===oe)return this.set(oe,this.$M+Y);if(me===de)return this.set(de,this.$y+Y);if(me===ae)return ve(1);if(me===se)return ve(7);var be=(pe={},pe[Z]=c,pe[re]=q,pe[V]=1e3,pe)[me]||1,we=this.$d.getTime()+Y*be;return Ne.w(we,this)},be.subtract=function(c,q){return this.add(-1*c,q)},be.format=function(c){var q=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||ge;var V=c||"YYYY-MM-DDTHH:mm:ssZ",Z=Ne.z(this),re=this.$H,ae=this.$m,se=this.$M,oe=Y.weekdays,he=Y.months,de=Y.meridiem,pe=o(function(c,Y,Z,re){return c&&(c[Y]||c(q,V))||Z[Y].slice(0,re)},"h"),me=o(function(c){return Ne.s(re%12||12,c,"0")},"d"),be=de||function(c,q,Y){var V=c<12?"AM":"PM";return Y?V.toLowerCase():V};return V.replace(ve,function(c,V){return V||function(c){switch(c){case"YY":return String(q.$y).slice(-2);case"YYYY":return Ne.s(q.$y,4,"0");case"M":return se+1;case"MM":return Ne.s(se+1,2,"0");case"MMM":return pe(Y.monthsShort,se,he,3);case"MMMM":return pe(he,se);case"D":return q.$D;case"DD":return Ne.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return pe(Y.weekdaysMin,q.$W,oe,2);case"ddd":return pe(Y.weekdaysShort,q.$W,oe,3);case"dddd":return oe[q.$W];case"H":return String(re);case"HH":return Ne.s(re,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return be(re,ae,!0);case"A":return be(re,ae,!1);case"m":return String(ae);case"mm":return Ne.s(ae,2,"0");case"s":return String(q.$s);case"ss":return Ne.s(q.$s,2,"0");case"SSS":return Ne.s(q.$ms,3,"0");case"Z":return Z}return null}(c)||Z.replace(":","")})},be.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},be.diff=function(Y,pe,ge){var me,ve=this,be=Ne.p(pe),we=Le(Y),Te=(we.utcOffset()-this.utcOffset())*c,_e=this-we,Ee=o(function(){return Ne.m(ve,we)},"D");switch(be){case de:me=Ee()/12;break;case oe:me=Ee();break;case he:me=Ee()/3;break;case se:me=(_e-Te)/6048e5;break;case ae:me=(_e-Te)/864e5;break;case re:me=_e/q;break;case Z:me=_e/c;break;case V:me=_e/1e3;break;default:me=_e}return ge?me:Ne.a(me)},be.daysInMonth=function(){return this.endOf(oe).$D},be.$locale=function(){return Ee[this.$L]},be.locale=function(c,q){if(!c)return this.$L;var Y=this.clone(),V=Ae(c,q,!0);return V&&(Y.$L=V),Y},be.clone=function(){return Ne.w(this.$d,this)},be.toDate=function(){return new Date(this.valueOf())},be.toJSON=function(){return this.isValid()?this.toISOString():null},be.toISOString=function(){return this.$d.toISOString()},be.toString=function(){return this.$d.toUTCString()},k}(),Me=Ie.prototype;return Le.prototype=Me,[["$ms",Y],["$s",V],["$m",Z],["$H",re],["$W",ae],["$M",oe],["$y",de],["$D",pe]].forEach(function(c){Me[c[1]]=function(q){return this.$g(q,c[0],c[1])}}),Le.extend=function(c,q){return c.$i||(c(q,Ie,Le),c.$i=!0),Le},Le.locale=Ae,Le.isDayjs=Se,Le.unix=function(c){return Le(1e3*c)},Le.en=Ee[_e],Le.Ls=Ee,Le.p={},Le},"object"==typeof c&&typeof q<"u"?q.exports=V():"function"==typeof define&&define.amd?define(V):(Y=typeof globalThis<"u"?globalThis:Y||self).dayjs=V()}),Ae=M(()=>{q=ka(Se(),1),Y={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},V={trace:o((...c)=>{},"trace"),debug:o((...c)=>{},"debug"),info:o((...c)=>{},"info"),warn:o((...c)=>{},"warn"),error:o((...c)=>{},"error"),fatal:o((...c)=>{},"fatal")},Z=o(function(c="fatal"){let q=Y.fatal;"string"==typeof c?c.toLowerCase()in Y&&(q=Y[c]):"number"==typeof c&&(q=c),V.trace=()=>{},V.debug=()=>{},V.info=()=>{},V.warn=()=>{},V.error=()=>{},V.fatal=()=>{},q<=Y.fatal&&(V.fatal=console.error?console.error.bind(console,re("FATAL"),"color: orange"):console.log.bind(console,"[35m",re("FATAL"))),q<=Y.error&&(V.error=console.error?console.error.bind(console,re("ERROR"),"color: orange"):console.log.bind(console,"[31m",re("ERROR"))),q<=Y.warn&&(V.warn=console.warn?console.warn.bind(console,re("WARN"),"color: orange"):console.log.bind(console,"[33m",re("WARN"))),q<=Y.info&&(V.info=console.info?console.info.bind(console,re("INFO"),"color: lightblue"):console.log.bind(console,"[34m",re("INFO"))),q<=Y.debug&&(V.debug=console.debug?console.debug.bind(console,re("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",re("DEBUG"))),q<=Y.trace&&(V.trace=console.debug?console.debug.bind(console,re("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",re("TRACE")))},"setLogLevel"),re=o(c=>`%c${(0,q.default)().format("ss.SSS")} : ${c} : `,"format")}),Le=M(()=>{ae=Object.freeze({left:0,top:0,width:16,height:16}),se=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),oe=Object.freeze({...ae,...se}),he=Object.freeze({...oe,body:"",hidden:!1})}),Ne=M(()=>{Le(),de=Object.freeze({width:null,height:null}),pe=Object.freeze({...de,...se})}),Ie=M(()=>{ge=/^[a-z0-9]+(-[a-z0-9]+)*$/,me=o((c,q,Y,V="")=>{let Z=c.split(":");if("@"===c.slice(0,1)){if(Z.length<2||Z.length>3)return null;V=Z.shift().slice(1)}if(Z.length>3||!Z.length)return null;if(Z.length>1){let c=Z.pop(),Y=Z.pop(),re={provider:Z.length>0?Z[0]:V,prefix:Y,name:c};return q&&!ve(re)?null:re}let re=Z[0],ae=re.split("-");if(ae.length>1){let c={provider:V,prefix:ae.shift(),name:ae.join("-")};return q&&!ve(c)?null:c}if(Y&&""===V){let c={provider:V,prefix:"",name:re};return q&&!ve(c,Y)?null:c}return null},"stringToIcon"),ve=o((c,q)=>!!c&&!(""!==c.provider&&!c.provider.match(ge)||!(q&&""===c.prefix||c.prefix.match(ge))||!c.name.match(ge)),"validateIconName")});function LF(c,q){let Y={};!c.hFlip!=!q.hFlip&&(Y.hFlip=!0),!c.vFlip!=!q.vFlip&&(Y.vFlip=!0);let V=((c.rotate||0)+(q.rotate||0))%4;return V&&(Y.rotate=V),Y}var Me=M(()=>{o(LF,"mergeIconTransformations")});function SS(c,q){let Y=LF(c,q);for(let V in he)V in se?V in c&&!(V in Y)&&(Y[V]=se[V]):V in q?Y[V]=q[V]:V in c&&(Y[V]=c[V]);return Y}var Re=M(()=>{Le(),Me(),o(SS,"mergeIconData")});function RF(c,q){let Y=c.icons,V=c.aliases||Object.create(null),Z=Object.create(null);function a(c){if(Y[c])return Z[c]=[];if(!(c in Z)){Z[c]=null;let q=V[c]&&V[c].parent,Y=q&&a(q);Y&&(Z[c]=[q].concat(Y))}return Z[c]}return o(a,"resolve"),(q||Object.keys(Y).concat(Object.keys(V))).forEach(a),Z}var Oe=M(()=>{o(RF,"getIconsTree")});function IF(c,q,Y){let V=c.icons,Z=c.aliases||Object.create(null),re={};function s(c){re=SS(V[c]||Z[c],re)}return o(s,"parse"),s(q),Y.forEach(s),SS(c,re)}function CS(c,q){if(c.icons[q])return IF(c,q,[]);let Y=RF(c,[q])[q];return Y?IF(c,q,Y):null}var Be=M(()=>{Re(),Oe(),o(IF,"internalGetIconData"),o(CS,"getIconData")});function AS(c,q,Y){if(1===q)return c;if(Y=Y||100,"number"==typeof c)return Math.ceil(c*q*Y)/Y;if("string"!=typeof c)return c;let V=c.split($e);if(null===V||!V.length)return c;let Z=[],re=V.shift(),ae=Ue.test(re);for(;;){if(ae){let c=parseFloat(re);isNaN(c)?Z.push(re):Z.push(Math.ceil(c*q*Y)/Y)}else Z.push(re);if(re=V.shift(),void 0===re)return Z.join("");ae=!ae}}var $e,Ue,qe=M(()=>{$e=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ue=/^-?[0-9.]*[0-9]+[0-9.]*$/g,o(AS,"calculateSize")});function xxe(c,q="defs"){let Y="",V=c.indexOf("<"+q);for(;V>=0;){let Z=c.indexOf(">",V),re=c.indexOf("</"+q);if(-1===Z||-1===re)break;let ae=c.indexOf(">",re);if(-1===ae)break;Y+=c.slice(Z+1,re).trim(),c=c.slice(0,V).trim()+c.slice(ae+1)}return{defs:Y,content:c}}function bxe(c,q){return c?"<defs>"+c+"</defs>"+q:q}function BF(c,q,Y){let V=xxe(c);return bxe(V.defs,q+V.content+Y)}var je=M(()=>{o(xxe,"splitSVGDefs"),o(bxe,"mergeDefsAndContent"),o(BF,"wrapSVGContent")});function _S(c,q){let Y={...oe,...c},V={...pe,...q},Z={left:Y.left,top:Y.top,width:Y.width,height:Y.height},re=Y.body;[Y,V].forEach(c=>{let q,Y=[],V=c.hFlip,ae=c.vFlip,se=c.rotate;switch(V?ae?se+=2:(Y.push("translate("+(Z.width+Z.left).toString()+" "+(0-Z.top).toString()+")"),Y.push("scale(-1 1)"),Z.top=Z.left=0):ae&&(Y.push("translate("+(0-Z.left).toString()+" "+(Z.height+Z.top).toString()+")"),Y.push("scale(1 -1)"),Z.top=Z.left=0),se<0&&(se-=4*Math.floor(se/4)),se%=4,se){case 1:q=Z.height/2+Z.top,Y.unshift("rotate(90 "+q.toString()+" "+q.toString()+")");break;case 2:Y.unshift("rotate(180 "+(Z.width/2+Z.left).toString()+" "+(Z.height/2+Z.top).toString()+")");break;case 3:q=Z.width/2+Z.left,Y.unshift("rotate(-90 "+q.toString()+" "+q.toString()+")")}se%2==1&&(Z.left!==Z.top&&(q=Z.left,Z.left=Z.top,Z.top=q),Z.width!==Z.height&&(q=Z.width,Z.width=Z.height,Z.height=q)),Y.length&&(re=BF(re,'<g transform="'+Y.join(" ")+'">',"</g>"))});let ae,se,he=V.width,de=V.height,ge=Z.width,me=Z.height;null===he?(se=null===de?"1em":"auto"===de?me:de,ae=AS(se,ge/me)):(ae="auto"===he?ge:he,se=null===de?AS(ae,me/ge):"auto"===de?me:de);let ve={},be=o((c,q)=>{We(q)||(ve[c]=q.toString())},"setAttr");be("width",ae),be("height",se);let we=[Z.left,Z.top,ge,me];return ve.viewBox=we.join(" "),{attributes:ve,viewBox:we,body:re}}var We,He=M(()=>{Le(),Ne(),qe(),je(),We=o(c=>"unset"===c||"undefined"===c||"none"===c,"isUnsetKeyword"),o(_S,"iconToSVG")});function LS(c,q=Ke){let Y,V=[];for(;Y=Ve.exec(c);)V.push(Y[1]);if(!V.length)return c;let Z="suffix"+(16777216*Math.random()|Date.now()).toString(16);return V.forEach(Y=>{let V="function"==typeof q?q(Y):q+(Qe++).toString(),re=Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");c=c.replace(new RegExp('([#;"])('+re+')([")]|\\.[a-z])',"g"),"$1"+V+Z+"$3")}),c=c.replace(new RegExp(Z,"g"),"")}var Ve,Ke,Qe,Ze=M(()=>{Ve=/\sid="(\S+)"/g,Ke="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),Qe=0,o(LS,"replaceIDs")});function DS(c,q){let Y=-1===c.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let c in q)Y+=" "+c+'="'+q[c]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+Y+">"+c+"</svg>"}var Je,et,tt,rt,nt,it,at=M(()=>{o(DS,"iconToHTML")}),st=Ni((c,q)=>{var Y=1e3,V=6e4,Z=60*V,re=24*Z,ae=7*re;function Axe(c){if(!((c=String(c)).length>100)){var q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(q){var se=parseFloat(q[1]);switch((q[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*se;case"weeks":case"week":case"w":return se*ae;case"days":case"day":case"d":return se*re;case"hours":case"hour":case"hrs":case"hr":case"h":return se*Z;case"minutes":case"minute":case"mins":case"min":case"m":return se*V;case"seconds":case"second":case"secs":case"sec":case"s":return se*Y;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return se;default:return}}}}function _xe(c){var q=Math.abs(c);return q>=re?Math.round(c/re)+"d":q>=Z?Math.round(c/Z)+"h":q>=V?Math.round(c/V)+"m":q>=Y?Math.round(c/Y)+"s":c+"ms"}function Lxe(c){var q=Math.abs(c);return q>=re?Nb(c,q,re,"day"):q>=Z?Nb(c,q,Z,"hour"):q>=V?Nb(c,q,V,"minute"):q>=Y?Nb(c,q,Y,"second"):c+" ms"}function Nb(c,q,Y,V){var Z=q>=1.5*Y;return Math.round(c/Y)+" "+V+(Z?"s":"")}q.exports=function(c,q){q=q||{};var Y=typeof c;if("string"===Y&&c.length>0)return Axe(c);if("number"===Y&&isFinite(c))return q.long?Lxe(c):_xe(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))},o(Axe,"parse"),o(_xe,"fmtShort"),o(Lxe,"fmtLong"),o(Nb,"plural")}),ot=Ni((c,q)=>{function Dxe(c){function e(c){let q=0;for(let Y=0;Y<c.length;Y++)q=(q<<5)-q+c.charCodeAt(Y),q|=0;return r.colors[Math.abs(q)%r.colors.length]}function r(c){let q,Y,V,Z=null;function y(...c){if(!y.enabled)return;let Y=y,V=Number(new Date),Z=V-(q||V);Y.diff=Z,Y.prev=q,Y.curr=V,q=V,c[0]=r.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O");let re=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,(q,V)=>{if("%%"===q)return"%";re++;let Z=r.formatters[V];if("function"==typeof Z){let V=c[re];q=Z.call(Y,V),c.splice(re,1),re--}return q}),r.formatArgs.call(Y,c),(Y.log||r.log).apply(Y,c)}return o(y,"debug"),y.namespace=c,y.useColors=r.useColors(),y.color=r.selectColor(c),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:o(()=>null!==Z?Z:(Y!==r.namespaces&&(Y=r.namespaces,V=r.enabled(c)),V),"get"),set:o(c=>{Z=c},"set")}),"function"==typeof r.init&&r.init(y),y}function n(c,q){let Y=r(this.namespace+(typeof q>"u"?":":q)+c);return Y.log=this.log,Y}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let q,Y=("string"==typeof c?c:"").split(/[\s,]+/),V=Y.length;for(q=0;q<V;q++)Y[q]&&("-"===(c=Y[q].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){let c=[...r.names.map(l),...r.skips.map(l).map(c=>"-"+c)].join(",");return r.enable(""),c}function s(c){if("*"===c[c.length-1])return!0;let q,Y;for(q=0,Y=r.skips.length;q<Y;q++)if(r.skips[q].test(c))return!1;for(q=0,Y=r.names.length;q<Y;q++)if(r.names[q].test(c))return!0;return!1}function l(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=i,r.enabled=s,r.humanize=st(),r.destroy=h,Object.keys(c).forEach(q=>{r[q]=c[q]}),r.names=[],r.skips=[],r.formatters={},o(e,"selectColor"),r.selectColor=e,o(r,"createDebug"),o(n,"extend"),o(i,"enable"),o(a,"disable"),o(s,"enabled"),o(l,"toNamespace"),o(u,"coerce"),o(h,"destroy"),r.enable(r.load()),r}o(Dxe,"setup"),q.exports=Dxe}),lt=Ni((c,q)=>{function Nxe(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Rxe(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+q.exports.humanize(this.diff),!this.useColors)return;let Y="color: "+this.color;c.splice(1,0,Y,"color: inherit");let V=0,Z=0;c[0].replace(/%[a-zA-Z%]/g,c=>{"%%"!==c&&(V++,"%c"===c&&(Z=V))}),c.splice(Z,0,Y)}function Mxe(q){try{q?c.storage.setItem("debug",q):c.storage.removeItem("debug")}catch{}}function Ixe(){let q;try{q=c.storage.getItem("debug")}catch{}return!q&&typeof process<"u"&&"env"in process&&(q=process.env.DEBUG),q}function Oxe(){try{return localStorage}catch{}}c.formatArgs=Rxe,c.save=Mxe,c.load=Ixe,c.useColors=Nxe,c.storage=Oxe(),c.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o(Nxe,"useColors"),o(Rxe,"formatArgs"),c.log=console.debug||console.log||(()=>{}),o(Mxe,"save"),o(Ixe,"load"),o(Oxe,"localstorage"),q.exports=ot()(c);var{formatters:Y}=q.exports;Y.j=function(c){try{return JSON.stringify(c)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),ht=M(()=>{Ie(),Be(),He(),Ze(),at(),ka(lt(),1)}),ut=M(()=>{Ae(),ht(),Je={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},et=new Map,tt=new Map,rt=o(c=>{for(let q of c){if(!q.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(V.debug("Registering icon pack:",q.name),"loader"in q)tt.set(q.name,q.loader);else{if(!("icons"in q))throw V.error("Invalid icon loader:",q),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');et.set(q.name,q.icons)}}},"registerIconPacks"),nt=o(async(c,q)=>{let Y=me(c,!0,void 0!==q);if(!Y)throw new Error(`Invalid icon name: ${c}`);let Z=Y.prefix||q;if(!Z)throw new Error(`Icon name must contain a prefix: ${c}`);let re=et.get(Z);if(!re){let c=tt.get(Z);if(!c)throw new Error(`Icon set not found: ${Y.prefix}`);try{re={...await c(),prefix:Z},et.set(Z,re)}catch(c){throw V.error(c),new Error(`Failed to load icon set: ${Y.prefix}`)}}let ae=CS(re,Y.name);if(!ae)throw new Error(`Icon not found: ${c}`);return ae},"getRegisteredIconData"),it=o(async(c,q)=>{let Y;try{Y=await nt(c,q?.fallbackPrefix)}catch(c){V.error(c),Y=Je}let Z=_S(Y,q);return DS(LS(Z.body),Z.attributes)},"getIconSVG")});function Ib(c){for(var q=[],Y=1;Y<arguments.length;Y++)q[Y-1]=arguments[Y];var V=Array.from("string"==typeof c?[c]:c);V[V.length-1]=V[V.length-1].replace(/\r?\n([\t ]*)$/,"");var Z=V.reduce(function(c,q){var Y=q.match(/\n([\t ]+|(?!\s).)/g);return Y?c.concat(Y.map(function(c){var q,Y;return null!==(Y=null===(q=c.match(/[\t ]/g))||void 0===q?void 0:q.length)&&void 0!==Y?Y:0})):c},[]);if(Z.length){var re=new RegExp("\n[\t ]{"+Math.min.apply(Math,Z)+"}","g");V=V.map(function(c){return c.replace(re,"\n")})}V[0]=V[0].replace(/^\r?\n/,"");var ae=V[0];return q.forEach(function(c,q){var Y=ae.match(/(?:^|\n)( *)$/),Z=Y?Y[1]:"",re=c;"string"==typeof c&&c.includes("\n")&&(re=String(c).split("\n").map(function(c,q){return 0===q?c:""+Z+c}).join("\n")),ae+=re+V[q+1]}),ae}var pt,gt,ft,mt,xt,bt,wt,kt,_t,St,At,Lt,Nt,It,Mt,Rt,Dt,Ot,Pt,Bt,Ft,$t,zt,Gt,Ut,qt,jt,Yt,Ht,Vt,Xt,Kt,Zt,Jt,er,tr,rr,ir,sr,lr,cr,hr,ur,dr,pr,gr,fr,mr,xr,br,wr,kr,Tr,_r,Cr,Sr,Lr,Nr,Mr,Rr,Dr,Or,Pr,Br,Fr,$r,zr,Gr,Ur,qr,jr,Yr,Wr,Vr,Xr,Kr,Qr,Zr,Jr,rn,nn,an,sn,on,ln,cn,hn,un,dn,pn,mn,yn,vn,xn,bn,wn,kn,Tn,_n,En,Cn,Sn,An=M(()=>{o(Ib,"dedent")}),Ln=M(()=>{pt=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,gt=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ft=/\s*%%.*\n/gm}),Nn=M(()=>{mt=class extends Error{static{o(this,"UnknownDiagramError")}constructor(c){super(c),this.name="UnknownDiagramError"}}}),In=M(()=>{Ae(),Ln(),Nn(),xt={},bt=o(function(c,q){c=c.replace(pt,"").replace(gt,"").replace(ft,"\n");for(let[Y,{detector:V}]of Object.entries(xt))if(V(c,q))return Y;throw new mt(`No diagram type detected matching given configuration for text: ${c}`)},"detectType"),wt=o((...c)=>{for(let{id:q,detector:Y,loader:V}of c)kt(q,Y,V)},"registerLazyLoadedDiagrams"),kt=o((c,q,Y)=>{xt[c]&&V.warn(`Detector with key ${c} already exists. Overwriting.`),xt[c]={detector:q,loader:Y},V.debug(`Detector with key ${c} added${Y?" with loader":""}`)},"addDetector"),_t=o(c=>xt[c].loader,"getDiagramLoader")}),Mn=M(()=>{(St=function(){var q=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),Y=[1,24],V=[1,25],Z=[1,26],re=[1,27],ae=[1,28],se=[1,63],oe=[1,64],he=[1,65],de=[1,66],pe=[1,67],ge=[1,68],me=[1,69],ve=[1,29],be=[1,30],we=[1,31],Te=[1,32],_e=[1,33],Ee=[1,34],Ce=[1,35],Se=[1,36],Ae=[1,37],Le=[1,38],Ne=[1,39],Ie=[1,40],Me=[1,41],Re=[1,42],Oe=[1,43],Be=[1,44],$e=[1,45],Ue=[1,46],qe=[1,47],je=[1,48],We=[1,50],He=[1,51],Ve=[1,52],Ke=[1,53],Qe=[1,54],Ze=[1,55],Je=[1,56],et=[1,57],tt=[1,58],rt=[1,59],nt=[1,60],it=[14,42],at=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],st=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ot=[1,82],lt=[1,83],ht=[1,84],ut=[1,85],pt=[12,14,42],gt=[12,14,33,42],ft=[12,14,33,42,76,77,79,80],mt=[12,33],xt=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],bt={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 3:V.setDirection("TB");break;case 4:V.setDirection("BT");break;case 5:V.setDirection("RL");break;case 6:V.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:V.setC4Type(re[se-3]);break;case 19:V.setTitle(re[se].substring(6)),this.$=re[se].substring(6);break;case 20:V.setAccDescription(re[se].substring(15)),this.$=re[se].substring(15);break;case 21:this.$=re[se].trim(),V.setTitle(this.$);break;case 22:case 23:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 28:re[se].splice(2,0,"ENTERPRISE"),V.addPersonOrSystemBoundary(...re[se]),this.$=re[se];break;case 29:re[se].splice(2,0,"SYSTEM"),V.addPersonOrSystemBoundary(...re[se]),this.$=re[se];break;case 30:V.addPersonOrSystemBoundary(...re[se]),this.$=re[se];break;case 31:re[se].splice(2,0,"CONTAINER"),V.addContainerBoundary(...re[se]),this.$=re[se];break;case 32:V.addDeploymentNode("node",...re[se]),this.$=re[se];break;case 33:V.addDeploymentNode("nodeL",...re[se]),this.$=re[se];break;case 34:V.addDeploymentNode("nodeR",...re[se]),this.$=re[se];break;case 35:V.popBoundaryParseStack();break;case 39:V.addPersonOrSystem("person",...re[se]),this.$=re[se];break;case 40:V.addPersonOrSystem("external_person",...re[se]),this.$=re[se];break;case 41:V.addPersonOrSystem("system",...re[se]),this.$=re[se];break;case 42:V.addPersonOrSystem("system_db",...re[se]),this.$=re[se];break;case 43:V.addPersonOrSystem("system_queue",...re[se]),this.$=re[se];break;case 44:V.addPersonOrSystem("external_system",...re[se]),this.$=re[se];break;case 45:V.addPersonOrSystem("external_system_db",...re[se]),this.$=re[se];break;case 46:V.addPersonOrSystem("external_system_queue",...re[se]),this.$=re[se];break;case 47:V.addContainer("container",...re[se]),this.$=re[se];break;case 48:V.addContainer("container_db",...re[se]),this.$=re[se];break;case 49:V.addContainer("container_queue",...re[se]),this.$=re[se];break;case 50:V.addContainer("external_container",...re[se]),this.$=re[se];break;case 51:V.addContainer("external_container_db",...re[se]),this.$=re[se];break;case 52:V.addContainer("external_container_queue",...re[se]),this.$=re[se];break;case 53:V.addComponent("component",...re[se]),this.$=re[se];break;case 54:V.addComponent("component_db",...re[se]),this.$=re[se];break;case 55:V.addComponent("component_queue",...re[se]),this.$=re[se];break;case 56:V.addComponent("external_component",...re[se]),this.$=re[se];break;case 57:V.addComponent("external_component_db",...re[se]),this.$=re[se];break;case 58:V.addComponent("external_component_queue",...re[se]),this.$=re[se];break;case 60:V.addRel("rel",...re[se]),this.$=re[se];break;case 61:V.addRel("birel",...re[se]),this.$=re[se];break;case 62:V.addRel("rel_u",...re[se]),this.$=re[se];break;case 63:V.addRel("rel_d",...re[se]),this.$=re[se];break;case 64:V.addRel("rel_l",...re[se]),this.$=re[se];break;case 65:V.addRel("rel_r",...re[se]),this.$=re[se];break;case 66:V.addRel("rel_b",...re[se]),this.$=re[se];break;case 67:re[se].splice(0,1),V.addRel("rel",...re[se]),this.$=re[se];break;case 68:V.updateElStyle("update_el_style",...re[se]),this.$=re[se];break;case 69:V.updateRelStyle("update_rel_style",...re[se]),this.$=re[se];break;case 70:V.updateLayoutConfig("update_layout_config",...re[se]),this.$=re[se];break;case 71:this.$=[re[se]];break;case 72:re[se].unshift(re[se-1]),this.$=re[se];break;case 73:case 75:this.$=re[se].trim();break;case 74:let c={};c[re[se-1].trim()]=re[se].trim(),this.$=c;break;case 76:this.$=""}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:Y,23:V,24:Z,26:re,28:ae,29:49,30:61,32:62,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,43:23,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt},{13:70,19:20,20:21,21:22,22:Y,23:V,24:Z,26:re,28:ae,29:49,30:61,32:62,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,43:23,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt},{13:71,19:20,20:21,21:22,22:Y,23:V,24:Z,26:re,28:ae,29:49,30:61,32:62,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,43:23,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt},{13:72,19:20,20:21,21:22,22:Y,23:V,24:Z,26:re,28:ae,29:49,30:61,32:62,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,43:23,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt},{13:73,19:20,20:21,21:22,22:Y,23:V,24:Z,26:re,28:ae,29:49,30:61,32:62,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,43:23,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt},{14:[1,74]},q(it,[2,13],{43:23,29:49,30:61,32:62,20:75,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt}),q(it,[2,14]),q(at,[2,16],{12:[1,76]}),q(it,[2,36],{12:[1,77]}),q(st,[2,19]),q(st,[2,20]),{25:[1,78]},{27:[1,79]},q(st,[2,23]),{35:80,75:81,76:ot,77:lt,79:ht,80:ut},{35:86,75:81,76:ot,77:lt,79:ht,80:ut},{35:87,75:81,76:ot,77:lt,79:ht,80:ut},{35:88,75:81,76:ot,77:lt,79:ht,80:ut},{35:89,75:81,76:ot,77:lt,79:ht,80:ut},{35:90,75:81,76:ot,77:lt,79:ht,80:ut},{35:91,75:81,76:ot,77:lt,79:ht,80:ut},{35:92,75:81,76:ot,77:lt,79:ht,80:ut},{35:93,75:81,76:ot,77:lt,79:ht,80:ut},{35:94,75:81,76:ot,77:lt,79:ht,80:ut},{35:95,75:81,76:ot,77:lt,79:ht,80:ut},{35:96,75:81,76:ot,77:lt,79:ht,80:ut},{35:97,75:81,76:ot,77:lt,79:ht,80:ut},{35:98,75:81,76:ot,77:lt,79:ht,80:ut},{35:99,75:81,76:ot,77:lt,79:ht,80:ut},{35:100,75:81,76:ot,77:lt,79:ht,80:ut},{35:101,75:81,76:ot,77:lt,79:ht,80:ut},{35:102,75:81,76:ot,77:lt,79:ht,80:ut},{35:103,75:81,76:ot,77:lt,79:ht,80:ut},{35:104,75:81,76:ot,77:lt,79:ht,80:ut},q(pt,[2,59]),{35:105,75:81,76:ot,77:lt,79:ht,80:ut},{35:106,75:81,76:ot,77:lt,79:ht,80:ut},{35:107,75:81,76:ot,77:lt,79:ht,80:ut},{35:108,75:81,76:ot,77:lt,79:ht,80:ut},{35:109,75:81,76:ot,77:lt,79:ht,80:ut},{35:110,75:81,76:ot,77:lt,79:ht,80:ut},{35:111,75:81,76:ot,77:lt,79:ht,80:ut},{35:112,75:81,76:ot,77:lt,79:ht,80:ut},{35:113,75:81,76:ot,77:lt,79:ht,80:ut},{35:114,75:81,76:ot,77:lt,79:ht,80:ut},{35:115,75:81,76:ot,77:lt,79:ht,80:ut},{20:116,29:49,30:61,32:62,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,43:23,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt},{12:[1,118],33:[1,117]},{35:119,75:81,76:ot,77:lt,79:ht,80:ut},{35:120,75:81,76:ot,77:lt,79:ht,80:ut},{35:121,75:81,76:ot,77:lt,79:ht,80:ut},{35:122,75:81,76:ot,77:lt,79:ht,80:ut},{35:123,75:81,76:ot,77:lt,79:ht,80:ut},{35:124,75:81,76:ot,77:lt,79:ht,80:ut},{35:125,75:81,76:ot,77:lt,79:ht,80:ut},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},q(it,[2,15]),q(at,[2,17],{21:22,19:130,22:Y,23:V,24:Z,26:re,28:ae}),q(it,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:Y,23:V,24:Z,26:re,28:ae,34:se,36:oe,37:he,38:de,39:pe,40:ge,41:me,44:ve,45:be,46:we,47:Te,48:_e,49:Ee,50:Ce,51:Se,52:Ae,53:Le,54:Ne,55:Ie,56:Me,57:Re,58:Oe,59:Be,60:$e,61:Ue,62:qe,63:je,64:We,65:He,66:Ve,67:Ke,68:Qe,69:Ze,70:Je,71:et,72:tt,73:rt,74:nt}),q(st,[2,21]),q(st,[2,22]),q(pt,[2,39]),q(gt,[2,71],{75:81,35:132,76:ot,77:lt,79:ht,80:ut}),q(ft,[2,73]),{78:[1,133]},q(ft,[2,75]),q(ft,[2,76]),q(pt,[2,40]),q(pt,[2,41]),q(pt,[2,42]),q(pt,[2,43]),q(pt,[2,44]),q(pt,[2,45]),q(pt,[2,46]),q(pt,[2,47]),q(pt,[2,48]),q(pt,[2,49]),q(pt,[2,50]),q(pt,[2,51]),q(pt,[2,52]),q(pt,[2,53]),q(pt,[2,54]),q(pt,[2,55]),q(pt,[2,56]),q(pt,[2,57]),q(pt,[2,58]),q(pt,[2,60]),q(pt,[2,61]),q(pt,[2,62]),q(pt,[2,63]),q(pt,[2,64]),q(pt,[2,65]),q(pt,[2,66]),q(pt,[2,67]),q(pt,[2,68]),q(pt,[2,69]),q(pt,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},q(mt,[2,28]),q(mt,[2,29]),q(mt,[2,30]),q(mt,[2,31]),q(mt,[2,32]),q(mt,[2,33]),q(mt,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},q(at,[2,18]),q(it,[2,38]),q(gt,[2,72]),q(ft,[2,74]),q(pt,[2,24]),q(pt,[2,35]),q(xt,[2,25]),q(xt,[2,26],{12:[1,138]}),q(xt,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function vt(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function Et(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(vt,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=vt()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},wt={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(q,Y,V,Z){switch(V){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 73:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 16:case 70:break;case 14:c;break;case 15:return 12;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:case 53:return this.begin("rel_u"),66;case 54:case 55:return this.begin("rel_d"),67;case 56:case 57:return this.begin("rel_l"),68;case 58:case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:case 79:this.popState(),this.popState();break;case 69:case 71:return 80;case 72:this.begin("string");break;case 74:case 80:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};function Ge(){this.yy={}}return bt.lexer=wt,o(Ge,"Parser"),Ge.prototype=bt,bt.Parser=Ge,new Ge}()).parser=St,At=St}),Rn=M(()=>{Lt=o((c,q,{depth:Y=2,clobber:V=!1}={})=>{let Z={depth:Y,clobber:V};return Array.isArray(q)&&!Array.isArray(c)?(q.forEach(q=>Lt(c,q,Z)),c):Array.isArray(q)&&Array.isArray(c)?(q.forEach(q=>{c.includes(q)||c.push(q)}),c):void 0===c||Y<=0?null!=c&&"object"==typeof c&&"object"==typeof q?Object.assign(c,q):q:(void 0!==q&&"object"==typeof c&&"object"==typeof q&&Object.keys(q).forEach(Z=>{"object"!=typeof q[Z]||void 0!==c[Z]&&"object"!=typeof c[Z]?(V||"object"!=typeof c[Z]&&"object"!=typeof q[Z])&&(c[Z]=q[Z]):(void 0===c[Z]&&(c[Z]=Array.isArray(q[Z])?[]:{}),c[Z]=Lt(c[Z],q[Z],{depth:Y-1,clobber:V}))}),c)},"assignWithDepth"),Nt=Lt}),Dn=M(()=>{It={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:o(c=>c>=255?255:c<0?0:c,"r"),g:o(c=>c>=255?255:c<0?0:c,"g"),b:o(c=>c>=255?255:c<0?0:c,"b"),h:o(c=>c%360,"h"),s:o(c=>c>=100?100:c<0?0:c,"s"),l:o(c=>c>=100?100:c<0?0:c,"l"),a:o(c=>c>=1?1:c<0?0:c,"a")},toLinear:o(c=>{let q=c/255;return c>.03928?Math.pow((q+.055)/1.055,2.4):q/12.92},"toLinear"),hue2rgb:o((c,q,Y)=>(Y<0&&(Y+=1),Y>1&&(Y-=1),Y<.16666666666666666?c+6*(q-c)*Y:Y<.5?q:Y<.6666666666666666?c+(q-c)*(.6666666666666666-Y)*6:c),"hue2rgb"),hsl2rgb:o(({h:c,s:q,l:Y},V)=>{if(!q)return 2.55*Y;c/=360,q/=100;let Z=(Y/=100)<.5?Y*(1+q):Y+q-Y*q,re=2*Y-Z;switch(V){case"r":return 255*It.hue2rgb(re,Z,c+.3333333333333333);case"g":return 255*It.hue2rgb(re,Z,c);case"b":return 255*It.hue2rgb(re,Z,c-.3333333333333333)}},"hsl2rgb"),rgb2hsl:o(({r:c,g:q,b:Y},V)=>{c/=255,q/=255,Y/=255;let Z=Math.max(c,q,Y),re=Math.min(c,q,Y),ae=(Z+re)/2;if("l"===V)return 100*ae;if(Z===re)return 0;let se=Z-re;if("s"===V)return 100*(ae>.5?se/(2-Z-re):se/(Z+re));switch(Z){case c:return 60*((q-Y)/se+(q<Y?6:0));case q:return 60*((Y-c)/se+2);case Y:return 60*((c-q)/se+4);default:return-1}},"rgb2hsl")},Mt=It}),On=M(()=>{Rt={clamp:o((c,q,Y)=>q>Y?Math.min(q,Math.max(Y,c)):Math.min(Y,Math.max(q,c)),"clamp"),round:o(c=>Math.round(1e10*c)/1e10,"round")},Dt=Rt}),Bn=M(()=>{Ot={dec2hex:o(c=>{let q=Math.round(c).toString(16);return q.length>1?q:`0${q}`},"dec2hex")},Pt=Ot}),$n=M(()=>{Dn(),On(),Bn(),Bt={channel:Mt,lang:Dt,unit:Pt}}),zn=M(()=>{$n(),Ft={};for(let c=0;c<=255;c++)Ft[c]=Bt.unit.dec2hex(c);$t={ALL:0,RGB:1,HSL:2}}),Gn=M(()=>{zn(),zt=class{static{o(this,"Type")}constructor(){this.type=$t.ALL}get(){return this.type}set(c){if(this.type&&this.type!==c)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=c}reset(){this.type=$t.ALL}is(c){return this.type===c}},Gt=zt}),Un=M(()=>{$n(),Gn(),zn(),Ut=class{static{o(this,"Channels")}constructor(c,q){this.color=q,this.changed=!1,this.data=c,this.type=new Gt}set(c,q){return this.color=q,this.changed=!1,this.data=c,this.type.type=$t.ALL,this}_ensureHSL(){let c=this.data,{h:q,s:Y,l:V}=c;void 0===q&&(c.h=Bt.channel.rgb2hsl(c,"h")),void 0===Y&&(c.s=Bt.channel.rgb2hsl(c,"s")),void 0===V&&(c.l=Bt.channel.rgb2hsl(c,"l"))}_ensureRGB(){let c=this.data,{r:q,g:Y,b:V}=c;void 0===q&&(c.r=Bt.channel.hsl2rgb(c,"r")),void 0===Y&&(c.g=Bt.channel.hsl2rgb(c,"g")),void 0===V&&(c.b=Bt.channel.hsl2rgb(c,"b"))}get r(){let c=this.data,q=c.r;return this.type.is($t.HSL)||void 0===q?(this._ensureHSL(),Bt.channel.hsl2rgb(c,"r")):q}get g(){let c=this.data,q=c.g;return this.type.is($t.HSL)||void 0===q?(this._ensureHSL(),Bt.channel.hsl2rgb(c,"g")):q}get b(){let c=this.data,q=c.b;return this.type.is($t.HSL)||void 0===q?(this._ensureHSL(),Bt.channel.hsl2rgb(c,"b")):q}get h(){let c=this.data,q=c.h;return this.type.is($t.RGB)||void 0===q?(this._ensureRGB(),Bt.channel.rgb2hsl(c,"h")):q}get s(){let c=this.data,q=c.s;return this.type.is($t.RGB)||void 0===q?(this._ensureRGB(),Bt.channel.rgb2hsl(c,"s")):q}get l(){let c=this.data,q=c.l;return this.type.is($t.RGB)||void 0===q?(this._ensureRGB(),Bt.channel.rgb2hsl(c,"l")):q}get a(){return this.data.a}set r(c){this.type.set($t.RGB),this.changed=!0,this.data.r=c}set g(c){this.type.set($t.RGB),this.changed=!0,this.data.g=c}set b(c){this.type.set($t.RGB),this.changed=!0,this.data.b=c}set h(c){this.type.set($t.HSL),this.changed=!0,this.data.h=c}set s(c){this.type.set($t.HSL),this.changed=!0,this.data.s=c}set l(c){this.type.set($t.HSL),this.changed=!0,this.data.l=c}set a(c){this.changed=!0,this.data.a=c}},qt=Ut}),qn=M(()=>{Un(),jt=new qt({r:0,g:0,b:0,a:0},"transparent"),Yt=jt}),jn=M(()=>{qn(),zn(),Ht={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:o(c=>{if(35!==c.charCodeAt(0))return;let q=c.match(Ht.re);if(!q)return;let Y=q[1],V=parseInt(Y,16),Z=Y.length,re=Z%4==0,ae=Z>4,se=ae?1:17,oe=ae?8:4,he=re?0:-1,de=ae?255:15;return Yt.set({r:(V>>oe*(he+3)&de)*se,g:(V>>oe*(he+2)&de)*se,b:(V>>oe*(he+1)&de)*se,a:re?(V&de)*se/255:1},c)},"parse"),stringify:o(c=>{let{r:q,g:Y,b:V,a:Z}=c;return Z<1?`#${Ft[Math.round(q)]}${Ft[Math.round(Y)]}${Ft[Math.round(V)]}${Ft[Math.round(255*Z)]}`:`#${Ft[Math.round(q)]}${Ft[Math.round(Y)]}${Ft[Math.round(V)]}`},"stringify")},Vt=Ht}),Yn=M(()=>{$n(),qn(),Xt={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:o(c=>{let q=c.match(Xt.hueRe);if(q){let[,c,Y]=q;switch(Y){case"grad":return Bt.channel.clamp.h(.9*parseFloat(c));case"rad":return Bt.channel.clamp.h(180*parseFloat(c)/Math.PI);case"turn":return Bt.channel.clamp.h(360*parseFloat(c))}}return Bt.channel.clamp.h(parseFloat(c))},"_hue2deg"),parse:o(c=>{let q=c.charCodeAt(0);if(104!==q&&72!==q)return;let Y=c.match(Xt.re);if(!Y)return;let[,V,Z,re,ae,se]=Y;return Yt.set({h:Xt._hue2deg(V),s:Bt.channel.clamp.s(parseFloat(Z)),l:Bt.channel.clamp.l(parseFloat(re)),a:ae?Bt.channel.clamp.a(se?parseFloat(ae)/100:parseFloat(ae)):1},c)},"parse"),stringify:o(c=>{let{h:q,s:Y,l:V,a:Z}=c;return Z<1?`hsla(${Bt.lang.round(q)}, ${Bt.lang.round(Y)}%, ${Bt.lang.round(V)}%, ${Z})`:`hsl(${Bt.lang.round(q)}, ${Bt.lang.round(Y)}%, ${Bt.lang.round(V)}%)`},"stringify")},Kt=Xt}),Wn=M(()=>{jn(),Zt={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:o(c=>{c=c.toLowerCase();let q=Zt.colors[c];if(q)return Vt.parse(q)},"parse"),stringify:o(c=>{let q=Vt.stringify(c);for(let c in Zt.colors)if(Zt.colors[c]===q)return c},"stringify")},Jt=Zt}),Hn=M(()=>{$n(),qn(),er={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:o(c=>{let q=c.charCodeAt(0);if(114!==q&&82!==q)return;let Y=c.match(er.re);if(!Y)return;let[,V,Z,re,ae,se,oe,he,de]=Y;return Yt.set({r:Bt.channel.clamp.r(Z?2.55*parseFloat(V):parseFloat(V)),g:Bt.channel.clamp.g(ae?2.55*parseFloat(re):parseFloat(re)),b:Bt.channel.clamp.b(oe?2.55*parseFloat(se):parseFloat(se)),a:he?Bt.channel.clamp.a(de?parseFloat(he)/100:parseFloat(he)):1},c)},"parse"),stringify:o(c=>{let{r:q,g:Y,b:V,a:Z}=c;return Z<1?`rgba(${Bt.lang.round(q)}, ${Bt.lang.round(Y)}, ${Bt.lang.round(V)}, ${Bt.lang.round(Z)})`:`rgb(${Bt.lang.round(q)}, ${Bt.lang.round(Y)}, ${Bt.lang.round(V)})`},"stringify")},tr=er}),Vn=M(()=>{jn(),Yn(),Wn(),Hn(),zn(),rr={format:{keyword:Jt,hex:Vt,rgb:tr,rgba:tr,hsl:Kt,hsla:Kt},parse:o(c=>{if("string"!=typeof c)return c;let q=Vt.parse(c)||tr.parse(c)||Kt.parse(c)||Jt.parse(c);if(q)return q;throw new Error(`Unsupported color format: "${c}"`)},"parse"),stringify:o(c=>!c.changed&&c.color?c.color:c.type.is($t.HSL)||void 0===c.data.r?Kt.stringify(c):c.a<1||!Number.isInteger(c.r)||!Number.isInteger(c.g)||!Number.isInteger(c.b)?tr.stringify(c):Vt.stringify(c),"stringify")},ir=rr}),Xn=M(()=>{$n(),Vn(),sr=o((c,q)=>{let Y=ir.parse(c);for(let c in q)Y[c]=Bt.channel.clamp[c](q[c]);return ir.stringify(Y)},"change"),lr=sr}),Kn=M(()=>{$n(),qn(),Vn(),Xn(),cr=o((c,q,Y=0,V=1)=>{if("number"!=typeof c)return lr(c,{a:q});let Z=Yt.set({r:Bt.channel.clamp.r(c),g:Bt.channel.clamp.g(q),b:Bt.channel.clamp.b(Y),a:Bt.channel.clamp.a(V)});return ir.stringify(Z)},"rgba"),hr=cr}),Qn=M(()=>{$n(),Vn(),ur=o((c,q)=>Bt.lang.round(ir.parse(c)[q]),"channel"),dr=ur}),Zn=M(()=>{$n(),Vn(),pr=o(c=>{let{r:q,g:Y,b:V}=ir.parse(c),Z=.2126*Bt.channel.toLinear(q)+.7152*Bt.channel.toLinear(Y)+.0722*Bt.channel.toLinear(V);return Bt.lang.round(Z)},"luminance"),gr=pr}),Jn=M(()=>{Zn(),fr=o(c=>gr(c)>=.5,"isLight"),mr=fr}),ti=M(()=>{Jn(),xr=o(c=>!mr(c),"isDark"),br=xr}),ri=M(()=>{$n(),Vn(),wr=o((c,q,Y)=>{let V=ir.parse(c),Z=V[q],re=Bt.channel.clamp[q](Z+Y);return Z!==re&&(V[q]=re),ir.stringify(V)},"adjustChannel"),kr=wr}),ni=M(()=>{ri(),Tr=o((c,q)=>kr(c,"l",q),"lighten"),_r=Tr}),ai=M(()=>{ri(),Cr=o((c,q)=>kr(c,"l",-q),"darken"),Sr=Cr}),si=M(()=>{Vn(),Xn(),Lr=o((c,q)=>{let Y=ir.parse(c),V={};for(let c in q)q[c]&&(V[c]=Y[c]+q[c]);return lr(c,V)},"adjust"),Nr=Lr}),oi=M(()=>{Vn(),Kn(),Mr=o((c,q,Y=50)=>{let{r:V,g:Z,b:re,a:ae}=ir.parse(c),{r:se,g:oe,b:he,a:de}=ir.parse(q),pe=Y/100,ge=2*pe-1,me=ae-de,ve=((ge*me===-1?ge:(ge+me)/(1+ge*me))+1)/2,be=1-ve;return hr(V*ve+se*be,Z*ve+oe*be,re*ve+he*be,ae*pe+de*(1-pe))},"mix"),Rr=Mr}),li=M(()=>{Vn(),oi(),Dr=o((c,q=100)=>{let Y=ir.parse(c);return Y.r=255-Y.r,Y.g=255-Y.g,Y.b=255-Y.b,Rr(Y,c,q)},"invert"),Or=Dr}),ci=M(()=>{Kn(),Qn(),ti(),ni(),ai(),si(),li()}),hi=M(()=>{ci()}),ui=M(()=>{Pr="#ffffff",Br="#f2f2f2"}),di=M(()=>{hi(),Fr=o((c,q)=>Nr(c,q?{s:-40,l:10}:{s:-40,l:-10}),"mkBorder")}),pi=M(()=>{hi(),ui(),di(),$r=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Nr(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Nr(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Fr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Fr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Fr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Fr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Or(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Or(this.tertiaryColor),this.lineColor=this.lineColor||Or(this.background),this.arrowheadColor=this.arrowheadColor||Or(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Sr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Sr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Or(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||_r(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Nr(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Nr(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Nr(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Nr(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Nr(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Nr(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Nr(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Nr(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Nr(this.primaryColor,{h:330}),this.darkMode)for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScale"+c]=Sr(this["cScale"+c],75);else for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScale"+c]=Sr(this["cScale"+c],25);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleInv"+c]=this["cScaleInv"+c]||Or(this["cScale"+c]);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this.darkMode?this["cScalePeer"+c]=this["cScalePeer"+c]||_r(this["cScale"+c],10):this["cScalePeer"+c]=this["cScalePeer"+c]||Sr(this["cScale"+c],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleLabel"+c]=this["cScaleLabel"+c]||this.scaleLabelColor;let c=this.darkMode?-4:-1;for(let q=0;q<5;q++)this["surface"+q]=this["surface"+q]||Nr(this.mainBkg,{h:180,s:-15,l:c*(5+3*q)}),this["surfacePeer"+q]=this["surfacePeer"+q]||Nr(this.mainBkg,{h:180,s:-15,l:c*(8+3*q)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Nr(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Nr(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Nr(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Nr(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Nr(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Nr(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Nr(this.primaryColor,{l:-10}),this.pie5=this.pie5||Nr(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Nr(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Nr(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Nr(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Nr(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Nr(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Nr(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Nr(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Nr(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Nr(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Nr(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Nr(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Nr(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Nr(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||br(this.quadrant1Fill)?_r(this.quadrant1Fill):Sr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Sr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Nr(this.primaryColor,{h:-30}),this.git4=this.git4||Nr(this.primaryColor,{h:-60}),this.git5=this.git5||Nr(this.primaryColor,{h:-90}),this.git6=this.git6||Nr(this.primaryColor,{h:60}),this.git7=this.git7||Nr(this.primaryColor,{h:120}),this.darkMode?(this.git0=_r(this.git0,25),this.git1=_r(this.git1,25),this.git2=_r(this.git2,25),this.git3=_r(this.git3,25),this.git4=_r(this.git4,25),this.git5=_r(this.git5,25),this.git6=_r(this.git6,25),this.git7=_r(this.git7,25)):(this.git0=Sr(this.git0,25),this.git1=Sr(this.git1,25),this.git2=Sr(this.git2,25),this.git3=Sr(this.git3,25),this.git4=Sr(this.git4,25),this.git5=Sr(this.git5,25),this.git6=Sr(this.git6,25),this.git7=Sr(this.git7,25)),this.gitInv0=this.gitInv0||Or(this.git0),this.gitInv1=this.gitInv1||Or(this.git1),this.gitInv2=this.gitInv2||Or(this.git2),this.gitInv3=this.gitInv3||Or(this.git3),this.gitInv4=this.gitInv4||Or(this.git4),this.gitInv5=this.gitInv5||Or(this.git5),this.gitInv6=this.gitInv6||Or(this.git6),this.gitInv7=this.gitInv7||Or(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Pr,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Br}calculate(c){if("object"!=typeof c)return void this.updateColors();let q=Object.keys(c);q.forEach(q=>{this[q]=c[q]}),this.updateColors(),q.forEach(q=>{this[q]=c[q]})}},zr=o(c=>{let q=new $r;return q.calculate(c),q},"getThemeVariables")}),gi=M(()=>{hi(),di(),Gr=class{static{o(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=_r(this.primaryColor,16),this.tertiaryColor=Nr(this.primaryColor,{h:-160}),this.primaryBorderColor=Or(this.background),this.secondaryBorderColor=Fr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Fr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Or(this.primaryColor),this.secondaryTextColor=Or(this.secondaryColor),this.tertiaryTextColor=Or(this.tertiaryColor),this.lineColor=Or(this.background),this.textColor=Or(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=_r(Or("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=hr(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Sr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Sr(this.sectionBkgColor,10),this.taskBorderColor=hr(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=hr(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=_r(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=_r(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=_r(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Nr(this.primaryColor,{h:64}),this.fillType3=Nr(this.secondaryColor,{h:64}),this.fillType4=Nr(this.primaryColor,{h:-64}),this.fillType5=Nr(this.secondaryColor,{h:-64}),this.fillType6=Nr(this.primaryColor,{h:128}),this.fillType7=Nr(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Nr(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Nr(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Nr(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Nr(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Nr(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Nr(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Nr(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Nr(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Nr(this.primaryColor,{h:330});for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleInv"+c]=this["cScaleInv"+c]||Or(this["cScale"+c]);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScalePeer"+c]=this["cScalePeer"+c]||_r(this["cScale"+c],10);for(let c=0;c<5;c++)this["surface"+c]=this["surface"+c]||Nr(this.mainBkg,{h:30,s:-30,l:-(4*c-10)}),this["surfacePeer"+c]=this["surfacePeer"+c]||Nr(this.mainBkg,{h:30,s:-30,l:-(4*c-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleLabel"+c]=this["cScaleLabel"+c]||this.scaleLabelColor;for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["pie"+c]=this["cScale"+c];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Nr(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Nr(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Nr(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Nr(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Nr(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Nr(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||br(this.quadrant1Fill)?_r(this.quadrant1Fill):Sr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Sr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=_r(this.secondaryColor,20),this.git1=_r(this.pie2||this.secondaryColor,20),this.git2=_r(this.pie3||this.tertiaryColor,20),this.git3=_r(this.pie4||Nr(this.primaryColor,{h:-30}),20),this.git4=_r(this.pie5||Nr(this.primaryColor,{h:-60}),20),this.git5=_r(this.pie6||Nr(this.primaryColor,{h:-90}),10),this.git6=_r(this.pie7||Nr(this.primaryColor,{h:60}),10),this.git7=_r(this.pie8||Nr(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Or(this.git0),this.gitInv1=this.gitInv1||Or(this.git1),this.gitInv2=this.gitInv2||Or(this.git2),this.gitInv3=this.gitInv3||Or(this.git3),this.gitInv4=this.gitInv4||Or(this.git4),this.gitInv5=this.gitInv5||Or(this.git5),this.gitInv6=this.gitInv6||Or(this.git6),this.gitInv7=this.gitInv7||Or(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Or(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Or(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_r(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_r(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(c){if("object"!=typeof c)return void this.updateColors();let q=Object.keys(c);q.forEach(q=>{this[q]=c[q]}),this.updateColors(),q.forEach(q=>{this[q]=c[q]})}},Ur=o(c=>{let q=new Gr;return q.calculate(c),q},"getThemeVariables")}),fi=M(()=>{hi(),di(),ui(),qr=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Nr(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Nr(this.primaryColor,{h:-160}),this.primaryBorderColor=Fr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Fr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Fr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Or(this.primaryColor),this.secondaryTextColor=Or(this.secondaryColor),this.tertiaryTextColor=Or(this.tertiaryColor),this.lineColor=Or(this.background),this.textColor=Or(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=hr(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Nr(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Nr(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Nr(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Nr(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Nr(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Nr(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Nr(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Nr(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Nr(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Sr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Sr(this.tertiaryColor,40);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScale"+c]=Sr(this["cScale"+c],10),this["cScalePeer"+c]=this["cScalePeer"+c]||Sr(this["cScale"+c],25);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleInv"+c]=this["cScaleInv"+c]||Nr(this["cScale"+c],{h:180});for(let c=0;c<5;c++)this["surface"+c]=this["surface"+c]||Nr(this.mainBkg,{h:30,l:-(5+5*c)}),this["surfacePeer"+c]=this["surfacePeer"+c]||Nr(this.mainBkg,{h:30,l:-(7+5*c)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||Or(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Or(this.labelTextColor);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleLabel"+c]=this["cScaleLabel"+c]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=_r(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Nr(this.primaryColor,{h:64}),this.fillType3=Nr(this.secondaryColor,{h:64}),this.fillType4=Nr(this.primaryColor,{h:-64}),this.fillType5=Nr(this.secondaryColor,{h:-64}),this.fillType6=Nr(this.primaryColor,{h:128}),this.fillType7=Nr(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Nr(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Nr(this.primaryColor,{l:-10}),this.pie5=this.pie5||Nr(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Nr(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Nr(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Nr(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Nr(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Nr(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Nr(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Nr(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Nr(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Nr(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Nr(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Nr(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Nr(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Nr(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||br(this.quadrant1Fill)?_r(this.quadrant1Fill):Sr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Nr(this.primaryColor,{h:-30}),this.git4=this.git4||Nr(this.primaryColor,{h:-60}),this.git5=this.git5||Nr(this.primaryColor,{h:-90}),this.git6=this.git6||Nr(this.primaryColor,{h:60}),this.git7=this.git7||Nr(this.primaryColor,{h:120}),this.darkMode?(this.git0=_r(this.git0,25),this.git1=_r(this.git1,25),this.git2=_r(this.git2,25),this.git3=_r(this.git3,25),this.git4=_r(this.git4,25),this.git5=_r(this.git5,25),this.git6=_r(this.git6,25),this.git7=_r(this.git7,25)):(this.git0=Sr(this.git0,25),this.git1=Sr(this.git1,25),this.git2=Sr(this.git2,25),this.git3=Sr(this.git3,25),this.git4=Sr(this.git4,25),this.git5=Sr(this.git5,25),this.git6=Sr(this.git6,25),this.git7=Sr(this.git7,25)),this.gitInv0=this.gitInv0||Sr(Or(this.git0),25),this.gitInv1=this.gitInv1||Or(this.git1),this.gitInv2=this.gitInv2||Or(this.git2),this.gitInv3=this.gitInv3||Or(this.git3),this.gitInv4=this.gitInv4||Or(this.git4),this.gitInv5=this.gitInv5||Or(this.git5),this.gitInv6=this.gitInv6||Or(this.git6),this.gitInv7=this.gitInv7||Or(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Or(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Or(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Pr,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Br}calculate(c){if("object"!=typeof c)return void this.updateColors();let q=Object.keys(c);q.forEach(q=>{this[q]=c[q]}),this.updateColors(),q.forEach(q=>{this[q]=c[q]})}},jr=o(c=>{let q=new qr;return q.calculate(c),q},"getThemeVariables")}),mi=M(()=>{hi(),ui(),di(),Yr=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=_r("#cde498",10),this.primaryBorderColor=Fr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Fr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Fr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Or(this.primaryColor),this.secondaryTextColor=Or(this.secondaryColor),this.tertiaryTextColor=Or(this.primaryColor),this.lineColor=Or(this.background),this.textColor=Or(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Sr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Nr(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Nr(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Nr(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Nr(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Nr(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Nr(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Nr(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Nr(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Nr(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Sr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Sr(this.tertiaryColor,40);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScale"+c]=Sr(this["cScale"+c],10),this["cScalePeer"+c]=this["cScalePeer"+c]||Sr(this["cScale"+c],25);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleInv"+c]=this["cScaleInv"+c]||Nr(this["cScale"+c],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleLabel"+c]=this["cScaleLabel"+c]||this.scaleLabelColor;for(let c=0;c<5;c++)this["surface"+c]=this["surface"+c]||Nr(this.mainBkg,{h:30,s:-30,l:-(5+5*c)}),this["surfacePeer"+c]=this["surfacePeer"+c]||Nr(this.mainBkg,{h:30,s:-30,l:-(8+5*c)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Nr(this.primaryColor,{h:64}),this.fillType3=Nr(this.secondaryColor,{h:64}),this.fillType4=Nr(this.primaryColor,{h:-64}),this.fillType5=Nr(this.secondaryColor,{h:-64}),this.fillType6=Nr(this.primaryColor,{h:128}),this.fillType7=Nr(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Nr(this.primaryColor,{l:-30}),this.pie5=this.pie5||Nr(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Nr(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Nr(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Nr(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Nr(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Nr(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Nr(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Nr(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Nr(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Nr(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Nr(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Nr(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Nr(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Nr(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||br(this.quadrant1Fill)?_r(this.quadrant1Fill):Sr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Nr(this.primaryColor,{h:-30}),this.git4=this.git4||Nr(this.primaryColor,{h:-60}),this.git5=this.git5||Nr(this.primaryColor,{h:-90}),this.git6=this.git6||Nr(this.primaryColor,{h:60}),this.git7=this.git7||Nr(this.primaryColor,{h:120}),this.darkMode?(this.git0=_r(this.git0,25),this.git1=_r(this.git1,25),this.git2=_r(this.git2,25),this.git3=_r(this.git3,25),this.git4=_r(this.git4,25),this.git5=_r(this.git5,25),this.git6=_r(this.git6,25),this.git7=_r(this.git7,25)):(this.git0=Sr(this.git0,25),this.git1=Sr(this.git1,25),this.git2=Sr(this.git2,25),this.git3=Sr(this.git3,25),this.git4=Sr(this.git4,25),this.git5=Sr(this.git5,25),this.git6=Sr(this.git6,25),this.git7=Sr(this.git7,25)),this.gitInv0=this.gitInv0||Or(this.git0),this.gitInv1=this.gitInv1||Or(this.git1),this.gitInv2=this.gitInv2||Or(this.git2),this.gitInv3=this.gitInv3||Or(this.git3),this.gitInv4=this.gitInv4||Or(this.git4),this.gitInv5=this.gitInv5||Or(this.git5),this.gitInv6=this.gitInv6||Or(this.git6),this.gitInv7=this.gitInv7||Or(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Or(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Or(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Pr,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Br}calculate(c){if("object"!=typeof c)return void this.updateColors();let q=Object.keys(c);q.forEach(q=>{this[q]=c[q]}),this.updateColors(),q.forEach(q=>{this[q]=c[q]})}},Wr=o(c=>{let q=new Yr;return q.calculate(c),q},"getThemeVariables")}),yi=M(()=>{hi(),di(),ui(),Vr=class{static{o(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=_r(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Nr(this.primaryColor,{h:-160}),this.primaryBorderColor=Fr(this.primaryColor,this.darkMode),this.secondaryBorderColor=Fr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Fr(this.tertiaryColor,this.darkMode),this.primaryTextColor=Or(this.primaryColor),this.secondaryTextColor=Or(this.secondaryColor),this.tertiaryTextColor=Or(this.tertiaryColor),this.lineColor=Or(this.background),this.textColor=Or(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=_r(this.contrast,55),this.border2=this.contrast,this.actorBorder=_r(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleInv"+c]=this["cScaleInv"+c]||Or(this["cScale"+c]);for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this.darkMode?this["cScalePeer"+c]=this["cScalePeer"+c]||_r(this["cScale"+c],10):this["cScalePeer"+c]=this["cScalePeer"+c]||Sr(this["cScale"+c],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["cScaleLabel"+c]=this["cScaleLabel"+c]||this.scaleLabelColor;for(let c=0;c<5;c++)this["surface"+c]=this["surface"+c]||Nr(this.mainBkg,{l:-(5+5*c)}),this["surfacePeer"+c]=this["surfacePeer"+c]||Nr(this.mainBkg,{l:-(8+5*c)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=_r(this.contrast,30),this.sectionBkgColor2=_r(this.contrast,30),this.taskBorderColor=Sr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=_r(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Sr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Nr(this.primaryColor,{h:64}),this.fillType3=Nr(this.secondaryColor,{h:64}),this.fillType4=Nr(this.primaryColor,{h:-64}),this.fillType5=Nr(this.secondaryColor,{h:-64}),this.fillType6=Nr(this.primaryColor,{h:128}),this.fillType7=Nr(this.secondaryColor,{h:128});for(let c=0;c<this.THEME_COLOR_LIMIT;c++)this["pie"+c]=this["cScale"+c];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Nr(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Nr(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Nr(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Nr(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Nr(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Nr(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||br(this.quadrant1Fill)?_r(this.quadrant1Fill):Sr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Sr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Nr(this.primaryColor,{h:-30}),this.git4=this.pie5||Nr(this.primaryColor,{h:-60}),this.git5=this.pie6||Nr(this.primaryColor,{h:-90}),this.git6=this.pie7||Nr(this.primaryColor,{h:60}),this.git7=this.pie8||Nr(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Or(this.git0),this.gitInv1=this.gitInv1||Or(this.git1),this.gitInv2=this.gitInv2||Or(this.git2),this.gitInv3=this.gitInv3||Or(this.git3),this.gitInv4=this.gitInv4||Or(this.git4),this.gitInv5=this.gitInv5||Or(this.git5),this.gitInv6=this.gitInv6||Or(this.git6),this.gitInv7=this.gitInv7||Or(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Pr,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Br}calculate(c){if("object"!=typeof c)return void this.updateColors();let q=Object.keys(c);q.forEach(q=>{this[q]=c[q]}),this.updateColors(),q.forEach(q=>{this[q]=c[q]})}},Xr=o(c=>{let q=new Vr;return q.calculate(c),q},"getThemeVariables")}),vi=M(()=>{pi(),gi(),fi(),mi(),yi(),Kr={base:{getThemeVariables:zr},dark:{getThemeVariables:Ur},default:{getThemeVariables:jr},forest:{getThemeVariables:Wr},neutral:{getThemeVariables:Xr}}}),xi=M(()=>{Qr={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}}),bi=M(()=>{vi(),xi(),Zr={...Qr,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Kr.default.getThemeVariables(),sequence:{...Qr.sequence,messageFont:o(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:o(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:o(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Qr.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Qr.c4,useWidth:void 0,personFont:o(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:o(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:o(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:o(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:o(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:o(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:o(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:o(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:o(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:o(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:o(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:o(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:o(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:o(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:o(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:o(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:o(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:o(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:o(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:o(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:o(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:o(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Qr.pie,useWidth:984},xyChart:{...Qr.xyChart,useWidth:void 0},requirement:{...Qr.requirement,useWidth:void 0},packet:{...Qr.packet}},Jr=o((c,q="")=>Object.keys(c).reduce((Y,V)=>Array.isArray(c[V])?Y:"object"==typeof c[V]&&null!==c[V]?[...Y,q+V,...Jr(c[V],"")]:[...Y,q+V],[]),"keyify"),rn=new Set(Jr(Zr,"")),nn=Zr}),wi=M(()=>{bi(),Ae(),an=o(c=>{if(V.debug("sanitizeDirective called with",c),"object"==typeof c&&null!=c){if(Array.isArray(c))return void c.forEach(c=>an(c));for(let q of Object.keys(c)){if(V.debug("Checking key",q),q.startsWith("__")||q.includes("proto")||q.includes("constr")||!rn.has(q)||null==c[q]){V.debug("sanitize deleting key: ",q),delete c[q];continue}if("object"==typeof c[q]){V.debug("sanitizing object",q),an(c[q]);continue}let Y=["themeCSS","fontFamily","altFontFamily"];for(let Z of Y)q.includes(Z)&&(V.debug("sanitizing css option",q),c[q]=sn(c[q]))}if(c.themeVariables)for(let q of Object.keys(c.themeVariables)){let Y=c.themeVariables[q];Y?.match&&!Y.match(/^[\d "#%(),.;A-Za-z]+$/)&&(c.themeVariables[q]="")}V.debug("After sanitization",c)}},"sanitizeDirective"),sn=o(c=>{let q=0,Y=0;for(let V of c){if(q<Y)return"{ /* ERROR: Unbalanced CSS */ }";"{"===V?q++:"}"===V&&Y++}return q!==Y?"{ /* ERROR: Unbalanced CSS */ }":c},"sanitizeCss")}),ki=M(()=>{Rn(),Ae(),vi(),bi(),wi(),on=Object.freeze(nn),ln=Nt({},on),hn=[],un=Nt({},on),dn=o((c,q)=>{let Y=Nt({},c),V={};for(let c of q)wn(c),V=Nt(V,c);if(Y=Nt(Y,V),V.theme&&V.theme in Kr){let c=Nt({},cn),q=Nt(c.themeVariables||{},V.themeVariables);Y.theme&&Y.theme in Kr&&(Y.themeVariables=Kr[Y.theme].getThemeVariables(q))}return Sn(un=Y),un},"updateCurrentConfig"),pn=o(c=>(ln=Nt({},on),ln=Nt(ln,c),c.theme&&Kr[c.theme]&&(ln.themeVariables=Kr[c.theme].getThemeVariables(c.themeVariables)),dn(ln,hn),ln),"setSiteConfig"),mn=o(c=>{cn=Nt({},c)},"saveConfigFromInitialize"),yn=o(c=>(ln=Nt(ln,c),dn(ln,hn),ln),"updateSiteConfig"),vn=o(()=>Nt({},ln),"getSiteConfig"),xn=o(c=>(Sn(c),Nt(un,c),bn()),"setConfig"),bn=o(()=>Nt({},un),"getConfig"),wn=o(c=>{c&&(["secure",...ln.secure??[]].forEach(q=>{Object.hasOwn(c,q)&&(V.debug(`Denied attempt to modify a secure key ${q}`,c[q]),delete c[q])}),Object.keys(c).forEach(q=>{q.startsWith("__")&&delete c[q]}),Object.keys(c).forEach(q=>{"string"==typeof c[q]&&(c[q].includes("<")||c[q].includes(">")||c[q].includes("url(data:"))&&delete c[q],"object"==typeof c[q]&&wn(c[q])}))},"sanitize"),kn=o(c=>{an(c),c.fontFamily&&!c.themeVariables?.fontFamily&&(c.themeVariables={...c.themeVariables,fontFamily:c.fontFamily}),hn.push(c),dn(ln,hn)},"addDirective"),Tn=o((c=ln)=>{dn(c,hn=[])},"reset"),_n={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},En={},Cn=o(c=>{En[c]||(V.warn(_n[c]),En[c]=!0)},"issueWarning"),Sn=o(c=>{c&&(c.lazyLoadedDiagrams||c.loadExternalDiagramsAtStartup)&&Cn("LAZY_LOAD_DEPRECATED")},"checkConfig")});function Ws(c){return function(q){for(var Y=arguments.length,V=new Array(Y>1?Y-1:0),Z=1;Z<Y;Z++)V[Z-1]=arguments[Z];return Pi(c,q,V)}}function cbe(c){return function(){for(var q=arguments.length,Y=new Array(q),V=0;V<q;V++)Y[V]=arguments[V];return Bi(c,Y)}}function Ar(c,q){let Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ji;_i&&_i(c,null);let V=q.length;for(;V--;){let Z=q[V];if("string"==typeof Z){let c=Y(Z);c!==Z&&(Ei(q)||(q[V]=c),Z=c)}c[Z]=!0}return c}function ube(c){for(let q=0;q<c.length;q++)Zi(c,q)||(c[q]=null);return c}function Uf(c){let q=Di(null);for(let[Y,V]of Ti(c))Zi(c,Y)&&(Array.isArray(V)?q[Y]=ube(V):V&&"object"==typeof V&&V.constructor===Object?q[Y]=Uf(V):q[Y]=V);return q}function Y1(c,q){for(;null!==c;){let Y=Ii(c,q);if(Y){if(Y.get)return Ws(Y.get);if("function"==typeof Y.value)return Ws(Y.value)}c=Si(c)}function r(){return null}return o(r,"fallbackValue"),r}function iG(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia(),q=o(c=>iG(c),"DOMPurify");if(q.version="3.2.1",q.removed=[],!c||!c.document||c.document.nodeType!==Na.document)return q.isSupported=!1,q;let{document:Y}=c,V=Y,Z=V.currentScript,{DocumentFragment:re,HTMLTemplateElement:ae,Node:se,Element:oe,NodeFilter:he,NamedNodeMap:de=c.NamedNodeMap||c.MozNamedAttrMap,HTMLFormElement:pe,DOMParser:ge,trustedTypes:me}=c,ve=oe.prototype,be=Y1(ve,"cloneNode"),we=Y1(ve,"remove"),Te=Y1(ve,"nextSibling"),_e=Y1(ve,"childNodes"),Ee=Y1(ve,"parentNode");if("function"==typeof ae){let c=Y.createElement("template");c.content&&c.content.ownerDocument&&(Y=c.content.ownerDocument)}let Ce,Se="",{implementation:Ae,createNodeIterator:Le,createDocumentFragment:Ne,getElementsByTagName:Ie}=Y,{importNode:Me}=V,Re={};q.isSupported="function"==typeof Ti&&"function"==typeof Ee&&Ae&&void 0!==Ae.createHTMLDocument;let{MUSTACHE_EXPR:Oe,ERB_EXPR:Be,TMPLIT_EXPR:$e,DATA_ATTR:Ue,ARIA_ATTR:qe,IS_SCRIPT_OR_DATA:je,ATTR_WHITESPACE:We,CUSTOM_ELEMENT:He}=La,{IS_ALLOWED_URI:Ve}=La,Ke=null,Qe=Ar({},[...ta,...ra,...ia,...la,...ha]),Ze=null,Je=Ar({},[...ua,...da,...pa,...ga]),et=Object.seal(Di(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tt=null,rt=null,nt=!0,it=!0,at=!1,st=!0,ot=!1,lt=!0,ht=!1,ut=!1,pt=!1,gt=!1,ft=!1,mt=!1,xt=!0,bt=!1,wt=!0,kt=!1,_t={},St=null,At=Ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Lt=null,Nt=Ar({},["audio","video","img","source","image","track"]),It=null,Mt=Ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rt="http://www.w3.org/1998/Math/MathML",Dt="http://www.w3.org/2000/svg",Ot="http://www.w3.org/1999/xhtml",Pt=Ot,Bt=!1,Ft=null,$t=Ar({},[Rt,Dt,Ot],Wi),zt=Ar({},["mi","mo","mn","ms","mtext"]),Gt=Ar({},["annotation-xml"]),Ut=Ar({},["title","style","font","a","script"]),qt=null,jt=["application/xhtml+xml","text/html"],Yt=null,Ht=null,Vt=Y.createElement("form"),Xt=o(function(c){return c instanceof RegExp||c instanceof Function},"isRegexOrFunction"),Kt=o(function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ht||Ht!==c){if((!c||"object"!=typeof c)&&(c={}),c=Uf(c),qt=-1===jt.indexOf(c.PARSER_MEDIA_TYPE)?"text/html":c.PARSER_MEDIA_TYPE,Yt="application/xhtml+xml"===qt?Wi:ji,Ke=Zi(c,"ALLOWED_TAGS")?Ar({},c.ALLOWED_TAGS,Yt):Qe,Ze=Zi(c,"ALLOWED_ATTR")?Ar({},c.ALLOWED_ATTR,Yt):Je,Ft=Zi(c,"ALLOWED_NAMESPACES")?Ar({},c.ALLOWED_NAMESPACES,Wi):$t,It=Zi(c,"ADD_URI_SAFE_ATTR")?Ar(Uf(Mt),c.ADD_URI_SAFE_ATTR,Yt):Mt,Lt=Zi(c,"ADD_DATA_URI_TAGS")?Ar(Uf(Nt),c.ADD_DATA_URI_TAGS,Yt):Nt,St=Zi(c,"FORBID_CONTENTS")?Ar({},c.FORBID_CONTENTS,Yt):At,tt=Zi(c,"FORBID_TAGS")?Ar({},c.FORBID_TAGS,Yt):{},rt=Zi(c,"FORBID_ATTR")?Ar({},c.FORBID_ATTR,Yt):{},_t=!!Zi(c,"USE_PROFILES")&&c.USE_PROFILES,nt=!1!==c.ALLOW_ARIA_ATTR,it=!1!==c.ALLOW_DATA_ATTR,at=c.ALLOW_UNKNOWN_PROTOCOLS||!1,st=!1!==c.ALLOW_SELF_CLOSE_IN_ATTR,ot=c.SAFE_FOR_TEMPLATES||!1,lt=!1!==c.SAFE_FOR_XML,ht=c.WHOLE_DOCUMENT||!1,gt=c.RETURN_DOM||!1,ft=c.RETURN_DOM_FRAGMENT||!1,mt=c.RETURN_TRUSTED_TYPE||!1,pt=c.FORCE_BODY||!1,xt=!1!==c.SANITIZE_DOM,bt=c.SANITIZE_NAMED_PROPS||!1,wt=!1!==c.KEEP_CONTENT,kt=c.IN_PLACE||!1,Ve=c.ALLOWED_URI_REGEXP||wa,Pt=c.NAMESPACE||Ot,zt=c.MATHML_TEXT_INTEGRATION_POINTS||zt,Gt=c.HTML_INTEGRATION_POINTS||Gt,et=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&Xt(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(et.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&Xt(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(et.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(et.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot&&(it=!1),ft&&(gt=!0),_t&&(Ke=Ar({},ha),Ze=[],!0===_t.html&&(Ar(Ke,ta),Ar(Ze,ua)),!0===_t.svg&&(Ar(Ke,ra),Ar(Ze,da),Ar(Ze,ga)),!0===_t.svgFilters&&(Ar(Ke,ia),Ar(Ze,da),Ar(Ze,ga)),!0===_t.mathMl&&(Ar(Ke,la),Ar(Ze,pa),Ar(Ze,ga))),c.ADD_TAGS&&(Ke===Qe&&(Ke=Uf(Ke)),Ar(Ke,c.ADD_TAGS,Yt)),c.ADD_ATTR&&(Ze===Je&&(Ze=Uf(Ze)),Ar(Ze,c.ADD_ATTR,Yt)),c.ADD_URI_SAFE_ATTR&&Ar(It,c.ADD_URI_SAFE_ATTR,Yt),c.FORBID_CONTENTS&&(St===At&&(St=Uf(St)),Ar(St,c.FORBID_CONTENTS,Yt)),wt&&(Ke["#text"]=!0),ht&&Ar(Ke,["html","head","body"]),Ke.table&&(Ar(Ke,["tbody"]),delete tt.tbody),c.TRUSTED_TYPES_POLICY){if("function"!=typeof c.TRUSTED_TYPES_POLICY.createHTML)throw ea('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof c.TRUSTED_TYPES_POLICY.createScriptURL)throw ea('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ce=c.TRUSTED_TYPES_POLICY,Se=Ce.createHTML("")}else void 0===Ce&&(Ce=Ra(me,Z)),null!==Ce&&"string"==typeof Se&&(Se=Ce.createHTML(""));Mi&&Mi(c),Ht=c}},"_parseConfig"),Zt=Ar({},[...ra,...ia,...aa]),Jt=Ar({},[...la,...ca]),er=o(function(c){let q=Ee(c);(!q||!q.tagName)&&(q={namespaceURI:Pt,tagName:"template"});let Y=ji(c.tagName),V=ji(q.tagName);return!!Ft[c.namespaceURI]&&(c.namespaceURI===Dt?q.namespaceURI===Ot?"svg"===Y:q.namespaceURI===Rt?"svg"===Y&&("annotation-xml"===V||zt[V]):!!Zt[Y]:c.namespaceURI===Rt?q.namespaceURI===Ot?"math"===Y:q.namespaceURI===Dt?"math"===Y&&Gt[V]:!!Jt[Y]:c.namespaceURI===Ot?!(q.namespaceURI===Dt&&!Gt[V]||q.namespaceURI===Rt&&!zt[V])&&(!Jt[Y]&&(Ut[Y]||!Zt[Y])):!("application/xhtml+xml"!==qt||!Ft[c.namespaceURI]))},"_checkValidNamespace"),tr=o(function(c){qi(q.removed,{element:c});try{Ee(c).removeChild(c)}catch{we(c)}},"_forceRemove"),rr=o(function(c,Y){try{qi(q.removed,{attribute:Y.getAttributeNode(c),from:Y})}catch{qi(q.removed,{attribute:null,from:Y})}if(Y.removeAttribute(c),"is"===c&&!Ze[c])if(gt||ft)try{tr(Y)}catch{}else try{Y.setAttribute(c,"")}catch{}},"_removeAttribute"),ir=o(function(c){let q=null,V=null;if(pt)c="<remove></remove>"+c;else{let q=Hi(c,/^[\r\n\t ]+/);V=q&&q[0]}"application/xhtml+xml"===qt&&Pt===Ot&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");let Z=Ce?Ce.createHTML(c):c;if(Pt===Ot)try{q=(new ge).parseFromString(Z,qt)}catch{}if(!q||!q.documentElement){q=Ae.createDocument(Pt,"template",null);try{q.documentElement.innerHTML=Bt?Se:Z}catch{}}let re=q.body||q.documentElement;return c&&V&&re.insertBefore(Y.createTextNode(V),re.childNodes[0]||null),Pt===Ot?Ie.call(q,ht?"html":"body")[0]:ht?q.documentElement:re},"_initDocument"),sr=o(function(c){return Le.call(c.ownerDocument||c,c,he.SHOW_ELEMENT|he.SHOW_COMMENT|he.SHOW_TEXT|he.SHOW_PROCESSING_INSTRUCTION|he.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),lr=o(function(c){return c instanceof pe&&("string"!=typeof c.nodeName||"string"!=typeof c.textContent||"function"!=typeof c.removeChild||!(c.attributes instanceof de)||"function"!=typeof c.removeAttribute||"function"!=typeof c.setAttribute||"string"!=typeof c.namespaceURI||"function"!=typeof c.insertBefore||"function"!=typeof c.hasChildNodes)},"_isClobbered"),cr=o(function(c){return"function"==typeof se&&c instanceof se},"_isNode");function or(c,Y,V){Re[c]&&zi(Re[c],c=>{c.call(q,Y,V,Ht)})}o(or,"_executeHook");let hr=o(function(c){let Y=null;if(or("beforeSanitizeElements",c,null),lr(c))return tr(c),!0;let V=Yt(c.nodeName);if(or("uponSanitizeElement",c,{tagName:V,allowedTags:Ke}),c.hasChildNodes()&&!cr(c.firstElementChild)&&Ji(/<[/\w]/g,c.innerHTML)&&Ji(/<[/\w]/g,c.textContent)||c.nodeType===Na.progressingInstruction||lt&&c.nodeType===Na.comment&&Ji(/<[/\w]/g,c.data))return tr(c),!0;if(!Ke[V]||tt[V]){if(!tt[V]&&dr(V)&&(et.tagNameCheck instanceof RegExp&&Ji(et.tagNameCheck,V)||et.tagNameCheck instanceof Function&&et.tagNameCheck(V)))return!1;if(wt&&!St[V]){let q=Ee(c)||c.parentNode,Y=_e(c)||c.childNodes;if(Y&&q){for(let V=Y.length-1;V>=0;--V){let Z=be(Y[V],!0);Z.__removalCount=(c.__removalCount||0)+1,q.insertBefore(Z,Te(c))}}}return tr(c),!0}return c instanceof oe&&!er(c)||("noscript"===V||"noembed"===V||"noframes"===V)&&Ji(/<\/no(script|embed|frames)/i,c.innerHTML)?(tr(c),!0):(ot&&c.nodeType===Na.text&&(Y=c.textContent,zi([Oe,Be,$e],c=>{Y=Vi(Y,c," ")}),c.textContent!==Y&&(qi(q.removed,{element:c.cloneNode()}),c.textContent=Y)),or("afterSanitizeElements",c,null),!1)},"_sanitizeElements"),ur=o(function(c,q,V){if(xt&&("id"===q||"name"===q)&&(V in Y||V in Vt))return!1;if((!it||rt[q]||!Ji(Ue,q))&&(!nt||!Ji(qe,q)))if(!Ze[q]||rt[q]){if(!(dr(c)&&(et.tagNameCheck instanceof RegExp&&Ji(et.tagNameCheck,c)||et.tagNameCheck instanceof Function&&et.tagNameCheck(c))&&(et.attributeNameCheck instanceof RegExp&&Ji(et.attributeNameCheck,q)||et.attributeNameCheck instanceof Function&&et.attributeNameCheck(q))||"is"===q&&et.allowCustomizedBuiltInElements&&(et.tagNameCheck instanceof RegExp&&Ji(et.tagNameCheck,V)||et.tagNameCheck instanceof Function&&et.tagNameCheck(V))))return!1}else if(!It[q]&&!Ji(Ve,Vi(V,We,""))&&("src"!==q&&"xlink:href"!==q&&"href"!==q||"script"===c||0!==Xi(V,"data:")||!Lt[c])&&(!at||Ji(je,Vi(V,We,"")))&&V)return!1;return!0},"_isValidAttribute"),dr=o(function(c){return"annotation-xml"!==c&&Hi(c,He)},"_isBasicCustomElement"),pr=o(function(c){or("beforeSanitizeAttributes",c,null);let{attributes:Y}=c;if(!Y)return;let V={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ze,forceKeepAttr:void 0},Z=Y.length;for(;Z--;){let re=Y[Z],{name:ae,namespaceURI:se,value:oe}=re,he=Yt(ae),de="value"===ae?oe:Qi(oe);if(V.attrName=he,V.attrValue=de,V.keepAttr=!0,V.forceKeepAttr=void 0,or("uponSanitizeAttribute",c,V),de=V.attrValue,bt&&("id"===he||"name"===he)&&(rr(ae,c),de="user-content-"+de),lt&&Ji(/((--!?|])>)|<\/(style|title)/i,de)){rr(ae,c);continue}if(V.forceKeepAttr||(rr(ae,c),!V.keepAttr))continue;if(!st&&Ji(/\/>/i,de)){rr(ae,c);continue}ot&&zi([Oe,Be,$e],c=>{de=Vi(de,c," ")});let pe=Yt(c.nodeName);if(ur(pe,he,de)){if(Ce&&"object"==typeof me&&"function"==typeof me.getAttributeType&&!se)switch(me.getAttributeType(pe,he)){case"TrustedHTML":de=Ce.createHTML(de);break;case"TrustedScriptURL":de=Ce.createScriptURL(de)}try{se?c.setAttributeNS(se,ae,de):c.setAttribute(ae,de),lr(c)?tr(c):Ui(q.removed)}catch{}}}or("afterSanitizeAttributes",c,null)},"_sanitizeAttributes"),gr=o(function yt(c){let q=null,Y=sr(c);for(or("beforeSanitizeShadowDOM",c,null);q=Y.nextNode();)or("uponSanitizeShadowNode",q,null),!hr(q)&&(q.content instanceof re&&yt(q.content),pr(q));or("afterSanitizeShadowDOM",c,null)},"_sanitizeShadowDOM");return q.sanitize=function(c){let Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Z=null,ae=null,oe=null,he=null;if(Bt=!c,Bt&&(c="\x3c!--\x3e"),"string"!=typeof c&&!cr(c)){if("function"!=typeof c.toString)throw ea("toString is not a function");if("string"!=typeof(c=c.toString()))throw ea("dirty is not a string, aborting")}if(!q.isSupported)return c;if(ut||Kt(Y),q.removed=[],"string"==typeof c&&(kt=!1),kt){if(c.nodeName){let q=Yt(c.nodeName);if(!Ke[q]||tt[q])throw ea("root node is forbidden and cannot be sanitized in-place")}}else if(c instanceof se)Z=ir("\x3c!----\x3e"),ae=Z.ownerDocument.importNode(c,!0),ae.nodeType===Na.element&&"BODY"===ae.nodeName||"HTML"===ae.nodeName?Z=ae:Z.appendChild(ae);else{if(!gt&&!ot&&!ht&&-1===c.indexOf("<"))return Ce&&mt?Ce.createHTML(c):c;if(Z=ir(c),!Z)return gt?null:mt?Se:""}Z&&pt&&tr(Z.firstChild);let de=sr(kt?c:Z);for(;oe=de.nextNode();)hr(oe)||(oe.content instanceof re&&gr(oe.content),pr(oe));if(kt)return c;if(gt){if(ft)for(he=Ne.call(Z.ownerDocument);Z.firstChild;)he.appendChild(Z.firstChild);else he=Z;return(Ze.shadowroot||Ze.shadowrootmode)&&(he=Me.call(V,he,!0)),he}let pe=ht?Z.outerHTML:Z.innerHTML;return ht&&Ke["!doctype"]&&Z.ownerDocument&&Z.ownerDocument.doctype&&Z.ownerDocument.doctype.name&&Ji(Ca,Z.ownerDocument.doctype.name)&&(pe="<!DOCTYPE "+Z.ownerDocument.doctype.name+">\n"+pe),ot&&zi([Oe,Be,$e],c=>{pe=Vi(pe,c," ")}),Ce&&mt?Ce.createHTML(pe):pe},q.setConfig=function(){Kt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ut=!0},q.clearConfig=function(){Ht=null,ut=!1},q.isValidAttribute=function(c,q,Y){Ht||Kt({});let V=Yt(c),Z=Yt(q);return ur(V,Z,Y)},q.addHook=function(c,q){"function"==typeof q&&(Re[c]=Re[c]||[],qi(Re[c],q))},q.removeHook=function(c){if(Re[c])return Ui(Re[c])},q.removeHooks=function(c){Re[c]&&(Re[c]=[])},q.removeAllHooks=function(){Re={}},q}var Ti,_i,Ei,Si,Ii,Mi,Ri,Di,Pi,Bi,zi,Ui,qi,ji,Wi,Hi,Vi,Xi,Qi,Zi,Ji,ea,ta,ra,ia,aa,la,ca,ha,ua,da,pa,ga,fa,ya,va,xa,ba,wa,Ta,Ea,Ca,Sa,La,Na,Ia,Ra,Da,Oa=M(()=>{({entries:Ti,setPrototypeOf:_i,isFrozen:Ei,getPrototypeOf:Si,getOwnPropertyDescriptor:Ii}=Object),({freeze:Mi,seal:Ri,create:Di}=Object),({apply:Pi,construct:Bi}=typeof Reflect<"u"&&Reflect),Mi||(Mi=o(function(c){return c},"freeze")),Ri||(Ri=o(function(c){return c},"seal")),Pi||(Pi=o(function(c,q,Y){return c.apply(q,Y)},"apply")),Bi||(Bi=o(function(c,q){return new c(...q)},"construct")),zi=Ws(Array.prototype.forEach),Ui=Ws(Array.prototype.pop),qi=Ws(Array.prototype.push),ji=Ws(String.prototype.toLowerCase),Wi=Ws(String.prototype.toString),Hi=Ws(String.prototype.match),Vi=Ws(String.prototype.replace),Xi=Ws(String.prototype.indexOf),Qi=Ws(String.prototype.trim),Zi=Ws(Object.prototype.hasOwnProperty),Ji=Ws(RegExp.prototype.test),ea=cbe(TypeError),o(Ws,"unapply"),o(cbe,"unconstruct"),o(Ar,"addToSet"),o(ube,"cleanArray"),o(Uf,"clone"),o(Y1,"lookupGetter"),ta=Mi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ra=Mi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ia=Mi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aa=Mi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),la=Mi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ca=Mi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ha=Mi(["#text"]),ua=Mi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),da=Mi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pa=Mi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ga=Mi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fa=Ri(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ya=Ri(/<%[\w\W]*|[\w\W]*%>/gm),va=Ri(/\${[\w\W]*}/gm),xa=Ri(/^data-[\-\w.\u00B7-\uFFFF]/),ba=Ri(/^aria-[\-\w]+$/),wa=Ri(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ta=Ri(/^(?:\w+script|data):/i),Ea=Ri(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ca=Ri(/^html$/i),Sa=Ri(/^[a-z][.\w]*(-[.\w]+)+$/i),La=Object.freeze({__proto__:null,ARIA_ATTR:ba,ATTR_WHITESPACE:Ea,CUSTOM_ELEMENT:Sa,DATA_ATTR:xa,DOCTYPE_NAME:Ca,ERB_EXPR:ya,IS_ALLOWED_URI:wa,IS_SCRIPT_OR_DATA:Ta,MUSTACHE_EXPR:fa,TMPLIT_EXPR:va}),Na={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Ia=o(function(){return typeof window>"u"?null:window},"getGlobal"),Ra=o(function(c,q){if("object"!=typeof c||"function"!=typeof c.createPolicy)return null;let Y=null,V="data-tt-policy-suffix";q&&q.hasAttribute(V)&&(Y=q.getAttribute(V));let Z="dompurify"+(Y?"#"+Y:"");try{return c.createPolicy(Z,{createHTML:c=>c,createScriptURL:c=>c})}catch{return console.warn("TrustedTypes policy "+Z+" could not be created."),null}},"_createTrustedTypesPolicy"),o(iG,"createDOMPurify"),Da=iG()}),Pa={};function Lbe(c){return String(c).replace(Wa,c=>Ya[c])}function Mbe(c){if(c.default)return c.default;var q=c.type,Y=Array.isArray(q)?q[0]:q;if("string"!=typeof Y)return Y.enum[0];switch(Y){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function Gbe(c){for(var q=0;q<hs.length;q++)for(var Y=hs[q],V=0;V<Y.blocks.length;V++){var Z=Y.blocks[V];if(c>=Z[0]&&c<=Z[1])return Y.name}return null}function BG(c){for(var q=0;q<us.length;q+=2)if(c>=us[q]&&c<=us[q+1])return!0;return!1}function Qbe(c,q){Cs[c]=q}function RC(c,q,Y){if(!Cs[q])throw new Error("Font metrics not found for font: "+q+".");var V=c.charCodeAt(0),Z=Cs[q][V];if(!Z&&c[0]in Ls&&(V=Ls[c[0]].charCodeAt(0),Z=Cs[q][V]),!Z&&"text"===Y&&BG(V)&&(Z=Cs[q][77]),Z)return{depth:Z[0],height:Z[1],italic:Z[2],skew:Z[3],width:Z[4]}}function Zbe(c){var q;if(!Ns[q=c>=5?0:c>=3?1:2]){var Y=Ns[q]={cssEmPerMu:As.quad[q]/18};for(var V in As)As.hasOwnProperty(V)&&(Y[V]=As[V][q])}return Ns[q]}function cG(c){if(c instanceof Qs)return c;throw new Error("Expected symbolNode but got "+String(c)+".")}function r4e(c){if(c instanceof Ys)return c;throw new Error("Expected span<HtmlDomNode> but got "+String(c)+".")}function G(c,q,Y,V,Z,re){so[c][Z]={font:q,group:Y,replace:V},re&&V&&(so[c][V]=so[c][Z])}function Ct(c){for(var{type:q,names:Y,props:V,handler:Z,htmlBuilder:re,mathmlBuilder:ae}=c,se={type:q,numArgs:V.numArgs,argTypes:V.argTypes,allowedInArgument:!!V.allowedInArgument,allowedInText:!!V.allowedInText,allowedInMath:void 0===V.allowedInMath||V.allowedInMath,numOptionalArgs:V.numOptionalArgs||0,infix:!!V.infix,primitive:!!V.primitive,handler:Z},oe=0;oe<Y.length;++oe)Dl[Y[oe]]=se;q&&(re&&(Pl[q]=re),ae&&(Bl[q]=ae))}function Xf(c){var{type:q,htmlBuilder:Y,mathmlBuilder:V}=c;Ct({type:q,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:Y,mathmlBuilder:V})}function n4(c,q){var Y=zl(["base"],c,q),V=zl(["strut"]);return V.style.height=zs(Y.height+Y.depth),Y.depth&&(V.style.verticalAlign=zs(-Y.depth)),Y.children.unshift(V),Y}function EC(c,q){var Y=null;1===c.length&&"tag"===c[0].type&&(Y=c[0].tag,c=c[0].body);var V,Z,re=Hl(c,q,"root");2===re.length&&re[1].hasClass("tag")&&(V=re.pop());for(var ae=[],se=[],oe=0;oe<re.length;oe++)if(se.push(re[oe]),re[oe].hasClass("mbin")||re[oe].hasClass("mrel")||re[oe].hasClass("allowbreak")){for(var he=!1;oe<re.length-1&&re[oe+1].hasClass("mspace")&&!re[oe+1].hasClass("newline");)oe++,se.push(re[oe]),re[oe].hasClass("nobreak")&&(he=!0);he||(ae.push(n4(se,q)),se=[])}else re[oe].hasClass("newline")&&(se.pop(),se.length>0&&(ae.push(n4(se,q)),se=[]),ae.push(re[oe]));se.length>0&&ae.push(n4(se,q)),Y?((Z=n4(Hl(Y,q,!0))).classes=["tag"],ae.push(Z)):V&&ae.push(V);var de=zl(["katex-html"],ae);if(de.setAttribute("aria-hidden","true"),Z){var pe=Z.children[0];pe.style.height=zs(de.height+de.depth),de.depth&&(pe.style.verticalAlign=zs(-de.depth))}return de}function jG(c){return new Es(c)}function pG(c,q,Y,V,Z){var re,ae=uc(c,Y);re=1===ae.length&&ae[0]instanceof rc&&Za.contains(["mrow","mtable"],ae[0].type)?ae[0]:new oc.MathNode("mrow",ae);var se=new oc.MathNode("annotation",[new oc.TextNode(q)]);se.setAttribute("encoding","application/x-tex");var oe=new oc.MathNode("semantics",[re,se]),he=new oc.MathNode("math",[oe]);he.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),V&&he.setAttribute("display","block");var de=Z?"katex":"katex-mathml";return Cl.makeSpan([de],[he])}function yr(c,q){if(!c||c.type!==q)throw new Error("Expected node of type "+q+", but got "+(c?"node of type "+c.type:String(c)));return c}function PC(c){var q=x4(c);if(!q)throw new Error("Expected node of symbol group type, but got "+(c?"node of type "+c.type:String(c)));return q}function x4(c){return c&&("atom"===c.type||ao.hasOwnProperty(c.type))?c:null}function JG(c,q){var Y=Hl(c.body,q,!0);return Mc([c.mclass],Y,q)}function e$(c,q){var Y,V=uc(c.body,q);return"minner"===c.mclass?Y=new oc.MathNode("mpadded",V):"mord"===c.mclass?c.isCharacterBox?(Y=V[0]).type="mi":Y=new oc.MathNode("mi",V):(c.isCharacterBox?(Y=V[0]).type="mo":Y=new oc.MathNode("mo",V),"mbin"===c.mclass?(Y.attributes.lspace="0.22em",Y.attributes.rspace="0.22em"):"mpunct"===c.mclass?(Y.attributes.lspace="0em",Y.attributes.rspace="0.17em"):"mopen"===c.mclass||"mclose"===c.mclass?(Y.attributes.lspace="0em",Y.attributes.rspace="0em"):"minner"===c.mclass&&(Y.attributes.lspace="0.0556em",Y.attributes.width="+0.1111em")),Y}function B4e(c,q,Y){var V=Oc[c];switch(V){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return Y.callFunction(V,[q[0]],[q[1]]);case"\\uparrow":case"\\downarrow":var Z={type:"atom",text:V,mode:"math",family:"rel"},re={type:"ordgroup",mode:"math",body:[Y.callFunction("\\\\cdleft",[q[0]],[]),Y.callFunction("\\Big",[Z],[]),Y.callFunction("\\\\cdright",[q[1]],[])]};return Y.callFunction("\\\\cdparent",[re],[]);case"\\\\cdlongequal":return Y.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return Y.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function F4e(c){var q=[];for(c.gullet.beginGroup(),c.gullet.macros.set("\\cr","\\\\\\relax"),c.gullet.beginGroup();;){q.push(c.parseExpression(!1,"\\\\")),c.gullet.endGroup(),c.gullet.beginGroup();var Y=c.fetch().text;if("&"!==Y&&"\\\\"!==Y){if("\\end"===Y){0===q[q.length-1].length&&q.pop();break}throw new $a("Expected \\\\ or \\cr or \\end",c.nextToken)}c.consume()}for(var V=[],Z=[V],re=0;re<q.length;re++){for(var ae=q[re],se=Pc(),oe=0;oe<ae.length;oe++)if(Bc(ae[oe])){V.push(se);var he=PC(ae[oe+=1]).text,de=new Array(2);if(de[0]={type:"ordgroup",mode:"math",body:[]},de[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(he)>-1)){if(!("<>AV".indexOf(he)>-1))throw new $a('Expected one of "<>AV=|." after @',ae[oe]);for(var pe=0;pe<2;pe++){for(var ge=!0,me=oe+1;me<ae.length;me++){if(Fc(ae[me],he)){ge=!1,oe=me;break}if(Bc(ae[me]))throw new $a("Missing a "+he+" character to complete a CD arrow.",ae[me]);de[pe].body.push(ae[me])}if(ge)throw new $a("Missing a "+he+" character to complete a CD arrow.",ae[oe])}}var ve={type:"styling",body:[B4e(he,de,c)],mode:"math",style:"display"};V.push(ve),se=Pc()}else se.body.push(ae[oe]);re%2==0?V.push(se):V.shift(),V=[],Z.push(V)}return c.gullet.endGroup(),c.gullet.endGroup(),{type:"array",mode:"math",body:Z,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(Z[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(Z.length+1).fill([])}}function w4(c,q){var Y=x4(c);if(Y&&Za.contains(Ih,Y.text))return Y;throw new $a(Y?"Invalid delimiter '"+Y.text+"' after '"+q.funcName+"'":"Invalid delimiter type '"+c.type+"'",c)}function vG(c){if(!c.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function ec(c){for(var{type:q,names:Y,props:V,handler:Z,htmlBuilder:re,mathmlBuilder:ae}=c,se={type:q,numArgs:V.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:Z},oe=0;oe<Y.length;++oe)Dh[Y[oe]]=se;re&&(Pl[q]=re),ae&&(Bl[q]=ae)}function le(c,q){Oh[c]=q}function xG(c){var q=[];c.consumeSpaces();var Y=c.fetch().text;for("\\relax"===Y&&(c.consume(),c.consumeSpaces(),Y=c.fetch().text);"\\hline"===Y||"\\hdashline"===Y;)c.consume(),q.push("\\hdashline"===Y),c.consumeSpaces(),Y=c.fetch().text;return q}function $C(c){if(-1===c.indexOf("ed"))return-1===c.indexOf("*")}function uh(c,q,Y){var{hskipBeforeAndAfter:V,addJot:Z,cols:re,arraystretch:ae,colSeparationType:se,autoTag:oe,singleRow:he,emptySingleRow:de,maxNumCols:pe,leqno:ge}=q;if(c.gullet.beginGroup(),he||c.gullet.macros.set("\\cr","\\\\\\relax"),!ae){var me=c.gullet.expandMacroAsText("\\arraystretch");if(null==me)ae=1;else if(!(ae=parseFloat(me))||ae<0)throw new $a("Invalid \\arraystretch: "+me)}c.gullet.beginGroup();var ve=[],be=[ve],we=[],Te=[],_e=null!=oe?[]:void 0;function w(){oe&&c.gullet.macros.set("\\@eqnsw","1",!0)}function _(){_e&&(c.gullet.macros.get("\\df@tag")?(_e.push(c.subparse([new Fa("\\df@tag")])),c.gullet.macros.set("\\df@tag",void 0,!0)):_e.push(!!oe&&"1"===c.gullet.macros.get("\\@eqnsw")))}for(o(w,"beginRow"),o(_,"endRow"),w(),Te.push(xG(c));;){var Ee=c.parseExpression(!1,he?"\\end":"\\\\");c.gullet.endGroup(),c.gullet.beginGroup(),Ee={type:"ordgroup",mode:c.mode,body:Ee},Y&&(Ee={type:"styling",mode:c.mode,style:Y,body:[Ee]}),ve.push(Ee);var Ce=c.fetch().text;if("&"===Ce){if(pe&&ve.length===pe){if(he||se)throw new $a("Too many tab characters: &",c.nextToken);c.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}c.consume()}else{if("\\end"===Ce){_(),1===ve.length&&"styling"===Ee.type&&0===Ee.body[0].body.length&&(be.length>1||!de)&&be.pop(),Te.length<be.length+1&&Te.push([]);break}if("\\\\"!==Ce)throw new $a("Expected & or \\\\ or \\cr or \\end",c.nextToken);c.consume();var Se=void 0;" "!==c.gullet.future().text&&(Se=c.parseSizeGroup(!0)),we.push(Se?Se.value:null),_(),Te.push(xG(c)),ve=[],be.push(ve),w()}}return c.gullet.endGroup(),c.gullet.endGroup(),{type:"array",mode:c.mode,addJot:Z,arraystretch:ae,body:be,cols:re,rowGaps:we,hskipBeforeAndAfter:V,hLinesBeforeRow:Te,colSeparationType:se,tags:_e,leqno:ge}}function VC(c){return"d"===c.slice(0,1)?"display":"text"}function k$(c,q,Y){for(var V=Hl(c,q,!1),Z=q.sizeMultiplier/Y.sizeMultiplier,re=0;re<V.length;re++){var ae=V[re].classes.indexOf("sizing");ae<0?Array.prototype.push.apply(V[re].classes,q.sizingClasses(Y)):V[re].classes[ae+1]==="reset-size"+q.size&&(V[re].classes[ae+1]="reset-size"+Y.size),V[re].height*=Z,V[re].depth*=Z}return Cl.makeFragment(V)}vr(Pa,{default:()=>kd});var Ba,Fa,$a,za,Ga,Ua,qa,Ya,Wa,Ha,Va,Xa,Qa,Za,Ja,es,ts,rs,ns,is,as,ss,os,ls,cs,hs,us,ds,ps,gs,fs,ms,ys,vs,xs,bs,ks,Ts,_s,Es,Cs,As,Ls,Ns,Is,Rs,Ds,Os,Ps,Bs,Fs,$s,zs,Gs,Us,qs,js,Ys,Hs,Vs,Xs,Qs,Zs,to,ro,no,ao,so,oo,ho,uo,po,go,fo,mo,vo,xo,bo,wo,ko,To,_o,Eo,Co,So,Ao,Lo,No,Io,Mo,Ro,Oo,Po,Bo,Fo,$o,Go,Uo,Yo,Wo,Vo,Ko,Qo,Zo,Jo,el,tl,rl,nl,il,al,sl,ol,ll,hl,ul,dl,pl,gl,fl,ml,wl,kl,Tl,_l,Cl,Sl,Al,Nl,Ml,Rl,Dl,Pl,Bl,Fl,$l,zl,ql,jl,Yl,Wl,Hl,Vl,Kl,Ql,Zl,Jl,tc,rc,nc,ac,oc,lc,cc,hc,uc,dc,pc,gc,fc,mc,vc,xc,bc,wc,kc,Tc,Cc,Sc,Ac,Lc,Nc,Ic,Mc,Rc,Oc,Pc,Bc,Fc,$c,Gc,Uc,qc,jc,Yc,Wc,Hc,Vc,Xc,Kc,Qc,Zc,Jc,eh,th,rh,nh,ih,ah,sh,oh,lh,ch,hh,dh,ph,fh,kh,Th,_h,Eh,Ch,Ah,Lh,Nh,Ih,Mh,Rh,Dh,Oh,$h,zh,Uh,qh,jh,Yh,Wh,Hh,Vh,Xh,Qh,eu,tu,ru,nu,iu,au,su,ou,lu,pu,gu,fu,mu,yu,vu,xu,bu,wu,ku,Tu,_u,Eu,Su,Au,Lu,Nu,Iu,Fu,$u,zu,Uu,qu,ju,Yu,Hu,Vu,Xu,Ku,Qu,Zu,rd,nd,id,ad,sd,ld,cd,dd,pd,gd,fd,md,yd,vd,xd,bd,wd,kd,Td=M(()=>{for(Ba=class t{static{o(this,"SourceLocation")}constructor(c,q,Y){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=c,this.start=q,this.end=Y}static range(c,q){return q?c&&c.loc&&q.loc&&c.loc.lexer===q.loc.lexer?new t(c.loc.lexer,c.loc.start,q.loc.end):null:c&&c.loc}},Fa=class t{static{o(this,"Token")}constructor(c,q){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=c,this.loc=q}range(c,q){return new t(q,Ba.range(this,c))}},($a=class t{static{o(this,"ParseError")}constructor(c,q){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var Y,V,Z="KaTeX parse error: "+c,re=q&&q.loc;if(re&&re.start<=re.end){var ae=re.lexer.input;Y=re.start,V=re.end,Y===ae.length?Z+=" at end of input: ":Z+=" at position "+(Y+1)+": ";var se=ae.slice(Y,V).replace(/[^]/g,"$&̲");Z+=(Y>15?"…"+ae.slice(Y-15,Y):ae.slice(0,Y))+se+(V+15<ae.length?ae.slice(V,V+15)+"…":ae.slice(V))}var oe=new Error(Z);return oe.name="ParseError",oe.__proto__=t.prototype,oe.position=Y,null!=Y&&null!=V&&(oe.length=V-Y),oe.rawMessage=c,oe}}).prototype.__proto__=Error.prototype,za=o(function(c,q){return-1!==c.indexOf(q)},"contains"),Ga=o(function(c,q){return void 0===c?q:c},"deflt"),Ua=/([A-Z])/g,qa=o(function(c){return c.replace(Ua,"-$1").toLowerCase()},"hyphenate"),Ya={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Wa=/[&><"']/g,o(Lbe,"escape"),Ha=o(function t(c){return"ordgroup"===c.type||"color"===c.type?1===c.body.length?t(c.body[0]):c:"font"===c.type?t(c.body):c},"getBaseElem"),Va=o(function(c){var q=Ha(c);return"mathord"===q.type||"textord"===q.type||"atom"===q.type},"isCharacterBox"),Xa=o(function(c){if(!c)throw new Error("Expected non-null, but got "+String(c));return c},"assert"),Qa=o(function(c){var q=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(c);return q?":"===q[2]&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(q[1])?q[1].toLowerCase():null:"_relative"},"protocolFromUrl"),Za={contains:za,deflt:Ga,escape:Lbe,hyphenate:qa,getBaseElem:Ha,isCharacterBox:Va,protocolFromUrl:Qa},Ja={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:o(c=>"#"+c,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:o((c,q)=>(q.push(c),q),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:o(c=>Math.max(0,c),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:o(c=>Math.max(0,c),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:o(c=>Math.max(0,c),"processor"),cli:"-e, --max-expand <n>",cliProcessor:o(c=>"Infinity"===c?1/0:parseInt(c),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}},o(Mbe,"getDefaultValue"),es=class{static{o(this,"Settings")}constructor(c){for(var q in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,c=c||{},Ja)if(Ja.hasOwnProperty(q)){var Y=Ja[q];this[q]=void 0!==c[q]?Y.processor?Y.processor(c[q]):c[q]:Mbe(Y)}}reportNonstrict(c,q,Y){var V=this.strict;if("function"==typeof V&&(V=V(c,q,Y)),V&&"ignore"!==V){if(!0===V||"error"===V)throw new $a("LaTeX-incompatible input and strict mode is set to 'error': "+q+" ["+c+"]",Y);"warn"===V?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+q+" ["+c+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+V+"': "+q+" ["+c+"]")}}useStrictBehavior(c,q,Y){var V=this.strict;if("function"==typeof V)try{V=V(c,q,Y)}catch{V="error"}return!(!V||"ignore"===V)&&(!0===V||"error"===V||("warn"===V?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+q+" ["+c+"]"),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+V+"': "+q+" ["+c+"]"),!1)))}isTrusted(c){if(c.url&&!c.protocol){var q=Za.protocolFromUrl(c.url);if(null==q)return!1;c.protocol=q}return!!("function"==typeof this.trust?this.trust(c):this.trust)}},ts=class{static{o(this,"Style")}constructor(c,q,Y){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=c,this.size=q,this.cramped=Y}sup(){return rs[ns[this.id]]}sub(){return rs[is[this.id]]}fracNum(){return rs[as[this.id]]}fracDen(){return rs[ss[this.id]]}cramp(){return rs[os[this.id]]}text(){return rs[ls[this.id]]}isTight(){return this.size>=2}},rs=[new ts(0,0,!1),new ts(1,0,!0),new ts(2,1,!1),new ts(3,1,!0),new ts(4,2,!1),new ts(5,2,!0),new ts(6,3,!1),new ts(7,3,!0)],ns=[4,5,4,5,6,7,6,7],is=[5,5,5,5,7,7,7,7],as=[2,3,4,5,6,7,6,7],ss=[3,3,5,5,7,7,7,7],os=[1,1,3,3,5,5,7,7],ls=[0,1,2,3,2,3,2,3],cs={DISPLAY:rs[0],TEXT:rs[2],SCRIPT:rs[4],SCRIPTSCRIPT:rs[6]},hs=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],o(Gbe,"scriptFromCodepoint"),us=[],hs.forEach(c=>c.blocks.forEach(c=>us.push(...c))),o(BG,"supportedCodepoint"),ds=80,ps=o(function(c,q){return"M95,"+(622+c+q)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+c/2.075+" -"+c+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+c)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+c)+" "+q+"h400000v"+(40+c)+"h-400000z"},"sqrtMain"),gs=o(function(c,q){return"M263,"+(601+c+q)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+c/2.084+" -"+c+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+c)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+c)+" "+q+"h400000v"+(40+c)+"h-400000z"},"sqrtSize1"),fs=o(function(c,q){return"M983 "+(10+c+q)+"\nl"+c/3.13+" -"+c+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+c)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+c)+" "+q+"h400000v"+(40+c)+"h-400000z"},"sqrtSize2"),ms=o(function(c,q){return"M424,"+(2398+c+q)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+c/4.223+" -"+c+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+c)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+c)+" "+q+"\nh400000v"+(40+c)+"h-400000z"},"sqrtSize3"),ys=o(function(c,q){return"M473,"+(2713+c+q)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+c/5.298+" -"+c+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+c)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+c)+" "+q+"h400000v"+(40+c)+"H1017.7z"},"sqrtSize4"),vs=o(function(c){return"M400000 "+c+" H0 L"+c/2+" 0 l65 45 L145 "+(c-80)+" H400000z"},"phasePath"),xs=o(function(c,q,Y){return"M702 "+(c+q)+"H400000"+(40+c)+"\nH742v"+(Y-54-q-c)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+q+"H400000v"+(40+c)+"H742z"},"sqrtTall"),bs=o(function(c,q,Y){q*=1e3;var V="";switch(c){case"sqrtMain":V=ps(q,ds);break;case"sqrtSize1":V=gs(q,ds);break;case"sqrtSize2":V=fs(q,ds);break;case"sqrtSize3":V=ms(q,ds);break;case"sqrtSize4":V=ys(q,ds);break;case"sqrtTall":V=xs(q,ds,Y)}return V},"sqrtPath"),ks=o(function(c,q){switch(c){case"⎜":return"M291 0 H417 V"+q+" H291z M291 0 H417 V"+q+" H291z";case"∣":return"M145 0 H188 V"+q+" H145z M145 0 H188 V"+q+" H145z";case"∥":return"M145 0 H188 V"+q+" H145z M145 0 H188 V"+q+" H145zM367 0 H410 V"+q+" H367z M367 0 H410 V"+q+" H367z";case"⎟":return"M457 0 H583 V"+q+" H457z M457 0 H583 V"+q+" H457z";case"⎢":return"M319 0 H403 V"+q+" H319z M319 0 H403 V"+q+" H319z";case"⎥":return"M263 0 H347 V"+q+" H263z M263 0 H347 V"+q+" H263z";case"⎪":return"M384 0 H504 V"+q+" H384z M384 0 H504 V"+q+" H384z";case"⏐":return"M312 0 H355 V"+q+" H312z M312 0 H355 V"+q+" H312z";case"‖":return"M257 0 H300 V"+q+" H257z M257 0 H300 V"+q+" H257zM478 0 H521 V"+q+" H478z M478 0 H521 V"+q+" H478z";default:return""}},"innerPath"),Ts={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},_s=o(function(c,q){switch(c){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+q+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+q+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+q+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+q+" v1759 h84z";case"vert":return"M145 15 v585 v"+q+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-q+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+q+" v585 h43z";case"doublevert":return"M145 15 v585 v"+q+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-q+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+q+" v585 h43z\nM367 15 v585 v"+q+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-q+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+q+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+q+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+q+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+q+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+q+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+q+" v602 h84z\nM403 1759 V0 H319 V1759 v"+q+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+q+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+q+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(q+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(q+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(q+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(q+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),Es=class{static{o(this,"DocumentFragment")}constructor(c){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=c,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(c){return Za.contains(this.classes,c)}toNode(){for(var c=document.createDocumentFragment(),q=0;q<this.children.length;q++)c.appendChild(this.children[q].toNode());return c}toMarkup(){for(var c="",q=0;q<this.children.length;q++)c+=this.children[q].toMarkup();return c}toText(){var c=o(c=>c.toText(),"toText");return this.children.map(c).join("")}},Cs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},As={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ls={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"},o(Qbe,"setFontMetrics"),o(RC,"getCharacterMetrics"),Ns={},o(Zbe,"getGlobalMetrics"),Is=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Rs=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ds=o(function(c,q){return q.size<2?c:Is[c-1][q.size-1]},"sizeAtStyle"),(Os=class t{static{o(this,"Options")}constructor(c){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=c.style,this.color=c.color,this.size=c.size||t.BASESIZE,this.textSize=c.textSize||this.size,this.phantom=!!c.phantom,this.font=c.font||"",this.fontFamily=c.fontFamily||"",this.fontWeight=c.fontWeight||"",this.fontShape=c.fontShape||"",this.sizeMultiplier=Rs[this.size-1],this.maxSize=c.maxSize,this.minRuleThickness=c.minRuleThickness,this._fontMetrics=void 0}extend(c){var q={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var Y in c)c.hasOwnProperty(Y)&&(q[Y]=c[Y]);return new t(q)}havingStyle(c){return this.style===c?this:this.extend({style:c,size:Ds(this.textSize,c)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(c){return this.size===c&&this.textSize===c?this:this.extend({style:this.style.text(),size:c,textSize:c,sizeMultiplier:Rs[c-1]})}havingBaseStyle(c){c=c||this.style.text();var q=Ds(t.BASESIZE,c);return this.size===q&&this.textSize===t.BASESIZE&&this.style===c?this:this.extend({style:c,size:q})}havingBaseSizing(){var c;switch(this.style.id){case 4:case 5:c=3;break;case 6:case 7:c=1;break;default:c=6}return this.extend({style:this.style.text(),size:c})}withColor(c){return this.extend({color:c})}withPhantom(){return this.extend({phantom:!0})}withFont(c){return this.extend({font:c})}withTextFontFamily(c){return this.extend({fontFamily:c,font:""})}withTextFontWeight(c){return this.extend({fontWeight:c,font:""})}withTextFontShape(c){return this.extend({fontShape:c,font:""})}sizingClasses(c){return c.size!==this.size?["sizing","reset-size"+c.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==t.BASESIZE?["sizing","reset-size"+this.size,"size"+t.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Zbe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}).BASESIZE=6,Ps={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Bs={ex:!0,em:!0,mu:!0},Fs=o(function(c){return"string"!=typeof c&&(c=c.unit),c in Ps||c in Bs||"ex"===c},"validUnit"),$s=o(function(c,q){var Y;if(c.unit in Ps)Y=Ps[c.unit]/q.fontMetrics().ptPerEm/q.sizeMultiplier;else if("mu"===c.unit)Y=q.fontMetrics().cssEmPerMu;else{var V;if(V=q.style.isTight()?q.havingStyle(q.style.text()):q,"ex"===c.unit)Y=V.fontMetrics().xHeight;else{if("em"!==c.unit)throw new $a("Invalid unit: '"+c.unit+"'");Y=V.fontMetrics().quad}V!==q&&(Y*=V.sizeMultiplier/q.sizeMultiplier)}return Math.min(c.number*Y,q.maxSize)},"calculateSize"),zs=o(function(c){return+c.toFixed(4)+"em"},"makeEm"),Gs=o(function(c){return c.filter(c=>c).join(" ")},"createClass"),Us=o(function(c,q,Y){if(this.classes=c||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=Y||{},q){q.style.isTight()&&this.classes.push("mtight");var V=q.getColor();V&&(this.style.color=V)}},"initNode"),qs=o(function(c){var q=document.createElement(c);for(var Y in q.className=Gs(this.classes),this.style)this.style.hasOwnProperty(Y)&&(q.style[Y]=this.style[Y]);for(var V in this.attributes)this.attributes.hasOwnProperty(V)&&q.setAttribute(V,this.attributes[V]);for(var Z=0;Z<this.children.length;Z++)q.appendChild(this.children[Z].toNode());return q},"toNode"),js=o(function(c){var q="<"+c;this.classes.length&&(q+=' class="'+Za.escape(Gs(this.classes))+'"');var Y="";for(var V in this.style)this.style.hasOwnProperty(V)&&(Y+=Za.hyphenate(V)+":"+this.style[V]+";");for(var Z in Y&&(q+=' style="'+Za.escape(Y)+'"'),this.attributes)this.attributes.hasOwnProperty(Z)&&(q+=" "+Z+'="'+Za.escape(this.attributes[Z])+'"');q+=">";for(var re=0;re<this.children.length;re++)q+=this.children[re].toMarkup();return q+="</"+c+">"},"toMarkup"),Ys=class{static{o(this,"Span")}constructor(c,q,Y,V){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Us.call(this,c,Y,V),this.children=q||[]}setAttribute(c,q){this.attributes[c]=q}hasClass(c){return Za.contains(this.classes,c)}toNode(){return qs.call(this,"span")}toMarkup(){return js.call(this,"span")}},Hs=class{static{o(this,"Anchor")}constructor(c,q,Y,V){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Us.call(this,q,V),this.children=Y||[],this.setAttribute("href",c)}setAttribute(c,q){this.attributes[c]=q}hasClass(c){return Za.contains(this.classes,c)}toNode(){return qs.call(this,"a")}toMarkup(){return js.call(this,"a")}},Vs=class{static{o(this,"Img")}constructor(c,q,Y){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=q,this.src=c,this.classes=["mord"],this.style=Y}hasClass(c){return Za.contains(this.classes,c)}toNode(){var c=document.createElement("img");for(var q in c.src=this.src,c.alt=this.alt,c.className="mord",this.style)this.style.hasOwnProperty(q)&&(c.style[q]=this.style[q]);return c}toMarkup(){var c='<img src="'+Za.escape(this.src)+'" alt="'+Za.escape(this.alt)+'"',q="";for(var Y in this.style)this.style.hasOwnProperty(Y)&&(q+=Za.hyphenate(Y)+":"+this.style[Y]+";");return q&&(c+=' style="'+Za.escape(q)+'"'),c+="'/>"}},Xs={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},Qs=class{static{o(this,"SymbolNode")}constructor(c,q,Y,V,Z,re,ae,se){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=c,this.height=q||0,this.depth=Y||0,this.italic=V||0,this.skew=Z||0,this.width=re||0,this.classes=ae||[],this.style=se||{},this.maxFontSize=0;var oe=Gbe(this.text.charCodeAt(0));oe&&this.classes.push(oe+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Xs[this.text])}hasClass(c){return Za.contains(this.classes,c)}toNode(){var c=document.createTextNode(this.text),q=null;for(var Y in this.italic>0&&((q=document.createElement("span")).style.marginRight=zs(this.italic)),this.classes.length>0&&((q=q||document.createElement("span")).className=Gs(this.classes)),this.style)this.style.hasOwnProperty(Y)&&((q=q||document.createElement("span")).style[Y]=this.style[Y]);return q?(q.appendChild(c),q):c}toMarkup(){var c=!1,q="<span";this.classes.length&&(c=!0,q+=' class="',q+=Za.escape(Gs(this.classes)),q+='"');var Y="";for(var V in this.italic>0&&(Y+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(V)&&(Y+=Za.hyphenate(V)+":"+this.style[V]+";");Y&&(c=!0,q+=' style="'+Za.escape(Y)+'"');var Z=Za.escape(this.text);return c?(q+=">",q+=Z,q+="</span>"):Z}},Zs=class{static{o(this,"SvgNode")}constructor(c,q){this.children=void 0,this.attributes=void 0,this.children=c||[],this.attributes=q||{}}toNode(){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&c.setAttribute(q,this.attributes[q]);for(var Y=0;Y<this.children.length;Y++)c.appendChild(this.children[Y].toNode());return c}toMarkup(){var c='<svg xmlns="http://www.w3.org/2000/svg"';for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&(c+=" "+q+'="'+Za.escape(this.attributes[q])+'"');c+=">";for(var Y=0;Y<this.children.length;Y++)c+=this.children[Y].toMarkup();return c+="</svg>"}},to=class{static{o(this,"PathNode")}constructor(c,q){this.pathName=void 0,this.alternate=void 0,this.pathName=c,this.alternate=q}toNode(){var c=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?c.setAttribute("d",this.alternate):c.setAttribute("d",Ts[this.pathName]),c}toMarkup(){return this.alternate?'<path d="'+Za.escape(this.alternate)+'"/>':'<path d="'+Za.escape(Ts[this.pathName])+'"/>'}},ro=class{static{o(this,"LineNode")}constructor(c){this.attributes=void 0,this.attributes=c||{}}toNode(){var c=document.createElementNS("http://www.w3.org/2000/svg","line");for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&c.setAttribute(q,this.attributes[q]);return c}toMarkup(){var c="<line";for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&(c+=" "+q+'="'+Za.escape(this.attributes[q])+'"');return c+="/>"}},o(cG,"assertSymbolDomNode"),o(r4e,"assertSpan"),no={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ao={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},so={math:{},text:{}},o(G,"defineSymbol"),ho="text",po="ams",go="accent-token",fo="bin",mo="close",vo="inner",xo="mathord",bo="op-token",wo="open",ko="punct",_o="spacing",Eo="textord",G(oo="math",uo="main",To="rel","≡","\\equiv",!0),G(oo,uo,To,"≺","\\prec",!0),G(oo,uo,To,"≻","\\succ",!0),G(oo,uo,To,"∼","\\sim",!0),G(oo,uo,To,"⊥","\\perp"),G(oo,uo,To,"⪯","\\preceq",!0),G(oo,uo,To,"⪰","\\succeq",!0),G(oo,uo,To,"≃","\\simeq",!0),G(oo,uo,To,"∣","\\mid",!0),G(oo,uo,To,"≪","\\ll",!0),G(oo,uo,To,"≫","\\gg",!0),G(oo,uo,To,"≍","\\asymp",!0),G(oo,uo,To,"∥","\\parallel"),G(oo,uo,To,"⋈","\\bowtie",!0),G(oo,uo,To,"⌣","\\smile",!0),G(oo,uo,To,"⊑","\\sqsubseteq",!0),G(oo,uo,To,"⊒","\\sqsupseteq",!0),G(oo,uo,To,"≐","\\doteq",!0),G(oo,uo,To,"⌢","\\frown",!0),G(oo,uo,To,"∋","\\ni",!0),G(oo,uo,To,"∝","\\propto",!0),G(oo,uo,To,"⊢","\\vdash",!0),G(oo,uo,To,"⊣","\\dashv",!0),G(oo,uo,To,"∋","\\owns"),G(oo,uo,ko,".","\\ldotp"),G(oo,uo,ko,"⋅","\\cdotp"),G(oo,uo,Eo,"#","\\#"),G(ho,uo,Eo,"#","\\#"),G(oo,uo,Eo,"&","\\&"),G(ho,uo,Eo,"&","\\&"),G(oo,uo,Eo,"ℵ","\\aleph",!0),G(oo,uo,Eo,"∀","\\forall",!0),G(oo,uo,Eo,"ℏ","\\hbar",!0),G(oo,uo,Eo,"∃","\\exists",!0),G(oo,uo,Eo,"∇","\\nabla",!0),G(oo,uo,Eo,"♭","\\flat",!0),G(oo,uo,Eo,"ℓ","\\ell",!0),G(oo,uo,Eo,"♮","\\natural",!0),G(oo,uo,Eo,"♣","\\clubsuit",!0),G(oo,uo,Eo,"℘","\\wp",!0),G(oo,uo,Eo,"♯","\\sharp",!0),G(oo,uo,Eo,"♢","\\diamondsuit",!0),G(oo,uo,Eo,"ℜ","\\Re",!0),G(oo,uo,Eo,"♡","\\heartsuit",!0),G(oo,uo,Eo,"ℑ","\\Im",!0),G(oo,uo,Eo,"♠","\\spadesuit",!0),G(oo,uo,Eo,"§","\\S",!0),G(ho,uo,Eo,"§","\\S"),G(oo,uo,Eo,"¶","\\P",!0),G(ho,uo,Eo,"¶","\\P"),G(oo,uo,Eo,"†","\\dag"),G(ho,uo,Eo,"†","\\dag"),G(ho,uo,Eo,"†","\\textdagger"),G(oo,uo,Eo,"‡","\\ddag"),G(ho,uo,Eo,"‡","\\ddag"),G(ho,uo,Eo,"‡","\\textdaggerdbl"),G(oo,uo,mo,"⎱","\\rmoustache",!0),G(oo,uo,wo,"⎰","\\lmoustache",!0),G(oo,uo,mo,"⟯","\\rgroup",!0),G(oo,uo,wo,"⟮","\\lgroup",!0),G(oo,uo,fo,"∓","\\mp",!0),G(oo,uo,fo,"⊖","\\ominus",!0),G(oo,uo,fo,"⊎","\\uplus",!0),G(oo,uo,fo,"⊓","\\sqcap",!0),G(oo,uo,fo,"∗","\\ast"),G(oo,uo,fo,"⊔","\\sqcup",!0),G(oo,uo,fo,"◯","\\bigcirc",!0),G(oo,uo,fo,"∙","\\bullet",!0),G(oo,uo,fo,"‡","\\ddagger"),G(oo,uo,fo,"≀","\\wr",!0),G(oo,uo,fo,"⨿","\\amalg"),G(oo,uo,fo,"&","\\And"),G(oo,uo,To,"⟵","\\longleftarrow",!0),G(oo,uo,To,"⇐","\\Leftarrow",!0),G(oo,uo,To,"⟸","\\Longleftarrow",!0),G(oo,uo,To,"⟶","\\longrightarrow",!0),G(oo,uo,To,"⇒","\\Rightarrow",!0),G(oo,uo,To,"⟹","\\Longrightarrow",!0),G(oo,uo,To,"↔","\\leftrightarrow",!0),G(oo,uo,To,"⟷","\\longleftrightarrow",!0),G(oo,uo,To,"⇔","\\Leftrightarrow",!0),G(oo,uo,To,"⟺","\\Longleftrightarrow",!0),G(oo,uo,To,"↦","\\mapsto",!0),G(oo,uo,To,"⟼","\\longmapsto",!0),G(oo,uo,To,"↗","\\nearrow",!0),G(oo,uo,To,"↩","\\hookleftarrow",!0),G(oo,uo,To,"↪","\\hookrightarrow",!0),G(oo,uo,To,"↘","\\searrow",!0),G(oo,uo,To,"↼","\\leftharpoonup",!0),G(oo,uo,To,"⇀","\\rightharpoonup",!0),G(oo,uo,To,"↙","\\swarrow",!0),G(oo,uo,To,"↽","\\leftharpoondown",!0),G(oo,uo,To,"⇁","\\rightharpoondown",!0),G(oo,uo,To,"↖","\\nwarrow",!0),G(oo,uo,To,"⇌","\\rightleftharpoons",!0),G(oo,po,To,"≮","\\nless",!0),G(oo,po,To,"","\\@nleqslant"),G(oo,po,To,"","\\@nleqq"),G(oo,po,To,"⪇","\\lneq",!0),G(oo,po,To,"≨","\\lneqq",!0),G(oo,po,To,"","\\@lvertneqq"),G(oo,po,To,"⋦","\\lnsim",!0),G(oo,po,To,"⪉","\\lnapprox",!0),G(oo,po,To,"⊀","\\nprec",!0),G(oo,po,To,"⋠","\\npreceq",!0),G(oo,po,To,"⋨","\\precnsim",!0),G(oo,po,To,"⪹","\\precnapprox",!0),G(oo,po,To,"≁","\\nsim",!0),G(oo,po,To,"","\\@nshortmid"),G(oo,po,To,"∤","\\nmid",!0),G(oo,po,To,"⊬","\\nvdash",!0),G(oo,po,To,"⊭","\\nvDash",!0),G(oo,po,To,"⋪","\\ntriangleleft"),G(oo,po,To,"⋬","\\ntrianglelefteq",!0),G(oo,po,To,"⊊","\\subsetneq",!0),G(oo,po,To,"","\\@varsubsetneq"),G(oo,po,To,"⫋","\\subsetneqq",!0),G(oo,po,To,"","\\@varsubsetneqq"),G(oo,po,To,"≯","\\ngtr",!0),G(oo,po,To,"","\\@ngeqslant"),G(oo,po,To,"","\\@ngeqq"),G(oo,po,To,"⪈","\\gneq",!0),G(oo,po,To,"≩","\\gneqq",!0),G(oo,po,To,"","\\@gvertneqq"),G(oo,po,To,"⋧","\\gnsim",!0),G(oo,po,To,"⪊","\\gnapprox",!0),G(oo,po,To,"⊁","\\nsucc",!0),G(oo,po,To,"⋡","\\nsucceq",!0),G(oo,po,To,"⋩","\\succnsim",!0),G(oo,po,To,"⪺","\\succnapprox",!0),G(oo,po,To,"≆","\\ncong",!0),G(oo,po,To,"","\\@nshortparallel"),G(oo,po,To,"∦","\\nparallel",!0),G(oo,po,To,"⊯","\\nVDash",!0),G(oo,po,To,"⋫","\\ntriangleright"),G(oo,po,To,"⋭","\\ntrianglerighteq",!0),G(oo,po,To,"","\\@nsupseteqq"),G(oo,po,To,"⊋","\\supsetneq",!0),G(oo,po,To,"","\\@varsupsetneq"),G(oo,po,To,"⫌","\\supsetneqq",!0),G(oo,po,To,"","\\@varsupsetneqq"),G(oo,po,To,"⊮","\\nVdash",!0),G(oo,po,To,"⪵","\\precneqq",!0),G(oo,po,To,"⪶","\\succneqq",!0),G(oo,po,To,"","\\@nsubseteqq"),G(oo,po,fo,"⊴","\\unlhd"),G(oo,po,fo,"⊵","\\unrhd"),G(oo,po,To,"↚","\\nleftarrow",!0),G(oo,po,To,"↛","\\nrightarrow",!0),G(oo,po,To,"⇍","\\nLeftarrow",!0),G(oo,po,To,"⇏","\\nRightarrow",!0),G(oo,po,To,"↮","\\nleftrightarrow",!0),G(oo,po,To,"⇎","\\nLeftrightarrow",!0),G(oo,po,To,"△","\\vartriangle"),G(oo,po,Eo,"ℏ","\\hslash"),G(oo,po,Eo,"▽","\\triangledown"),G(oo,po,Eo,"◊","\\lozenge"),G(oo,po,Eo,"Ⓢ","\\circledS"),G(oo,po,Eo,"®","\\circledR"),G(ho,po,Eo,"®","\\circledR"),G(oo,po,Eo,"∡","\\measuredangle",!0),G(oo,po,Eo,"∄","\\nexists"),G(oo,po,Eo,"℧","\\mho"),G(oo,po,Eo,"Ⅎ","\\Finv",!0),G(oo,po,Eo,"⅁","\\Game",!0),G(oo,po,Eo,"‵","\\backprime"),G(oo,po,Eo,"▲","\\blacktriangle"),G(oo,po,Eo,"▼","\\blacktriangledown"),G(oo,po,Eo,"■","\\blacksquare"),G(oo,po,Eo,"⧫","\\blacklozenge"),G(oo,po,Eo,"★","\\bigstar"),G(oo,po,Eo,"∢","\\sphericalangle",!0),G(oo,po,Eo,"∁","\\complement",!0),G(oo,po,Eo,"ð","\\eth",!0),G(ho,uo,Eo,"ð","ð"),G(oo,po,Eo,"╱","\\diagup"),G(oo,po,Eo,"╲","\\diagdown"),G(oo,po,Eo,"□","\\square"),G(oo,po,Eo,"□","\\Box"),G(oo,po,Eo,"◊","\\Diamond"),G(oo,po,Eo,"¥","\\yen",!0),G(ho,po,Eo,"¥","\\yen",!0),G(oo,po,Eo,"✓","\\checkmark",!0),G(ho,po,Eo,"✓","\\checkmark"),G(oo,po,Eo,"ℶ","\\beth",!0),G(oo,po,Eo,"ℸ","\\daleth",!0),G(oo,po,Eo,"ℷ","\\gimel",!0),G(oo,po,Eo,"ϝ","\\digamma",!0),G(oo,po,Eo,"ϰ","\\varkappa"),G(oo,po,wo,"┌","\\@ulcorner",!0),G(oo,po,mo,"┐","\\@urcorner",!0),G(oo,po,wo,"└","\\@llcorner",!0),G(oo,po,mo,"┘","\\@lrcorner",!0),G(oo,po,To,"≦","\\leqq",!0),G(oo,po,To,"⩽","\\leqslant",!0),G(oo,po,To,"⪕","\\eqslantless",!0),G(oo,po,To,"≲","\\lesssim",!0),G(oo,po,To,"⪅","\\lessapprox",!0),G(oo,po,To,"≊","\\approxeq",!0),G(oo,po,fo,"⋖","\\lessdot"),G(oo,po,To,"⋘","\\lll",!0),G(oo,po,To,"≶","\\lessgtr",!0),G(oo,po,To,"⋚","\\lesseqgtr",!0),G(oo,po,To,"⪋","\\lesseqqgtr",!0),G(oo,po,To,"≑","\\doteqdot"),G(oo,po,To,"≓","\\risingdotseq",!0),G(oo,po,To,"≒","\\fallingdotseq",!0),G(oo,po,To,"∽","\\backsim",!0),G(oo,po,To,"⋍","\\backsimeq",!0),G(oo,po,To,"⫅","\\subseteqq",!0),G(oo,po,To,"⋐","\\Subset",!0),G(oo,po,To,"⊏","\\sqsubset",!0),G(oo,po,To,"≼","\\preccurlyeq",!0),G(oo,po,To,"⋞","\\curlyeqprec",!0),G(oo,po,To,"≾","\\precsim",!0),G(oo,po,To,"⪷","\\precapprox",!0),G(oo,po,To,"⊲","\\vartriangleleft"),G(oo,po,To,"⊴","\\trianglelefteq"),G(oo,po,To,"⊨","\\vDash",!0),G(oo,po,To,"⊪","\\Vvdash",!0),G(oo,po,To,"⌣","\\smallsmile"),G(oo,po,To,"⌢","\\smallfrown"),G(oo,po,To,"≏","\\bumpeq",!0),G(oo,po,To,"≎","\\Bumpeq",!0),G(oo,po,To,"≧","\\geqq",!0),G(oo,po,To,"⩾","\\geqslant",!0),G(oo,po,To,"⪖","\\eqslantgtr",!0),G(oo,po,To,"≳","\\gtrsim",!0),G(oo,po,To,"⪆","\\gtrapprox",!0),G(oo,po,fo,"⋗","\\gtrdot"),G(oo,po,To,"⋙","\\ggg",!0),G(oo,po,To,"≷","\\gtrless",!0),G(oo,po,To,"⋛","\\gtreqless",!0),G(oo,po,To,"⪌","\\gtreqqless",!0),G(oo,po,To,"≖","\\eqcirc",!0),G(oo,po,To,"≗","\\circeq",!0),G(oo,po,To,"≜","\\triangleq",!0),G(oo,po,To,"∼","\\thicksim"),G(oo,po,To,"≈","\\thickapprox"),G(oo,po,To,"⫆","\\supseteqq",!0),G(oo,po,To,"⋑","\\Supset",!0),G(oo,po,To,"⊐","\\sqsupset",!0),G(oo,po,To,"≽","\\succcurlyeq",!0),G(oo,po,To,"⋟","\\curlyeqsucc",!0),G(oo,po,To,"≿","\\succsim",!0),G(oo,po,To,"⪸","\\succapprox",!0),G(oo,po,To,"⊳","\\vartriangleright"),G(oo,po,To,"⊵","\\trianglerighteq"),G(oo,po,To,"⊩","\\Vdash",!0),G(oo,po,To,"∣","\\shortmid"),G(oo,po,To,"∥","\\shortparallel"),G(oo,po,To,"≬","\\between",!0),G(oo,po,To,"⋔","\\pitchfork",!0),G(oo,po,To,"∝","\\varpropto"),G(oo,po,To,"◀","\\blacktriangleleft"),G(oo,po,To,"∴","\\therefore",!0),G(oo,po,To,"∍","\\backepsilon"),G(oo,po,To,"▶","\\blacktriangleright"),G(oo,po,To,"∵","\\because",!0),G(oo,po,To,"⋘","\\llless"),G(oo,po,To,"⋙","\\gggtr"),G(oo,po,fo,"⊲","\\lhd"),G(oo,po,fo,"⊳","\\rhd"),G(oo,po,To,"≂","\\eqsim",!0),G(oo,uo,To,"⋈","\\Join"),G(oo,po,To,"≑","\\Doteq",!0),G(oo,po,fo,"∔","\\dotplus",!0),G(oo,po,fo,"∖","\\smallsetminus"),G(oo,po,fo,"⋒","\\Cap",!0),G(oo,po,fo,"⋓","\\Cup",!0),G(oo,po,fo,"⩞","\\doublebarwedge",!0),G(oo,po,fo,"⊟","\\boxminus",!0),G(oo,po,fo,"⊞","\\boxplus",!0),G(oo,po,fo,"⋇","\\divideontimes",!0),G(oo,po,fo,"⋉","\\ltimes",!0),G(oo,po,fo,"⋊","\\rtimes",!0),G(oo,po,fo,"⋋","\\leftthreetimes",!0),G(oo,po,fo,"⋌","\\rightthreetimes",!0),G(oo,po,fo,"⋏","\\curlywedge",!0),G(oo,po,fo,"⋎","\\curlyvee",!0),G(oo,po,fo,"⊝","\\circleddash",!0),G(oo,po,fo,"⊛","\\circledast",!0),G(oo,po,fo,"⋅","\\centerdot"),G(oo,po,fo,"⊺","\\intercal",!0),G(oo,po,fo,"⋒","\\doublecap"),G(oo,po,fo,"⋓","\\doublecup"),G(oo,po,fo,"⊠","\\boxtimes",!0),G(oo,po,To,"⇢","\\dashrightarrow",!0),G(oo,po,To,"⇠","\\dashleftarrow",!0),G(oo,po,To,"⇇","\\leftleftarrows",!0),G(oo,po,To,"⇆","\\leftrightarrows",!0),G(oo,po,To,"⇚","\\Lleftarrow",!0),G(oo,po,To,"↞","\\twoheadleftarrow",!0),G(oo,po,To,"↢","\\leftarrowtail",!0),G(oo,po,To,"↫","\\looparrowleft",!0),G(oo,po,To,"⇋","\\leftrightharpoons",!0),G(oo,po,To,"↶","\\curvearrowleft",!0),G(oo,po,To,"↺","\\circlearrowleft",!0),G(oo,po,To,"↰","\\Lsh",!0),G(oo,po,To,"⇈","\\upuparrows",!0),G(oo,po,To,"↿","\\upharpoonleft",!0),G(oo,po,To,"⇃","\\downharpoonleft",!0),G(oo,uo,To,"⊶","\\origof",!0),G(oo,uo,To,"⊷","\\imageof",!0),G(oo,po,To,"⊸","\\multimap",!0),G(oo,po,To,"↭","\\leftrightsquigarrow",!0),G(oo,po,To,"⇉","\\rightrightarrows",!0),G(oo,po,To,"⇄","\\rightleftarrows",!0),G(oo,po,To,"↠","\\twoheadrightarrow",!0),G(oo,po,To,"↣","\\rightarrowtail",!0),G(oo,po,To,"↬","\\looparrowright",!0),G(oo,po,To,"↷","\\curvearrowright",!0),G(oo,po,To,"↻","\\circlearrowright",!0),G(oo,po,To,"↱","\\Rsh",!0),G(oo,po,To,"⇊","\\downdownarrows",!0),G(oo,po,To,"↾","\\upharpoonright",!0),G(oo,po,To,"⇂","\\downharpoonright",!0),G(oo,po,To,"⇝","\\rightsquigarrow",!0),G(oo,po,To,"⇝","\\leadsto"),G(oo,po,To,"⇛","\\Rrightarrow",!0),G(oo,po,To,"↾","\\restriction"),G(oo,uo,Eo,"‘","`"),G(oo,uo,Eo,"$","\\$"),G(ho,uo,Eo,"$","\\$"),G(ho,uo,Eo,"$","\\textdollar"),G(oo,uo,Eo,"%","\\%"),G(ho,uo,Eo,"%","\\%"),G(oo,uo,Eo,"_","\\_"),G(ho,uo,Eo,"_","\\_"),G(ho,uo,Eo,"_","\\textunderscore"),G(oo,uo,Eo,"∠","\\angle",!0),G(oo,uo,Eo,"∞","\\infty",!0),G(oo,uo,Eo,"′","\\prime"),G(oo,uo,Eo,"△","\\triangle"),G(oo,uo,Eo,"Γ","\\Gamma",!0),G(oo,uo,Eo,"Δ","\\Delta",!0),G(oo,uo,Eo,"Θ","\\Theta",!0),G(oo,uo,Eo,"Λ","\\Lambda",!0),G(oo,uo,Eo,"Ξ","\\Xi",!0),G(oo,uo,Eo,"Π","\\Pi",!0),G(oo,uo,Eo,"Σ","\\Sigma",!0),G(oo,uo,Eo,"Υ","\\Upsilon",!0),G(oo,uo,Eo,"Φ","\\Phi",!0),G(oo,uo,Eo,"Ψ","\\Psi",!0),G(oo,uo,Eo,"Ω","\\Omega",!0),G(oo,uo,Eo,"A","Α"),G(oo,uo,Eo,"B","Β"),G(oo,uo,Eo,"E","Ε"),G(oo,uo,Eo,"Z","Ζ"),G(oo,uo,Eo,"H","Η"),G(oo,uo,Eo,"I","Ι"),G(oo,uo,Eo,"K","Κ"),G(oo,uo,Eo,"M","Μ"),G(oo,uo,Eo,"N","Ν"),G(oo,uo,Eo,"O","Ο"),G(oo,uo,Eo,"P","Ρ"),G(oo,uo,Eo,"T","Τ"),G(oo,uo,Eo,"X","Χ"),G(oo,uo,Eo,"¬","\\neg",!0),G(oo,uo,Eo,"¬","\\lnot"),G(oo,uo,Eo,"⊤","\\top"),G(oo,uo,Eo,"⊥","\\bot"),G(oo,uo,Eo,"∅","\\emptyset"),G(oo,po,Eo,"∅","\\varnothing"),G(oo,uo,xo,"α","\\alpha",!0),G(oo,uo,xo,"β","\\beta",!0),G(oo,uo,xo,"γ","\\gamma",!0),G(oo,uo,xo,"δ","\\delta",!0),G(oo,uo,xo,"ϵ","\\epsilon",!0),G(oo,uo,xo,"ζ","\\zeta",!0),G(oo,uo,xo,"η","\\eta",!0),G(oo,uo,xo,"θ","\\theta",!0),G(oo,uo,xo,"ι","\\iota",!0),G(oo,uo,xo,"κ","\\kappa",!0),G(oo,uo,xo,"λ","\\lambda",!0),G(oo,uo,xo,"μ","\\mu",!0),G(oo,uo,xo,"ν","\\nu",!0),G(oo,uo,xo,"ξ","\\xi",!0),G(oo,uo,xo,"ο","\\omicron",!0),G(oo,uo,xo,"π","\\pi",!0),G(oo,uo,xo,"ρ","\\rho",!0),G(oo,uo,xo,"σ","\\sigma",!0),G(oo,uo,xo,"τ","\\tau",!0),G(oo,uo,xo,"υ","\\upsilon",!0),G(oo,uo,xo,"ϕ","\\phi",!0),G(oo,uo,xo,"χ","\\chi",!0),G(oo,uo,xo,"ψ","\\psi",!0),G(oo,uo,xo,"ω","\\omega",!0),G(oo,uo,xo,"ε","\\varepsilon",!0),G(oo,uo,xo,"ϑ","\\vartheta",!0),G(oo,uo,xo,"ϖ","\\varpi",!0),G(oo,uo,xo,"ϱ","\\varrho",!0),G(oo,uo,xo,"ς","\\varsigma",!0),G(oo,uo,xo,"φ","\\varphi",!0),G(oo,uo,fo,"∗","*",!0),G(oo,uo,fo,"+","+"),G(oo,uo,fo,"−","-",!0),G(oo,uo,fo,"⋅","\\cdot",!0),G(oo,uo,fo,"∘","\\circ",!0),G(oo,uo,fo,"÷","\\div",!0),G(oo,uo,fo,"±","\\pm",!0),G(oo,uo,fo,"×","\\times",!0),G(oo,uo,fo,"∩","\\cap",!0),G(oo,uo,fo,"∪","\\cup",!0),G(oo,uo,fo,"∖","\\setminus",!0),G(oo,uo,fo,"∧","\\land"),G(oo,uo,fo,"∨","\\lor"),G(oo,uo,fo,"∧","\\wedge",!0),G(oo,uo,fo,"∨","\\vee",!0),G(oo,uo,Eo,"√","\\surd"),G(oo,uo,wo,"⟨","\\langle",!0),G(oo,uo,wo,"∣","\\lvert"),G(oo,uo,wo,"∥","\\lVert"),G(oo,uo,mo,"?","?"),G(oo,uo,mo,"!","!"),G(oo,uo,mo,"⟩","\\rangle",!0),G(oo,uo,mo,"∣","\\rvert"),G(oo,uo,mo,"∥","\\rVert"),G(oo,uo,To,"=","="),G(oo,uo,To,":",":"),G(oo,uo,To,"≈","\\approx",!0),G(oo,uo,To,"≅","\\cong",!0),G(oo,uo,To,"≥","\\ge"),G(oo,uo,To,"≥","\\geq",!0),G(oo,uo,To,"←","\\gets"),G(oo,uo,To,">","\\gt",!0),G(oo,uo,To,"∈","\\in",!0),G(oo,uo,To,"","\\@not"),G(oo,uo,To,"⊂","\\subset",!0),G(oo,uo,To,"⊃","\\supset",!0),G(oo,uo,To,"⊆","\\subseteq",!0),G(oo,uo,To,"⊇","\\supseteq",!0),G(oo,po,To,"⊈","\\nsubseteq",!0),G(oo,po,To,"⊉","\\nsupseteq",!0),G(oo,uo,To,"⊨","\\models"),G(oo,uo,To,"←","\\leftarrow",!0),G(oo,uo,To,"≤","\\le"),G(oo,uo,To,"≤","\\leq",!0),G(oo,uo,To,"<","\\lt",!0),G(oo,uo,To,"→","\\rightarrow",!0),G(oo,uo,To,"→","\\to"),G(oo,po,To,"≱","\\ngeq",!0),G(oo,po,To,"≰","\\nleq",!0),G(oo,uo,_o," ","\\ "),G(oo,uo,_o," ","\\space"),G(oo,uo,_o," ","\\nobreakspace"),G(ho,uo,_o," ","\\ "),G(ho,uo,_o," "," "),G(ho,uo,_o," ","\\space"),G(ho,uo,_o," ","\\nobreakspace"),G(oo,uo,_o,null,"\\nobreak"),G(oo,uo,_o,null,"\\allowbreak"),G(oo,uo,ko,",",","),G(oo,uo,ko,";",";"),G(oo,po,fo,"⊼","\\barwedge",!0),G(oo,po,fo,"⊻","\\veebar",!0),G(oo,uo,fo,"⊙","\\odot",!0),G(oo,uo,fo,"⊕","\\oplus",!0),G(oo,uo,fo,"⊗","\\otimes",!0),G(oo,uo,Eo,"∂","\\partial",!0),G(oo,uo,fo,"⊘","\\oslash",!0),G(oo,po,fo,"⊚","\\circledcirc",!0),G(oo,po,fo,"⊡","\\boxdot",!0),G(oo,uo,fo,"△","\\bigtriangleup"),G(oo,uo,fo,"▽","\\bigtriangledown"),G(oo,uo,fo,"†","\\dagger"),G(oo,uo,fo,"⋄","\\diamond"),G(oo,uo,fo,"⋆","\\star"),G(oo,uo,fo,"◃","\\triangleleft"),G(oo,uo,fo,"▹","\\triangleright"),G(oo,uo,wo,"{","\\{"),G(ho,uo,Eo,"{","\\{"),G(ho,uo,Eo,"{","\\textbraceleft"),G(oo,uo,mo,"}","\\}"),G(ho,uo,Eo,"}","\\}"),G(ho,uo,Eo,"}","\\textbraceright"),G(oo,uo,wo,"{","\\lbrace"),G(oo,uo,mo,"}","\\rbrace"),G(oo,uo,wo,"[","\\lbrack",!0),G(ho,uo,Eo,"[","\\lbrack",!0),G(oo,uo,mo,"]","\\rbrack",!0),G(ho,uo,Eo,"]","\\rbrack",!0),G(oo,uo,wo,"(","\\lparen",!0),G(oo,uo,mo,")","\\rparen",!0),G(ho,uo,Eo,"<","\\textless",!0),G(ho,uo,Eo,">","\\textgreater",!0),G(oo,uo,wo,"⌊","\\lfloor",!0),G(oo,uo,mo,"⌋","\\rfloor",!0),G(oo,uo,wo,"⌈","\\lceil",!0),G(oo,uo,mo,"⌉","\\rceil",!0),G(oo,uo,Eo,"\\","\\backslash"),G(oo,uo,Eo,"∣","|"),G(oo,uo,Eo,"∣","\\vert"),G(ho,uo,Eo,"|","\\textbar",!0),G(oo,uo,Eo,"∥","\\|"),G(oo,uo,Eo,"∥","\\Vert"),G(ho,uo,Eo,"∥","\\textbardbl"),G(ho,uo,Eo,"~","\\textasciitilde"),G(ho,uo,Eo,"\\","\\textbackslash"),G(ho,uo,Eo,"^","\\textasciicircum"),G(oo,uo,To,"↑","\\uparrow",!0),G(oo,uo,To,"⇑","\\Uparrow",!0),G(oo,uo,To,"↓","\\downarrow",!0),G(oo,uo,To,"⇓","\\Downarrow",!0),G(oo,uo,To,"↕","\\updownarrow",!0),G(oo,uo,To,"⇕","\\Updownarrow",!0),G(oo,uo,bo,"∐","\\coprod"),G(oo,uo,bo,"⋁","\\bigvee"),G(oo,uo,bo,"⋀","\\bigwedge"),G(oo,uo,bo,"⨄","\\biguplus"),G(oo,uo,bo,"⋂","\\bigcap"),G(oo,uo,bo,"⋃","\\bigcup"),G(oo,uo,bo,"∫","\\int"),G(oo,uo,bo,"∫","\\intop"),G(oo,uo,bo,"∬","\\iint"),G(oo,uo,bo,"∭","\\iiint"),G(oo,uo,bo,"∏","\\prod"),G(oo,uo,bo,"∑","\\sum"),G(oo,uo,bo,"⨂","\\bigotimes"),G(oo,uo,bo,"⨁","\\bigoplus"),G(oo,uo,bo,"⨀","\\bigodot"),G(oo,uo,bo,"∮","\\oint"),G(oo,uo,bo,"∯","\\oiint"),G(oo,uo,bo,"∰","\\oiiint"),G(oo,uo,bo,"⨆","\\bigsqcup"),G(oo,uo,bo,"∫","\\smallint"),G(ho,uo,vo,"…","\\textellipsis"),G(oo,uo,vo,"…","\\mathellipsis"),G(ho,uo,vo,"…","\\ldots",!0),G(oo,uo,vo,"…","\\ldots",!0),G(oo,uo,vo,"⋯","\\@cdots",!0),G(oo,uo,vo,"⋱","\\ddots",!0),G(oo,uo,Eo,"⋮","\\varvdots"),G(oo,uo,go,"ˊ","\\acute"),G(oo,uo,go,"ˋ","\\grave"),G(oo,uo,go,"¨","\\ddot"),G(oo,uo,go,"~","\\tilde"),G(oo,uo,go,"ˉ","\\bar"),G(oo,uo,go,"˘","\\breve"),G(oo,uo,go,"ˇ","\\check"),G(oo,uo,go,"^","\\hat"),G(oo,uo,go,"⃗","\\vec"),G(oo,uo,go,"˙","\\dot"),G(oo,uo,go,"˚","\\mathring"),G(oo,uo,xo,"","\\@imath"),G(oo,uo,xo,"","\\@jmath"),G(oo,uo,Eo,"ı","ı"),G(oo,uo,Eo,"ȷ","ȷ"),G(ho,uo,Eo,"ı","\\i",!0),G(ho,uo,Eo,"ȷ","\\j",!0),G(ho,uo,Eo,"ß","\\ss",!0),G(ho,uo,Eo,"æ","\\ae",!0),G(ho,uo,Eo,"œ","\\oe",!0),G(ho,uo,Eo,"ø","\\o",!0),G(ho,uo,Eo,"Æ","\\AE",!0),G(ho,uo,Eo,"Œ","\\OE",!0),G(ho,uo,Eo,"Ø","\\O",!0),G(ho,uo,go,"ˊ","\\'"),G(ho,uo,go,"ˋ","\\`"),G(ho,uo,go,"ˆ","\\^"),G(ho,uo,go,"˜","\\~"),G(ho,uo,go,"ˉ","\\="),G(ho,uo,go,"˘","\\u"),G(ho,uo,go,"˙","\\."),G(ho,uo,go,"¸","\\c"),G(ho,uo,go,"˚","\\r"),G(ho,uo,go,"ˇ","\\v"),G(ho,uo,go,"¨",'\\"'),G(ho,uo,go,"˝","\\H"),G(ho,uo,go,"◯","\\textcircled"),Co={"--":!0,"---":!0,"``":!0,"''":!0},G(ho,uo,Eo,"–","--",!0),G(ho,uo,Eo,"–","\\textendash"),G(ho,uo,Eo,"—","---",!0),G(ho,uo,Eo,"—","\\textemdash"),G(ho,uo,Eo,"‘","`",!0),G(ho,uo,Eo,"‘","\\textquoteleft"),G(ho,uo,Eo,"’","'",!0),G(ho,uo,Eo,"’","\\textquoteright"),G(ho,uo,Eo,"“","``",!0),G(ho,uo,Eo,"“","\\textquotedblleft"),G(ho,uo,Eo,"”","''",!0),G(ho,uo,Eo,"”","\\textquotedblright"),G(oo,uo,Eo,"°","\\degree",!0),G(ho,uo,Eo,"°","\\degree"),G(ho,uo,Eo,"°","\\textdegree",!0),G(oo,uo,Eo,"£","\\pounds"),G(oo,uo,Eo,"£","\\mathsterling",!0),G(ho,uo,Eo,"£","\\pounds"),G(ho,uo,Eo,"£","\\textsterling",!0),G(oo,po,Eo,"✠","\\maltese"),G(ho,po,Eo,"✠","\\maltese"),So='0123456789/@."',Lo=0;Lo<14;Lo++)Ao=So.charAt(Lo),G(oo,uo,Eo,Ao,Ao);for(No='0123456789!@*()-=+";:?/.,',Mo=0;Mo<25;Mo++)Io=No.charAt(Mo),G(ho,uo,Eo,Io,Io);for(Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Po=0;Po<52;Po++)Oo=Ro.charAt(Po),G(oo,uo,xo,Oo,Oo),G(ho,uo,Eo,Oo,Oo);for(G(oo,po,Eo,"C","ℂ"),G(ho,po,Eo,"C","ℂ"),G(oo,po,Eo,"H","ℍ"),G(ho,po,Eo,"H","ℍ"),G(oo,po,Eo,"N","ℕ"),G(ho,po,Eo,"N","ℕ"),G(oo,po,Eo,"P","ℙ"),G(ho,po,Eo,"P","ℙ"),G(oo,po,Eo,"Q","ℚ"),G(ho,po,Eo,"Q","ℚ"),G(oo,po,Eo,"R","ℝ"),G(ho,po,Eo,"R","ℝ"),G(oo,po,Eo,"Z","ℤ"),G(ho,po,Eo,"Z","ℤ"),G(oo,uo,xo,"h","ℎ"),G(ho,uo,xo,"h","ℎ"),Bo="",$o=0;$o<52;$o++)Fo=Ro.charAt($o),Bo=String.fromCharCode(55349,56320+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56372+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56424+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56580+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56684+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56736+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56788+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56840+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56944+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),$o<26&&(Bo=String.fromCharCode(55349,56632+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo),Bo=String.fromCharCode(55349,56476+$o),G(oo,uo,xo,Fo,Bo),G(ho,uo,Eo,Fo,Bo));for(G(oo,uo,xo,"k",Bo="𝕜"),G(ho,uo,Eo,"k",Bo),Uo=0;Uo<10;Uo++)Go=Uo.toString(),Bo=String.fromCharCode(55349,57294+Uo),G(oo,uo,xo,Go,Bo),G(ho,uo,Eo,Go,Bo),Bo=String.fromCharCode(55349,57314+Uo),G(oo,uo,xo,Go,Bo),G(ho,uo,Eo,Go,Bo),Bo=String.fromCharCode(55349,57324+Uo),G(oo,uo,xo,Go,Bo),G(ho,uo,Eo,Go,Bo),Bo=String.fromCharCode(55349,57334+Uo),G(oo,uo,xo,Go,Bo),G(ho,uo,Eo,Go,Bo);for(Yo="ÐÞþ",Vo=0;Vo<3;Vo++)Wo=Yo.charAt(Vo),G(oo,uo,xo,Wo,Wo),G(ho,uo,Eo,Wo,Wo);Ko=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Qo=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Zo=o(function(c,q){var Y=1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536,V="math"===q?0:1;if(119808<=Y&&Y<120484){var Z=Math.floor((Y-119808)/26);return[Ko[Z][2],Ko[Z][V]]}if(120782<=Y&&Y<=120831){var re=Math.floor((Y-120782)/10);return[Qo[re][2],Qo[re][V]]}if(120485===Y||120486===Y)return[Ko[0][2],Ko[0][V]];if(120486<Y&&Y<120782)return["",""];throw new $a("Unsupported character: "+c)},"wideCharacterFont"),Jo=o(function(c,q,Y){return so[Y][c]&&so[Y][c].replace&&(c=so[Y][c].replace),{value:c,metrics:RC(c,q,Y)}},"lookupSymbol"),el=o(function(c,q,Y,V,Z){var re,ae=Jo(c,q,Y),se=ae.metrics;if(c=ae.value,se){var oe=se.italic;("text"===Y||V&&"mathit"===V.font)&&(oe=0),re=new Qs(c,se.height,se.depth,oe,se.skew,se.width,Z)}else typeof console<"u"&&console.warn("No character metrics for '"+c+"' in style '"+q+"' and mode '"+Y+"'"),re=new Qs(c,0,0,0,0,0,Z);if(V){re.maxFontSize=V.sizeMultiplier,V.style.isTight()&&re.classes.push("mtight");var he=V.getColor();he&&(re.style.color=he)}return re},"makeSymbol"),tl=o(function(c,q,Y,V){return void 0===V&&(V=[]),"boldsymbol"===Y.font&&Jo(c,"Main-Bold",q).metrics?el(c,"Main-Bold",q,Y,V.concat(["mathbf"])):"\\"===c||"main"===so[q][c].font?el(c,"Main-Regular",q,Y,V):el(c,"AMS-Regular",q,Y,V.concat(["amsrm"]))},"mathsym"),rl=o(function(c,q,Y,V,Z){return"textord"!==Z&&Jo(c,"Math-BoldItalic",q).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),nl=o(function(c,q,Y){var V=c.mode,Z=c.text,re=["mord"],ae="math"===V||"text"===V&&q.font,se=ae?q.font:q.fontFamily,oe="",he="";if(55349===Z.charCodeAt(0)&&([oe,he]=Zo(Z,V)),oe.length>0)return el(Z,oe,V,q,re.concat(he));if(se){var de,pe;if("boldsymbol"===se){var ge=rl(Z,V,q,re,Y);de=ge.fontName,pe=[ge.fontClass]}else ae?(de=kl[se].fontName,pe=[se]):(de=wl(se,q.fontWeight,q.fontShape),pe=[se,q.fontWeight,q.fontShape]);if(Jo(Z,de,V).metrics)return el(Z,de,V,q,re.concat(pe));if(Co.hasOwnProperty(Z)&&"Typewriter"===de.slice(0,10)){for(var me=[],ve=0;ve<Z.length;ve++)me.push(el(Z[ve],de,V,q,re.concat(pe)));return dl(me)}}if("mathord"===Y)return el(Z,"Math-Italic",V,q,re.concat(["mathnormal"]));if("textord"===Y){var be=so[V][Z]&&so[V][Z].font;if("ams"===be){var we=wl("amsrm",q.fontWeight,q.fontShape);return el(Z,we,V,q,re.concat("amsrm",q.fontWeight,q.fontShape))}if("main"!==be&&be){var Te=wl(be,q.fontWeight,q.fontShape);return el(Z,Te,V,q,re.concat(Te,q.fontWeight,q.fontShape))}var _e=wl("textrm",q.fontWeight,q.fontShape);return el(Z,_e,V,q,re.concat(q.fontWeight,q.fontShape))}throw new Error("unexpected type: "+Y+" in makeOrd")},"makeOrd"),il=o((c,q)=>{if(Gs(c.classes)!==Gs(q.classes)||c.skew!==q.skew||c.maxFontSize!==q.maxFontSize)return!1;if(1===c.classes.length){var Y=c.classes[0];if("mbin"===Y||"mord"===Y)return!1}for(var V in c.style)if(c.style.hasOwnProperty(V)&&c.style[V]!==q.style[V])return!1;for(var Z in q.style)if(q.style.hasOwnProperty(Z)&&c.style[Z]!==q.style[Z])return!1;return!0},"canCombine"),al=o(c=>{for(var q=0;q<c.length-1;q++){var Y=c[q],V=c[q+1];Y instanceof Qs&&V instanceof Qs&&il(Y,V)&&(Y.text+=V.text,Y.height=Math.max(Y.height,V.height),Y.depth=Math.max(Y.depth,V.depth),Y.italic=V.italic,c.splice(q+1,1),q--)}return c},"tryCombineChars"),sl=o(function(c){for(var q=0,Y=0,V=0,Z=0;Z<c.children.length;Z++){var re=c.children[Z];re.height>q&&(q=re.height),re.depth>Y&&(Y=re.depth),re.maxFontSize>V&&(V=re.maxFontSize)}c.height=q,c.depth=Y,c.maxFontSize=V},"sizeElementFromChildren"),ol=o(function(c,q,Y,V){var Z=new Ys(c,q,Y,V);return sl(Z),Z},"makeSpan"),ll=o((c,q,Y,V)=>new Ys(c,q,Y,V),"makeSvgSpan"),hl=o(function(c,q,Y){var V=ol([c],[],q);return V.height=Math.max(Y||q.fontMetrics().defaultRuleThickness,q.minRuleThickness),V.style.borderBottomWidth=zs(V.height),V.maxFontSize=1,V},"makeLineSpan"),ul=o(function(c,q,Y,V){var Z=new Hs(c,q,Y,V);return sl(Z),Z},"makeAnchor"),dl=o(function(c){var q=new Es(c);return sl(q),q},"makeFragment"),pl=o(function(c,q){return c instanceof Es?ol([],[c],q):c},"wrapFragment"),gl=o(function(c){if("individualShift"===c.positionType){for(var q=c.children,Y=[q[0]],V=-q[0].shift-q[0].elem.depth,Z=V,re=1;re<q.length;re++){var ae=-q[re].shift-Z-q[re].elem.depth,se=ae-(q[re-1].elem.height+q[re-1].elem.depth);Z+=ae,Y.push({type:"kern",size:se}),Y.push(q[re])}return{children:Y,depth:V}}var oe;if("top"===c.positionType){for(var he=c.positionData,de=0;de<c.children.length;de++){var pe=c.children[de];he-="kern"===pe.type?pe.size:pe.elem.height+pe.elem.depth}oe=he}else if("bottom"===c.positionType)oe=-c.positionData;else{var ge=c.children[0];if("elem"!==ge.type)throw new Error('First child must have type "elem".');if("shift"===c.positionType)oe=-ge.elem.depth-c.positionData;else{if("firstBaseline"!==c.positionType)throw new Error("Invalid positionType "+c.positionType+".");oe=-ge.elem.depth}}return{children:c.children,depth:oe}},"getVListChildrenAndDepth"),fl=o(function(c,q){for(var{children:Y,depth:V}=gl(c),Z=0,re=0;re<Y.length;re++){var ae=Y[re];if("elem"===ae.type){var se=ae.elem;Z=Math.max(Z,se.maxFontSize,se.height)}}Z+=2;var oe=ol(["pstrut"],[]);oe.style.height=zs(Z);for(var he=[],de=V,pe=V,ge=V,me=0;me<Y.length;me++){var ve=Y[me];if("kern"===ve.type)ge+=ve.size;else{var be=ve.elem,we=ve.wrapperClasses||[],Te=ve.wrapperStyle||{},_e=ol(we,[oe,be],void 0,Te);_e.style.top=zs(-Z-ge-be.depth),ve.marginLeft&&(_e.style.marginLeft=ve.marginLeft),ve.marginRight&&(_e.style.marginRight=ve.marginRight),he.push(_e),ge+=be.height+be.depth}de=Math.min(de,ge),pe=Math.max(pe,ge)}var Ee,Ce=ol(["vlist"],he);if(Ce.style.height=zs(pe),de<0){var Se=ol([],[]),Ae=ol(["vlist"],[Se]);Ae.style.height=zs(-de);var Le=ol(["vlist-s"],[new Qs("​")]);Ee=[ol(["vlist-r"],[Ce,Le]),ol(["vlist-r"],[Ae])]}else Ee=[ol(["vlist-r"],[Ce])];var Ne=ol(["vlist-t"],Ee);return 2===Ee.length&&Ne.classes.push("vlist-t2"),Ne.height=pe,Ne.depth=-de,Ne},"makeVList"),ml=o((c,q)=>{var Y=ol(["mspace"],[],q),V=$s(c,q);return Y.style.marginRight=zs(V),Y},"makeGlue"),wl=o(function(c,q,Y){var V="";switch(c){case"amsrm":V="AMS";break;case"textrm":V="Main";break;case"textsf":V="SansSerif";break;case"texttt":V="Typewriter";break;default:V=c}return V+"-"+("textbf"===q&&"textit"===Y?"BoldItalic":"textbf"===q?"Bold":"textit"===q?"Italic":"Regular")},"retrieveTextFontName"),kl={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Tl={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},_l=o(function(c,q){var[Y,V,Z]=Tl[c],re=new to(Y),ae=new Zs([re],{width:zs(V),height:zs(Z),style:"width:"+zs(V),viewBox:"0 0 "+1e3*V+" "+1e3*Z,preserveAspectRatio:"xMinYMin"}),se=ll(["overlay"],[ae],q);return se.height=Z,se.style.height=zs(Z),se.style.width=zs(V),se},"staticSvg"),Cl={fontMap:kl,makeSymbol:el,mathsym:tl,makeSpan:ol,makeSvgSpan:ll,makeLineSpan:hl,makeAnchor:ul,makeFragment:dl,wrapFragment:pl,makeVList:fl,makeOrd:nl,makeGlue:ml,staticSvg:_l,svgData:Tl,tryCombineChars:al},Ml={mord:{mop:Sl={number:3,unit:"mu"},mbin:Al={number:4,unit:"mu"},mrel:Nl={number:5,unit:"mu"},minner:Sl},mop:{mord:Sl,mop:Sl,mrel:Nl,minner:Sl},mbin:{mord:Al,mop:Al,mopen:Al,minner:Al},mrel:{mord:Nl,mop:Nl,mopen:Nl,minner:Nl},mopen:{},mclose:{mop:Sl,mbin:Al,mrel:Nl,minner:Sl},mpunct:{mord:Sl,mop:Sl,mrel:Nl,mopen:Sl,mclose:Sl,mpunct:Sl,minner:Sl},minner:{mord:Sl,mop:Sl,mbin:Al,mrel:Nl,mopen:Sl,mpunct:Sl,minner:Sl}},Rl={mord:{mop:Sl},mop:{mord:Sl,mop:Sl},mbin:{},mrel:{},mopen:{},mclose:{mop:Sl},mpunct:{},minner:{mop:Sl}},Dl={},Pl={},Bl={},o(Ct,"defineFunction"),o(Xf,"defineFunctionBuilders"),Fl=o(function(c){return"ordgroup"===c.type&&1===c.body.length?c.body[0]:c},"normalizeArgument"),$l=o(function(c){return"ordgroup"===c.type?c.body:[c]},"ordargument"),zl=Cl.makeSpan,ql=["leftmost","mbin","mopen","mrel","mop","mpunct"],jl=["rightmost","mrel","mclose","mpunct"],Yl={display:cs.DISPLAY,text:cs.TEXT,script:cs.SCRIPT,scriptscript:cs.SCRIPTSCRIPT},Wl={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Hl=o(function(c,q,Y,V){void 0===V&&(V=[null,null]);for(var Z=[],re=0;re<c.length;re++){var ae=tc(c[re],q);if(ae instanceof Es){var se=ae.children;Z.push(...se)}else Z.push(ae)}if(Cl.tryCombineChars(Z),!Y)return Z;var oe=q;if(1===c.length){var he=c[0];"sizing"===he.type?oe=q.havingSize(he.size):"styling"===he.type&&(oe=q.havingStyle(Yl[he.style]))}var de=zl([V[0]||"leftmost"],[],q),pe=zl([V[1]||"rightmost"],[],q),ge="root"===Y;return Vl(Z,(c,q)=>{var Y=q.classes[0],V=c.classes[0];"mbin"===Y&&Za.contains(jl,V)?q.classes[0]="mord":"mbin"===V&&Za.contains(ql,Y)&&(c.classes[0]="mord")},{node:de},pe,ge),Vl(Z,(c,q)=>{var Y=Zl(q),V=Zl(c),Z=Y&&V?c.hasClass("mtight")?Rl[Y][V]:Ml[Y][V]:null;if(Z)return Cl.makeGlue(Z,oe)},{node:de},pe,ge),Z},"buildExpression"),Vl=o(function t(c,q,Y,V,Z){V&&c.push(V);for(var re=0;re<c.length;re++){var ae=c[re],se=Kl(ae);if(se)t(se.children,q,Y,null,Z);else{var oe=!ae.hasClass("mspace");if(oe){var he=q(ae,Y.node);he&&(Y.insertAfter?Y.insertAfter(he):(c.unshift(he),re++))}oe?Y.node=ae:Z&&ae.hasClass("newline")&&(Y.node=zl(["leftmost"])),Y.insertAfter=(q=>Y=>{c.splice(q+1,0,Y),re++})(re)}}V&&c.pop()},"traverseNonSpaceNodes"),Kl=o(function(c){return c instanceof Es||c instanceof Hs||c instanceof Ys&&c.hasClass("enclosing")?c:null},"checkPartialGroup"),Ql=o(function t(c,q){var Y=Kl(c);if(Y){var V=Y.children;if(V.length){if("right"===q)return t(V[V.length-1],"right");if("left"===q)return t(V[0],"left")}}return c},"getOutermostNode"),Zl=o(function(c,q){return c?(q&&(c=Ql(c,q)),Wl[c.classes[0]]||null):null},"getTypeOfDomTree"),Jl=o(function(c,q){var Y=["nulldelimiter"].concat(c.baseSizingClasses());return zl(q.concat(Y))},"makeNullDelimiter"),tc=o(function(c,q,Y){if(!c)return zl();if(Pl[c.type]){var V=Pl[c.type](c,q);if(Y&&q.size!==Y.size){V=zl(q.sizingClasses(Y),[V],q);var Z=q.sizeMultiplier/Y.sizeMultiplier;V.height*=Z,V.depth*=Z}return V}throw new $a("Got group of unknown type: '"+c.type+"'")},"buildGroup"),o(n4,"buildHTMLUnbreakable"),o(EC,"buildHTML"),o(jG,"newDocumentFragment"),rc=class{static{o(this,"MathNode")}constructor(c,q,Y){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=c,this.attributes={},this.children=q||[],this.classes=Y||[]}setAttribute(c,q){this.attributes[c]=q}getAttribute(c){return this.attributes[c]}toNode(){var c=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&c.setAttribute(q,this.attributes[q]);this.classes.length>0&&(c.className=Gs(this.classes));for(var Y=0;Y<this.children.length;Y++)c.appendChild(this.children[Y].toNode());return c}toMarkup(){var c="<"+this.type;for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&(c+=" "+q+'="',c+=Za.escape(this.attributes[q]),c+='"');this.classes.length>0&&(c+=' class ="'+Za.escape(Gs(this.classes))+'"'),c+=">";for(var Y=0;Y<this.children.length;Y++)c+=this.children[Y].toMarkup();return c+="</"+this.type+">"}toText(){return this.children.map(c=>c.toText()).join("")}},nc=class{static{o(this,"TextNode")}constructor(c){this.text=void 0,this.text=c}toNode(){return document.createTextNode(this.text)}toMarkup(){return Za.escape(this.toText())}toText(){return this.text}},ac=class{static{o(this,"SpaceNode")}constructor(c){this.width=void 0,this.character=void 0,this.width=c,this.character=c>=.05555&&c<=.05556?" ":c>=.1666&&c<=.1667?" ":c>=.2222&&c<=.2223?" ":c>=.2777&&c<=.2778?"  ":c>=-.05556&&c<=-.05555?" ⁣":c>=-.1667&&c<=-.1666?" ⁣":c>=-.2223&&c<=-.2222?" ⁣":c>=-.2778&&c<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var c=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return c.setAttribute("width",zs(this.width)),c}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+zs(this.width)+'"/>'}toText(){return this.character?this.character:" "}},oc={MathNode:rc,TextNode:nc,SpaceNode:ac,newDocumentFragment:jG},lc=o(function(c,q,Y){return so[q][c]&&so[q][c].replace&&55349!==c.charCodeAt(0)&&!(Co.hasOwnProperty(c)&&Y&&(Y.fontFamily&&"tt"===Y.fontFamily.slice(4,6)||Y.font&&"tt"===Y.font.slice(4,6)))&&(c=so[q][c].replace),new oc.TextNode(c)},"makeText"),cc=o(function(c){return 1===c.length?c[0]:new oc.MathNode("mrow",c)},"makeRow"),hc=o(function(c,q){if("texttt"===q.fontFamily)return"monospace";if("textsf"===q.fontFamily)return"textit"===q.fontShape&&"textbf"===q.fontWeight?"sans-serif-bold-italic":"textit"===q.fontShape?"sans-serif-italic":"textbf"===q.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===q.fontShape&&"textbf"===q.fontWeight)return"bold-italic";if("textit"===q.fontShape)return"italic";if("textbf"===q.fontWeight)return"bold";var Y=q.font;if(!Y||"mathnormal"===Y)return null;var V=c.mode;if("mathit"===Y)return"italic";if("boldsymbol"===Y)return"textord"===c.type?"bold":"bold-italic";if("mathbf"===Y)return"bold";if("mathbb"===Y)return"double-struck";if("mathfrak"===Y)return"fraktur";if("mathscr"===Y||"mathcal"===Y)return"script";if("mathsf"===Y)return"sans-serif";if("mathtt"===Y)return"monospace";var Z=c.text;return Za.contains(["\\imath","\\jmath"],Z)?null:(so[V][Z]&&so[V][Z].replace&&(Z=so[V][Z].replace),RC(Z,Cl.fontMap[Y].fontName,V)?Cl.fontMap[Y].variant:null)},"getVariant"),uc=o(function(c,q,Y){if(1===c.length){var V=pc(c[0],q);return Y&&V instanceof rc&&"mo"===V.type&&(V.setAttribute("lspace","0em"),V.setAttribute("rspace","0em")),[V]}for(var Z,re=[],ae=0;ae<c.length;ae++){var se=pc(c[ae],q);if(se instanceof rc&&Z instanceof rc){if("mtext"===se.type&&"mtext"===Z.type&&se.getAttribute("mathvariant")===Z.getAttribute("mathvariant")){Z.children.push(...se.children);continue}if("mn"===se.type&&"mn"===Z.type){Z.children.push(...se.children);continue}if("mi"===se.type&&1===se.children.length&&"mn"===Z.type){var oe=se.children[0];if(oe instanceof nc&&"."===oe.text){Z.children.push(...se.children);continue}}else if("mi"===Z.type&&1===Z.children.length){var he=Z.children[0];if(he instanceof nc&&"̸"===he.text&&("mo"===se.type||"mi"===se.type||"mn"===se.type)){var de=se.children[0];de instanceof nc&&de.text.length>0&&(de.text=de.text.slice(0,1)+"̸"+de.text.slice(1),re.pop())}}}re.push(se),Z=se}return re},"buildExpression"),dc=o(function(c,q,Y){return cc(uc(c,q,Y))},"buildExpressionRow"),pc=o(function(c,q){if(!c)return new oc.MathNode("mrow");if(Bl[c.type])return Bl[c.type](c,q);throw new $a("Got group of unknown type: '"+c.type+"'")},"buildGroup"),o(pG,"buildMathML"),gc=o(function(c){return new Os({style:c.displayMode?cs.DISPLAY:cs.TEXT,maxSize:c.maxSize,minRuleThickness:c.minRuleThickness})},"optionsFromSettings"),fc=o(function(c,q){if(q.displayMode){var Y=["katex-display"];q.leqno&&Y.push("leqno"),q.fleqn&&Y.push("fleqn"),c=Cl.makeSpan(Y,[c])}return c},"displayWrap"),mc=o(function(c,q,Y){var V,Z=gc(Y);if("mathml"===Y.output)return pG(c,q,Z,Y.displayMode,!0);if("html"===Y.output){var re=EC(c,Z);V=Cl.makeSpan(["katex"],[re])}else{var ae=pG(c,q,Z,Y.displayMode,!1),se=EC(c,Z);V=Cl.makeSpan(["katex"],[ae,se])}return fc(V,Y)},"buildTree"),vc=o(function(c,q,Y){var V=EC(c,gc(Y)),Z=Cl.makeSpan(["katex"],[V]);return fc(Z,Y)},"buildHTMLTree"),xc={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},bc=o(function(c){var q=new oc.MathNode("mo",[new oc.TextNode(xc[c.replace(/^\\/,"")])]);return q.setAttribute("stretchy","true"),q},"mathMLnode"),wc={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},kc=o(function(c){return"ordgroup"===c.type?c.body.length:1},"groupLength"),Tc=o(function(c,q){function n(){var Y=4e5,V=c.label.slice(1);if(Za.contains(["widehat","widecheck","widetilde","utilde"],V)){var Z,re,ae,se=kc(c.base);if(se>5)"widehat"===V||"widecheck"===V?(Z=420,Y=2364,ae=.42,re=V+"4"):(Z=312,Y=2340,ae=.34,re="tilde4");else{var oe=[1,1,2,2,3,3][se];"widehat"===V||"widecheck"===V?(Y=[0,1062,2364,2364,2364][oe],Z=[0,239,300,360,420][oe],ae=[0,.24,.3,.3,.36,.42][oe],re=V+oe):(Y=[0,600,1033,2339,2340][oe],Z=[0,260,286,306,312][oe],ae=[0,.26,.286,.3,.306,.34][oe],re="tilde"+oe)}var he=new to(re),de=new Zs([he],{width:"100%",height:zs(ae),viewBox:"0 0 "+Y+" "+Z,preserveAspectRatio:"none"});return{span:Cl.makeSvgSpan([],[de],q),minWidth:0,height:ae}}var pe,ge,me=[],ve=wc[V],[be,we,Te]=ve,_e=Te/1e3,Ee=be.length;if(1===Ee)pe=["hide-tail"],ge=[ve[3]];else if(2===Ee)pe=["halfarrow-left","halfarrow-right"],ge=["xMinYMin","xMaxYMin"];else{if(3!==Ee)throw new Error("Correct katexImagesData or update code here to support\n                    "+Ee+" children.");pe=["brace-left","brace-center","brace-right"],ge=["xMinYMin","xMidYMin","xMaxYMin"]}for(var Ce=0;Ce<Ee;Ce++){var Se=new to(be[Ce]),Ae=new Zs([Se],{width:"400em",height:zs(_e),viewBox:"0 0 "+Y+" "+Te,preserveAspectRatio:ge[Ce]+" slice"}),Le=Cl.makeSvgSpan([pe[Ce]],[Ae],q);if(1===Ee)return{span:Le,minWidth:we,height:_e};Le.style.height=zs(_e),me.push(Le)}return{span:Cl.makeSpan(["stretchy"],me,q),minWidth:we,height:_e}}o(n,"buildSvgSpan_");var{span:Y,minWidth:V,height:Z}=n();return Y.height=Z,Y.style.height=zs(Z),V>0&&(Y.style.minWidth=zs(V)),Y},"svgSpan"),Cc=o(function(c,q,Y,V,Z){var re,ae=c.height+c.depth+Y+V;if(/fbox|color|angl/.test(q)){if(re=Cl.makeSpan(["stretchy",q],[],Z),"fbox"===q){var se=Z.color&&Z.getColor();se&&(re.style.borderColor=se)}}else{var oe=[];/^[bx]cancel$/.test(q)&&oe.push(new ro({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(q)&&oe.push(new ro({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var he=new Zs(oe,{width:"100%",height:zs(ae)});re=Cl.makeSvgSpan([],[he],Z)}return re.height=ae,re.style.height=zs(ae),re},"encloseSpan"),Sc={encloseSpan:Cc,mathMLnode:bc,svgSpan:Tc},o(yr,"assertNodeType"),o(PC,"assertSymbolNodeType"),o(x4,"checkSymbolNodeType"),Ac=o((c,q)=>{var Y,V,Z;c&&"supsub"===c.type?(Y=(V=yr(c.base,"accent")).base,c.base=Y,Z=r4e(tc(c,q)),c.base=V):Y=(V=yr(c,"accent")).base;var re=tc(Y,q.havingCrampedStyle()),ae=0;if(V.isShifty&&Za.isCharacterBox(Y)){var se=Za.getBaseElem(Y);ae=cG(tc(se,q.havingCrampedStyle())).skew}var oe,he="\\c"===V.label,de=he?re.height+re.depth:Math.min(re.height,q.fontMetrics().xHeight);if(V.isStretchy)oe=Sc.svgSpan(V,q),oe=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:re},{type:"elem",elem:oe,wrapperClasses:["svg-align"],wrapperStyle:ae>0?{width:"calc(100% - "+zs(2*ae)+")",marginLeft:zs(2*ae)}:void 0}]},q);else{var pe,ge;"\\vec"===V.label?(pe=Cl.staticSvg("vec",q),ge=Cl.svgData.vec[1]):((pe=cG(pe=Cl.makeOrd({mode:V.mode,text:V.label},q,"textord"))).italic=0,ge=pe.width,he&&(de+=pe.depth)),oe=Cl.makeSpan(["accent-body"],[pe]);var me="\\textcircled"===V.label;me&&(oe.classes.push("accent-full"),de=re.height);var ve=ae;me||(ve-=ge/2),oe.style.left=zs(ve),"\\textcircled"===V.label&&(oe.style.top=".2em"),oe=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:re},{type:"kern",size:-de},{type:"elem",elem:oe}]},q)}var be=Cl.makeSpan(["mord","accent"],[oe],q);return Z?(Z.children[0]=be,Z.height=Math.max(be.height,Z.height),Z.classes[0]="mord",Z):be},"htmlBuilder$a"),Lc=o((c,q)=>{var Y=c.isStretchy?Sc.mathMLnode(c.label):new oc.MathNode("mo",[lc(c.label,c.mode)]),V=new oc.MathNode("mover",[pc(c.base,q),Y]);return V.setAttribute("accent","true"),V},"mathmlBuilder$9"),Nc=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(c=>"\\"+c).join("|")),Ct({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:o((c,q)=>{var Y=Fl(q[0]),V=!Nc.test(c.funcName),Z=!V||"\\widehat"===c.funcName||"\\widetilde"===c.funcName||"\\widecheck"===c.funcName;return{type:"accent",mode:c.parser.mode,label:c.funcName,isStretchy:V,isShifty:Z,base:Y}},"handler"),htmlBuilder:Ac,mathmlBuilder:Lc}),Ct({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:o((c,q)=>{var Y=q[0],V=c.parser.mode;return"math"===V&&(c.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+c.funcName+" works only in text mode"),V="text"),{type:"accent",mode:V,label:c.funcName,isStretchy:!1,isShifty:!0,base:Y}},"handler"),htmlBuilder:Ac,mathmlBuilder:Lc}),Ct({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=q[0];return{type:"accentUnder",mode:Y.mode,label:V,base:Z}},"handler"),htmlBuilder:o((c,q)=>{var Y=tc(c.base,q),V=Sc.svgSpan(c,q),Z="\\utilde"===c.label?.12:0,re=Cl.makeVList({positionType:"top",positionData:Y.height,children:[{type:"elem",elem:V,wrapperClasses:["svg-align"]},{type:"kern",size:Z},{type:"elem",elem:Y}]},q);return Cl.makeSpan(["mord","accentunder"],[re],q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=Sc.mathMLnode(c.label),V=new oc.MathNode("munder",[pc(c.base,q),Y]);return V.setAttribute("accentunder","true"),V},"mathmlBuilder")}),Ic=o(c=>{var q=new oc.MathNode("mpadded",c?[c]:[]);return q.setAttribute("width","+0.6em"),q.setAttribute("lspace","0.3em"),q},"paddedNode"),Ct({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(c,q,Y){var{parser:V,funcName:Z}=c;return{type:"xArrow",mode:V.mode,label:Z,body:q[0],below:Y[0]}},htmlBuilder(c,q){var Y,V=q.style,Z=q.havingStyle(V.sup()),re=Cl.wrapFragment(tc(c.body,Z,q),q),ae="\\x"===c.label.slice(0,2)?"x":"cd";re.classes.push(ae+"-arrow-pad"),c.below&&(Z=q.havingStyle(V.sub()),(Y=Cl.wrapFragment(tc(c.below,Z,q),q)).classes.push(ae+"-arrow-pad"));var se,oe=Sc.svgSpan(c,q),he=-q.fontMetrics().axisHeight+.5*oe.height,de=-q.fontMetrics().axisHeight-.5*oe.height-.111;if((re.depth>.25||"\\xleftequilibrium"===c.label)&&(de-=re.depth),Y){var pe=-q.fontMetrics().axisHeight+Y.height+.5*oe.height+.111;se=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:re,shift:de},{type:"elem",elem:oe,shift:he},{type:"elem",elem:Y,shift:pe}]},q)}else se=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:re,shift:de},{type:"elem",elem:oe,shift:he}]},q);return se.children[0].children[0].children[1].classes.push("svg-align"),Cl.makeSpan(["mrel","x-arrow"],[se],q)},mathmlBuilder(c,q){var Y,V=Sc.mathMLnode(c.label);if(V.setAttribute("minsize","x"===c.label.charAt(0)?"1.75em":"3.0em"),c.body){var Z=Ic(pc(c.body,q));if(c.below){var re=Ic(pc(c.below,q));Y=new oc.MathNode("munderover",[V,re,Z])}else Y=new oc.MathNode("mover",[V,Z])}else if(c.below){var ae=Ic(pc(c.below,q));Y=new oc.MathNode("munder",[V,ae])}else Y=Ic(),Y=new oc.MathNode("mover",[V,Y]);return Y}}),Mc=Cl.makeSpan,o(JG,"htmlBuilder$9"),o(e$,"mathmlBuilder$8"),Ct({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(c,q){var{parser:Y,funcName:V}=c,Z=q[0];return{type:"mclass",mode:Y.mode,mclass:"m"+V.slice(5),body:$l(Z),isCharacterBox:Za.isCharacterBox(Z)}},htmlBuilder:JG,mathmlBuilder:e$}),Rc=o(c=>{var q="ordgroup"===c.type&&c.body.length?c.body[0]:c;return"atom"!==q.type||"bin"!==q.family&&"rel"!==q.family?"mord":"m"+q.family},"binrelClass"),Ct({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(c,q){var{parser:Y}=c;return{type:"mclass",mode:Y.mode,mclass:Rc(q[0]),body:$l(q[1]),isCharacterBox:Za.isCharacterBox(q[1])}}}),Ct({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(c,q){var Y,{parser:V,funcName:Z}=c,re=q[1],ae=q[0];Y="\\stackrel"!==Z?Rc(re):"mrel";var se={type:"op",mode:re.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==Z,body:$l(re)},oe={type:"supsub",mode:ae.mode,base:se,sup:"\\underset"===Z?null:ae,sub:"\\underset"===Z?ae:null};return{type:"mclass",mode:V.mode,mclass:Y,body:[oe],isCharacterBox:Za.isCharacterBox(oe)}},htmlBuilder:JG,mathmlBuilder:e$}),Ct({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(c,q){var{parser:Y}=c;return{type:"pmb",mode:Y.mode,mclass:Rc(q[0]),body:$l(q[0])}},htmlBuilder(c,q){var Y=Hl(c.body,q,!0),V=Cl.makeSpan([c.mclass],Y,q);return V.style.textShadow="0.02em 0.01em 0.04px",V},mathmlBuilder(c,q){var Y=uc(c.body,q),V=new oc.MathNode("mstyle",Y);return V.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),V}}),Oc={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Pc=o(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),Bc=o(c=>"textord"===c.type&&"@"===c.text,"isStartOfArrow"),Fc=o((c,q)=>("mathord"===c.type||"atom"===c.type)&&c.text===q,"isLabelEnd"),o(B4e,"cdArrow"),o(F4e,"parseCD"),Ct({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(c,q){var{parser:Y,funcName:V}=c;return{type:"cdlabel",mode:Y.mode,side:V.slice(4),label:q[0]}},htmlBuilder(c,q){var Y=q.havingStyle(q.style.sup()),V=Cl.wrapFragment(tc(c.label,Y,q),q);return V.classes.push("cd-label-"+c.side),V.style.bottom=zs(.8-V.depth),V.height=0,V.depth=0,V},mathmlBuilder(c,q){var Y=new oc.MathNode("mrow",[pc(c.label,q)]);return(Y=new oc.MathNode("mpadded",[Y])).setAttribute("width","0"),"left"===c.side&&Y.setAttribute("lspace","-1width"),Y.setAttribute("voffset","0.7em"),(Y=new oc.MathNode("mstyle",[Y])).setAttribute("displaystyle","false"),Y.setAttribute("scriptlevel","1"),Y}}),Ct({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(c,q){var{parser:Y}=c;return{type:"cdlabelparent",mode:Y.mode,fragment:q[0]}},htmlBuilder(c,q){var Y=Cl.wrapFragment(tc(c.fragment,q),q);return Y.classes.push("cd-vert-arrow"),Y},mathmlBuilder:(c,q)=>new oc.MathNode("mrow",[pc(c.fragment,q)])}),Ct({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(c,q){for(var{parser:Y}=c,V=yr(q[0],"ordgroup").body,Z="",re=0;re<V.length;re++){Z+=yr(V[re],"textord").text}var ae,se=parseInt(Z);if(isNaN(se))throw new $a("\\@char has non-numeric argument "+Z);if(se<0||se>=1114111)throw new $a("\\@char with invalid code point "+Z);return se<=65535?ae=String.fromCharCode(se):(se-=65536,ae=String.fromCharCode(55296+(se>>10),56320+(1023&se))),{type:"textord",mode:Y.mode,text:ae}}}),$c=o((c,q)=>{var Y=Hl(c.body,q.withColor(c.color),!1);return Cl.makeFragment(Y)},"htmlBuilder$8"),Gc=o((c,q)=>{var Y=uc(c.body,q.withColor(c.color)),V=new oc.MathNode("mstyle",Y);return V.setAttribute("mathcolor",c.color),V},"mathmlBuilder$7"),Ct({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(c,q){var{parser:Y}=c,V=yr(q[0],"color-token").color,Z=q[1];return{type:"color",mode:Y.mode,color:V,body:$l(Z)}},htmlBuilder:$c,mathmlBuilder:Gc}),Ct({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(c,q){var{parser:Y,breakOnTokenText:V}=c,Z=yr(q[0],"color-token").color;Y.gullet.macros.set("\\current@color",Z);var re=Y.parseExpression(!0,V);return{type:"color",mode:Y.mode,color:Z,body:re}},htmlBuilder:$c,mathmlBuilder:Gc}),Ct({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(c,q,Y){var{parser:V}=c,Z="["===V.gullet.future().text?V.parseSizeGroup(!0):null,re=!V.settings.displayMode||!V.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:V.mode,newLine:re,size:Z&&yr(Z,"size").value}},htmlBuilder(c,q){var Y=Cl.makeSpan(["mspace"],[],q);return c.newLine&&(Y.classes.push("newline"),c.size&&(Y.style.marginTop=zs($s(c.size,q)))),Y},mathmlBuilder(c,q){var Y=new oc.MathNode("mspace");return c.newLine&&(Y.setAttribute("linebreak","newline"),c.size&&Y.setAttribute("height",zs($s(c.size,q)))),Y}}),Uc={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},qc=o(c=>{var q=c.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(q))throw new $a("Expected a control sequence",c);return q},"checkControlSequence"),jc=o(c=>{var q=c.gullet.popToken();return"="===q.text&&(" "===(q=c.gullet.popToken()).text&&(q=c.gullet.popToken())),q},"getRHS"),Yc=o((c,q,Y,V)=>{var Z=c.gullet.macros.get(Y.text);null==Z&&(Y.noexpand=!0,Z={tokens:[Y],numArgs:0,unexpandable:!c.gullet.isExpandable(Y.text)}),c.gullet.macros.set(q,Z,V)},"letCommand"),Ct({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(c){var{parser:q,funcName:Y}=c;q.consumeSpaces();var V=q.fetch();if(Uc[V.text])return("\\global"===Y||"\\\\globallong"===Y)&&(V.text=Uc[V.text]),yr(q.parseFunction(),"internal");throw new $a("Invalid token after macro prefix",V)}}),Ct({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(c){var{parser:q,funcName:Y}=c,V=q.gullet.popToken(),Z=V.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(Z))throw new $a("Expected a control sequence",V);for(var re,ae=0,se=[[]];"{"!==q.gullet.future().text;)if("#"===(V=q.gullet.popToken()).text){if("{"===q.gullet.future().text){re=q.gullet.future(),se[ae].push("{");break}if(V=q.gullet.popToken(),!/^[1-9]$/.test(V.text))throw new $a('Invalid argument number "'+V.text+'"');if(parseInt(V.text)!==ae+1)throw new $a('Argument number "'+V.text+'" out of order');ae++,se.push([])}else{if("EOF"===V.text)throw new $a("Expected a macro definition");se[ae].push(V.text)}var{tokens:oe}=q.gullet.consumeArg();return re&&oe.unshift(re),("\\edef"===Y||"\\xdef"===Y)&&(oe=q.gullet.expandTokens(oe)).reverse(),q.gullet.macros.set(Z,{tokens:oe,numArgs:ae,delimiters:se},Y===Uc[Y]),{type:"internal",mode:q.mode}}}),Ct({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(c){var{parser:q,funcName:Y}=c,V=qc(q.gullet.popToken());q.gullet.consumeSpaces();var Z=jc(q);return Yc(q,V,Z,"\\\\globallet"===Y),{type:"internal",mode:q.mode}}}),Ct({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(c){var{parser:q,funcName:Y}=c,V=qc(q.gullet.popToken()),Z=q.gullet.popToken(),re=q.gullet.popToken();return Yc(q,V,re,"\\\\globalfuture"===Y),q.gullet.pushToken(re),q.gullet.pushToken(Z),{type:"internal",mode:q.mode}}}),Wc=o(function(c,q,Y){var V=RC(so.math[c]&&so.math[c].replace||c,q,Y);if(!V)throw new Error("Unsupported symbol "+c+" and font size "+q+".");return V},"getMetrics"),Hc=o(function(c,q,Y,V){var Z=Y.havingBaseStyle(q),re=Cl.makeSpan(V.concat(Z.sizingClasses(Y)),[c],Y),ae=Z.sizeMultiplier/Y.sizeMultiplier;return re.height*=ae,re.depth*=ae,re.maxFontSize=Z.sizeMultiplier,re},"styleWrap"),Vc=o(function(c,q,Y){var V=q.havingBaseStyle(Y),Z=(1-q.sizeMultiplier/V.sizeMultiplier)*q.fontMetrics().axisHeight;c.classes.push("delimcenter"),c.style.top=zs(Z),c.height-=Z,c.depth+=Z},"centerSpan"),Xc=o(function(c,q,Y,V,Z,re){var ae=Cl.makeSymbol(c,"Main-Regular",Z,V),se=Hc(ae,q,V,re);return Y&&Vc(se,V,q),se},"makeSmallDelim"),Kc=o(function(c,q,Y,V){return Cl.makeSymbol(c,"Size"+q+"-Regular",Y,V)},"mathrmSize"),Qc=o(function(c,q,Y,V,Z,re){var ae=Kc(c,q,Z,V),se=Hc(Cl.makeSpan(["delimsizing","size"+q],[ae],V),cs.TEXT,V,re);return Y&&Vc(se,V,cs.TEXT),se},"makeLargeDelim"),Zc=o(function(c,q,Y){var V;return V="Size1-Regular"===q?"delim-size1":"delim-size4",{type:"elem",elem:Cl.makeSpan(["delimsizinginner",V],[Cl.makeSpan([],[Cl.makeSymbol(c,q,Y)])])}},"makeGlyphSpan"),Jc=o(function(c,q,Y){var V=Cs["Size4-Regular"][c.charCodeAt(0)]?Cs["Size4-Regular"][c.charCodeAt(0)][4]:Cs["Size1-Regular"][c.charCodeAt(0)][4],Z=new to("inner",ks(c,Math.round(1e3*q))),re=new Zs([Z],{width:zs(V),height:zs(q),style:"width:"+zs(V),viewBox:"0 0 "+1e3*V+" "+Math.round(1e3*q),preserveAspectRatio:"xMinYMin"}),ae=Cl.makeSvgSpan([],[re],Y);return ae.height=q,ae.style.height=zs(q),ae.style.width=zs(V),{type:"elem",elem:ae}},"makeInner"),th={type:"kern",size:-1*(eh=.008)},rh=["|","\\lvert","\\rvert","\\vert"],nh=["\\|","\\lVert","\\rVert","\\Vert"],ih=o(function(c,q,Y,V,Z,re){var ae,se,oe,he,de="",pe=0;ae=oe=he=c,se=null;var ge="Size1-Regular";"\\uparrow"===c?oe=he="⏐":"\\Uparrow"===c?oe=he="‖":"\\downarrow"===c?ae=oe="⏐":"\\Downarrow"===c?ae=oe="‖":"\\updownarrow"===c?(ae="\\uparrow",oe="⏐",he="\\downarrow"):"\\Updownarrow"===c?(ae="\\Uparrow",oe="‖",he="\\Downarrow"):Za.contains(rh,c)?(oe="∣",de="vert",pe=333):Za.contains(nh,c)?(oe="∥",de="doublevert",pe=556):"["===c||"\\lbrack"===c?(ae="⎡",oe="⎢",he="⎣",ge="Size4-Regular",de="lbrack",pe=667):"]"===c||"\\rbrack"===c?(ae="⎤",oe="⎥",he="⎦",ge="Size4-Regular",de="rbrack",pe=667):"\\lfloor"===c||"⌊"===c?(oe=ae="⎢",he="⎣",ge="Size4-Regular",de="lfloor",pe=667):"\\lceil"===c||"⌈"===c?(ae="⎡",oe=he="⎢",ge="Size4-Regular",de="lceil",pe=667):"\\rfloor"===c||"⌋"===c?(oe=ae="⎥",he="⎦",ge="Size4-Regular",de="rfloor",pe=667):"\\rceil"===c||"⌉"===c?(ae="⎤",oe=he="⎥",ge="Size4-Regular",de="rceil",pe=667):"("===c||"\\lparen"===c?(ae="⎛",oe="⎜",he="⎝",ge="Size4-Regular",de="lparen",pe=875):")"===c||"\\rparen"===c?(ae="⎞",oe="⎟",he="⎠",ge="Size4-Regular",de="rparen",pe=875):"\\{"===c||"\\lbrace"===c?(ae="⎧",se="⎨",he="⎩",oe="⎪",ge="Size4-Regular"):"\\}"===c||"\\rbrace"===c?(ae="⎫",se="⎬",he="⎭",oe="⎪",ge="Size4-Regular"):"\\lgroup"===c||"⟮"===c?(ae="⎧",he="⎩",oe="⎪",ge="Size4-Regular"):"\\rgroup"===c||"⟯"===c?(ae="⎫",he="⎭",oe="⎪",ge="Size4-Regular"):"\\lmoustache"===c||"⎰"===c?(ae="⎧",he="⎭",oe="⎪",ge="Size4-Regular"):("\\rmoustache"===c||"⎱"===c)&&(ae="⎫",he="⎩",oe="⎪",ge="Size4-Regular");var me=Wc(ae,ge,Z),ve=me.height+me.depth,be=Wc(oe,ge,Z),we=be.height+be.depth,Te=Wc(he,ge,Z),_e=Te.height+Te.depth,Ee=0,Ce=1;if(null!==se){var Se=Wc(se,ge,Z);Ee=Se.height+Se.depth,Ce=2}var Ae=ve+_e+Ee,Le=Ae+Math.max(0,Math.ceil((q-Ae)/(Ce*we)))*Ce*we,Ne=V.fontMetrics().axisHeight;Y&&(Ne*=V.sizeMultiplier);var Ie=Le/2-Ne,Me=[];if(de.length>0){var Re=Le-ve-_e,Oe=Math.round(1e3*Le),Be=_s(de,Math.round(1e3*Re)),$e=new to(de,Be),Ue=(pe/1e3).toFixed(3)+"em",qe=(Oe/1e3).toFixed(3)+"em",je=new Zs([$e],{width:Ue,height:qe,viewBox:"0 0 "+pe+" "+Oe}),We=Cl.makeSvgSpan([],[je],V);We.height=Oe/1e3,We.style.width=Ue,We.style.height=qe,Me.push({type:"elem",elem:We})}else{if(Me.push(Zc(he,ge,Z)),Me.push(th),null===se){var He=Le-ve-_e+2*eh;Me.push(Jc(oe,He,V))}else{var Ve=(Le-ve-_e-Ee)/2+2*eh;Me.push(Jc(oe,Ve,V)),Me.push(th),Me.push(Zc(se,ge,Z)),Me.push(th),Me.push(Jc(oe,Ve,V))}Me.push(th),Me.push(Zc(ae,ge,Z))}var Ke=V.havingBaseStyle(cs.TEXT),Qe=Cl.makeVList({positionType:"bottom",positionData:Ie,children:Me},Ke);return Hc(Cl.makeSpan(["delimsizing","mult"],[Qe],Ke),cs.TEXT,V,re)},"makeStackedDelim"),ah=.08,sh=o(function(c,q,Y,V,Z){var re=bs(c,V,Y),ae=new to(c,re),se=new Zs([ae],{width:"400em",height:zs(q),viewBox:"0 0 400000 "+Y,preserveAspectRatio:"xMinYMin slice"});return Cl.makeSvgSpan(["hide-tail"],[se],Z)},"sqrtSvg"),oh=o(function(c,q){var Y,V,Z=q.havingBaseSizing(),re=Eh("\\surd",c*Z.sizeMultiplier,Th,Z),ae=Z.sizeMultiplier,se=Math.max(0,q.minRuleThickness-q.fontMetrics().sqrtRuleThickness),oe=0,he=0,de=0;return"small"===re.type?(c<1?ae=1:c<1.4&&(ae=.7),he=(1+se)/ae,(Y=sh("sqrtMain",oe=(1+se+ah)/ae,de=1e3+1e3*se+80,se,q)).style.minWidth="0.853em",V=.833/ae):"large"===re.type?(de=1080*dh[re.size],he=(dh[re.size]+se)/ae,oe=(dh[re.size]+se+ah)/ae,(Y=sh("sqrtSize"+re.size,oe,de,se,q)).style.minWidth="1.02em",V=1/ae):(oe=c+se+ah,he=c+se,de=Math.floor(1e3*c+se)+80,(Y=sh("sqrtTall",oe,de,se,q)).style.minWidth="0.742em",V=1.056),Y.height=he,Y.style.height=zs(oe),{span:Y,advanceWidth:V,ruleWidth:(q.fontMetrics().sqrtRuleThickness+se)*ae}},"makeSqrtImage"),lh=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],ch=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],hh=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],dh=[0,1.2,1.8,2.4,3],ph=o(function(c,q,Y,V,Z){if("<"===c||"\\lt"===c||"⟨"===c?c="\\langle":(">"===c||"\\gt"===c||"⟩"===c)&&(c="\\rangle"),Za.contains(lh,c)||Za.contains(hh,c))return Qc(c,q,!1,Y,V,Z);if(Za.contains(ch,c))return ih(c,dh[q],!1,Y,V,Z);throw new $a("Illegal delimiter: '"+c+"'")},"makeSizedDelim"),fh=[{type:"small",style:cs.SCRIPTSCRIPT},{type:"small",style:cs.SCRIPT},{type:"small",style:cs.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],kh=[{type:"small",style:cs.SCRIPTSCRIPT},{type:"small",style:cs.SCRIPT},{type:"small",style:cs.TEXT},{type:"stack"}],Th=[{type:"small",style:cs.SCRIPTSCRIPT},{type:"small",style:cs.SCRIPT},{type:"small",style:cs.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],_h=o(function(c){if("small"===c.type)return"Main-Regular";if("large"===c.type)return"Size"+c.size+"-Regular";if("stack"===c.type)return"Size4-Regular";throw new Error("Add support for delim type '"+c.type+"' here.")},"delimTypeToFont"),Eh=o(function(c,q,Y,V){for(var Z=Math.min(2,3-V.style.size);Z<Y.length&&"stack"!==Y[Z].type;Z++){var re=Wc(c,_h(Y[Z]),"math"),ae=re.height+re.depth;if("small"===Y[Z].type)ae*=V.havingBaseStyle(Y[Z].style).sizeMultiplier;if(ae>q)return Y[Z]}return Y[Y.length-1]},"traverseSequence"),Ch=o(function(c,q,Y,V,Z,re){var ae;"<"===c||"\\lt"===c||"⟨"===c?c="\\langle":(">"===c||"\\gt"===c||"⟩"===c)&&(c="\\rangle"),ae=Za.contains(hh,c)?fh:Za.contains(lh,c)?Th:kh;var se=Eh(c,q,ae,V);return"small"===se.type?Xc(c,se.style,Y,V,Z,re):"large"===se.type?Qc(c,se.size,Y,V,Z,re):ih(c,q,Y,V,Z,re)},"makeCustomSizedDelim"),Ah=o(function(c,q,Y,V,Z,re){var ae=V.fontMetrics().axisHeight*V.sizeMultiplier,se=5/V.fontMetrics().ptPerEm,oe=Math.max(q-ae,Y+ae),he=Math.max(oe/500*901,2*oe-se);return Ch(c,he,!0,V,Z,re)},"makeLeftRightDelim"),Lh={sqrtImage:oh,sizedDelim:ph,sizeToMaxHeight:dh,customSizedDelim:Ch,leftRightDelim:Ah},Nh={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ih=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],o(w4,"checkDelimiter"),Ct({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:o((c,q)=>{var Y=w4(q[0],c);return{type:"delimsizing",mode:c.parser.mode,size:Nh[c.funcName].size,mclass:Nh[c.funcName].mclass,delim:Y.text}},"handler"),htmlBuilder:o((c,q)=>"."===c.delim?Cl.makeSpan([c.mclass]):Lh.sizedDelim(c.delim,c.size,q,c.mode,[c.mclass]),"htmlBuilder"),mathmlBuilder:o(c=>{var q=[];"."!==c.delim&&q.push(lc(c.delim,c.mode));var Y=new oc.MathNode("mo",q);"mopen"===c.mclass||"mclose"===c.mclass?Y.setAttribute("fence","true"):Y.setAttribute("fence","false"),Y.setAttribute("stretchy","true");var V=zs(Lh.sizeToMaxHeight[c.size]);return Y.setAttribute("minsize",V),Y.setAttribute("maxsize",V),Y},"mathmlBuilder")}),o(vG,"assertParsed"),Ct({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:o((c,q)=>{var Y=c.parser.gullet.macros.get("\\current@color");if(Y&&"string"!=typeof Y)throw new $a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:c.parser.mode,delim:w4(q[0],c).text,color:Y}},"handler")}),Ct({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:o((c,q)=>{var Y=w4(q[0],c),V=c.parser;++V.leftrightDepth;var Z=V.parseExpression(!1);--V.leftrightDepth,V.expect("\\right",!1);var re=yr(V.parseFunction(),"leftright-right");return{type:"leftright",mode:V.mode,body:Z,left:Y.text,right:re.delim,rightColor:re.color}},"handler"),htmlBuilder:o((c,q)=>{vG(c);for(var Y=Hl(c.body,q,!0,["mopen","mclose"]),V=0,Z=0,re=!1,ae=0;ae<Y.length;ae++)Y[ae].isMiddle?re=!0:(V=Math.max(Y[ae].height,V),Z=Math.max(Y[ae].depth,Z));var se,oe;if(V*=q.sizeMultiplier,Z*=q.sizeMultiplier,se="."===c.left?Jl(q,["mopen"]):Lh.leftRightDelim(c.left,V,Z,q,c.mode,["mopen"]),Y.unshift(se),re)for(var he=1;he<Y.length;he++){var de=Y[he].isMiddle;de&&(Y[he]=Lh.leftRightDelim(de.delim,V,Z,de.options,c.mode,[]))}if("."===c.right)oe=Jl(q,["mclose"]);else{var pe=c.rightColor?q.withColor(c.rightColor):q;oe=Lh.leftRightDelim(c.right,V,Z,pe,c.mode,["mclose"])}return Y.push(oe),Cl.makeSpan(["minner"],Y,q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{vG(c);var Y=uc(c.body,q);if("."!==c.left){var V=new oc.MathNode("mo",[lc(c.left,c.mode)]);V.setAttribute("fence","true"),Y.unshift(V)}if("."!==c.right){var Z=new oc.MathNode("mo",[lc(c.right,c.mode)]);Z.setAttribute("fence","true"),c.rightColor&&Z.setAttribute("mathcolor",c.rightColor),Y.push(Z)}return cc(Y)},"mathmlBuilder")}),Ct({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:o((c,q)=>{var Y=w4(q[0],c);if(!c.parser.leftrightDepth)throw new $a("\\middle without preceding \\left",Y);return{type:"middle",mode:c.parser.mode,delim:Y.text}},"handler"),htmlBuilder:o((c,q)=>{var Y;if("."===c.delim)Y=Jl(q,[]);else{Y=Lh.sizedDelim(c.delim,1,q,c.mode,[]);var V={delim:c.delim,options:q};Y.isMiddle=V}return Y},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y="\\vert"===c.delim||"|"===c.delim?lc("|","text"):lc(c.delim,c.mode),V=new oc.MathNode("mo",[Y]);return V.setAttribute("fence","true"),V.setAttribute("lspace","0.05em"),V.setAttribute("rspace","0.05em"),V},"mathmlBuilder")}),Mh=o((c,q)=>{var Y,V,Z=Cl.wrapFragment(tc(c.body,q),q),re=c.label.slice(1),ae=q.sizeMultiplier,se=0,oe=Za.isCharacterBox(c.body);if("sout"===re)(Y=Cl.makeSpan(["stretchy","sout"])).height=q.fontMetrics().defaultRuleThickness/ae,se=-.5*q.fontMetrics().xHeight;else if("phase"===re){var he=$s({number:.6,unit:"pt"},q),de=$s({number:.35,unit:"ex"},q);ae/=q.havingBaseSizing().sizeMultiplier;var pe=Z.height+Z.depth+he+de;Z.style.paddingLeft=zs(pe/2+he);var ge=Math.floor(1e3*pe*ae),me=vs(ge),ve=new Zs([new to("phase",me)],{width:"400em",height:zs(ge/1e3),viewBox:"0 0 400000 "+ge,preserveAspectRatio:"xMinYMin slice"});(Y=Cl.makeSvgSpan(["hide-tail"],[ve],q)).style.height=zs(pe),se=Z.depth+he+de}else{/cancel/.test(re)?oe||Z.classes.push("cancel-pad"):"angl"===re?Z.classes.push("anglpad"):Z.classes.push("boxpad");var be=0,we=0,Te=0;/box/.test(re)?(Te=Math.max(q.fontMetrics().fboxrule,q.minRuleThickness),we=be=q.fontMetrics().fboxsep+("colorbox"===re?0:Te)):"angl"===re?(be=4*(Te=Math.max(q.fontMetrics().defaultRuleThickness,q.minRuleThickness)),we=Math.max(0,.25-Z.depth)):we=be=oe?.2:0,Y=Sc.encloseSpan(Z,re,be,we,q),/fbox|boxed|fcolorbox/.test(re)?(Y.style.borderStyle="solid",Y.style.borderWidth=zs(Te)):"angl"===re&&.049!==Te&&(Y.style.borderTopWidth=zs(Te),Y.style.borderRightWidth=zs(Te)),se=Z.depth+we,c.backgroundColor&&(Y.style.backgroundColor=c.backgroundColor,c.borderColor&&(Y.style.borderColor=c.borderColor))}if(c.backgroundColor)V=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Y,shift:se},{type:"elem",elem:Z,shift:0}]},q);else{var _e=/cancel|phase/.test(re)?["svg-align"]:[];V=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Z,shift:0},{type:"elem",elem:Y,shift:se,wrapperClasses:_e}]},q)}return/cancel/.test(re)&&(V.height=Z.height,V.depth=Z.depth),/cancel/.test(re)&&!oe?Cl.makeSpan(["mord","cancel-lap"],[V],q):Cl.makeSpan(["mord"],[V],q)},"htmlBuilder$7"),Rh=o((c,q)=>{var Y=0,V=new oc.MathNode(c.label.indexOf("colorbox")>-1?"mpadded":"menclose",[pc(c.body,q)]);switch(c.label){case"\\cancel":V.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":V.setAttribute("notation","downdiagonalstrike");break;case"\\phase":V.setAttribute("notation","phasorangle");break;case"\\sout":V.setAttribute("notation","horizontalstrike");break;case"\\fbox":V.setAttribute("notation","box");break;case"\\angl":V.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(Y=q.fontMetrics().fboxsep*q.fontMetrics().ptPerEm,V.setAttribute("width","+"+2*Y+"pt"),V.setAttribute("height","+"+2*Y+"pt"),V.setAttribute("lspace",Y+"pt"),V.setAttribute("voffset",Y+"pt"),"\\fcolorbox"===c.label){var Z=Math.max(q.fontMetrics().fboxrule,q.minRuleThickness);V.setAttribute("style","border: "+Z+"em solid "+String(c.borderColor))}break;case"\\xcancel":V.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return c.backgroundColor&&V.setAttribute("mathbackground",c.backgroundColor),V},"mathmlBuilder$6"),Ct({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(c,q,Y){var{parser:V,funcName:Z}=c,re=yr(q[0],"color-token").color,ae=q[1];return{type:"enclose",mode:V.mode,label:Z,backgroundColor:re,body:ae}},htmlBuilder:Mh,mathmlBuilder:Rh}),Ct({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(c,q,Y){var{parser:V,funcName:Z}=c,re=yr(q[0],"color-token").color,ae=yr(q[1],"color-token").color,se=q[2];return{type:"enclose",mode:V.mode,label:Z,backgroundColor:ae,borderColor:re,body:se}},htmlBuilder:Mh,mathmlBuilder:Rh}),Ct({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(c,q){var{parser:Y}=c;return{type:"enclose",mode:Y.mode,label:"\\fbox",body:q[0]}}}),Ct({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(c,q){var{parser:Y,funcName:V}=c,Z=q[0];return{type:"enclose",mode:Y.mode,label:V,body:Z}},htmlBuilder:Mh,mathmlBuilder:Rh}),Ct({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(c,q){var{parser:Y}=c;return{type:"enclose",mode:Y.mode,label:"\\angl",body:q[0]}}}),Dh={},o(ec,"defineEnvironment"),Oh={},o(le,"defineMacro"),o(xG,"getHLines"),$h=o(c=>{if(!c.parser.settings.displayMode)throw new $a("{"+c.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext"),o($C,"getAutoTag"),o(uh,"parseArray"),o(VC,"dCellStyle"),zh=o(function(c,q){var Y,V,Z=c.body.length,re=c.hLinesBeforeRow,ae=0,se=new Array(Z),oe=[],he=Math.max(q.fontMetrics().arrayRuleWidth,q.minRuleThickness),de=1/q.fontMetrics().ptPerEm,pe=5*de;c.colSeparationType&&"small"===c.colSeparationType&&(pe=q.havingStyle(cs.SCRIPT).sizeMultiplier/q.sizeMultiplier*.2778);var ge="CD"===c.colSeparationType?$s({number:3,unit:"ex"},q):12*de,me=3*de,ve=c.arraystretch*ge,be=.7*ve,we=.3*ve,Te=0;function _(c){for(var q=0;q<c.length;++q)q>0&&(Te+=.25),oe.push({pos:Te,isDashed:c[q]})}for(o(_,"setHLinePos"),_(re[0]),Y=0;Y<c.body.length;++Y){var _e=c.body[Y],Ee=be,Ce=we;ae<_e.length&&(ae=_e.length);var Se=new Array(_e.length);for(V=0;V<_e.length;++V){var Ae=tc(_e[V],q);Ce<Ae.depth&&(Ce=Ae.depth),Ee<Ae.height&&(Ee=Ae.height),Se[V]=Ae}var Le=c.rowGaps[Y],Ne=0;Le&&((Ne=$s(Le,q))>0&&(Ce<(Ne+=we)&&(Ce=Ne),Ne=0)),c.addJot&&(Ce+=me),Se.height=Ee,Se.depth=Ce,Te+=Ee,Se.pos=Te,Te+=Ce+Ne,se[Y]=Se,_(re[Y+1])}var Ie,Me,Re=Te/2+q.fontMetrics().axisHeight,Oe=c.cols||[],Be=[],$e=[];if(c.tags&&c.tags.some(c=>c))for(Y=0;Y<Z;++Y){var Ue=se[Y],qe=Ue.pos-Re,je=c.tags[Y],We=void 0;(We=!0===je?Cl.makeSpan(["eqn-num"],[],q):!1===je?Cl.makeSpan([],[],q):Cl.makeSpan([],Hl(je,q,!0),q)).depth=Ue.depth,We.height=Ue.height,$e.push({type:"elem",elem:We,shift:qe})}for(V=0,Me=0;V<ae||Me<Oe.length;++V,++Me){for(var He=Oe[Me]||{},Ve=!0;"separator"===He.type;){if(Ve||((Ie=Cl.makeSpan(["arraycolsep"],[])).style.width=zs(q.fontMetrics().doubleRuleSep),Be.push(Ie)),"|"!==He.separator&&":"!==He.separator)throw new $a("Invalid separator type: "+He.separator);var Ke="|"===He.separator?"solid":"dashed",Qe=Cl.makeSpan(["vertical-separator"],[],q);Qe.style.height=zs(Te),Qe.style.borderRightWidth=zs(he),Qe.style.borderRightStyle=Ke,Qe.style.margin="0 "+zs(-he/2);var Ze=Te-Re;Ze&&(Qe.style.verticalAlign=zs(-Ze)),Be.push(Qe),He=Oe[++Me]||{},Ve=!1}if(!(V>=ae)){var Je=void 0;(V>0||c.hskipBeforeAndAfter)&&(0!==(Je=Za.deflt(He.pregap,pe))&&((Ie=Cl.makeSpan(["arraycolsep"],[])).style.width=zs(Je),Be.push(Ie)));var et=[];for(Y=0;Y<Z;++Y){var tt=se[Y],rt=tt[V];if(rt){var nt=tt.pos-Re;rt.depth=tt.depth,rt.height=tt.height,et.push({type:"elem",elem:rt,shift:nt})}}et=Cl.makeVList({positionType:"individualShift",children:et},q),et=Cl.makeSpan(["col-align-"+(He.align||"c")],[et]),Be.push(et),(V<ae-1||c.hskipBeforeAndAfter)&&(0!==(Je=Za.deflt(He.postgap,pe))&&((Ie=Cl.makeSpan(["arraycolsep"],[])).style.width=zs(Je),Be.push(Ie)))}}if(se=Cl.makeSpan(["mtable"],Be),oe.length>0){for(var it=Cl.makeLineSpan("hline",q,he),at=Cl.makeLineSpan("hdashline",q,he),st=[{type:"elem",elem:se,shift:0}];oe.length>0;){var ot=oe.pop(),lt=ot.pos-Re;ot.isDashed?st.push({type:"elem",elem:at,shift:lt}):st.push({type:"elem",elem:it,shift:lt})}se=Cl.makeVList({positionType:"individualShift",children:st},q)}if(0===$e.length)return Cl.makeSpan(["mord"],[se],q);var ht=Cl.makeVList({positionType:"individualShift",children:$e},q);return ht=Cl.makeSpan(["tag"],[ht],q),Cl.makeFragment([se,ht])},"htmlBuilder"),Uh={c:"center ",l:"left ",r:"right "},qh=o(function(c,q){for(var Y=[],V=new oc.MathNode("mtd",[],["mtr-glue"]),Z=new oc.MathNode("mtd",[],["mml-eqn-num"]),re=0;re<c.body.length;re++){for(var ae=c.body[re],se=[],oe=0;oe<ae.length;oe++)se.push(new oc.MathNode("mtd",[pc(ae[oe],q)]));c.tags&&c.tags[re]&&(se.unshift(V),se.push(V),c.leqno?se.unshift(Z):se.push(Z)),Y.push(new oc.MathNode("mtr",se))}var he=new oc.MathNode("mtable",Y),de=.5===c.arraystretch?.1:.16+c.arraystretch-1+(c.addJot?.09:0);he.setAttribute("rowspacing",zs(de));var pe="",ge="";if(c.cols&&c.cols.length>0){var me=c.cols,ve="",be=!1,we=0,Te=me.length;"separator"===me[0].type&&(pe+="top ",we=1),"separator"===me[me.length-1].type&&(pe+="bottom ",Te-=1);for(var _e=we;_e<Te;_e++)"align"===me[_e].type?(ge+=Uh[me[_e].align],be&&(ve+="none "),be=!0):"separator"===me[_e].type&&be&&(ve+="|"===me[_e].separator?"solid ":"dashed ",be=!1);he.setAttribute("columnalign",ge.trim()),/[sd]/.test(ve)&&he.setAttribute("columnlines",ve.trim())}if("align"===c.colSeparationType){for(var Ee=c.cols||[],Ce="",Se=1;Se<Ee.length;Se++)Ce+=Se%2?"0em ":"1em ";he.setAttribute("columnspacing",Ce.trim())}else"alignat"===c.colSeparationType||"gather"===c.colSeparationType?he.setAttribute("columnspacing","0em"):"small"===c.colSeparationType?he.setAttribute("columnspacing","0.2778em"):"CD"===c.colSeparationType?he.setAttribute("columnspacing","0.5em"):he.setAttribute("columnspacing","1em");var Ae="",Le=c.hLinesBeforeRow;pe+=Le[0].length>0?"left ":"",pe+=Le[Le.length-1].length>0?"right ":"";for(var Ne=1;Ne<Le.length-1;Ne++)Ae+=0===Le[Ne].length?"none ":Le[Ne][0]?"dashed ":"solid ";return/[sd]/.test(Ae)&&he.setAttribute("rowlines",Ae.trim()),""!==pe&&(he=new oc.MathNode("menclose",[he])).setAttribute("notation",pe.trim()),c.arraystretch&&c.arraystretch<1&&(he=new oc.MathNode("mstyle",[he])).setAttribute("scriptlevel","1"),he},"mathmlBuilder"),jh=o(function(c,q){-1===c.envName.indexOf("ed")&&$h(c);var Y,V=[],Z=c.envName.indexOf("at")>-1?"alignat":"align",re="split"===c.envName,ae=uh(c.parser,{cols:V,addJot:!0,autoTag:re?void 0:$C(c.envName),emptySingleRow:!0,colSeparationType:Z,maxNumCols:re?2:void 0,leqno:c.parser.settings.leqno},"display"),se=0,oe={type:"ordgroup",mode:c.mode,body:[]};if(q[0]&&"ordgroup"===q[0].type){for(var he="",de=0;de<q[0].body.length;de++){he+=yr(q[0].body[de],"textord").text}Y=Number(he),se=2*Y}var pe=!se;ae.body.forEach(function(c){for(var q=1;q<c.length;q+=2){var V=yr(c[q],"styling");yr(V.body[0],"ordgroup").body.unshift(oe)}if(pe)se<c.length&&(se=c.length);else{var Z=c.length/2;if(Y<Z)throw new $a("Too many math in a row: expected "+Y+", but got "+Z,c[0])}});for(var ge=0;ge<se;++ge){var me="r",ve=0;ge%2==1?me="l":ge>0&&pe&&(ve=1),V[ge]={type:"align",align:me,pregap:ve,postgap:0}}return ae.colSeparationType=pe?"align":"alignat",ae},"alignedHandler"),ec({type:"array",names:["array","darray"],props:{numArgs:1},handler(c,q){var Y=(x4(q[0])?[q[0]]:yr(q[0],"ordgroup").body).map(function(c){var q=PC(c).text;if(-1!=="lcr".indexOf(q))return{type:"align",align:q};if("|"===q)return{type:"separator",separator:"|"};if(":"===q)return{type:"separator",separator:":"};throw new $a("Unknown column alignment: "+q,c)}),V={cols:Y,hskipBeforeAndAfter:!0,maxNumCols:Y.length};return uh(c.parser,V,VC(c.envName))},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(c){var q={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[c.envName.replace("*","")],Y="c",V={hskipBeforeAndAfter:!1,cols:[{type:"align",align:Y}]};if("*"===c.envName.charAt(c.envName.length-1)){var Z=c.parser;if(Z.consumeSpaces(),"["===Z.fetch().text){if(Z.consume(),Z.consumeSpaces(),Y=Z.fetch().text,-1==="lcr".indexOf(Y))throw new $a("Expected l or c or r",Z.nextToken);Z.consume(),Z.consumeSpaces(),Z.expect("]"),Z.consume(),V.cols=[{type:"align",align:Y}]}}var re=uh(c.parser,V,VC(c.envName)),ae=Math.max(0,...re.body.map(c=>c.length));return re.cols=new Array(ae).fill({type:"align",align:Y}),q?{type:"leftright",mode:c.mode,body:[re],left:q[0],right:q[1],rightColor:void 0}:re},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(c){var q=uh(c.parser,{arraystretch:.5},"script");return q.colSeparationType="small",q},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["subarray"],props:{numArgs:1},handler(c,q){var Y=(x4(q[0])?[q[0]]:yr(q[0],"ordgroup").body).map(function(c){var q=PC(c).text;if(-1!=="lc".indexOf(q))return{type:"align",align:q};throw new $a("Unknown column alignment: "+q,c)});if(Y.length>1)throw new $a("{subarray} can contain only one column");var V={cols:Y,hskipBeforeAndAfter:!1,arraystretch:.5};if((V=uh(c.parser,V,"script")).body.length>0&&V.body[0].length>1)throw new $a("{subarray} can contain only one column");return V},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(c){var q=uh(c.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},VC(c.envName));return{type:"leftright",mode:c.mode,body:[q],left:c.envName.indexOf("r")>-1?".":"\\{",right:c.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:jh,htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(c){Za.contains(["gather","gather*"],c.envName)&&$h(c);var q={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$C(c.envName),emptySingleRow:!0,leqno:c.parser.settings.leqno};return uh(c.parser,q,"display")},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:jh,htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(c){$h(c);var q={autoTag:$C(c.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:c.parser.settings.leqno};return uh(c.parser,q,"display")},htmlBuilder:zh,mathmlBuilder:qh}),ec({type:"array",names:["CD"],props:{numArgs:0},handler:c=>($h(c),F4e(c.parser)),htmlBuilder:zh,mathmlBuilder:qh}),le("\\nonumber","\\gdef\\@eqnsw{0}"),le("\\notag","\\nonumber"),Ct({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(c,q){throw new $a(c.funcName+" valid only within array environment")}}),Yh=Dh,Ct({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(c,q){var{parser:Y,funcName:V}=c,Z=q[0];if("ordgroup"!==Z.type)throw new $a("Invalid environment name",Z);for(var re="",ae=0;ae<Z.body.length;++ae)re+=yr(Z.body[ae],"textord").text;if("\\begin"===V){if(!Yh.hasOwnProperty(re))throw new $a("No such environment: "+re,Z);var se=Yh[re],{args:oe,optArgs:he}=Y.parseArguments("\\begin{"+re+"}",se),de={mode:Y.mode,envName:re,parser:Y},pe=se.handler(de,oe,he);Y.expect("\\end",!1);var ge=Y.nextToken,me=yr(Y.parseFunction(),"environment");if(me.name!==re)throw new $a("Mismatch: \\begin{"+re+"} matched by \\end{"+me.name+"}",ge);return pe}return{type:"environment",mode:Y.mode,name:re,nameGroup:Z}}}),Wh=o((c,q)=>{var Y=c.font,V=q.withFont(Y);return tc(c.body,V)},"htmlBuilder$5"),Hh=o((c,q)=>{var Y=c.font,V=q.withFont(Y);return pc(c.body,V)},"mathmlBuilder$4"),Vh={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"},Ct({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=Fl(q[0]),re=V;return re in Vh&&(re=Vh[re]),{type:"font",mode:Y.mode,font:re.slice(1),body:Z}},"handler"),htmlBuilder:Wh,mathmlBuilder:Hh}),Ct({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:o((c,q)=>{var{parser:Y}=c,V=q[0],Z=Za.isCharacterBox(V);return{type:"mclass",mode:Y.mode,mclass:Rc(V),body:[{type:"font",mode:Y.mode,font:"boldsymbol",body:V}],isCharacterBox:Z}},"handler")}),Ct({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:o((c,q)=>{var{parser:Y,funcName:V,breakOnTokenText:Z}=c,{mode:re}=Y,ae=Y.parseExpression(!0,Z);return{type:"font",mode:re,font:"math"+V.slice(1),body:{type:"ordgroup",mode:Y.mode,body:ae}}},"handler"),htmlBuilder:Wh,mathmlBuilder:Hh}),Xh=o((c,q)=>{var Y=q;return"display"===c?Y=Y.id>=cs.SCRIPT.id?Y.text():cs.DISPLAY:"text"===c&&Y.size===cs.DISPLAY.size?Y=cs.TEXT:"script"===c?Y=cs.SCRIPT:"scriptscript"===c&&(Y=cs.SCRIPTSCRIPT),Y},"adjustStyle"),Qh=o((c,q)=>{var Y,V=Xh(c.size,q.style),Z=V.fracNum(),re=V.fracDen();Y=q.havingStyle(Z);var ae=tc(c.numer,Y,q);if(c.continued){var se=8.5/q.fontMetrics().ptPerEm,oe=3.5/q.fontMetrics().ptPerEm;ae.height=ae.height<se?se:ae.height,ae.depth=ae.depth<oe?oe:ae.depth}Y=q.havingStyle(re);var he,de,pe,ge,me,ve,be,we,Te,_e,Ee=tc(c.denom,Y,q);if(c.hasBarLine?(c.barSize?(de=$s(c.barSize,q),he=Cl.makeLineSpan("frac-line",q,de)):he=Cl.makeLineSpan("frac-line",q),de=he.height,pe=he.height):(he=null,de=0,pe=q.fontMetrics().defaultRuleThickness),V.size===cs.DISPLAY.size||"display"===c.size?(ge=q.fontMetrics().num1,me=de>0?3*pe:7*pe,ve=q.fontMetrics().denom1):(de>0?(ge=q.fontMetrics().num2,me=pe):(ge=q.fontMetrics().num3,me=3*pe),ve=q.fontMetrics().denom2),he){var Ce=q.fontMetrics().axisHeight;ge-ae.depth-(Ce+.5*de)<me&&(ge+=me-(ge-ae.depth-(Ce+.5*de))),Ce-.5*de-(Ee.height-ve)<me&&(ve+=me-(Ce-.5*de-(Ee.height-ve)));var Se=-(Ce-.5*de);be=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ee,shift:ve},{type:"elem",elem:he,shift:Se},{type:"elem",elem:ae,shift:-ge}]},q)}else{var Ae=ge-ae.depth-(Ee.height-ve);Ae<me&&(ge+=.5*(me-Ae),ve+=.5*(me-Ae)),be=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ee,shift:ve},{type:"elem",elem:ae,shift:-ge}]},q)}return Y=q.havingStyle(V),be.height*=Y.sizeMultiplier/q.sizeMultiplier,be.depth*=Y.sizeMultiplier/q.sizeMultiplier,we=V.size===cs.DISPLAY.size?q.fontMetrics().delim1:V.size===cs.SCRIPTSCRIPT.size?q.havingStyle(cs.SCRIPT).fontMetrics().delim2:q.fontMetrics().delim2,Te=null==c.leftDelim?Jl(q,["mopen"]):Lh.customSizedDelim(c.leftDelim,we,!0,q.havingStyle(V),c.mode,["mopen"]),_e=c.continued?Cl.makeSpan([]):null==c.rightDelim?Jl(q,["mclose"]):Lh.customSizedDelim(c.rightDelim,we,!0,q.havingStyle(V),c.mode,["mclose"]),Cl.makeSpan(["mord"].concat(Y.sizingClasses(q)),[Te,Cl.makeSpan(["mfrac"],[be]),_e],q)},"htmlBuilder$4"),eu=o((c,q)=>{var Y=new oc.MathNode("mfrac",[pc(c.numer,q),pc(c.denom,q)]);if(c.hasBarLine){if(c.barSize){var V=$s(c.barSize,q);Y.setAttribute("linethickness",zs(V))}}else Y.setAttribute("linethickness","0px");var Z=Xh(c.size,q.style);if(Z.size!==q.style.size){Y=new oc.MathNode("mstyle",[Y]);var re=Z.size===cs.DISPLAY.size?"true":"false";Y.setAttribute("displaystyle",re),Y.setAttribute("scriptlevel","0")}if(null!=c.leftDelim||null!=c.rightDelim){var ae=[];if(null!=c.leftDelim){var se=new oc.MathNode("mo",[new oc.TextNode(c.leftDelim.replace("\\",""))]);se.setAttribute("fence","true"),ae.push(se)}if(ae.push(Y),null!=c.rightDelim){var oe=new oc.MathNode("mo",[new oc.TextNode(c.rightDelim.replace("\\",""))]);oe.setAttribute("fence","true"),ae.push(oe)}return cc(ae)}return Y},"mathmlBuilder$3"),Ct({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:o((c,q)=>{var Y,{parser:V,funcName:Z}=c,re=q[0],ae=q[1],se=null,oe=null,he="auto";switch(Z){case"\\dfrac":case"\\frac":case"\\tfrac":Y=!0;break;case"\\\\atopfrac":Y=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Y=!1,se="(",oe=")";break;case"\\\\bracefrac":Y=!1,se="\\{",oe="\\}";break;case"\\\\brackfrac":Y=!1,se="[",oe="]";break;default:throw new Error("Unrecognized genfrac command")}switch(Z){case"\\dfrac":case"\\dbinom":he="display";break;case"\\tfrac":case"\\tbinom":he="text"}return{type:"genfrac",mode:V.mode,continued:!1,numer:re,denom:ae,hasBarLine:Y,leftDelim:se,rightDelim:oe,size:he,barSize:null}},"handler"),htmlBuilder:Qh,mathmlBuilder:eu}),Ct({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=q[0],re=q[1];return{type:"genfrac",mode:Y.mode,continued:!0,numer:Z,denom:re,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),Ct({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(c){var q,{parser:Y,funcName:V,token:Z}=c;switch(V){case"\\over":q="\\frac";break;case"\\choose":q="\\binom";break;case"\\atop":q="\\\\atopfrac";break;case"\\brace":q="\\\\bracefrac";break;case"\\brack":q="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:Y.mode,replaceWith:q,token:Z}}}),tu=["display","text","script","scriptscript"],ru=o(function(c){var q=null;return c.length>0&&(q="."===(q=c)?null:q),q},"delimFromValue"),Ct({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(c,q){var Y,{parser:V}=c,Z=q[4],re=q[5],ae=Fl(q[0]),se="atom"===ae.type&&"open"===ae.family?ru(ae.text):null,oe=Fl(q[1]),he="atom"===oe.type&&"close"===oe.family?ru(oe.text):null,de=yr(q[2],"size"),pe=null;de.isBlank?Y=!0:Y=(pe=de.value).number>0;var ge="auto",me=q[3];if("ordgroup"===me.type){if(me.body.length>0){var ve=yr(me.body[0],"textord");ge=tu[Number(ve.text)]}}else me=yr(me,"textord"),ge=tu[Number(me.text)];return{type:"genfrac",mode:V.mode,numer:Z,denom:re,continued:!1,hasBarLine:Y,barSize:pe,leftDelim:se,rightDelim:he,size:ge}},htmlBuilder:Qh,mathmlBuilder:eu}),Ct({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(c,q){var{parser:Y,funcName:V,token:Z}=c;return{type:"infix",mode:Y.mode,replaceWith:"\\\\abovefrac",size:yr(q[0],"size").value,token:Z}}}),Ct({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=q[0],re=Xa(yr(q[1],"infix").size),ae=q[2],se=re.number>0;return{type:"genfrac",mode:Y.mode,numer:Z,denom:ae,continued:!1,hasBarLine:se,barSize:re,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:Qh,mathmlBuilder:eu}),nu=o((c,q)=>{var Y,V,Z=q.style;"supsub"===c.type?(Y=c.sup?tc(c.sup,q.havingStyle(Z.sup()),q):tc(c.sub,q.havingStyle(Z.sub()),q),V=yr(c.base,"horizBrace")):V=yr(c,"horizBrace");var re,ae=tc(V.base,q.havingBaseStyle(cs.DISPLAY)),se=Sc.svgSpan(V,q);if(V.isOver?(re=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ae},{type:"kern",size:.1},{type:"elem",elem:se}]},q)).children[0].children[0].children[1].classes.push("svg-align"):(re=Cl.makeVList({positionType:"bottom",positionData:ae.depth+.1+se.height,children:[{type:"elem",elem:se},{type:"kern",size:.1},{type:"elem",elem:ae}]},q)).children[0].children[0].children[0].classes.push("svg-align"),Y){var oe=Cl.makeSpan(["mord",V.isOver?"mover":"munder"],[re],q);re=V.isOver?Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:oe},{type:"kern",size:.2},{type:"elem",elem:Y}]},q):Cl.makeVList({positionType:"bottom",positionData:oe.depth+.2+Y.height+Y.depth,children:[{type:"elem",elem:Y},{type:"kern",size:.2},{type:"elem",elem:oe}]},q)}return Cl.makeSpan(["mord",V.isOver?"mover":"munder"],[re],q)},"htmlBuilder$3"),iu=o((c,q)=>{var Y=Sc.mathMLnode(c.label);return new oc.MathNode(c.isOver?"mover":"munder",[pc(c.base,q),Y])},"mathmlBuilder$2"),Ct({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(c,q){var{parser:Y,funcName:V}=c;return{type:"horizBrace",mode:Y.mode,label:V,isOver:/^\\over/.test(V),base:q[0]}},htmlBuilder:nu,mathmlBuilder:iu}),Ct({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:o((c,q)=>{var{parser:Y}=c,V=q[1],Z=yr(q[0],"url").url;return Y.settings.isTrusted({command:"\\href",url:Z})?{type:"href",mode:Y.mode,href:Z,body:$l(V)}:Y.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:o((c,q)=>{var Y=Hl(c.body,q,!1);return Cl.makeAnchor(c.href,[],Y,q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=dc(c.body,q);return Y instanceof rc||(Y=new rc("mrow",[Y])),Y.setAttribute("href",c.href),Y},"mathmlBuilder")}),Ct({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:o((c,q)=>{var{parser:Y}=c,V=yr(q[0],"url").url;if(!Y.settings.isTrusted({command:"\\url",url:V}))return Y.formatUnsupportedCmd("\\url");for(var Z=[],re=0;re<V.length;re++){var ae=V[re];"~"===ae&&(ae="\\textasciitilde"),Z.push({type:"textord",mode:"text",text:ae})}var se={type:"text",mode:Y.mode,font:"\\texttt",body:Z};return{type:"href",mode:Y.mode,href:V,body:$l(se)}},"handler")}),Ct({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(c,q){var{parser:Y}=c;return{type:"hbox",mode:Y.mode,body:$l(q[0])}},htmlBuilder(c,q){var Y=Hl(c.body,q,!1);return Cl.makeFragment(Y)},mathmlBuilder:(c,q)=>new oc.MathNode("mrow",uc(c.body,q))}),Ct({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:o((c,q)=>{var{parser:Y,funcName:V,token:Z}=c,re=yr(q[0],"raw").string,ae=q[1];Y.settings.strict&&Y.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var se,oe={};switch(V){case"\\htmlClass":oe.class=re,se={command:"\\htmlClass",class:re};break;case"\\htmlId":oe.id=re,se={command:"\\htmlId",id:re};break;case"\\htmlStyle":oe.style=re,se={command:"\\htmlStyle",style:re};break;case"\\htmlData":for(var he=re.split(","),de=0;de<he.length;de++){var pe=he[de].split("=");if(2!==pe.length)throw new $a("Error parsing key-value for \\htmlData");oe["data-"+pe[0].trim()]=pe[1].trim()}se={command:"\\htmlData",attributes:oe};break;default:throw new Error("Unrecognized html command")}return Y.settings.isTrusted(se)?{type:"html",mode:Y.mode,attributes:oe,body:$l(ae)}:Y.formatUnsupportedCmd(V)},"handler"),htmlBuilder:o((c,q)=>{var Y=Hl(c.body,q,!1),V=["enclosing"];c.attributes.class&&V.push(...c.attributes.class.trim().split(/\s+/));var Z=Cl.makeSpan(V,Y,q);for(var re in c.attributes)"class"!==re&&c.attributes.hasOwnProperty(re)&&Z.setAttribute(re,c.attributes[re]);return Z},"htmlBuilder"),mathmlBuilder:o((c,q)=>dc(c.body,q),"mathmlBuilder")}),Ct({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:o((c,q)=>{var{parser:Y}=c;return{type:"htmlmathml",mode:Y.mode,html:$l(q[0]),mathml:$l(q[1])}},"handler"),htmlBuilder:o((c,q)=>{var Y=Hl(c.html,q,!1);return Cl.makeFragment(Y)},"htmlBuilder"),mathmlBuilder:o((c,q)=>dc(c.mathml,q),"mathmlBuilder")}),au=o(function(c){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(c))return{number:+c,unit:"bp"};var q=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(c);if(!q)throw new $a("Invalid size: '"+c+"' in \\includegraphics");var Y={number:+(q[1]+q[2]),unit:q[3]};if(!Fs(Y))throw new $a("Invalid unit: '"+Y.unit+"' in \\includegraphics.");return Y},"sizeData"),Ct({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:o((c,q,Y)=>{var{parser:V}=c,Z={number:0,unit:"em"},re={number:.9,unit:"em"},ae={number:0,unit:"em"},se="";if(Y[0])for(var oe=yr(Y[0],"raw").string.split(","),he=0;he<oe.length;he++){var de=oe[he].split("=");if(2===de.length){var pe=de[1].trim();switch(de[0].trim()){case"alt":se=pe;break;case"width":Z=au(pe);break;case"height":re=au(pe);break;case"totalheight":ae=au(pe);break;default:throw new $a("Invalid key: '"+de[0]+"' in \\includegraphics.")}}}var ge=yr(q[0],"url").url;return""===se&&(se=(se=(se=ge).replace(/^.*[\\/]/,"")).substring(0,se.lastIndexOf("."))),V.settings.isTrusted({command:"\\includegraphics",url:ge})?{type:"includegraphics",mode:V.mode,alt:se,width:Z,height:re,totalheight:ae,src:ge}:V.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:o((c,q)=>{var Y=$s(c.height,q),V=0;c.totalheight.number>0&&(V=$s(c.totalheight,q)-Y);var Z=0;c.width.number>0&&(Z=$s(c.width,q));var re={height:zs(Y+V)};Z>0&&(re.width=zs(Z)),V>0&&(re.verticalAlign=zs(-V));var ae=new Vs(c.src,c.alt,re);return ae.height=Y,ae.depth=V,ae},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=new oc.MathNode("mglyph",[]);Y.setAttribute("alt",c.alt);var V=$s(c.height,q),Z=0;if(c.totalheight.number>0&&(Z=$s(c.totalheight,q)-V,Y.setAttribute("valign",zs(-Z))),Y.setAttribute("height",zs(V+Z)),c.width.number>0){var re=$s(c.width,q);Y.setAttribute("width",zs(re))}return Y.setAttribute("src",c.src),Y},"mathmlBuilder")}),Ct({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(c,q){var{parser:Y,funcName:V}=c,Z=yr(q[0],"size");if(Y.settings.strict){var re="m"===V[1],ae="mu"===Z.value.unit;re?(ae||Y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+V+" supports only mu units, not "+Z.value.unit+" units"),"math"!==Y.mode&&Y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+V+" works only in math mode")):ae&&Y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+V+" doesn't support mu units")}return{type:"kern",mode:Y.mode,dimension:Z.value}},htmlBuilder:(c,q)=>Cl.makeGlue(c.dimension,q),mathmlBuilder(c,q){var Y=$s(c.dimension,q);return new oc.SpaceNode(Y)}}),Ct({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=q[0];return{type:"lap",mode:Y.mode,alignment:V.slice(5),body:Z}},"handler"),htmlBuilder:o((c,q)=>{var Y;"clap"===c.alignment?(Y=Cl.makeSpan([],[tc(c.body,q)]),Y=Cl.makeSpan(["inner"],[Y],q)):Y=Cl.makeSpan(["inner"],[tc(c.body,q)]);var V=Cl.makeSpan(["fix"],[]),Z=Cl.makeSpan([c.alignment],[Y,V],q),re=Cl.makeSpan(["strut"]);return re.style.height=zs(Z.height+Z.depth),Z.depth&&(re.style.verticalAlign=zs(-Z.depth)),Z.children.unshift(re),Z=Cl.makeSpan(["thinbox"],[Z],q),Cl.makeSpan(["mord","vbox"],[Z],q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=new oc.MathNode("mpadded",[pc(c.body,q)]);if("rlap"!==c.alignment){var V="llap"===c.alignment?"-1":"-0.5";Y.setAttribute("lspace",V+"width")}return Y.setAttribute("width","0px"),Y},"mathmlBuilder")}),Ct({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(c,q){var{funcName:Y,parser:V}=c,Z=V.mode;V.switchMode("math");var re="\\("===Y?"\\)":"$",ae=V.parseExpression(!1,re);return V.expect(re),V.switchMode(Z),{type:"styling",mode:V.mode,style:"text",body:ae}}}),Ct({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(c,q){throw new $a("Mismatched "+c.funcName)}}),su=o((c,q)=>{switch(q.style.size){case cs.DISPLAY.size:return c.display;case cs.TEXT.size:return c.text;case cs.SCRIPT.size:return c.script;case cs.SCRIPTSCRIPT.size:return c.scriptscript;default:return c.text}},"chooseMathStyle"),Ct({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:o((c,q)=>{var{parser:Y}=c;return{type:"mathchoice",mode:Y.mode,display:$l(q[0]),text:$l(q[1]),script:$l(q[2]),scriptscript:$l(q[3])}},"handler"),htmlBuilder:o((c,q)=>{var Y=su(c,q),V=Hl(Y,q,!1);return Cl.makeFragment(V)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=su(c,q);return dc(Y,q)},"mathmlBuilder")}),ou=o((c,q,Y,V,Z,re,ae)=>{c=Cl.makeSpan([],[c]);var se,oe,he,de=Y&&Za.isCharacterBox(Y);if(q){var pe=tc(q,V.havingStyle(Z.sup()),V);oe={elem:pe,kern:Math.max(V.fontMetrics().bigOpSpacing1,V.fontMetrics().bigOpSpacing3-pe.depth)}}if(Y){var ge=tc(Y,V.havingStyle(Z.sub()),V);se={elem:ge,kern:Math.max(V.fontMetrics().bigOpSpacing2,V.fontMetrics().bigOpSpacing4-ge.height)}}if(oe&&se){var me=V.fontMetrics().bigOpSpacing5+se.elem.height+se.elem.depth+se.kern+c.depth+ae;he=Cl.makeVList({positionType:"bottom",positionData:me,children:[{type:"kern",size:V.fontMetrics().bigOpSpacing5},{type:"elem",elem:se.elem,marginLeft:zs(-re)},{type:"kern",size:se.kern},{type:"elem",elem:c},{type:"kern",size:oe.kern},{type:"elem",elem:oe.elem,marginLeft:zs(re)},{type:"kern",size:V.fontMetrics().bigOpSpacing5}]},V)}else if(se){var ve=c.height-ae;he=Cl.makeVList({positionType:"top",positionData:ve,children:[{type:"kern",size:V.fontMetrics().bigOpSpacing5},{type:"elem",elem:se.elem,marginLeft:zs(-re)},{type:"kern",size:se.kern},{type:"elem",elem:c}]},V)}else{if(!oe)return c;var be=c.depth+ae;he=Cl.makeVList({positionType:"bottom",positionData:be,children:[{type:"elem",elem:c},{type:"kern",size:oe.kern},{type:"elem",elem:oe.elem,marginLeft:zs(re)},{type:"kern",size:V.fontMetrics().bigOpSpacing5}]},V)}var we=[he];if(se&&0!==re&&!de){var Te=Cl.makeSpan(["mspace"],[],V);Te.style.marginRight=zs(re),we.unshift(Te)}return Cl.makeSpan(["mop","op-limits"],we,V)},"assembleSupSub"),lu=["\\smallint"],pu=o((c,q)=>{var Y,V,Z,re=!1;"supsub"===c.type?(Y=c.sup,V=c.sub,Z=yr(c.base,"op"),re=!0):Z=yr(c,"op");var ae,se=q.style,oe=!1;if(se.size===cs.DISPLAY.size&&Z.symbol&&!Za.contains(lu,Z.name)&&(oe=!0),Z.symbol){var he=oe?"Size2-Regular":"Size1-Regular",de="";if(("\\oiint"===Z.name||"\\oiiint"===Z.name)&&(de=Z.name.slice(1),Z.name="oiint"===de?"\\iint":"\\iiint"),ae=Cl.makeSymbol(Z.name,he,"math",q,["mop","op-symbol",oe?"large-op":"small-op"]),de.length>0){var pe=ae.italic,ge=Cl.staticSvg(de+"Size"+(oe?"2":"1"),q);ae=Cl.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ae,shift:0},{type:"elem",elem:ge,shift:oe?.08:0}]},q),Z.name="\\"+de,ae.classes.unshift("mop"),ae.italic=pe}}else if(Z.body){var me=Hl(Z.body,q,!0);1===me.length&&me[0]instanceof Qs?(ae=me[0]).classes[0]="mop":ae=Cl.makeSpan(["mop"],me,q)}else{for(var ve=[],be=1;be<Z.name.length;be++)ve.push(Cl.mathsym(Z.name[be],Z.mode,q));ae=Cl.makeSpan(["mop"],ve,q)}var we=0,Te=0;return(ae instanceof Qs||"\\oiint"===Z.name||"\\oiiint"===Z.name)&&!Z.suppressBaseShift&&(we=(ae.height-ae.depth)/2-q.fontMetrics().axisHeight,Te=ae.italic),re?ou(ae,Y,V,q,se,Te,we):(we&&(ae.style.position="relative",ae.style.top=zs(we)),ae)},"htmlBuilder$2"),gu=o((c,q)=>{var Y;if(c.symbol)Y=new rc("mo",[lc(c.name,c.mode)]),Za.contains(lu,c.name)&&Y.setAttribute("largeop","false");else if(c.body)Y=new rc("mo",uc(c.body,q));else{Y=new rc("mi",[new nc(c.name.slice(1))]);var V=new rc("mo",[lc("⁡","text")]);Y=c.parentIsSupSub?new rc("mrow",[Y,V]):jG([Y,V])}return Y},"mathmlBuilder$1"),fu={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"},Ct({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=V;return 1===Z.length&&(Z=fu[Z]),{type:"op",mode:Y.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:Z}},"handler"),htmlBuilder:pu,mathmlBuilder:gu}),Ct({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:o((c,q)=>{var{parser:Y}=c,V=q[0];return{type:"op",mode:Y.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:$l(V)}},"handler"),htmlBuilder:pu,mathmlBuilder:gu}),mu={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"},Ct({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(c){var{parser:q,funcName:Y}=c;return{type:"op",mode:q.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:Y}},htmlBuilder:pu,mathmlBuilder:gu}),Ct({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(c){var{parser:q,funcName:Y}=c;return{type:"op",mode:q.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:Y}},htmlBuilder:pu,mathmlBuilder:gu}),Ct({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(c){var{parser:q,funcName:Y}=c,V=Y;return 1===V.length&&(V=mu[V]),{type:"op",mode:q.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:V}},htmlBuilder:pu,mathmlBuilder:gu}),yu=o((c,q)=>{var Y,V,Z,re,ae=!1;if("supsub"===c.type?(Y=c.sup,V=c.sub,Z=yr(c.base,"operatorname"),ae=!0):Z=yr(c,"operatorname"),Z.body.length>0){for(var se=Z.body.map(c=>{var q=c.text;return"string"==typeof q?{type:"textord",mode:c.mode,text:q}:c}),oe=Hl(se,q.withFont("mathrm"),!0),he=0;he<oe.length;he++){var de=oe[he];de instanceof Qs&&(de.text=de.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}re=Cl.makeSpan(["mop"],oe,q)}else re=Cl.makeSpan(["mop"],[],q);return ae?ou(re,Y,V,q,q.style,0,0):re},"htmlBuilder$1"),vu=o((c,q)=>{for(var Y=uc(c.body,q.withFont("mathrm")),V=!0,Z=0;Z<Y.length;Z++){var re=Y[Z];if(!(re instanceof oc.SpaceNode))if(re instanceof oc.MathNode)switch(re.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var ae=re.children[0];1===re.children.length&&ae instanceof oc.TextNode?ae.text=ae.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):V=!1;break;default:V=!1}else V=!1}if(V){var se=Y.map(c=>c.toText()).join("");Y=[new oc.TextNode(se)]}var oe=new oc.MathNode("mi",Y);oe.setAttribute("mathvariant","normal");var he=new oc.MathNode("mo",[lc("⁡","text")]);return c.parentIsSupSub?new oc.MathNode("mrow",[oe,he]):oc.newDocumentFragment([oe,he])},"mathmlBuilder"),Ct({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:o((c,q)=>{var{parser:Y,funcName:V}=c,Z=q[0];return{type:"operatorname",mode:Y.mode,body:$l(Z),alwaysHandleSupSub:"\\operatornamewithlimits"===V,limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:yu,mathmlBuilder:vu}),le("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Xf({type:"ordgroup",htmlBuilder:(c,q)=>c.semisimple?Cl.makeFragment(Hl(c.body,q,!1)):Cl.makeSpan(["mord"],Hl(c.body,q,!0),q),mathmlBuilder:(c,q)=>dc(c.body,q,!0)}),Ct({type:"overline",names:["\\overline"],props:{numArgs:1},handler(c,q){var{parser:Y}=c,V=q[0];return{type:"overline",mode:Y.mode,body:V}},htmlBuilder(c,q){var Y=tc(c.body,q.havingCrampedStyle()),V=Cl.makeLineSpan("overline-line",q),Z=q.fontMetrics().defaultRuleThickness,re=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y},{type:"kern",size:3*Z},{type:"elem",elem:V},{type:"kern",size:Z}]},q);return Cl.makeSpan(["mord","overline"],[re],q)},mathmlBuilder(c,q){var Y=new oc.MathNode("mo",[new oc.TextNode("‾")]);Y.setAttribute("stretchy","true");var V=new oc.MathNode("mover",[pc(c.body,q),Y]);return V.setAttribute("accent","true"),V}}),Ct({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:o((c,q)=>{var{parser:Y}=c,V=q[0];return{type:"phantom",mode:Y.mode,body:$l(V)}},"handler"),htmlBuilder:o((c,q)=>{var Y=Hl(c.body,q.withPhantom(),!1);return Cl.makeFragment(Y)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=uc(c.body,q);return new oc.MathNode("mphantom",Y)},"mathmlBuilder")}),Ct({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:o((c,q)=>{var{parser:Y}=c,V=q[0];return{type:"hphantom",mode:Y.mode,body:V}},"handler"),htmlBuilder:o((c,q)=>{var Y=Cl.makeSpan([],[tc(c.body,q.withPhantom())]);if(Y.height=0,Y.depth=0,Y.children)for(var V=0;V<Y.children.length;V++)Y.children[V].height=0,Y.children[V].depth=0;return Y=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y}]},q),Cl.makeSpan(["mord"],[Y],q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=uc($l(c.body),q),V=new oc.MathNode("mphantom",Y),Z=new oc.MathNode("mpadded",[V]);return Z.setAttribute("height","0px"),Z.setAttribute("depth","0px"),Z},"mathmlBuilder")}),Ct({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:o((c,q)=>{var{parser:Y}=c,V=q[0];return{type:"vphantom",mode:Y.mode,body:V}},"handler"),htmlBuilder:o((c,q)=>{var Y=Cl.makeSpan(["inner"],[tc(c.body,q.withPhantom())]),V=Cl.makeSpan(["fix"],[]);return Cl.makeSpan(["mord","rlap"],[Y,V],q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=uc($l(c.body),q),V=new oc.MathNode("mphantom",Y),Z=new oc.MathNode("mpadded",[V]);return Z.setAttribute("width","0px"),Z},"mathmlBuilder")}),Ct({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(c,q){var{parser:Y}=c,V=yr(q[0],"size").value,Z=q[1];return{type:"raisebox",mode:Y.mode,dy:V,body:Z}},htmlBuilder(c,q){var Y=tc(c.body,q),V=$s(c.dy,q);return Cl.makeVList({positionType:"shift",positionData:-V,children:[{type:"elem",elem:Y}]},q)},mathmlBuilder(c,q){var Y=new oc.MathNode("mpadded",[pc(c.body,q)]),V=c.dy.number+c.dy.unit;return Y.setAttribute("voffset",V),Y}}),Ct({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(c){var{parser:q}=c;return{type:"internal",mode:q.mode}}}),Ct({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(c,q,Y){var{parser:V}=c,Z=Y[0],re=yr(q[0],"size"),ae=yr(q[1],"size");return{type:"rule",mode:V.mode,shift:Z&&yr(Z,"size").value,width:re.value,height:ae.value}},htmlBuilder(c,q){var Y=Cl.makeSpan(["mord","rule"],[],q),V=$s(c.width,q),Z=$s(c.height,q),re=c.shift?$s(c.shift,q):0;return Y.style.borderRightWidth=zs(V),Y.style.borderTopWidth=zs(Z),Y.style.bottom=zs(re),Y.width=V,Y.height=Z+re,Y.depth=-re,Y.maxFontSize=1.125*Z*q.sizeMultiplier,Y},mathmlBuilder(c,q){var Y=$s(c.width,q),V=$s(c.height,q),Z=c.shift?$s(c.shift,q):0,re=q.color&&q.getColor()||"black",ae=new oc.MathNode("mspace");ae.setAttribute("mathbackground",re),ae.setAttribute("width",zs(Y)),ae.setAttribute("height",zs(V));var se=new oc.MathNode("mpadded",[ae]);return Z>=0?se.setAttribute("height",zs(Z)):(se.setAttribute("height",zs(Z)),se.setAttribute("depth",zs(-Z))),se.setAttribute("voffset",zs(Z)),se}}),o(k$,"sizingGroup"),xu=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],bu=o((c,q)=>{var Y=q.havingSize(c.size);return k$(c.body,Y,q)},"htmlBuilder"),Ct({type:"sizing",names:xu,props:{numArgs:0,allowedInText:!0},handler:o((c,q)=>{var{breakOnTokenText:Y,funcName:V,parser:Z}=c,re=Z.parseExpression(!1,Y);return{type:"sizing",mode:Z.mode,size:xu.indexOf(V)+1,body:re}},"handler"),htmlBuilder:bu,mathmlBuilder:o((c,q)=>{var Y=q.havingSize(c.size),V=uc(c.body,Y),Z=new oc.MathNode("mstyle",V);return Z.setAttribute("mathsize",zs(Y.sizeMultiplier)),Z},"mathmlBuilder")}),Ct({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:o((c,q,Y)=>{var{parser:V}=c,Z=!1,re=!1,ae=Y[0]&&yr(Y[0],"ordgroup");if(ae)for(var se="",oe=0;oe<ae.body.length;++oe){if("t"===(se=ae.body[oe].text))Z=!0;else{if("b"!==se){Z=!1,re=!1;break}re=!0}}else Z=!0,re=!0;var he=q[0];return{type:"smash",mode:V.mode,body:he,smashHeight:Z,smashDepth:re}},"handler"),htmlBuilder:o((c,q)=>{var Y=Cl.makeSpan([],[tc(c.body,q)]);if(!c.smashHeight&&!c.smashDepth)return Y;if(c.smashHeight&&(Y.height=0,Y.children))for(var V=0;V<Y.children.length;V++)Y.children[V].height=0;if(c.smashDepth&&(Y.depth=0,Y.children))for(var Z=0;Z<Y.children.length;Z++)Y.children[Z].depth=0;var re=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y}]},q);return Cl.makeSpan(["mord"],[re],q)},"htmlBuilder"),mathmlBuilder:o((c,q)=>{var Y=new oc.MathNode("mpadded",[pc(c.body,q)]);return c.smashHeight&&Y.setAttribute("height","0px"),c.smashDepth&&Y.setAttribute("depth","0px"),Y},"mathmlBuilder")}),Ct({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(c,q,Y){var{parser:V}=c,Z=Y[0],re=q[0];return{type:"sqrt",mode:V.mode,body:re,index:Z}},htmlBuilder(c,q){var Y=tc(c.body,q.havingCrampedStyle());0===Y.height&&(Y.height=q.fontMetrics().xHeight),Y=Cl.wrapFragment(Y,q);var V=q.fontMetrics().defaultRuleThickness,Z=V;q.style.id<cs.TEXT.id&&(Z=q.fontMetrics().xHeight);var re=V+Z/4,ae=Y.height+Y.depth+re+V,{span:se,ruleWidth:oe,advanceWidth:he}=Lh.sqrtImage(ae,q),de=se.height-oe;de>Y.height+Y.depth+re&&(re=(re+de-Y.height-Y.depth)/2);var pe=se.height-Y.height-re-oe;Y.style.paddingLeft=zs(he);var ge=Cl.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y,wrapperClasses:["svg-align"]},{type:"kern",size:-(Y.height+pe)},{type:"elem",elem:se},{type:"kern",size:oe}]},q);if(c.index){var me=q.havingStyle(cs.SCRIPTSCRIPT),ve=tc(c.index,me,q),be=.6*(ge.height-ge.depth),we=Cl.makeVList({positionType:"shift",positionData:-be,children:[{type:"elem",elem:ve}]},q),Te=Cl.makeSpan(["root"],[we]);return Cl.makeSpan(["mord","sqrt"],[Te,ge],q)}return Cl.makeSpan(["mord","sqrt"],[ge],q)},mathmlBuilder(c,q){var{body:Y,index:V}=c;return V?new oc.MathNode("mroot",[pc(Y,q),pc(V,q)]):new oc.MathNode("msqrt",[pc(Y,q)])}}),wu={display:cs.DISPLAY,text:cs.TEXT,script:cs.SCRIPT,scriptscript:cs.SCRIPTSCRIPT},Ct({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(c,q){var{breakOnTokenText:Y,funcName:V,parser:Z}=c,re=Z.parseExpression(!0,Y),ae=V.slice(1,V.length-5);return{type:"styling",mode:Z.mode,style:ae,body:re}},htmlBuilder(c,q){var Y=wu[c.style],V=q.havingStyle(Y).withFont("");return k$(c.body,V,q)},mathmlBuilder(c,q){var Y=wu[c.style],V=q.havingStyle(Y),Z=uc(c.body,V),re=new oc.MathNode("mstyle",Z),ae={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[c.style];return re.setAttribute("scriptlevel",ae[0]),re.setAttribute("displaystyle",ae[1]),re}}),ku=o(function(c,q){var Y=c.base;return Y?"op"===Y.type?Y.limits&&(q.style.size===cs.DISPLAY.size||Y.alwaysHandleSupSub)?pu:null:"operatorname"===Y.type?Y.alwaysHandleSupSub&&(q.style.size===cs.DISPLAY.size||Y.limits)?yu:null:"accent"===Y.type?Za.isCharacterBox(Y.base)?Ac:null:"horizBrace"===Y.type&&!c.sub===Y.isOver?nu:null:null},"htmlBuilderDelegate"),Xf({type:"supsub",htmlBuilder(c,q){var Y=ku(c,q);if(Y)return Y(c,q);var V,Z,re,{base:ae,sup:se,sub:oe}=c,he=tc(ae,q),de=q.fontMetrics(),pe=0,ge=0,me=ae&&Za.isCharacterBox(ae);if(se){var ve=q.havingStyle(q.style.sup());V=tc(se,ve,q),me||(pe=he.height-ve.fontMetrics().supDrop*ve.sizeMultiplier/q.sizeMultiplier)}if(oe){var be=q.havingStyle(q.style.sub());Z=tc(oe,be,q),me||(ge=he.depth+be.fontMetrics().subDrop*be.sizeMultiplier/q.sizeMultiplier)}re=q.style===cs.DISPLAY?de.sup1:q.style.cramped?de.sup3:de.sup2;var we,Te=q.sizeMultiplier,_e=zs(.5/de.ptPerEm/Te),Ee=null;if(Z){var Ce=c.base&&"op"===c.base.type&&c.base.name&&("\\oiint"===c.base.name||"\\oiiint"===c.base.name);(he instanceof Qs||Ce)&&(Ee=zs(-he.italic))}if(V&&Z){pe=Math.max(pe,re,V.depth+.25*de.xHeight),ge=Math.max(ge,de.sub2);var Se=4*de.defaultRuleThickness;if(pe-V.depth-(Z.height-ge)<Se){ge=Se-(pe-V.depth)+Z.height;var Ae=.8*de.xHeight-(pe-V.depth);Ae>0&&(pe+=Ae,ge-=Ae)}var Le=[{type:"elem",elem:Z,shift:ge,marginRight:_e,marginLeft:Ee},{type:"elem",elem:V,shift:-pe,marginRight:_e}];we=Cl.makeVList({positionType:"individualShift",children:Le},q)}else if(Z){ge=Math.max(ge,de.sub1,Z.height-.8*de.xHeight);var Ne=[{type:"elem",elem:Z,marginLeft:Ee,marginRight:_e}];we=Cl.makeVList({positionType:"shift",positionData:ge,children:Ne},q)}else{if(!V)throw new Error("supsub must have either sup or sub.");pe=Math.max(pe,re,V.depth+.25*de.xHeight),we=Cl.makeVList({positionType:"shift",positionData:-pe,children:[{type:"elem",elem:V,marginRight:_e}]},q)}var Ie=Zl(he,"right")||"mord";return Cl.makeSpan([Ie],[he,Cl.makeSpan(["msupsub"],[we])],q)},mathmlBuilder(c,q){var Y,V=!1;c.base&&"horizBrace"===c.base.type&&(!!c.sup===c.base.isOver&&(V=!0,Y=c.base.isOver)),c.base&&("op"===c.base.type||"operatorname"===c.base.type)&&(c.base.parentIsSupSub=!0);var Z,re=[pc(c.base,q)];if(c.sub&&re.push(pc(c.sub,q)),c.sup&&re.push(pc(c.sup,q)),V)Z=Y?"mover":"munder";else if(c.sub)if(c.sup){var ae=c.base;Z=ae&&"op"===ae.type&&ae.limits&&q.style===cs.DISPLAY||ae&&"operatorname"===ae.type&&ae.alwaysHandleSupSub&&(q.style===cs.DISPLAY||ae.limits)?"munderover":"msubsup"}else{var se=c.base;Z=se&&"op"===se.type&&se.limits&&(q.style===cs.DISPLAY||se.alwaysHandleSupSub)||se&&"operatorname"===se.type&&se.alwaysHandleSupSub&&(se.limits||q.style===cs.DISPLAY)?"munder":"msub"}else{var oe=c.base;Z=oe&&"op"===oe.type&&oe.limits&&(q.style===cs.DISPLAY||oe.alwaysHandleSupSub)||oe&&"operatorname"===oe.type&&oe.alwaysHandleSupSub&&(oe.limits||q.style===cs.DISPLAY)?"mover":"msup"}return new oc.MathNode(Z,re)}}),Xf({type:"atom",htmlBuilder:(c,q)=>Cl.mathsym(c.text,c.mode,q,["m"+c.family]),mathmlBuilder(c,q){var Y=new oc.MathNode("mo",[lc(c.text,c.mode)]);if("bin"===c.family){var V=hc(c,q);"bold-italic"===V&&Y.setAttribute("mathvariant",V)}else"punct"===c.family?Y.setAttribute("separator","true"):("open"===c.family||"close"===c.family)&&Y.setAttribute("stretchy","false");return Y}}),Tu={mi:"italic",mn:"normal",mtext:"normal"},Xf({type:"mathord",htmlBuilder:(c,q)=>Cl.makeOrd(c,q,"mathord"),mathmlBuilder(c,q){var Y=new oc.MathNode("mi",[lc(c.text,c.mode,q)]),V=hc(c,q)||"italic";return V!==Tu[Y.type]&&Y.setAttribute("mathvariant",V),Y}}),Xf({type:"textord",htmlBuilder:(c,q)=>Cl.makeOrd(c,q,"textord"),mathmlBuilder(c,q){var Y,V=lc(c.text,c.mode,q),Z=hc(c,q)||"normal";return Y="text"===c.mode?new oc.MathNode("mtext",[V]):/[0-9]/.test(c.text)?new oc.MathNode("mn",[V]):"\\prime"===c.text?new oc.MathNode("mo",[V]):new oc.MathNode("mi",[V]),Z!==Tu[Y.type]&&Y.setAttribute("mathvariant",Z),Y}}),_u={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Eu={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},Xf({type:"spacing",htmlBuilder(c,q){if(Eu.hasOwnProperty(c.text)){var Y=Eu[c.text].className||"";if("text"===c.mode){var V=Cl.makeOrd(c,q,"textord");return V.classes.push(Y),V}return Cl.makeSpan(["mspace",Y],[Cl.mathsym(c.text,c.mode,q)],q)}if(_u.hasOwnProperty(c.text))return Cl.makeSpan(["mspace",_u[c.text]],[],q);throw new $a('Unknown type of space "'+c.text+'"')},mathmlBuilder(c,q){if(!Eu.hasOwnProperty(c.text)){if(_u.hasOwnProperty(c.text))return new oc.MathNode("mspace");throw new $a('Unknown type of space "'+c.text+'"')}return new oc.MathNode("mtext",[new oc.TextNode(" ")])}}),Su=o(()=>{var c=new oc.MathNode("mtd",[]);return c.setAttribute("width","50%"),c},"pad"),Xf({type:"tag",mathmlBuilder(c,q){var Y=new oc.MathNode("mtable",[new oc.MathNode("mtr",[Su(),new oc.MathNode("mtd",[dc(c.body,q)]),Su(),new oc.MathNode("mtd",[dc(c.tag,q)])])]);return Y.setAttribute("width","100%"),Y}}),Au={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Lu={"\\textbf":"textbf","\\textmd":"textmd"},Nu={"\\textit":"textit","\\textup":"textup"},Iu=o((c,q)=>{var Y=c.font;return Y?Au[Y]?q.withTextFontFamily(Au[Y]):Lu[Y]?q.withTextFontWeight(Lu[Y]):"\\emph"===Y?"textit"===q.fontShape?q.withTextFontShape("textup"):q.withTextFontShape("textit"):q.withTextFontShape(Nu[Y]):q},"optionsWithFont"),Ct({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(c,q){var{parser:Y,funcName:V}=c,Z=q[0];return{type:"text",mode:Y.mode,body:$l(Z),font:V}},htmlBuilder(c,q){var Y=Iu(c,q),V=Hl(c.body,Y,!0);return Cl.makeSpan(["mord","text"],V,Y)},mathmlBuilder(c,q){var Y=Iu(c,q);return dc(c.body,Y)}}),Ct({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(c,q){var{parser:Y}=c;return{type:"underline",mode:Y.mode,body:q[0]}},htmlBuilder(c,q){var Y=tc(c.body,q),V=Cl.makeLineSpan("underline-line",q),Z=q.fontMetrics().defaultRuleThickness,re=Cl.makeVList({positionType:"top",positionData:Y.height,children:[{type:"kern",size:Z},{type:"elem",elem:V},{type:"kern",size:3*Z},{type:"elem",elem:Y}]},q);return Cl.makeSpan(["mord","underline"],[re],q)},mathmlBuilder(c,q){var Y=new oc.MathNode("mo",[new oc.TextNode("‾")]);Y.setAttribute("stretchy","true");var V=new oc.MathNode("munder",[pc(c.body,q),Y]);return V.setAttribute("accentunder","true"),V}}),Ct({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(c,q){var{parser:Y}=c;return{type:"vcenter",mode:Y.mode,body:q[0]}},htmlBuilder(c,q){var Y=tc(c.body,q),V=q.fontMetrics().axisHeight,Z=.5*(Y.height-V-(Y.depth+V));return Cl.makeVList({positionType:"shift",positionData:Z,children:[{type:"elem",elem:Y}]},q)},mathmlBuilder:(c,q)=>new oc.MathNode("mpadded",[pc(c.body,q)],["vcenter"])}),Ct({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(c,q,Y){throw new $a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(c,q){for(var Y=Fu(c),V=[],Z=q.havingStyle(q.style.text()),re=0;re<Y.length;re++){var ae=Y[re];"~"===ae&&(ae="\\textasciitilde"),V.push(Cl.makeSymbol(ae,"Typewriter-Regular",c.mode,Z,["mord","texttt"]))}return Cl.makeSpan(["mord","text"].concat(Z.sizingClasses(q)),Cl.tryCombineChars(V),Z)},mathmlBuilder(c,q){var Y=new oc.TextNode(Fu(c)),V=new oc.MathNode("mtext",[Y]);return V.setAttribute("mathvariant","monospace"),V}}),Fu=o(c=>c.body.replace(/ /g,c.star?"␣":" "),"makeVerb"),$u=Dl,Uu="(\\\\[a-zA-Z@]+)"+(zu="[ \r\n\t]")+"*",qu="[̀-ͯ]",ju=new RegExp(qu+"+$"),Yu="("+zu+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+qu+"*|[\ud800-\udbff][\udc00-\udfff]"+qu+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Uu+"|\\\\[^\ud800-\udfff])",Hu=class{static{o(this,"Lexer")}constructor(c,q){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=c,this.settings=q,this.tokenRegex=new RegExp(Yu,"g"),this.catcodes={"%":14,"~":13}}setCatcode(c,q){this.catcodes[c]=q}lex(){var c=this.input,q=this.tokenRegex.lastIndex;if(q===c.length)return new Fa("EOF",new Ba(this,q,q));var Y=this.tokenRegex.exec(c);if(null===Y||Y.index!==q)throw new $a("Unexpected character: '"+c[q]+"'",new Fa(c[q],new Ba(this,q,q+1)));var V=Y[6]||Y[3]||(Y[2]?"\\ ":" ");if(14===this.catcodes[V]){var Z=c.indexOf("\n",this.tokenRegex.lastIndex);return-1===Z?(this.tokenRegex.lastIndex=c.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=Z+1,this.lex()}return new Fa(V,new Ba(this,q,this.tokenRegex.lastIndex))}},Vu=class{static{o(this,"Namespace")}constructor(c,q){void 0===c&&(c={}),void 0===q&&(q={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=q,this.builtins=c,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new $a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var c=this.undefStack.pop();for(var q in c)c.hasOwnProperty(q)&&(null==c[q]?delete this.current[q]:this.current[q]=c[q])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(c){return this.current.hasOwnProperty(c)||this.builtins.hasOwnProperty(c)}get(c){return this.current.hasOwnProperty(c)?this.current[c]:this.builtins[c]}set(c,q,Y){if(void 0===Y&&(Y=!1),Y){for(var V=0;V<this.undefStack.length;V++)delete this.undefStack[V][c];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][c]=q)}else{var Z=this.undefStack[this.undefStack.length-1];Z&&!Z.hasOwnProperty(c)&&(Z[c]=this.current[c])}null==q?delete this.current[c]:this.current[c]=q}},Xu=Oh,le("\\noexpand",function(c){var q=c.popToken();return c.isExpandable(q.text)&&(q.noexpand=!0,q.treatAsRelax=!0),{tokens:[q],numArgs:0}}),le("\\expandafter",function(c){var q=c.popToken();return c.expandOnce(!0),{tokens:[q],numArgs:0}}),le("\\@firstoftwo",function(c){return{tokens:c.consumeArgs(2)[0],numArgs:0}}),le("\\@secondoftwo",function(c){return{tokens:c.consumeArgs(2)[1],numArgs:0}}),le("\\@ifnextchar",function(c){var q=c.consumeArgs(3);c.consumeSpaces();var Y=c.future();return 1===q[0].length&&q[0][0].text===Y.text?{tokens:q[1],numArgs:0}:{tokens:q[2],numArgs:0}}),le("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),le("\\TextOrMath",function(c){var q=c.consumeArgs(2);return"text"===c.mode?{tokens:q[0],numArgs:0}:{tokens:q[1],numArgs:0}}),Ku={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},le("\\char",function(c){var q,Y=c.popToken(),V="";if("'"===Y.text)q=8,Y=c.popToken();else if('"'===Y.text)q=16,Y=c.popToken();else if("`"===Y.text)if("\\"===(Y=c.popToken()).text[0])V=Y.text.charCodeAt(1);else{if("EOF"===Y.text)throw new $a("\\char` missing argument");V=Y.text.charCodeAt(0)}else q=10;if(q){if(null==(V=Ku[Y.text])||V>=q)throw new $a("Invalid base-"+q+" digit "+Y.text);for(var Z;null!=(Z=Ku[c.future().text])&&Z<q;)V*=q,V+=Z,c.popToken()}return"\\@char{"+V+"}"}),Qu=o((c,q,Y)=>{var V=c.consumeArg().tokens;if(1!==V.length)throw new $a("\\newcommand's first argument must be a macro name");var Z=V[0].text,re=c.isDefined(Z);if(re&&!q)throw new $a("\\newcommand{"+Z+"} attempting to redefine "+Z+"; use \\renewcommand");if(!re&&!Y)throw new $a("\\renewcommand{"+Z+"} when command "+Z+" does not yet exist; use \\newcommand");var ae=0;if(1===(V=c.consumeArg().tokens).length&&"["===V[0].text){for(var se="",oe=c.expandNextToken();"]"!==oe.text&&"EOF"!==oe.text;)se+=oe.text,oe=c.expandNextToken();if(!se.match(/^\s*[0-9]+\s*$/))throw new $a("Invalid number of arguments: "+se);ae=parseInt(se),V=c.consumeArg().tokens}return c.macros.set(Z,{tokens:V,numArgs:ae}),""},"newcommand"),le("\\newcommand",c=>Qu(c,!1,!0)),le("\\renewcommand",c=>Qu(c,!0,!1)),le("\\providecommand",c=>Qu(c,!0,!0)),le("\\message",c=>{var q=c.consumeArgs(1)[0];return console.log(q.reverse().map(c=>c.text).join("")),""}),le("\\errmessage",c=>{var q=c.consumeArgs(1)[0];return console.error(q.reverse().map(c=>c.text).join("")),""}),le("\\show",c=>{var q=c.popToken(),Y=q.text;return console.log(q,c.macros.get(Y),$u[Y],so.math[Y],so.text[Y]),""}),le("\\bgroup","{"),le("\\egroup","}"),le("~","\\nobreakspace"),le("\\lq","`"),le("\\rq","'"),le("\\aa","\\r a"),le("\\AA","\\r A"),le("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),le("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),le("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),le("ℬ","\\mathscr{B}"),le("ℰ","\\mathscr{E}"),le("ℱ","\\mathscr{F}"),le("ℋ","\\mathscr{H}"),le("ℐ","\\mathscr{I}"),le("ℒ","\\mathscr{L}"),le("ℳ","\\mathscr{M}"),le("ℛ","\\mathscr{R}"),le("ℭ","\\mathfrak{C}"),le("ℌ","\\mathfrak{H}"),le("ℨ","\\mathfrak{Z}"),le("\\Bbbk","\\Bbb{k}"),le("·","\\cdotp"),le("\\llap","\\mathllap{\\textrm{#1}}"),le("\\rlap","\\mathrlap{\\textrm{#1}}"),le("\\clap","\\mathclap{\\textrm{#1}}"),le("\\mathstrut","\\vphantom{(}"),le("\\underbar","\\underline{\\text{#1}}"),le("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),le("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),le("\\ne","\\neq"),le("≠","\\neq"),le("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),le("∉","\\notin"),le("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),le("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),le("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),le("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),le("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),le("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),le("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),le("⟂","\\perp"),le("‼","\\mathclose{!\\mkern-0.8mu!}"),le("∌","\\notni"),le("⌜","\\ulcorner"),le("⌝","\\urcorner"),le("⌞","\\llcorner"),le("⌟","\\lrcorner"),le("©","\\copyright"),le("®","\\textregistered"),le("️","\\textregistered"),le("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),le("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),le("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),le("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),le("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),le("⋮","\\vdots"),le("\\varGamma","\\mathit{\\Gamma}"),le("\\varDelta","\\mathit{\\Delta}"),le("\\varTheta","\\mathit{\\Theta}"),le("\\varLambda","\\mathit{\\Lambda}"),le("\\varXi","\\mathit{\\Xi}"),le("\\varPi","\\mathit{\\Pi}"),le("\\varSigma","\\mathit{\\Sigma}"),le("\\varUpsilon","\\mathit{\\Upsilon}"),le("\\varPhi","\\mathit{\\Phi}"),le("\\varPsi","\\mathit{\\Psi}"),le("\\varOmega","\\mathit{\\Omega}"),le("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),le("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),le("\\boxed","\\fbox{$\\displaystyle{#1}$}"),le("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),le("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),le("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),Zu={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"},le("\\dots",function(c){var q="\\dotso",Y=c.expandAfterFuture().text;return Y in Zu?q=Zu[Y]:("\\not"===Y.slice(0,4)||Y in so.math&&Za.contains(["bin","rel"],so.math[Y].group))&&(q="\\dotsb"),q}),rd={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0},le("\\dotso",function(c){return c.future().text in rd?"\\ldots\\,":"\\ldots"}),le("\\dotsc",function(c){var q=c.future().text;return q in rd&&","!==q?"\\ldots\\,":"\\ldots"}),le("\\cdots",function(c){return c.future().text in rd?"\\@cdots\\,":"\\@cdots"}),le("\\dotsb","\\cdots"),le("\\dotsm","\\cdots"),le("\\dotsi","\\!\\cdots"),le("\\dotsx","\\ldots\\,"),le("\\DOTSI","\\relax"),le("\\DOTSB","\\relax"),le("\\DOTSX","\\relax"),le("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),le("\\,","\\tmspace+{3mu}{.1667em}"),le("\\thinspace","\\,"),le("\\>","\\mskip{4mu}"),le("\\:","\\tmspace+{4mu}{.2222em}"),le("\\medspace","\\:"),le("\\;","\\tmspace+{5mu}{.2777em}"),le("\\thickspace","\\;"),le("\\!","\\tmspace-{3mu}{.1667em}"),le("\\negthinspace","\\!"),le("\\negmedspace","\\tmspace-{4mu}{.2222em}"),le("\\negthickspace","\\tmspace-{5mu}{.277em}"),le("\\enspace","\\kern.5em "),le("\\enskip","\\hskip.5em\\relax"),le("\\quad","\\hskip1em\\relax"),le("\\qquad","\\hskip2em\\relax"),le("\\tag","\\@ifstar\\tag@literal\\tag@paren"),le("\\tag@paren","\\tag@literal{({#1})}"),le("\\tag@literal",c=>{if(c.macros.get("\\df@tag"))throw new $a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),le("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),le("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),le("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),le("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),le("\\newline","\\\\\\relax"),le("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),le("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+(nd=zs(Cs["Main-Regular"][84][1]-.7*Cs["Main-Regular"][65][1]))+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),le("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+nd+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),le("\\hspace","\\@ifstar\\@hspacer\\@hspace"),le("\\@hspace","\\hskip #1\\relax"),le("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),le("\\ordinarycolon",":"),le("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),le("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),le("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),le("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),le("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),le("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),le("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),le("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),le("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),le("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),le("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),le("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),le("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),le("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),le("∷","\\dblcolon"),le("∹","\\eqcolon"),le("≔","\\coloneqq"),le("≕","\\eqqcolon"),le("⩴","\\Coloneqq"),le("\\ratio","\\vcentcolon"),le("\\coloncolon","\\dblcolon"),le("\\colonequals","\\coloneqq"),le("\\coloncolonequals","\\Coloneqq"),le("\\equalscolon","\\eqqcolon"),le("\\equalscoloncolon","\\Eqqcolon"),le("\\colonminus","\\coloneq"),le("\\coloncolonminus","\\Coloneq"),le("\\minuscolon","\\eqcolon"),le("\\minuscoloncolon","\\Eqcolon"),le("\\coloncolonapprox","\\Colonapprox"),le("\\coloncolonsim","\\Colonsim"),le("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),le("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),le("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),le("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),le("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),le("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),le("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),le("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),le("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),le("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),le("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),le("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),le("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),le("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),le("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),le("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),le("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),le("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),le("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),le("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),le("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),le("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),le("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),le("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),le("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),le("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),le("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),le("\\imath","\\html@mathml{\\@imath}{ı}"),le("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),le("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),le("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),le("⟦","\\llbracket"),le("⟧","\\rrbracket"),le("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),le("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),le("⦃","\\lBrace"),le("⦄","\\rBrace"),le("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),le("⦵","\\minuso"),le("\\darr","\\downarrow"),le("\\dArr","\\Downarrow"),le("\\Darr","\\Downarrow"),le("\\lang","\\langle"),le("\\rang","\\rangle"),le("\\uarr","\\uparrow"),le("\\uArr","\\Uparrow"),le("\\Uarr","\\Uparrow"),le("\\N","\\mathbb{N}"),le("\\R","\\mathbb{R}"),le("\\Z","\\mathbb{Z}"),le("\\alef","\\aleph"),le("\\alefsym","\\aleph"),le("\\Alpha","\\mathrm{A}"),le("\\Beta","\\mathrm{B}"),le("\\bull","\\bullet"),le("\\Chi","\\mathrm{X}"),le("\\clubs","\\clubsuit"),le("\\cnums","\\mathbb{C}"),le("\\Complex","\\mathbb{C}"),le("\\Dagger","\\ddagger"),le("\\diamonds","\\diamondsuit"),le("\\empty","\\emptyset"),le("\\Epsilon","\\mathrm{E}"),le("\\Eta","\\mathrm{H}"),le("\\exist","\\exists"),le("\\harr","\\leftrightarrow"),le("\\hArr","\\Leftrightarrow"),le("\\Harr","\\Leftrightarrow"),le("\\hearts","\\heartsuit"),le("\\image","\\Im"),le("\\infin","\\infty"),le("\\Iota","\\mathrm{I}"),le("\\isin","\\in"),le("\\Kappa","\\mathrm{K}"),le("\\larr","\\leftarrow"),le("\\lArr","\\Leftarrow"),le("\\Larr","\\Leftarrow"),le("\\lrarr","\\leftrightarrow"),le("\\lrArr","\\Leftrightarrow"),le("\\Lrarr","\\Leftrightarrow"),le("\\Mu","\\mathrm{M}"),le("\\natnums","\\mathbb{N}"),le("\\Nu","\\mathrm{N}"),le("\\Omicron","\\mathrm{O}"),le("\\plusmn","\\pm"),le("\\rarr","\\rightarrow"),le("\\rArr","\\Rightarrow"),le("\\Rarr","\\Rightarrow"),le("\\real","\\Re"),le("\\reals","\\mathbb{R}"),le("\\Reals","\\mathbb{R}"),le("\\Rho","\\mathrm{P}"),le("\\sdot","\\cdot"),le("\\sect","\\S"),le("\\spades","\\spadesuit"),le("\\sub","\\subset"),le("\\sube","\\subseteq"),le("\\supe","\\supseteq"),le("\\Tau","\\mathrm{T}"),le("\\thetasym","\\vartheta"),le("\\weierp","\\wp"),le("\\Zeta","\\mathrm{Z}"),le("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),le("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),le("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),le("\\bra","\\mathinner{\\langle{#1}|}"),le("\\ket","\\mathinner{|{#1}\\rangle}"),le("\\braket","\\mathinner{\\langle{#1}\\rangle}"),le("\\Bra","\\left\\langle#1\\right|"),le("\\Ket","\\left|#1\\right\\rangle"),le("\\bra@ket",(id=o(c=>q=>{var Y=q.consumeArg().tokens,V=q.consumeArg().tokens,Z=q.consumeArg().tokens,re=q.consumeArg().tokens,ae=q.macros.get("|"),se=q.macros.get("\\|");q.macros.beginGroup();var oe=o(q=>Y=>{c&&(Y.macros.set("|",ae),Z.length&&Y.macros.set("\\|",se));var re=q;!q&&Z.length&&("|"===Y.future().text&&(Y.popToken(),re=!0));return{tokens:re?Z:V,numArgs:0}},"midMacro");q.macros.set("|",oe(!1)),Z.length&&q.macros.set("\\|",oe(!0));var he=q.consumeArg().tokens,de=q.expandTokens([...re,...he,...Y]);return q.macros.endGroup(),{tokens:de.reverse(),numArgs:0}},"braketHelper"))(!1)),le("\\bra@set",id(!0)),le("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),le("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),le("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),le("\\angln","{\\angl n}"),le("\\blue","\\textcolor{##6495ed}{#1}"),le("\\orange","\\textcolor{##ffa500}{#1}"),le("\\pink","\\textcolor{##ff00af}{#1}"),le("\\red","\\textcolor{##df0030}{#1}"),le("\\green","\\textcolor{##28ae7b}{#1}"),le("\\gray","\\textcolor{gray}{#1}"),le("\\purple","\\textcolor{##9d38bd}{#1}"),le("\\blueA","\\textcolor{##ccfaff}{#1}"),le("\\blueB","\\textcolor{##80f6ff}{#1}"),le("\\blueC","\\textcolor{##63d9ea}{#1}"),le("\\blueD","\\textcolor{##11accd}{#1}"),le("\\blueE","\\textcolor{##0c7f99}{#1}"),le("\\tealA","\\textcolor{##94fff5}{#1}"),le("\\tealB","\\textcolor{##26edd5}{#1}"),le("\\tealC","\\textcolor{##01d1c1}{#1}"),le("\\tealD","\\textcolor{##01a995}{#1}"),le("\\tealE","\\textcolor{##208170}{#1}"),le("\\greenA","\\textcolor{##b6ffb0}{#1}"),le("\\greenB","\\textcolor{##8af281}{#1}"),le("\\greenC","\\textcolor{##74cf70}{#1}"),le("\\greenD","\\textcolor{##1fab54}{#1}"),le("\\greenE","\\textcolor{##0d923f}{#1}"),le("\\goldA","\\textcolor{##ffd0a9}{#1}"),le("\\goldB","\\textcolor{##ffbb71}{#1}"),le("\\goldC","\\textcolor{##ff9c39}{#1}"),le("\\goldD","\\textcolor{##e07d10}{#1}"),le("\\goldE","\\textcolor{##a75a05}{#1}"),le("\\redA","\\textcolor{##fca9a9}{#1}"),le("\\redB","\\textcolor{##ff8482}{#1}"),le("\\redC","\\textcolor{##f9685d}{#1}"),le("\\redD","\\textcolor{##e84d39}{#1}"),le("\\redE","\\textcolor{##bc2612}{#1}"),le("\\maroonA","\\textcolor{##ffbde0}{#1}"),le("\\maroonB","\\textcolor{##ff92c6}{#1}"),le("\\maroonC","\\textcolor{##ed5fa6}{#1}"),le("\\maroonD","\\textcolor{##ca337c}{#1}"),le("\\maroonE","\\textcolor{##9e034e}{#1}"),le("\\purpleA","\\textcolor{##ddd7ff}{#1}"),le("\\purpleB","\\textcolor{##c6b9fc}{#1}"),le("\\purpleC","\\textcolor{##aa87ff}{#1}"),le("\\purpleD","\\textcolor{##7854ab}{#1}"),le("\\purpleE","\\textcolor{##543b78}{#1}"),le("\\mintA","\\textcolor{##f5f9e8}{#1}"),le("\\mintB","\\textcolor{##edf2df}{#1}"),le("\\mintC","\\textcolor{##e0e5cc}{#1}"),le("\\grayA","\\textcolor{##f6f7f7}{#1}"),le("\\grayB","\\textcolor{##f0f1f2}{#1}"),le("\\grayC","\\textcolor{##e3e5e6}{#1}"),le("\\grayD","\\textcolor{##d6d8da}{#1}"),le("\\grayE","\\textcolor{##babec2}{#1}"),le("\\grayF","\\textcolor{##888d93}{#1}"),le("\\grayG","\\textcolor{##626569}{#1}"),le("\\grayH","\\textcolor{##3b3e40}{#1}"),le("\\grayI","\\textcolor{##21242c}{#1}"),le("\\kaBlue","\\textcolor{##314453}{#1}"),le("\\kaGreen","\\textcolor{##71B307}{#1}"),ad={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},sd=class{static{o(this,"MacroExpander")}constructor(c,q,Y){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=q,this.expansionCount=0,this.feed(c),this.macros=new Vu(Xu,q.macros),this.mode=Y,this.stack=[]}feed(c){this.lexer=new Hu(c,this.settings)}switchMode(c){this.mode=c}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(c){this.stack.push(c)}pushTokens(c){this.stack.push(...c)}scanArgument(c){var q,Y,V;if(c){if(this.consumeSpaces(),"["!==this.future().text)return null;q=this.popToken(),({tokens:V,end:Y}=this.consumeArg(["]"]))}else({tokens:V,start:q,end:Y}=this.consumeArg());return this.pushToken(new Fa("EOF",Y.loc)),this.pushTokens(V),q.range(Y,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(c){var q=[],Y=c&&c.length>0;Y||this.consumeSpaces();var V,Z=this.future(),re=0,ae=0;do{if(V=this.popToken(),q.push(V),"{"===V.text)++re;else if("}"===V.text){if(-1===--re)throw new $a("Extra }",V)}else if("EOF"===V.text)throw new $a("Unexpected end of input in a macro argument, expected '"+(c&&Y?c[ae]:"}")+"'",V);if(c&&Y)if((0===re||1===re&&"{"===c[ae])&&V.text===c[ae]){if(++ae===c.length){q.splice(-ae,ae);break}}else ae=0}while(0!==re||Y);return"{"===Z.text&&"}"===q[q.length-1].text&&(q.pop(),q.shift()),q.reverse(),{tokens:q,start:Z,end:V}}consumeArgs(c,q){if(q){if(q.length!==c+1)throw new $a("The length of delimiters doesn't match the number of args!");for(var Y=q[0],V=0;V<Y.length;V++){var Z=this.popToken();if(Y[V]!==Z.text)throw new $a("Use of the macro doesn't match its definition",Z)}}for(var re=[],ae=0;ae<c;ae++)re.push(this.consumeArg(q&&q[ae+1]).tokens);return re}countExpansion(c){if(this.expansionCount+=c,this.expansionCount>this.settings.maxExpand)throw new $a("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(c){var q=this.popToken(),Y=q.text,V=q.noexpand?null:this._getExpansion(Y);if(null==V||c&&V.unexpandable){if(c&&null==V&&"\\"===Y[0]&&!this.isDefined(Y))throw new $a("Undefined control sequence: "+Y);return this.pushToken(q),!1}this.countExpansion(1);var Z=V.tokens,re=this.consumeArgs(V.numArgs,V.delimiters);if(V.numArgs)for(var ae=(Z=Z.slice()).length-1;ae>=0;--ae){var se=Z[ae];if("#"===se.text){if(0===ae)throw new $a("Incomplete placeholder at end of macro body",se);if("#"===(se=Z[--ae]).text)Z.splice(ae+1,1);else{if(!/^[1-9]$/.test(se.text))throw new $a("Not a valid argument number",se);Z.splice(ae,2,...re[+se.text-1])}}}return this.pushTokens(Z),Z.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var c=this.stack.pop();return c.treatAsRelax&&(c.text="\\relax"),c}throw new Error}expandMacro(c){return this.macros.has(c)?this.expandTokens([new Fa(c)]):void 0}expandTokens(c){var q=[],Y=this.stack.length;for(this.pushTokens(c);this.stack.length>Y;)if(!1===this.expandOnce(!0)){var V=this.stack.pop();V.treatAsRelax&&(V.noexpand=!1,V.treatAsRelax=!1),q.push(V)}return this.countExpansion(q.length),q}expandMacroAsText(c){var q=this.expandMacro(c);return q&&q.map(c=>c.text).join("")}_getExpansion(c){var q=this.macros.get(c);if(null==q)return q;if(1===c.length){var Y=this.lexer.catcodes[c];if(null!=Y&&13!==Y)return}var V="function"==typeof q?q(this):q;if("string"==typeof V){var Z=0;if(-1!==V.indexOf("#"))for(var re=V.replace(/##/g,"");-1!==re.indexOf("#"+(Z+1));)++Z;for(var ae=new Hu(V,this.settings),se=[],oe=ae.lex();"EOF"!==oe.text;)se.push(oe),oe=ae.lex();return se.reverse(),{tokens:se,numArgs:Z}}return V}isDefined(c){return this.macros.has(c)||$u.hasOwnProperty(c)||so.math.hasOwnProperty(c)||so.text.hasOwnProperty(c)||ad.hasOwnProperty(c)}isExpandable(c){var q=this.macros.get(c);return null!=q?"string"==typeof q||"function"==typeof q||!q.unexpandable:$u.hasOwnProperty(c)&&!$u[c].primitive}},ld=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,cd=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),dd={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},pd={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},(gd=class t{static{o(this,"Parser")}constructor(c,q){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new sd(c,q,this.mode),this.settings=q,this.leftrightDepth=0}expect(c,q){if(void 0===q&&(q=!0),this.fetch().text!==c)throw new $a("Expected '"+c+"', got '"+this.fetch().text+"'",this.fetch());q&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(c){this.mode=c,this.gullet.switchMode(c)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var c=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),c}finally{this.gullet.endGroups()}}subparse(c){var q=this.nextToken;this.consume(),this.gullet.pushToken(new Fa("}")),this.gullet.pushTokens(c);var Y=this.parseExpression(!1);return this.expect("}"),this.nextToken=q,Y}parseExpression(c,q){for(var Y=[];;){"math"===this.mode&&this.consumeSpaces();var V=this.fetch();if(-1!==t.endOfExpression.indexOf(V.text)||q&&V.text===q||c&&$u[V.text]&&$u[V.text].infix)break;var Z=this.parseAtom(q);if(!Z)break;"internal"!==Z.type&&Y.push(Z)}return"text"===this.mode&&this.formLigatures(Y),this.handleInfixNodes(Y)}handleInfixNodes(c){for(var q,Y=-1,V=0;V<c.length;V++)if("infix"===c[V].type){if(-1!==Y)throw new $a("only one infix operator per group",c[V].token);Y=V,q=c[V].replaceWith}if(-1!==Y&&q){var Z,re,ae=c.slice(0,Y),se=c.slice(Y+1);return Z=1===ae.length&&"ordgroup"===ae[0].type?ae[0]:{type:"ordgroup",mode:this.mode,body:ae},re=1===se.length&&"ordgroup"===se[0].type?se[0]:{type:"ordgroup",mode:this.mode,body:se},["\\\\abovefrac"===q?this.callFunction(q,[Z,c[Y],re],[]):this.callFunction(q,[Z,re],[])]}return c}handleSupSubscript(c){var q=this.fetch(),Y=q.text;this.consume(),this.consumeSpaces();var V=this.parseGroup(c);if(!V)throw new $a("Expected group after '"+Y+"'",q);return V}formatUnsupportedCmd(c){for(var q=[],Y=0;Y<c.length;Y++)q.push({type:"textord",mode:"text",text:c[Y]});var V={type:"text",mode:this.mode,body:q};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[V]}}parseAtom(c){var q,Y,V=this.parseGroup("atom",c);if("text"===this.mode)return V;for(;;){this.consumeSpaces();var Z=this.fetch();if("\\limits"===Z.text||"\\nolimits"===Z.text){if(V&&"op"===V.type){var re="\\limits"===Z.text;V.limits=re,V.alwaysHandleSupSub=!0}else{if(!V||"operatorname"!==V.type)throw new $a("Limit controls must follow a math operator",Z);V.alwaysHandleSupSub&&(V.limits="\\limits"===Z.text)}this.consume()}else if("^"===Z.text){if(q)throw new $a("Double superscript",Z);q=this.handleSupSubscript("superscript")}else if("_"===Z.text){if(Y)throw new $a("Double subscript",Z);Y=this.handleSupSubscript("subscript")}else if("'"===Z.text){if(q)throw new $a("Double superscript",Z);var ae={type:"textord",mode:this.mode,text:"\\prime"},se=[ae];for(this.consume();"'"===this.fetch().text;)se.push(ae),this.consume();"^"===this.fetch().text&&se.push(this.handleSupSubscript("superscript")),q={type:"ordgroup",mode:this.mode,body:se}}else{if(!cd[Z.text])break;var oe=ld.test(Z.text),he=[];for(he.push(new Fa(cd[Z.text])),this.consume();;){var de=this.fetch().text;if(!cd[de]||ld.test(de)!==oe)break;he.unshift(new Fa(cd[de])),this.consume()}var pe=this.subparse(he);oe?Y={type:"ordgroup",mode:"math",body:pe}:q={type:"ordgroup",mode:"math",body:pe}}}return q||Y?{type:"supsub",mode:this.mode,base:V,sup:q,sub:Y}:V}parseFunction(c,q){var Y=this.fetch(),V=Y.text,Z=$u[V];if(!Z)return null;if(this.consume(),q&&"atom"!==q&&!Z.allowedInArgument)throw new $a("Got function '"+V+"' with no arguments"+(q?" as "+q:""),Y);if("text"===this.mode&&!Z.allowedInText)throw new $a("Can't use function '"+V+"' in text mode",Y);if("math"===this.mode&&!1===Z.allowedInMath)throw new $a("Can't use function '"+V+"' in math mode",Y);var{args:re,optArgs:ae}=this.parseArguments(V,Z);return this.callFunction(V,re,ae,Y,c)}callFunction(c,q,Y,V,Z){var re={funcName:c,parser:this,token:V,breakOnTokenText:Z},ae=$u[c];if(ae&&ae.handler)return ae.handler(re,q,Y);throw new $a("No function handler for "+c)}parseArguments(c,q){var Y=q.numArgs+q.numOptionalArgs;if(0===Y)return{args:[],optArgs:[]};for(var V=[],Z=[],re=0;re<Y;re++){var ae=q.argTypes&&q.argTypes[re],se=re<q.numOptionalArgs;(q.primitive&&null==ae||"sqrt"===q.type&&1===re&&null==Z[0])&&(ae="primitive");var oe=this.parseGroupOfType("argument to '"+c+"'",ae,se);if(se)Z.push(oe);else{if(null==oe)throw new $a("Null argument, please report this as a bug");V.push(oe)}}return{args:V,optArgs:Z}}parseGroupOfType(c,q,Y){switch(q){case"color":return this.parseColorGroup(Y);case"size":return this.parseSizeGroup(Y);case"url":return this.parseUrlGroup(Y);case"math":case"text":return this.parseArgumentGroup(Y,q);case"hbox":var V=this.parseArgumentGroup(Y,"text");return null!=V?{type:"styling",mode:V.mode,body:[V],style:"text"}:null;case"raw":var Z=this.parseStringGroup("raw",Y);return null!=Z?{type:"raw",mode:"text",string:Z.text}:null;case"primitive":if(Y)throw new $a("A primitive argument cannot be optional");var re=this.parseGroup(c);if(null==re)throw new $a("Expected group as "+c,this.fetch());return re;case"original":case null:case void 0:return this.parseArgumentGroup(Y);default:throw new $a("Unknown group type as "+c,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(c,q){var Y=this.gullet.scanArgument(q);if(null==Y)return null;for(var V,Z="";"EOF"!==(V=this.fetch()).text;)Z+=V.text,this.consume();return this.consume(),Y.text=Z,Y}parseRegexGroup(c,q){for(var Y,V=this.fetch(),Z=V,re="";"EOF"!==(Y=this.fetch()).text&&c.test(re+Y.text);)re+=(Z=Y).text,this.consume();if(""===re)throw new $a("Invalid "+q+": '"+V.text+"'",V);return V.range(Z,re)}parseColorGroup(c){var q=this.parseStringGroup("color",c);if(null==q)return null;var Y=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(q.text);if(!Y)throw new $a("Invalid color: '"+q.text+"'",q);var V=Y[0];return/^[0-9a-f]{6}$/i.test(V)&&(V="#"+V),{type:"color-token",mode:this.mode,color:V}}parseSizeGroup(c){var q,Y=!1;if(this.gullet.consumeSpaces(),!(q=c||"{"===this.gullet.future().text?this.parseStringGroup("size",c):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;!c&&0===q.text.length&&(q.text="0pt",Y=!0);var V=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(q.text);if(!V)throw new $a("Invalid size: '"+q.text+"'",q);var Z={number:+(V[1]+V[2]),unit:V[3]};if(!Fs(Z))throw new $a("Invalid unit: '"+Z.unit+"'",q);return{type:"size",mode:this.mode,value:Z,isBlank:Y}}parseUrlGroup(c){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var q=this.parseStringGroup("url",c);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==q)return null;var Y=q.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:Y}}parseArgumentGroup(c,q){var Y=this.gullet.scanArgument(c);if(null==Y)return null;var V=this.mode;q&&this.switchMode(q),this.gullet.beginGroup();var Z=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var re={type:"ordgroup",mode:this.mode,loc:Y.loc,body:Z};return q&&this.switchMode(V),re}parseGroup(c,q){var Y,V=this.fetch(),Z=V.text;if("{"===Z||"\\begingroup"===Z){this.consume();var re="{"===Z?"}":"\\endgroup";this.gullet.beginGroup();var ae=this.parseExpression(!1,re),se=this.fetch();this.expect(re),this.gullet.endGroup(),Y={type:"ordgroup",mode:this.mode,loc:Ba.range(V,se),body:ae,semisimple:"\\begingroup"===Z||void 0}}else if(null==(Y=this.parseFunction(q,c)||this.parseSymbol())&&"\\"===Z[0]&&!ad.hasOwnProperty(Z)){if(this.settings.throwOnError)throw new $a("Undefined control sequence: "+Z,V);Y=this.formatUnsupportedCmd(Z),this.consume()}return Y}formLigatures(c){for(var q=c.length-1,Y=0;Y<q;++Y){var V=c[Y],Z=V.text;"-"===Z&&"-"===c[Y+1].text&&(Y+1<q&&"-"===c[Y+2].text?(c.splice(Y,3,{type:"textord",mode:"text",loc:Ba.range(V,c[Y+2]),text:"---"}),q-=2):(c.splice(Y,2,{type:"textord",mode:"text",loc:Ba.range(V,c[Y+1]),text:"--"}),q-=1)),("'"===Z||"`"===Z)&&c[Y+1].text===Z&&(c.splice(Y,2,{type:"textord",mode:"text",loc:Ba.range(V,c[Y+1]),text:Z+Z}),q-=1)}}parseSymbol(){var c=this.fetch(),q=c.text;if(/^\\verb[^a-zA-Z]/.test(q)){this.consume();var Y=q.slice(5),V="*"===Y.charAt(0);if(V&&(Y=Y.slice(1)),Y.length<2||Y.charAt(0)!==Y.slice(-1))throw new $a("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:Y=Y.slice(1,-1),star:V}}pd.hasOwnProperty(q[0])&&!so[this.mode][q[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+q[0]+'" used in math mode',c),q=pd[q[0]]+q.slice(1));var Z,re=ju.exec(q);if(re&&("i"===(q=q.substring(0,re.index))?q="ı":"j"===q&&(q="ȷ")),so[this.mode][q]){this.settings.strict&&"math"===this.mode&&Yo.indexOf(q)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+q[0]+'" used in math mode',c);var ae,se=so[this.mode][q].group,oe=Ba.range(c);if(no.hasOwnProperty(se)){var he=se;ae={type:"atom",mode:this.mode,family:he,loc:oe,text:q}}else ae={type:se,mode:this.mode,loc:oe,text:q};Z=ae}else{if(!(q.charCodeAt(0)>=128))return null;this.settings.strict&&(BG(q.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+q[0]+'" used in math mode',c):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+q[0]+'" ('+q.charCodeAt(0)+")",c)),Z={type:"textord",mode:"text",loc:Ba.range(c),text:q}}if(this.consume(),re)for(var de=0;de<re[0].length;de++){var pe=re[0][de];if(!dd[pe])throw new $a("Unknown accent ' "+pe+"'",c);var ge=dd[pe][this.mode]||dd[pe].text;if(!ge)throw new $a("Accent "+pe+" unsupported in "+this.mode+" mode",c);Z={type:"accent",mode:this.mode,loc:Ba.range(c),label:ge,isStretchy:!1,isShifty:!0,base:Z}}return Z}}).endOfExpression=["}","\\endgroup","\\end","\\right","&"],fd=o(function(c,q){if(!("string"==typeof c||c instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var Y=new gd(c,q);delete Y.gullet.macros.current["\\df@tag"];var V=Y.parse();if(delete Y.gullet.macros.current["\\current@color"],delete Y.gullet.macros.current["\\color"],Y.gullet.macros.get("\\df@tag")){if(!q.displayMode)throw new $a("\\tag works only in display equations");V=[{type:"tag",mode:"text",body:V,tag:Y.subparse([new Fa("\\df@tag")])}]}return V},"parseTree"),md=o(function(c,q,Y){q.textContent="";var V=bd(c,Y).toNode();q.appendChild(V)},"render"),typeof document<"u"&&"CSS1Compat"!==document.compatMode&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),md=o(function(){throw new $a("KaTeX doesn't work in quirks mode.")},"render")),yd=o(function(c,q){return bd(c,q).toMarkup()},"renderToString"),vd=o(function(c,q){var Y=new es(q);return fd(c,Y)},"generateParseTree"),xd=o(function(c,q,Y){if(Y.throwOnError||!(c instanceof $a))throw c;var V=Cl.makeSpan(["katex-error"],[new Qs(q)]);return V.setAttribute("title",c.toString()),V.setAttribute("style","color:"+Y.errorColor),V},"renderError"),bd=o(function(c,q){var Y=new es(q);try{var V=fd(c,Y);return mc(V,c,Y)}catch(q){return xd(q,c,Y)}},"renderToDomTree"),wd=o(function(c,q){var Y=new es(q);try{var V=fd(c,Y);return vc(V,c,Y)}catch(q){return xd(q,c,Y)}},"renderToHTMLTree"),kd={version:"0.16.11",render:md,renderToString:yd,ParseError:$a,SETTINGS_SCHEMA:Ja,__parse:vd,__renderToDomTree:bd,__renderToHTMLTree:wd,__setFontMetrics:Qbe,__defineSymbol:G,__defineFunction:Ct,__defineMacro:le,__domTree:{Span:Ys,Anchor:Hs,SymbolNode:Qs,SvgNode:Zs,PathNode:to,LineNode:ro}}});function x3e(){let c="data-temp-href-target";Da.addHook("beforeSanitizeAttributes",q=>{q instanceof Element&&"A"===q.tagName&&q.hasAttribute("target")&&q.setAttribute(c,q.getAttribute("target")??"")}),Da.addHook("afterSanitizeAttributes",q=>{q instanceof Element&&"A"===q.tagName&&q.hasAttribute(c)&&(q.setAttribute("target",q.getAttribute(c)??""),q.removeAttribute(c),"_blank"===q.getAttribute("target")&&q.setAttribute("rel","noopener"))})}var Ed,Ad,Ld,Nd,Id,Md,Rd,Dd,Od,Pd,Bd,$d,zd,Gd,jd,Wd,Kd,ep,tp,rp,np,ip,ap,sp,op,lp,cp,hp,up,dp,pp,fp,mp,bp=M(()=>{Oa(),Ed=/<br\s*\/?>/gi,Ad=o(c=>c?Bd(c).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Ld=(()=>{let c=!1;return()=>{c||(x3e(),c=!0)}})(),o(x3e,"setupDompurifyHooks"),Nd=o(c=>(Ld(),Da.sanitize(c)),"removeScript"),Id=o((c,q)=>{if(!1!==q.flowchart?.htmlLabels){let Y=q.securityLevel;"antiscript"===Y||"strict"===Y?c=Nd(c):"loose"!==Y&&(c=(c=(c=Bd(c)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),c=Pd(c))}return c},"sanitizeMore"),Md=o((c,q)=>c&&(c=q.dompurifyConfig?Da.sanitize(Id(c,q),q.dompurifyConfig).toString():Da.sanitize(Id(c,q),{FORBID_TAGS:["style"]}).toString()),"sanitizeText"),Rd=o((c,q)=>"string"==typeof c?Md(c,q):c.flat().map(c=>Md(c,q)),"sanitizeTextOrArray"),Dd=o(c=>Ed.test(c),"hasBreaks"),Od=o(c=>c.split(Ed),"splitBreaks"),Pd=o(c=>c.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Bd=o(c=>c.replace(Ed,"#br#"),"breakToPlaceholder"),$d=o(c=>{let q="";return c&&(q=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,q=q.replaceAll(/\(/g,"\\("),q=q.replaceAll(/\)/g,"\\)")),q},"getUrl"),zd=o(c=>!(!1===c||["false","null","0"].includes(String(c).trim().toLowerCase())),"evaluate"),Gd=o(function(...c){let q=c.filter(c=>!isNaN(c));return Math.max(...q)},"getMax"),jd=o(function(...c){let q=c.filter(c=>!isNaN(c));return Math.min(...q)},"getMin"),Wd=o(function(c){let q=c.split(/(,)/),Y=[];for(let c=0;c<q.length;c++){let V=q[c];if(","===V&&c>0&&c+1<q.length){let Z=q[c-1],re=q[c+1];ep(Z,re)&&(V=Z+","+re,c++,Y.pop())}Y.push(tp(V))}return Y.join("")},"parseGenericTypes"),Kd=o((c,q)=>Math.max(0,c.split(q).length-1),"countOccurrence"),ep=o((c,q)=>{let Y=Kd(c,"~"),V=Kd(q,"~");return 1===Y&&1===V},"shouldCombineSets"),tp=o(c=>{let q=Kd(c,"~"),Y=!1;if(q<=1)return c;q%2!=0&&c.startsWith("~")&&(c=c.substring(1),Y=!0);let V=[...c],Z=V.indexOf("~"),re=V.lastIndexOf("~");for(;-1!==Z&&-1!==re&&Z!==re;)V[Z]="<",V[re]=">",Z=V.indexOf("~"),re=V.lastIndexOf("~");return Y&&V.unshift("~"),V.join("")},"processSet"),rp=o(()=>void 0!==window.MathMLElement,"isMathMLSupported"),np=/\$\$(.*)\$\$/g,ip=o(c=>(c.match(np)?.length??0)>0,"hasKatex"),ap=o(async(c,q)=>{c=await sp(c,q);let Y=document.createElement("div");Y.innerHTML=c,Y.id="katex-temp",Y.style.visibility="hidden",Y.style.position="absolute",Y.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",Y);let V={width:Y.clientWidth,height:Y.clientHeight};return Y.remove(),V},"calculateMathMLDimensions"),sp=o(async(c,q)=>{if(!ip(c))return c;if(!(rp()||q.legacyMathML||q.forceLegacyMathML))return c.replace(np,"MathML is unsupported in this environment.");let{default:Y}=await Promise.resolve().then(()=>(Td(),Pa)),V=q.forceLegacyMathML||!rp()&&q.legacyMathML?"htmlAndMathml":"mathml";return c.split(Ed).map(c=>ip(c)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${c}</div>`:`<div>${c}</div>`).join("").replace(np,(c,q)=>Y.renderToString(q,{throwOnError:!0,displayMode:!0,output:V}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),op={getRows:Ad,sanitizeText:Md,sanitizeTextOrArray:Rd,hasBreaks:Dd,splitBreaks:Od,lineBreakRegex:Ed,removeScript:Nd,getUrl:$d,evaluate:zd,getMax:Gd,getMin:jd}}),kp=M(()=>{Ae(),lp=o(function(c,q){for(let Y of q)c.attr(Y[0],Y[1])},"d3Attrs"),cp=o(function(c,q,Y){let V=new Map;return Y?(V.set("width","100%"),V.set("style",`max-width: ${q}px;`)):(V.set("height",c),V.set("width",q)),V},"calculateSvgSizeAttrs"),hp=o(function(c,q,Y,V){let Z=cp(q,Y,V);lp(c,Z)},"configureSvgSize"),up=o(function(c,q,Y,Z){let re=q.node().getBBox(),ae=re.width,se=re.height;V.info(`SVG bounds: ${ae}x${se}`,re);let oe=0,he=0;V.info(`Graph bounds: ${oe}x${he}`,c),oe=ae+2*Y,he=se+2*Y,V.info(`Calculated bounds: ${oe}x${he}`),hp(q,he,oe,Z);let de=`${re.x-Y} ${re.y-Y} ${re.width+2*Y} ${re.height+2*Y}`;q.attr("viewBox",de)},"setupGraphViewbox")}),Tp=M(()=>{Ae(),dp={},pp=o((c,q,Y)=>{let Z="";return c in dp&&dp[c]?Z=dp[c](Y):V.warn(`No theme found for ${c}`),` & {\n    font-family: ${Y.fontFamily};\n    font-size: ${Y.fontSize};\n    fill: ${Y.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${Y.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${Y.errorTextColor};\n    stroke: ${Y.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${Y.lineColor};\n    stroke: ${Y.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${Y.lineColor};\n  }\n\n  & svg {\n    font-family: ${Y.fontFamily};\n    font-size: ${Y.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${Z}\n\n  ${q}\n`},"getStyles"),fp=o((c,q)=>{void 0!==q&&(dp[c]=q)},"addStylesForDiagram"),mp=pp}),Ep={};vr(Ep,{clear:()=>Mp,getAccDescription:()=>jp,getAccTitle:()=>Fp,getDiagramTitle:()=>Wp,setAccDescription:()=>qp,setAccTitle:()=>Rp,setDiagramTitle:()=>Yp});var Cp,Ap,Np,Ip,Mp,Rp,Fp,qp,jp,Yp,Wp,Hp,Vp,Xp,Kp,Qp,Zp,Jp,tg,rg,ag,sg,og,lg,cg,hg,ug,pg,gg,fg,mg,yg,vg,xg,bg,wg,kg,Tg,_g,Eg,Cg,Sg,Ag,Lg,Ng,Mg,Rg,Dg,Og,Pg,Bg,Fg,$g,zg,Gg,Ug,qg,jg,Yg,Wg,Hg,Vg,Xg,Kg,Jg,nf,cf=M(()=>{bp(),ki(),Cp="",Ap="",Np="",Ip=o(c=>Md(c,bn()),"sanitizeText"),Mp=o(()=>{Cp="",Np="",Ap=""},"clear"),Rp=o(c=>{Cp=Ip(c).replace(/^\s+/g,"")},"setAccTitle"),Fp=o(()=>Cp,"getAccTitle"),qp=o(c=>{Np=Ip(c).replace(/\n\s+/g,"\n")},"setAccDescription"),jp=o(()=>Np,"getAccDescription"),Yp=o(c=>{Ap=Ip(c)},"setDiagramTitle"),Wp=o(()=>Ap,"getDiagramTitle")}),hf=M(()=>{In(),Ae(),ki(),bp(),kp(),Tp(),cf(),Hp=V,Vp=Z,Xp=bn,Kp=xn,Qp=on,Zp=o(c=>Md(c,Xp()),"sanitizeText"),Jp=up,tg=o(()=>Ep,"getCommonDb"),rg={},ag=o((c,q,Y)=>{rg[c]&&Hp.warn(`Diagram with id ${c} already registered. Overwriting.`),rg[c]=q,Y&&kt(c,Y),fp(c,q.styles),q.injectUtils?.(Hp,Vp,Xp,Zp,Jp,tg(),()=>{})},"registerDiagram"),sg=o(c=>{if(c in rg)return rg[c];throw new og(c)},"getDiagram"),og=class extends Error{static{o(this,"DiagramNotFoundError")}constructor(c){super(`Diagram ${c} not found.`)}}}),uf=M(()=>{hf(),bp(),cf(),lg=[],cg=[""],hg="global",ug="",pg=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],gg=[],fg="",mg=!1,yg=4,vg=2,bg=o(function(){return xg},"getC4Type"),wg=o(function(c){xg=Md(c,Xp())},"setC4Type"),kg=o(function(c,q,Y,V,Z,re,ae,se,oe){if(null==c||null==q||null==Y||null==V)return;let he={},de=gg.find(c=>c.from===q&&c.to===Y);if(de?he=de:gg.push(he),he.type=c,he.from=q,he.to=Y,he.label={text:V},null==Z)he.techn={text:""};else if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];he[c]={text:q}}else he.techn={text:Z};if(null==re)he.descr={text:""};else if("object"==typeof re){let[c,q]=Object.entries(re)[0];he[c]={text:q}}else he.descr={text:re};if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];he[c]=q}else he.sprite=ae;if("object"==typeof se){let[c,q]=Object.entries(se)[0];he[c]=q}else he.tags=se;if("object"==typeof oe){let[c,q]=Object.entries(oe)[0];he[c]=q}else he.link=oe;he.wrap=Wg()},"addRel"),Tg=o(function(c,q,Y,V,Z,re,ae){if(null===q||null===Y)return;let se={},oe=lg.find(c=>c.alias===q);if(oe&&q===oe.alias?se=oe:(se.alias=q,lg.push(se)),se.label=null==Y?{text:""}:{text:Y},null==V)se.descr={text:""};else if("object"==typeof V){let[c,q]=Object.entries(V)[0];se[c]={text:q}}else se.descr={text:V};if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];se[c]=q}else se.sprite=Z;if("object"==typeof re){let[c,q]=Object.entries(re)[0];se[c]=q}else se.tags=re;if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];se[c]=q}else se.link=ae;se.typeC4Shape={text:c},se.parentBoundary=hg,se.wrap=Wg()},"addPersonOrSystem"),_g=o(function(c,q,Y,V,Z,re,ae,se){if(null===q||null===Y)return;let oe={},he=lg.find(c=>c.alias===q);if(he&&q===he.alias?oe=he:(oe.alias=q,lg.push(oe)),oe.label=null==Y?{text:""}:{text:Y},null==V)oe.techn={text:""};else if("object"==typeof V){let[c,q]=Object.entries(V)[0];oe[c]={text:q}}else oe.techn={text:V};if(null==Z)oe.descr={text:""};else if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];oe[c]={text:q}}else oe.descr={text:Z};if("object"==typeof re){let[c,q]=Object.entries(re)[0];oe[c]=q}else oe.sprite=re;if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];oe[c]=q}else oe.tags=ae;if("object"==typeof se){let[c,q]=Object.entries(se)[0];oe[c]=q}else oe.link=se;oe.wrap=Wg(),oe.typeC4Shape={text:c},oe.parentBoundary=hg},"addContainer"),Eg=o(function(c,q,Y,V,Z,re,ae,se){if(null===q||null===Y)return;let oe={},he=lg.find(c=>c.alias===q);if(he&&q===he.alias?oe=he:(oe.alias=q,lg.push(oe)),oe.label=null==Y?{text:""}:{text:Y},null==V)oe.techn={text:""};else if("object"==typeof V){let[c,q]=Object.entries(V)[0];oe[c]={text:q}}else oe.techn={text:V};if(null==Z)oe.descr={text:""};else if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];oe[c]={text:q}}else oe.descr={text:Z};if("object"==typeof re){let[c,q]=Object.entries(re)[0];oe[c]=q}else oe.sprite=re;if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];oe[c]=q}else oe.tags=ae;if("object"==typeof se){let[c,q]=Object.entries(se)[0];oe[c]=q}else oe.link=se;oe.wrap=Wg(),oe.typeC4Shape={text:c},oe.parentBoundary=hg},"addComponent"),Cg=o(function(c,q,Y,V,Z){if(null===c||null===q)return;let re={},ae=pg.find(q=>q.alias===c);if(ae&&c===ae.alias?re=ae:(re.alias=c,pg.push(re)),re.label=null==q?{text:""}:{text:q},null==Y)re.type={text:"system"};else if("object"==typeof Y){let[c,q]=Object.entries(Y)[0];re[c]={text:q}}else re.type={text:Y};if("object"==typeof V){let[c,q]=Object.entries(V)[0];re[c]=q}else re.tags=V;if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];re[c]=q}else re.link=Z;re.parentBoundary=hg,re.wrap=Wg(),ug=hg,hg=c,cg.push(ug)},"addPersonOrSystemBoundary"),Sg=o(function(c,q,Y,V,Z){if(null===c||null===q)return;let re={},ae=pg.find(q=>q.alias===c);if(ae&&c===ae.alias?re=ae:(re.alias=c,pg.push(re)),re.label=null==q?{text:""}:{text:q},null==Y)re.type={text:"container"};else if("object"==typeof Y){let[c,q]=Object.entries(Y)[0];re[c]={text:q}}else re.type={text:Y};if("object"==typeof V){let[c,q]=Object.entries(V)[0];re[c]=q}else re.tags=V;if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];re[c]=q}else re.link=Z;re.parentBoundary=hg,re.wrap=Wg(),ug=hg,hg=c,cg.push(ug)},"addContainerBoundary"),Ag=o(function(c,q,Y,V,Z,re,ae,se){if(null===q||null===Y)return;let oe={},he=pg.find(c=>c.alias===q);if(he&&q===he.alias?oe=he:(oe.alias=q,pg.push(oe)),oe.label=null==Y?{text:""}:{text:Y},null==V)oe.type={text:"node"};else if("object"==typeof V){let[c,q]=Object.entries(V)[0];oe[c]={text:q}}else oe.type={text:V};if(null==Z)oe.descr={text:""};else if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];oe[c]={text:q}}else oe.descr={text:Z};if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];oe[c]=q}else oe.tags=ae;if("object"==typeof se){let[c,q]=Object.entries(se)[0];oe[c]=q}else oe.link=se;oe.nodeType=c,oe.parentBoundary=hg,oe.wrap=Wg(),ug=hg,hg=q,cg.push(ug)},"addDeploymentNode"),Lg=o(function(){hg=ug,cg.pop(),ug=cg.pop(),cg.push(ug)},"popBoundaryParseStack"),Ng=o(function(c,q,Y,V,Z,re,ae,se,oe,he,de){let pe=lg.find(c=>c.alias===q);if(void 0!==pe||(pe=pg.find(c=>c.alias===q),void 0!==pe)){if(null!=Y)if("object"==typeof Y){let[c,q]=Object.entries(Y)[0];pe[c]=q}else pe.bgColor=Y;if(null!=V)if("object"==typeof V){let[c,q]=Object.entries(V)[0];pe[c]=q}else pe.fontColor=V;if(null!=Z)if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];pe[c]=q}else pe.borderColor=Z;if(null!=re)if("object"==typeof re){let[c,q]=Object.entries(re)[0];pe[c]=q}else pe.shadowing=re;if(null!=ae)if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];pe[c]=q}else pe.shape=ae;if(null!=se)if("object"==typeof se){let[c,q]=Object.entries(se)[0];pe[c]=q}else pe.sprite=se;if(null!=oe)if("object"==typeof oe){let[c,q]=Object.entries(oe)[0];pe[c]=q}else pe.techn=oe;if(null!=he)if("object"==typeof he){let[c,q]=Object.entries(he)[0];pe[c]=q}else pe.legendText=he;if(null!=de)if("object"==typeof de){let[c,q]=Object.entries(de)[0];pe[c]=q}else pe.legendSprite=de}},"updateElStyle"),Mg=o(function(c,q,Y,V,Z,re,ae){let se=gg.find(c=>c.from===q&&c.to===Y);if(void 0!==se){if(null!=V)if("object"==typeof V){let[c,q]=Object.entries(V)[0];se[c]=q}else se.textColor=V;if(null!=Z)if("object"==typeof Z){let[c,q]=Object.entries(Z)[0];se[c]=q}else se.lineColor=Z;if(null!=re)if("object"==typeof re){let[c,q]=Object.entries(re)[0];se[c]=parseInt(q)}else se.offsetX=parseInt(re);if(null!=ae)if("object"==typeof ae){let[c,q]=Object.entries(ae)[0];se[c]=parseInt(q)}else se.offsetY=parseInt(ae)}},"updateRelStyle"),Rg=o(function(c,q,Y){let V=yg,Z=vg;if("object"==typeof q){let c=Object.values(q)[0];V=parseInt(c)}else V=parseInt(q);if("object"==typeof Y){let c=Object.values(Y)[0];Z=parseInt(c)}else Z=parseInt(Y);V>=1&&(yg=V),Z>=1&&(vg=Z)},"updateLayoutConfig"),Dg=o(function(){return yg},"getC4ShapeInRow"),Og=o(function(){return vg},"getC4BoundaryInRow"),Pg=o(function(){return hg},"getCurrentBoundaryParse"),Bg=o(function(){return ug},"getParentBoundaryParse"),Fg=o(function(c){return null==c?lg:lg.filter(q=>q.parentBoundary===c)},"getC4ShapeArray"),$g=o(function(c){return lg.find(q=>q.alias===c)},"getC4Shape"),zg=o(function(c){return Object.keys(Fg(c))},"getC4ShapeKeys"),Gg=o(function(c){return null==c?pg:pg.filter(q=>q.parentBoundary===c)},"getBoundaries"),Ug=Gg,qg=o(function(){return gg},"getRels"),jg=o(function(){return fg},"getTitle"),Yg=o(function(c){mg=c},"setWrap"),Wg=o(function(){return mg},"autoWrap"),Hg=o(function(){lg=[],pg=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],ug="",hg="global",cg=[""],gg=[],cg=[""],fg="",mg=!1,yg=4,vg=2},"clear"),Vg={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},Xg={FILLED:0,OPEN:1},Kg={LEFTOF:0,RIGHTOF:1,OVER:2},Jg=o(function(c){fg=Md(c,Xp())},"setTitle"),nf={addPersonOrSystem:Tg,addPersonOrSystemBoundary:Cg,addContainer:_g,addContainerBoundary:Sg,addComponent:Eg,addDeploymentNode:Ag,popBoundaryParseStack:Lg,addRel:kg,updateElStyle:Ng,updateRelStyle:Mg,updateLayoutConfig:Rg,autoWrap:Wg,setWrap:Yg,getC4ShapeArray:Fg,getC4Shape:$g,getC4ShapeKeys:zg,getBoundaries:Gg,getBoundarys:Ug,getCurrentBoundaryParse:Pg,getParentBoundaryParse:Bg,getRels:qg,getTitle:jg,getC4Type:bg,getC4ShapeInRow:Dg,getC4BoundaryInRow:Og,setAccTitle:Rp,getAccTitle:Fp,getAccDescription:jp,setAccDescription:qp,getConfig:o(()=>Xp().c4,"getConfig"),clear:Hg,LINETYPE:Vg,ARROWTYPE:Xg,PLACEMENT:Kg,setTitle:Jg,setC4Type:wg}});function Zf(c,q){return null==c||null==q?NaN:c<q?-1:c>q?1:c>=q?0:NaN}var df=M(()=>{o(Zf,"ascending")});function u7(c,q){return null==c||null==q?NaN:q<c?-1:q>c?1:q>=c?0:NaN}var pf=M(()=>{o(u7,"descending")});function Jf(c){let q,Y,V;function i(c,V,Z=0,re=c.length){if(Z<re){if(0!==q(V,V))return re;do{let q=Z+re>>>1;Y(c[q],V)<0?Z=q+1:re=q}while(Z<re)}return Z}function a(c,V,Z=0,re=c.length){if(Z<re){if(0!==q(V,V))return re;do{let q=Z+re>>>1;Y(c[q],V)<=0?Z=q+1:re=q}while(Z<re)}return Z}function s(c,q,Y=0,Z=c.length){let re=i(c,q,Y,Z-1);return re>Y&&V(c[re-1],q)>-V(c[re],q)?re-1:re}return 2!==c.length?(q=Zf,Y=o((q,Y)=>Zf(c(q),Y),"compare2"),V=o((q,Y)=>c(q)-Y,"delta")):(q=c===Zf||c===u7?c:l5e,Y=c,V=c),o(i,"left"),o(a,"right"),o(s,"center"),{left:i,center:s,right:a}}function l5e(){return 0}var gf=M(()=>{df(),pf(),o(Jf,"bisector"),o(l5e,"zero")});function f7(c){return null===c?NaN:+c}var ff,mf,yf,vf=M(()=>{o(f7,"number")}),xf=M(()=>{df(),gf(),vf(),ff=Jf(Zf),mf=ff.right,ff.left,Jf(f7).center,yf=mf});function X$({_intern:c,_key:q},Y){let V=q(Y);return c.has(V)?c.get(V):Y}function h5e({_intern:c,_key:q},Y){let V=q(Y);return c.has(V)?c.get(V):(c.set(V,Y),Y)}function f5e({_intern:c,_key:q},Y){let V=q(Y);return c.has(V)&&(Y=c.get(V),c.delete(V)),Y}function d5e(c){return null!==c&&"object"==typeof c?c.valueOf():c}var bf,wf=M(()=>{bf=class extends Map{static{o(this,"InternMap")}constructor(c,q=d5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:q}}),null!=c)for(let[q,Y]of c)this.set(q,Y)}get(c){return super.get(X$(this,c))}has(c){return super.has(X$(this,c))}set(c,q){return super.set(h5e(this,c),q)}delete(c){return super.delete(f5e(this,c))}},o(X$,"intern_get"),o(h5e,"intern_set"),o(f5e,"intern_delete"),o(d5e,"keyof")});function _4(c,q,Y){let V,Z,re,ae=(q-c)/Math.max(0,Y),se=Math.floor(Math.log10(ae)),oe=ae/Math.pow(10,se),he=oe>=kf?10:oe>=Tf?5:oe>=_f?2:1;return se<0?(re=Math.pow(10,-se)/he,V=Math.round(c*re),Z=Math.round(q*re),V/re<c&&++V,Z/re>q&&--Z,re=-re):(re=Math.pow(10,se)*he,V=Math.round(c/re),Z=Math.round(q/re),V*re<c&&++V,Z*re>q&&--Z),Z<V&&.5<=Y&&Y<2?_4(c,q,2*Y):[V,Z,re]}function L4(c,q,Y){if(!((Y=+Y)>0))return[];if((c=+c)===(q=+q))return[c];let V=q<c,[Z,re,ae]=V?_4(q,c,Y):_4(c,q,Y);if(!(re>=Z))return[];let se=re-Z+1,oe=new Array(se);if(V)if(ae<0)for(let c=0;c<se;++c)oe[c]=(re-c)/-ae;else for(let c=0;c<se;++c)oe[c]=(re-c)*ae;else if(ae<0)for(let c=0;c<se;++c)oe[c]=(Z+c)/-ae;else for(let c=0;c<se;++c)oe[c]=(Z+c)*ae;return oe}function ly(c,q,Y){return _4(c=+c,q=+q,Y=+Y)[2]}function gp(c,q,Y){Y=+Y;let V=(q=+q)<(c=+c),Z=V?ly(q,c,Y):ly(c,q,Y);return(V?-1:1)*(Z<0?1/-Z:Z)}var kf,Tf,_f,Ef=M(()=>{kf=Math.sqrt(50),Tf=Math.sqrt(10),_f=Math.sqrt(2),o(_4,"tickSpec"),o(L4,"ticks"),o(ly,"tickIncrement"),o(gp,"tickStep")});function D4(c,q){let Y;if(void 0===q)for(let q of c)null!=q&&(Y<q||void 0===Y&&q>=q)&&(Y=q);else{let V=-1;for(let Z of c)null!=(Z=q(Z,++V,c))&&(Y<Z||void 0===Y&&Z>=Z)&&(Y=Z)}return Y}var Cf=M(()=>{o(D4,"max")});function N4(c,q){let Y;if(void 0===q)for(let q of c)null!=q&&(Y>q||void 0===Y&&q>=q)&&(Y=q);else{let V=-1;for(let Z of c)null!=(Z=q(Z,++V,c))&&(Y>Z||void 0===Y&&Z>=Z)&&(Y=Z)}return Y}var Sf=M(()=>{o(N4,"min")});function R4(c,q,Y){c=+c,q=+q,Y=(Z=arguments.length)<2?(q=c,c=0,1):Z<3?1:+Y;for(var V=-1,Z=0|Math.max(0,Math.ceil((q-c)/Y)),re=new Array(Z);++V<Z;)re[V]=c+V*Y;return re}var Af=M(()=>{o(R4,"range")}),Lf=M(()=>{xf(),gf(),Cf(),Sf(),Af(),Ef(),wf()});function p7(c){return c}var Nf=M(()=>{o(p7,"default")});function y5e(c){return"translate("+c+",0)"}function v5e(c){return"translate(0,"+c+")"}function x5e(c){return q=>+c(q)}function b5e(c,q){return q=Math.max(0,c.bandwidth()-2*q)/2,c.round()&&(q=Math.round(q)),Y=>+c(Y)+q}function w5e(){return!this.__axis}function rV(c,q){var Y=[],V=null,Z=null,re=6,ae=6,se=3,oe=typeof window<"u"&&window.devicePixelRatio>1?0:.5,he=c===Mf||c===Of?-1:1,de=c===Of||c===Rf?"x":"y",pe=c===Mf||c===Df?y5e:v5e;function p(ge){var me=V??(q.ticks?q.ticks.apply(q,Y):q.domain()),ve=Z??(q.tickFormat?q.tickFormat.apply(q,Y):p7),be=Math.max(re,0)+se,we=q.range(),Te=+we[0]+oe,_e=+we[we.length-1]+oe,Ee=(q.bandwidth?b5e:x5e)(q.copy(),oe),Ce=ge.selection?ge.selection():ge,Se=Ce.selectAll(".domain").data([null]),Ae=Ce.selectAll(".tick").data(me,q).order(),Le=Ae.exit(),Ne=Ae.enter().append("g").attr("class","tick"),Ie=Ae.select("line"),Me=Ae.select("text");Se=Se.merge(Se.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Ae=Ae.merge(Ne),Ie=Ie.merge(Ne.append("line").attr("stroke","currentColor").attr(de+"2",he*re)),Me=Me.merge(Ne.append("text").attr("fill","currentColor").attr(de,he*be).attr("dy",c===Mf?"0em":c===Df?"0.71em":"0.32em")),ge!==Ce&&(Se=Se.transition(ge),Ae=Ae.transition(ge),Ie=Ie.transition(ge),Me=Me.transition(ge),Le=Le.transition(ge).attr("opacity",Pf).attr("transform",function(c){return isFinite(c=Ee(c))?pe(c+oe):this.getAttribute("transform")}),Ne.attr("opacity",Pf).attr("transform",function(c){var q=this.parentNode.__axis;return pe((q&&isFinite(q=q(c))?q:Ee(c))+oe)})),Le.remove(),Se.attr("d",c===Of||c===Rf?ae?"M"+he*ae+","+Te+"H"+oe+"V"+_e+"H"+he*ae:"M"+oe+","+Te+"V"+_e:ae?"M"+Te+","+he*ae+"V"+oe+"H"+_e+"V"+he*ae:"M"+Te+","+oe+"H"+_e),Ae.attr("opacity",1).attr("transform",function(c){return pe(Ee(c)+oe)}),Ie.attr(de+"2",he*re),Me.attr(de,he*be).text(ve),Ce.filter(w5e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c===Rf?"start":c===Of?"end":"middle"),Ce.each(function(){this.__axis=Ee})}return o(p,"axis"),p.scale=function(c){return arguments.length?(q=c,p):q},p.ticks=function(){return Y=Array.from(arguments),p},p.tickArguments=function(c){return arguments.length?(Y=null==c?[]:Array.from(c),p):Y.slice()},p.tickValues=function(c){return arguments.length?(V=null==c?null:Array.from(c),p):V&&V.slice()},p.tickFormat=function(c){return arguments.length?(Z=c,p):Z},p.tickSize=function(c){return arguments.length?(re=ae=+c,p):re},p.tickSizeInner=function(c){return arguments.length?(re=+c,p):re},p.tickSizeOuter=function(c){return arguments.length?(ae=+c,p):ae},p.tickPadding=function(c){return arguments.length?(se=+c,p):se},p.offset=function(c){return arguments.length?(oe=+c,p):oe},p}function y7(c){return rV(Mf,c)}function v7(c){return rV(Df,c)}var Mf,Rf,Df,Of,Pf,Bf=M(()=>{Nf(),Mf=1,Rf=2,Df=3,Of=4,Pf=1e-6,o(y5e,"translateX"),o(v5e,"translateY"),o(x5e,"number"),o(b5e,"center"),o(w5e,"entering"),o(rV,"axis"),o(y7,"axisTop"),o(v7,"axisBottom")}),Ff=M(()=>{Bf()});function sV(){for(var c,q=0,Y=arguments.length,V={};q<Y;++q){if(!(c=arguments[q]+"")||c in V||/[\s.]/.test(c))throw new Error("illegal type: "+c);V[c]=[]}return new O4(V)}function O4(c){this._=c}function k5e(c,q){return c.trim().split(/^|\s+/).map(function(c){var Y="",V=c.indexOf(".");if(V>=0&&(Y=c.slice(V+1),c=c.slice(0,V)),c&&!q.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:Y}})}function E5e(c,q){for(var Y,V=0,Z=c.length;V<Z;++V)if((Y=c[V]).name===q)return Y.value}function aV(c,q,Y){for(var V=0,Z=c.length;V<Z;++V)if(c[V].name===q){c[V]=$f,c=c.slice(0,V).concat(c.slice(V+1));break}return null!=Y&&c.push({name:q,value:Y}),c}var $f,zf,Gf,qf,jf=M(()=>{$f={value:o(()=>{},"value")},o(sV,"dispatch"),o(O4,"Dispatch"),o(k5e,"parseTypenames"),O4.prototype=sV.prototype={constructor:O4,on:o(function(c,q){var Y,V=this._,Z=k5e(c+"",V),re=-1,ae=Z.length;if(!(arguments.length<2)){if(null!=q&&"function"!=typeof q)throw new Error("invalid callback: "+q);for(;++re<ae;)if(Y=(c=Z[re]).type)V[Y]=aV(V[Y],c.name,q);else if(null==q)for(Y in V)V[Y]=aV(V[Y],c.name,null);return this}for(;++re<ae;)if((Y=(c=Z[re]).type)&&(Y=E5e(V[Y],c.name)))return Y},"on"),copy:o(function(){var c={},q=this._;for(var Y in q)c[Y]=q[Y].slice();return new O4(c)},"copy"),call:o(function(c,q){if((Y=arguments.length-2)>0)for(var Y,V,Z=new Array(Y),re=0;re<Y;++re)Z[re]=arguments[re+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(re=0,Y=(V=this._[c]).length;re<Y;++re)V[re].value.apply(q,Z)},"call"),apply:o(function(c,q,Y){if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(var V=this._[c],Z=0,re=V.length;Z<re;++Z)V[Z].value.apply(q,Y)},"apply")},o(E5e,"get"),o(aV,"set"),zf=sV}),Yf=M(()=>{jf()}),Wf=M(()=>{qf={svg:"http://www.w3.org/2000/svg",xhtml:Gf="http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function ic(c){var q=c+="",Y=q.indexOf(":");return Y>=0&&"xmlns"!==(q=c.slice(0,Y))&&(c=c.slice(Y+1)),qf.hasOwnProperty(q)?{space:qf[q],local:c}:c}var Hf=M(()=>{Wf(),o(ic,"default")});function S5e(c){return function(){var q=this.ownerDocument,Y=this.namespaceURI;return Y===Gf&&q.documentElement.namespaceURI===Gf?q.createElement(c):q.createElementNS(Y,c)}}function C5e(c){return function(){return this.ownerDocument.createElementNS(c.space,c.local)}}function cy(c){var q=ic(c);return(q.local?C5e:S5e)(q)}var Vf=M(()=>{Hf(),Wf(),o(S5e,"creatorInherit"),o(C5e,"creatorFixed"),o(cy,"default")});function A5e(){}function mh(c){return null==c?A5e:function(){return this.querySelector(c)}}var Kf=M(()=>{o(A5e,"none"),o(mh,"default")});function E7(c){"function"!=typeof c&&(c=mh(c));for(var q=this._groups,Y=q.length,V=new Array(Y),Z=0;Z<Y;++Z)for(var re,ae,se=q[Z],oe=se.length,he=V[Z]=new Array(oe),de=0;de<oe;++de)(re=se[de])&&(ae=c.call(re,re.__data__,de,se))&&("__data__"in re&&(ae.__data__=re.__data__),he[de]=ae);return new ii(V,this._parents)}var Qf=M(()=>{ry(),Kf(),o(E7,"default")});function S7(c){return null==c?[]:Array.isArray(c)?c:Array.from(c)}var em=M(()=>{o(S7,"array")});function _5e(){return[]}function yp(c){return null==c?_5e:function(){return this.querySelectorAll(c)}}var tm=M(()=>{o(_5e,"empty"),o(yp,"default")});function L5e(c){return function(){return S7(c.apply(this,arguments))}}function A7(c){c="function"==typeof c?L5e(c):yp(c);for(var q=this._groups,Y=q.length,V=[],Z=[],re=0;re<Y;++re)for(var ae,se=q[re],oe=se.length,he=0;he<oe;++he)(ae=se[he])&&(V.push(c.call(ae,ae.__data__,he,se)),Z.push(ae));return new ii(V,Z)}var rm=M(()=>{ry(),em(),tm(),o(L5e,"arrayAll"),o(A7,"default")});function vp(c){return function(){return this.matches(c)}}function z4(c){return function(q){return q.matches(c)}}var nm=M(()=>{o(vp,"default"),o(z4,"childMatcher")});function N5e(c){return function(){return im.call(this.children,c)}}function R5e(){return this.firstElementChild}function _7(c){return this.select(null==c?R5e:N5e("function"==typeof c?c:z4(c)))}var im,sm=M(()=>{nm(),im=Array.prototype.find,o(N5e,"childFind"),o(R5e,"childFirst"),o(_7,"default")});function I5e(){return Array.from(this.children)}function O5e(c){return function(){return om.call(this.children,c)}}function L7(c){return this.selectAll(null==c?I5e:O5e("function"==typeof c?c:z4(c)))}var om,hm=M(()=>{nm(),om=Array.prototype.filter,o(I5e,"children"),o(O5e,"childrenFilter"),o(L7,"default")});function D7(c){"function"!=typeof c&&(c=vp(c));for(var q=this._groups,Y=q.length,V=new Array(Y),Z=0;Z<Y;++Z)for(var re,ae=q[Z],se=ae.length,oe=V[Z]=[],he=0;he<se;++he)(re=ae[he])&&c.call(re,re.__data__,he,ae)&&oe.push(re);return new ii(V,this._parents)}var dm=M(()=>{ry(),nm(),o(D7,"default")});function hy(c){return new Array(c.length)}var pm=M(()=>{o(hy,"default")});function R7(){return new ii(this._enter||this._groups.map(hy),this._parents)}function fy(c,q){this.ownerDocument=c.ownerDocument,this.namespaceURI=c.namespaceURI,this._next=null,this._parent=c,this.__data__=q}var fm=M(()=>{pm(),ry(),o(R7,"default"),o(fy,"EnterNode"),fy.prototype={constructor:fy,appendChild:o(function(c){return this._parent.insertBefore(c,this._next)},"appendChild"),insertBefore:o(function(c,q){return this._parent.insertBefore(c,q)},"insertBefore"),querySelector:o(function(c){return this._parent.querySelector(c)},"querySelector"),querySelectorAll:o(function(c){return this._parent.querySelectorAll(c)},"querySelectorAll")}});function I7(c){return function(){return c}}var mm=M(()=>{o(I7,"default")});function P5e(c,q,Y,V,Z,re){for(var ae,se=0,oe=q.length,he=re.length;se<he;++se)(ae=q[se])?(ae.__data__=re[se],V[se]=ae):Y[se]=new fy(c,re[se]);for(;se<oe;++se)(ae=q[se])&&(Z[se]=ae)}function B5e(c,q,Y,V,Z,re,ae){var se,oe,he,de=new Map,pe=q.length,ge=re.length,me=new Array(pe);for(se=0;se<pe;++se)(oe=q[se])&&(me[se]=he=ae.call(oe,oe.__data__,se,q)+"",de.has(he)?Z[se]=oe:de.set(he,oe));for(se=0;se<ge;++se)he=ae.call(c,re[se],se,re)+"",(oe=de.get(he))?(V[se]=oe,oe.__data__=re[se],de.delete(he)):Y[se]=new fy(c,re[se]);for(se=0;se<pe;++se)(oe=q[se])&&de.get(me[se])===oe&&(Z[se]=oe)}function F5e(c){return c.__data__}function O7(c,q){if(!arguments.length)return Array.from(this,F5e);var Y=q?B5e:P5e,V=this._parents,Z=this._groups;"function"!=typeof c&&(c=I7(c));for(var re=Z.length,ae=new Array(re),se=new Array(re),oe=new Array(re),he=0;he<re;++he){var de=V[he],pe=Z[he],ge=pe.length,me=z5e(c.call(de,de&&de.__data__,he,V)),ve=me.length,be=se[he]=new Array(ve),we=ae[he]=new Array(ve);Y(de,pe,be,we,oe[he]=new Array(ge),me,q);for(var Te,_e,Ee=0,Ce=0;Ee<ve;++Ee)if(Te=be[Ee]){for(Ee>=Ce&&(Ce=Ee+1);!(_e=we[Ce])&&++Ce<ve;);Te._next=_e||null}}return(ae=new ii(ae,V))._enter=se,ae._exit=oe,ae}function z5e(c){return"object"==typeof c&&"length"in c?c:Array.from(c)}var ym=M(()=>{ry(),fm(),mm(),o(P5e,"bindIndex"),o(B5e,"bindKey"),o(F5e,"datum"),o(O7,"default"),o(z5e,"arraylike")});function P7(){return new ii(this._exit||this._groups.map(hy),this._parents)}var vm=M(()=>{pm(),ry(),o(P7,"default")});function B7(c,q,Y){var V=this.enter(),Z=this,re=this.exit();return"function"==typeof c?(V=c(V))&&(V=V.selection()):V=V.append(c+""),null!=q&&((Z=q(Z))&&(Z=Z.selection())),null==Y?re.remove():Y(re),V&&Z?V.merge(Z).order():Z}var xm=M(()=>{o(B7,"default")});function F7(c){for(var q=c.selection?c.selection():c,Y=this._groups,V=q._groups,Z=Y.length,re=V.length,ae=Math.min(Z,re),se=new Array(Z),oe=0;oe<ae;++oe)for(var he,de=Y[oe],pe=V[oe],ge=de.length,me=se[oe]=new Array(ge),ve=0;ve<ge;++ve)(he=de[ve]||pe[ve])&&(me[ve]=he);for(;oe<Z;++oe)se[oe]=Y[oe];return new ii(se,this._parents)}var bm=M(()=>{ry(),o(F7,"default")});function z7(){for(var c=this._groups,q=-1,Y=c.length;++q<Y;)for(var V,Z=c[q],re=Z.length-1,ae=Z[re];--re>=0;)(V=Z[re])&&(ae&&4^V.compareDocumentPosition(ae)&&ae.parentNode.insertBefore(V,ae),ae=V);return this}var wm=M(()=>{o(z7,"default")});function G7(c){function e(q,Y){return q&&Y?c(q.__data__,Y.__data__):!q-!Y}c||(c=G5e),o(e,"compareNode");for(var q=this._groups,Y=q.length,V=new Array(Y),Z=0;Z<Y;++Z){for(var re,ae=q[Z],se=ae.length,oe=V[Z]=new Array(se),he=0;he<se;++he)(re=ae[he])&&(oe[he]=re);oe.sort(e)}return new ii(V,this._parents).order()}function G5e(c,q){return c<q?-1:c>q?1:c>=q?0:NaN}var km=M(()=>{ry(),o(G7,"default"),o(G5e,"ascending")});function $7(){var c=arguments[0];return arguments[0]=this,c.apply(null,arguments),this}var Tm=M(()=>{o($7,"default")});function V7(){return Array.from(this)}var _m=M(()=>{o(V7,"default")});function U7(){for(var c=this._groups,q=0,Y=c.length;q<Y;++q)for(var V=c[q],Z=0,re=V.length;Z<re;++Z){var ae=V[Z];if(ae)return ae}return null}var Em=M(()=>{o(U7,"default")});function H7(){let c=0;for(let q of this)++c;return c}var Cm=M(()=>{o(H7,"default")});function W7(){return!this.node()}var Sm=M(()=>{o(W7,"default")});function Y7(c){for(var q=this._groups,Y=0,V=q.length;Y<V;++Y)for(var Z,re=q[Y],ae=0,se=re.length;ae<se;++ae)(Z=re[ae])&&c.call(Z,Z.__data__,ae,re);return this}var Am=M(()=>{o(Y7,"default")});function $5e(c){return function(){this.removeAttribute(c)}}function V5e(c){return function(){this.removeAttributeNS(c.space,c.local)}}function U5e(c,q){return function(){this.setAttribute(c,q)}}function H5e(c,q){return function(){this.setAttributeNS(c.space,c.local,q)}}function W5e(c,q){return function(){var Y=q.apply(this,arguments);null==Y?this.removeAttribute(c):this.setAttribute(c,Y)}}function Y5e(c,q){return function(){var Y=q.apply(this,arguments);null==Y?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,Y)}}function q7(c,q){var Y=ic(c);if(arguments.length<2){var V=this.node();return Y.local?V.getAttributeNS(Y.space,Y.local):V.getAttribute(Y)}return this.each((null==q?Y.local?V5e:$5e:"function"==typeof q?Y.local?Y5e:W5e:Y.local?H5e:U5e)(Y,q))}var Lm=M(()=>{Hf(),o($5e,"attrRemove"),o(V5e,"attrRemoveNS"),o(U5e,"attrConstant"),o(H5e,"attrConstantNS"),o(W5e,"attrFunction"),o(Y5e,"attrFunctionNS"),o(q7,"default")});function dy(c){return c.ownerDocument&&c.ownerDocument.defaultView||c.document&&c||c.defaultView}var Nm=M(()=>{o(dy,"default")});function q5e(c){return function(){this.style.removeProperty(c)}}function X5e(c,q,Y){return function(){this.style.setProperty(c,q,Y)}}function j5e(c,q,Y){return function(){var V=q.apply(this,arguments);null==V?this.style.removeProperty(c):this.style.setProperty(c,V,Y)}}function j7(c,q,Y){return arguments.length>1?this.each((null==q?q5e:"function"==typeof q?j5e:X5e)(c,q,Y??"")):gh(this.node(),c)}function gh(c,q){return c.style.getPropertyValue(q)||dy(c).getComputedStyle(c,null).getPropertyValue(q)}var Im=M(()=>{Nm(),o(q5e,"styleRemove"),o(X5e,"styleConstant"),o(j5e,"styleFunction"),o(j7,"default"),o(gh,"styleValue")});function K5e(c){return function(){delete this[c]}}function Q5e(c,q){return function(){this[c]=q}}function Z5e(c,q){return function(){var Y=q.apply(this,arguments);null==Y?delete this[c]:this[c]=Y}}function Q7(c,q){return arguments.length>1?this.each((null==q?K5e:"function"==typeof q?Z5e:Q5e)(c,q)):this.node()[c]}var Mm=M(()=>{o(K5e,"propertyRemove"),o(Q5e,"propertyConstant"),o(Z5e,"propertyFunction"),o(Q7,"default")});function LV(c){return c.trim().split(/^|\s+/)}function Z7(c){return c.classList||new DV(c)}function DV(c){this._node=c,this._names=LV(c.getAttribute("class")||"")}function NV(c,q){for(var Y=Z7(c),V=-1,Z=q.length;++V<Z;)Y.add(q[V])}function RV(c,q){for(var Y=Z7(c),V=-1,Z=q.length;++V<Z;)Y.remove(q[V])}function J5e(c){return function(){NV(this,c)}}function ewe(c){return function(){RV(this,c)}}function twe(c,q){return function(){(q.apply(this,arguments)?NV:RV)(this,c)}}function J7(c,q){var Y=LV(c+"");if(arguments.length<2){for(var V=Z7(this.node()),Z=-1,re=Y.length;++Z<re;)if(!V.contains(Y[Z]))return!1;return!0}return this.each(("function"==typeof q?twe:q?J5e:ewe)(Y,q))}var Rm=M(()=>{o(LV,"classArray"),o(Z7,"classList"),o(DV,"ClassList"),DV.prototype={add:o(function(c){this._names.indexOf(c)<0&&(this._names.push(c),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:o(function(c){var q=this._names.indexOf(c);q>=0&&(this._names.splice(q,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:o(function(c){return this._names.indexOf(c)>=0},"contains")},o(NV,"classedAdd"),o(RV,"classedRemove"),o(J5e,"classedTrue"),o(ewe,"classedFalse"),o(twe,"classedFunction"),o(J7,"default")});function rwe(){this.textContent=""}function nwe(c){return function(){this.textContent=c}}function iwe(c){return function(){var q=c.apply(this,arguments);this.textContent=q??""}}function eA(c){return arguments.length?this.each(null==c?rwe:("function"==typeof c?iwe:nwe)(c)):this.node().textContent}var Dm=M(()=>{o(rwe,"textRemove"),o(nwe,"textConstant"),o(iwe,"textFunction"),o(eA,"default")});function awe(){this.innerHTML=""}function swe(c){return function(){this.innerHTML=c}}function owe(c){return function(){var q=c.apply(this,arguments);this.innerHTML=q??""}}function tA(c){return arguments.length?this.each(null==c?awe:("function"==typeof c?owe:swe)(c)):this.node().innerHTML}var Om=M(()=>{o(awe,"htmlRemove"),o(swe,"htmlConstant"),o(owe,"htmlFunction"),o(tA,"default")});function lwe(){this.nextSibling&&this.parentNode.appendChild(this)}function rA(){return this.each(lwe)}var Pm=M(()=>{o(lwe,"raise"),o(rA,"default")});function cwe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nA(){return this.each(cwe)}var Bm=M(()=>{o(cwe,"lower"),o(nA,"default")});function iA(c){var q="function"==typeof c?c:cy(c);return this.select(function(){return this.appendChild(q.apply(this,arguments))})}var Fm=M(()=>{Vf(),o(iA,"default")});function uwe(){return null}function aA(c,q){var Y="function"==typeof c?c:cy(c),V=null==q?uwe:"function"==typeof q?q:mh(q);return this.select(function(){return this.insertBefore(Y.apply(this,arguments),V.apply(this,arguments)||null)})}var zm=M(()=>{Vf(),Kf(),o(uwe,"constantNull"),o(aA,"default")});function hwe(){var c=this.parentNode;c&&c.removeChild(this)}function sA(){return this.each(hwe)}var Gm=M(()=>{o(hwe,"remove"),o(sA,"default")});function fwe(){var c=this.cloneNode(!1),q=this.parentNode;return q?q.insertBefore(c,this.nextSibling):c}function dwe(){var c=this.cloneNode(!0),q=this.parentNode;return q?q.insertBefore(c,this.nextSibling):c}function oA(c){return this.select(c?dwe:fwe)}var jm=M(()=>{o(fwe,"selection_cloneShallow"),o(dwe,"selection_cloneDeep"),o(oA,"default")});function lA(c){return arguments.length?this.property("__data__",c):this.node().__data__}var Wm=M(()=>{o(lA,"default")});function pwe(c){return function(q){c.call(this,q,this.__data__)}}function mwe(c){return c.trim().split(/^|\s+/).map(function(c){var q="",Y=c.indexOf(".");return Y>=0&&(q=c.slice(Y+1),c=c.slice(0,Y)),{type:c,name:q}})}function gwe(c){return function(){var q=this.__on;if(q){for(var Y,V=0,Z=-1,re=q.length;V<re;++V)Y=q[V],c.type&&Y.type!==c.type||Y.name!==c.name?q[++Z]=Y:this.removeEventListener(Y.type,Y.listener,Y.options);++Z?q.length=Z:delete this.__on}}}function ywe(c,q,Y){return function(){var V,Z=this.__on,re=pwe(q);if(Z)for(var ae=0,se=Z.length;ae<se;++ae)if((V=Z[ae]).type===c.type&&V.name===c.name)return this.removeEventListener(V.type,V.listener,V.options),this.addEventListener(V.type,V.listener=re,V.options=Y),void(V.value=q);this.addEventListener(c.type,re,Y),V={type:c.type,name:c.name,value:q,listener:re,options:Y},Z?Z.push(V):this.__on=[V]}}function cA(c,q,Y){var V,Z,re=mwe(c+""),ae=re.length;if(!(arguments.length<2)){for(se=q?ywe:gwe,V=0;V<ae;++V)this.each(se(re[V],q,Y));return this}var se=this.node().__on;if(se)for(var oe,he=0,de=se.length;he<de;++he)for(V=0,oe=se[he];V<ae;++V)if((Z=re[V]).type===oe.type&&Z.name===oe.name)return oe.value}var Vm=M(()=>{o(pwe,"contextListener"),o(mwe,"parseTypenames"),o(gwe,"onRemove"),o(ywe,"onAdd"),o(cA,"default")});function HV(c,q,Y){var V=dy(c),Z=V.CustomEvent;"function"==typeof Z?Z=new Z(q,Y):(Z=V.document.createEvent("Event"),Y?(Z.initEvent(q,Y.bubbles,Y.cancelable),Z.detail=Y.detail):Z.initEvent(q,!1,!1)),c.dispatchEvent(Z)}function vwe(c,q){return function(){return HV(this,c,q)}}function xwe(c,q){return function(){return HV(this,c,q.apply(this,arguments))}}function uA(c,q){return this.each(("function"==typeof q?xwe:vwe)(c,q))}var Zm=M(()=>{Nm(),o(HV,"dispatchEvent"),o(vwe,"dispatchConstant"),o(xwe,"dispatchFunction"),o(uA,"default")});function*hA(){for(var c=this._groups,q=0,Y=c.length;q<Y;++q)for(var V,Z=c[q],re=0,ae=Z.length;re<ae;++re)(V=Z[re])&&(yield V)}var Jm=M(()=>{o(hA,"default")});function ii(c,q){this._groups=c,this._parents=q}function qV(){return new ii([[document.documentElement]],ey)}function bwe(){return this}var ey,ty,ry=M(()=>{Qf(),rm(),sm(),hm(),dm(),ym(),fm(),vm(),xm(),bm(),wm(),km(),Tm(),_m(),Em(),Cm(),Sm(),Am(),Lm(),Im(),Mm(),Rm(),Dm(),Om(),Pm(),Bm(),Fm(),zm(),Gm(),jm(),Wm(),Vm(),Zm(),Jm(),ey=[null],o(ii,"Selection"),o(qV,"selection"),o(bwe,"selection_selection"),ii.prototype=qV.prototype={constructor:ii,select:E7,selectAll:A7,selectChild:_7,selectChildren:L7,filter:D7,data:O7,enter:R7,exit:P7,join:B7,merge:F7,selection:bwe,order:z7,sort:G7,call:$7,nodes:V7,node:U7,size:H7,empty:W7,each:Y7,attr:q7,style:j7,property:Q7,classed:J7,text:eA,html:tA,raise:rA,lower:nA,append:iA,insert:aA,remove:sA,clone:oA,datum:lA,on:cA,dispatch:uA,[Symbol.iterator]:hA},ty=qV});function ze(c){return"string"==typeof c?new ii([[document.querySelector(c)]],[document.documentElement]):new ii([[c]],ey)}var ny=M(()=>{ry(),o(ze,"default")}),iy=M(()=>{nm(),Hf(),ny(),ry(),Kf(),tm(),Im()}),ay=M(()=>{});function yh(c,q,Y){c.prototype=q.prototype=Y,Y.constructor=c}function xp(c,q){var Y=Object.create(c.prototype);for(var V in q)Y[V]=q[V];return Y}var sy=M(()=>{o(yh,"default"),o(xp,"extend")});function vh(){}function QV(){return this.rgb().formatHex()}function _we(){return this.rgb().formatHex8()}function Lwe(){return iU(this).formatHsl()}function ZV(){return this.rgb().formatRgb()}function vl(c){var q,Y;return c=(c+"").trim().toLowerCase(),(q=vy.exec(c))?(Y=q[1].length,q=parseInt(q[1],16),6===Y?JV(q):3===Y?new sa(q>>8&15|q>>4&240,q>>4&15|240&q,(15&q)<<4|15&q,1):8===Y?G4(q>>24&255,q>>16&255,q>>8&255,(255&q)/255):4===Y?G4(q>>12&15|q>>8&240,q>>8&15|q>>4&240,q>>4&15|240&q,((15&q)<<4|15&q)/255):null):(q=xy.exec(c))?new sa(q[1],q[2],q[3],1):(q=by.exec(c))?new sa(255*q[1]/100,255*q[2]/100,255*q[3]/100,1):(q=wy.exec(c))?G4(q[1],q[2],q[3],q[4]):(q=_y.exec(c))?G4(255*q[1]/100,255*q[2]/100,255*q[3]/100,q[4]):(q=Sy.exec(c))?rU(q[1],q[2]/100,q[3]/100,1):(q=Ny.exec(c))?rU(q[1],q[2]/100,q[3]/100,q[4]):Iy.hasOwnProperty(c)?JV(Iy[c]):"transparent"===c?new sa(NaN,NaN,NaN,0):null}function JV(c){return new sa(c>>16&255,c>>8&255,255&c,1)}function G4(c,q,Y,V){return V<=0&&(c=q=Y=NaN),new sa(c,q,Y,V)}function mA(c){return c instanceof vh||(c=vl(c)),c?new sa((c=c.rgb()).r,c.g,c.b,c.opacity):new sa}function wp(c,q,Y,V){return 1===arguments.length?mA(c):new sa(c,q,Y,V??1)}function sa(c,q,Y,V){this.r=+c,this.g=+q,this.b=+Y,this.opacity=+V}function eU(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}`}function Dwe(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}${ed(255*(isNaN(this.opacity)?1:this.opacity))}`}function tU(){let c=U4(this.opacity);return`${1===c?"rgb(":"rgba("}${td(this.r)}, ${td(this.g)}, ${td(this.b)}${1===c?")":`, ${c})`}`}function U4(c){return isNaN(c)?1:Math.max(0,Math.min(1,c))}function td(c){return Math.max(0,Math.min(255,Math.round(c)||0))}function ed(c){return((c=td(c))<16?"0":"")+c.toString(16)}function rU(c,q,Y,V){return V<=0?c=q=Y=NaN:Y<=0||Y>=1?c=q=NaN:q<=0&&(c=NaN),new yl(c,q,Y,V)}function iU(c){if(c instanceof yl)return new yl(c.h,c.s,c.l,c.opacity);if(c instanceof vh||(c=vl(c)),!c)return new yl;if(c instanceof yl)return c;var q=(c=c.rgb()).r/255,Y=c.g/255,V=c.b/255,Z=Math.min(q,Y,V),re=Math.max(q,Y,V),ae=NaN,se=re-Z,oe=(re+Z)/2;return se?(ae=q===re?(Y-V)/se+6*(Y<V):Y===re?(V-q)/se+2:(q-Y)/se+4,se/=oe<.5?re+Z:2-re-Z,ae*=60):se=oe>0&&oe<1?0:ae,new yl(ae,se,oe,c.opacity)}function aU(c,q,Y,V){return 1===arguments.length?iU(c):new yl(c,q,Y,V??1)}function yl(c,q,Y,V){this.h=+c,this.s=+q,this.l=+Y,this.opacity=+V}function nU(c){return(c=(c||0)%360)<0?c+360:c}function $4(c){return Math.max(0,Math.min(1,c||0))}function pA(c,q,Y){return 255*(c<60?q+(Y-q)*c/60:c<180?Y:c<240?q+(Y-q)*(240-c)/60:q)}var oy,uy,py,my,yy,vy,xy,by,wy,_y,Sy,Ny,Iy,Ry,Dy,Oy=M(()=>{sy(),o(vh,"Color"),uy=1/(oy=.7),py="\\s*([+-]?\\d+)\\s*",my="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vy=/^#([0-9a-f]{3,8})$/,xy=new RegExp(`^rgb\\(${py},${py},${py}\\)$`),by=new RegExp(`^rgb\\(${yy},${yy},${yy}\\)$`),wy=new RegExp(`^rgba\\(${py},${py},${py},${my}\\)$`),_y=new RegExp(`^rgba\\(${yy},${yy},${yy},${my}\\)$`),Sy=new RegExp(`^hsl\\(${my},${yy},${yy}\\)$`),Ny=new RegExp(`^hsla\\(${my},${yy},${yy},${my}\\)$`),Iy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yh(vh,vl,{copy(c){return Object.assign(new this.constructor,this,c)},displayable(){return this.rgb().displayable()},hex:QV,formatHex:QV,formatHex8:_we,formatHsl:Lwe,formatRgb:ZV,toString:ZV}),o(QV,"color_formatHex"),o(_we,"color_formatHex8"),o(Lwe,"color_formatHsl"),o(ZV,"color_formatRgb"),o(vl,"color"),o(JV,"rgbn"),o(G4,"rgba"),o(mA,"rgbConvert"),o(wp,"rgb"),o(sa,"Rgb"),yh(sa,wp,xp(vh,{brighter(c){return c=null==c?uy:Math.pow(uy,c),new sa(this.r*c,this.g*c,this.b*c,this.opacity)},darker(c){return c=null==c?oy:Math.pow(oy,c),new sa(this.r*c,this.g*c,this.b*c,this.opacity)},rgb(){return this},clamp(){return new sa(td(this.r),td(this.g),td(this.b),U4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eU,formatHex:eU,formatHex8:Dwe,formatRgb:tU,toString:tU})),o(eU,"rgb_formatHex"),o(Dwe,"rgb_formatHex8"),o(tU,"rgb_formatRgb"),o(U4,"clampa"),o(td,"clampi"),o(ed,"hex"),o(rU,"hsla"),o(iU,"hslConvert"),o(aU,"hsl"),o(yl,"Hsl"),yh(yl,aU,xp(vh,{brighter(c){return c=null==c?uy:Math.pow(uy,c),new yl(this.h,this.s,this.l*c,this.opacity)},darker(c){return c=null==c?oy:Math.pow(oy,c),new yl(this.h,this.s,this.l*c,this.opacity)},rgb(){var c=this.h%360+360*(this.h<0),q=isNaN(c)||isNaN(this.s)?0:this.s,Y=this.l,V=Y+(Y<.5?Y:1-Y)*q,Z=2*Y-V;return new sa(pA(c>=240?c-240:c+120,Z,V),pA(c,Z,V),pA(c<120?c+240:c-120,Z,V),this.opacity)},clamp(){return new yl(nU(this.h),$4(this.s),$4(this.l),U4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let c=U4(this.opacity);return`${1===c?"hsl(":"hsla("}${nU(this.h)}, ${100*$4(this.s)}%, ${100*$4(this.l)}%${1===c?")":`, ${c})`}`}})),o(nU,"clamph"),o($4,"clampt"),o(pA,"hsl2rgb")}),$y=M(()=>{Ry=Math.PI/180,Dy=180/Math.PI});function pU(c){if(c instanceof sc)return new sc(c.l,c.a,c.b,c.opacity);if(c instanceof cu)return mU(c);c instanceof sa||(c=mA(c));var q,Y,V=bA(c.r),Z=bA(c.g),re=bA(c.b),ae=yA((.2225045*V+.7168786*Z+.0606169*re)/Uy);return V===Z&&Z===re?q=Y=ae:(q=yA((.4360747*V+.3850649*Z+.1430804*re)/zy),Y=yA((.0139322*V+.0971045*Z+.7141733*re)/qy)),new sc(116*ae-16,500*(q-ae),200*(ae-Y),c.opacity)}function wA(c,q,Y,V){return 1===arguments.length?pU(c):new sc(c,q,Y,V??1)}function sc(c,q,Y,V){this.l=+c,this.a=+q,this.b=+Y,this.opacity=+V}function yA(c){return c>Xy?Math.pow(c,1/3):c/Hy+jy}function vA(c){return c>Yy?c*c*c:Hy*(c-jy)}function xA(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function bA(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Rwe(c){if(c instanceof cu)return new cu(c.h,c.c,c.l,c.opacity);if(c instanceof sc||(c=pU(c)),0===c.a&&0===c.b)return new cu(NaN,0<c.l&&c.l<100?0:NaN,c.l,c.opacity);var q=Math.atan2(c.b,c.a)*Dy;return new cu(q<0?q+360:q,Math.sqrt(c.a*c.a+c.b*c.b),c.l,c.opacity)}function gy(c,q,Y,V){return 1===arguments.length?Rwe(c):new cu(c,q,Y,V??1)}function cu(c,q,Y,V){this.h=+c,this.c=+q,this.l=+Y,this.opacity=+V}function mU(c){if(isNaN(c.h))return new sc(c.l,0,0,c.opacity);var q=c.h*Ry;return new sc(c.l,Math.cos(q)*c.c,Math.sin(q)*c.c,c.opacity)}var zy,Uy,qy,jy,Yy,Hy,Xy,Ky=M(()=>{sy(),Oy(),$y(),zy=.96422,Uy=1,qy=.82521,jy=4/29,Hy=3*(Yy=6/29)*Yy,Xy=Yy*Yy*Yy,o(pU,"labConvert"),o(wA,"lab"),o(sc,"Lab"),yh(sc,wA,xp(vh,{brighter(c){return new sc(this.l+18*(c??1),this.a,this.b,this.opacity)},darker(c){return new sc(this.l-18*(c??1),this.a,this.b,this.opacity)},rgb(){var c=(this.l+16)/116,q=isNaN(this.a)?c:c+this.a/500,Y=isNaN(this.b)?c:c-this.b/200;return new sa(xA(3.1338561*(q=zy*vA(q))-1.6168667*(c=Uy*vA(c))-.4906146*(Y=qy*vA(Y))),xA(-.9787684*q+1.9161415*c+.033454*Y),xA(.0719453*q-.2289914*c+1.4052427*Y),this.opacity)}})),o(yA,"xyz2lab"),o(vA,"lab2xyz"),o(xA,"lrgb2rgb"),o(bA,"rgb2lrgb"),o(Rwe,"hclConvert"),o(gy,"hcl"),o(cu,"Hcl"),o(mU,"hcl2lab"),yh(cu,gy,xp(vh,{brighter(c){return new cu(this.h,this.c,this.l+18*(c??1),this.opacity)},darker(c){return new cu(this.h,this.c,this.l-18*(c??1),this.opacity)},rgb(){return mU(this).rgb()}}))}),Qy=M(()=>{Oy(),Ky()});function TA(c,q,Y,V,Z){var re=c*c,ae=re*c;return((1-3*c+3*re-ae)*q+(4-6*re+3*ae)*Y+(1+3*c+3*re-3*ae)*V+ae*Z)/6}function kA(c){var q=c.length-1;return function(Y){var V=Y<=0?Y=0:Y>=1?(Y=1,q-1):Math.floor(Y*q),Z=c[V],re=c[V+1],ae=V>0?c[V-1]:2*Z-re,se=V<q-1?c[V+2]:2*re-Z;return TA((Y-V/q)*q,ae,Z,re,se)}}var Zy=M(()=>{o(TA,"basis"),o(kA,"default")});function SA(c){var q=c.length;return function(Y){var V=Math.floor(((Y%=1)<0?++Y:Y)*q),Z=c[(V+q-1)%q],re=c[V%q],ae=c[(V+1)%q],se=c[(V+2)%q];return TA((Y-V/q)*q,Z,re,ae,se)}}var Jy,ev=M(()=>{Zy(),o(SA,"default")}),tv=M(()=>{Jy=o(c=>()=>c,"default")});function vU(c,q){return function(Y){return c+Y*q}}function Mwe(c,q,Y){return c=Math.pow(c,Y),q=Math.pow(q,Y)-c,Y=1/Y,function(V){return Math.pow(c+V*q,Y)}}function xU(c,q){var Y=q-c;return Y?vU(c,Y>180||Y<-180?Y-360*Math.round(Y/360):Y):Jy(isNaN(c)?q:c)}function bU(c){return 1==(c=+c)?uu:function(q,Y){return Y-q?Mwe(q,Y,c):Jy(isNaN(q)?Y:q)}}function uu(c,q){var Y=q-c;return Y?vU(c,Y):Jy(isNaN(c)?q:c)}var rv=M(()=>{tv(),o(vU,"linear"),o(Mwe,"exponential"),o(xU,"hue"),o(bU,"gamma"),o(uu,"nogamma")});function wU(c){return function(q){var Y,V,Z=q.length,re=new Array(Z),ae=new Array(Z),se=new Array(Z);for(Y=0;Y<Z;++Y)V=wp(q[Y]),re[Y]=V.r||0,ae[Y]=V.g||0,se[Y]=V.b||0;return re=c(re),ae=c(ae),se=c(se),V.opacity=1,function(c){return V.r=re(c),V.g=ae(c),V.b=se(c),V+""}}}var nv,iv=M(()=>{Qy(),Zy(),ev(),rv(),nv=o(function t(c){var q=bU(c);function n(c,Y){var V=q((c=wp(c)).r,(Y=wp(Y)).r),Z=q(c.g,Y.g),re=q(c.b,Y.b),ae=uu(c.opacity,Y.opacity);return function(q){return c.r=V(q),c.g=Z(q),c.b=re(q),c.opacity=ae(q),c+""}}return o(n,"rgb"),n.gamma=t,n},"rgbGamma")(1),o(wU,"rgbSpline"),wU(kA),wU(SA)});function LA(c,q){q||(q=[]);var Y,V=c?Math.min(q.length,c.length):0,Z=q.slice();return function(re){for(Y=0;Y<V;++Y)Z[Y]=c[Y]*(1-re)+q[Y]*re;return Z}}function TU(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}var av=M(()=>{o(LA,"default"),o(TU,"isNumberArray")});function EU(c,q){var Y,V=q?q.length:0,Z=c?Math.min(V,c.length):0,re=new Array(Z),ae=new Array(V);for(Y=0;Y<Z;++Y)re[Y]=xh(c[Y],q[Y]);for(;Y<V;++Y)ae[Y]=q[Y];return function(c){for(Y=0;Y<Z;++Y)ae[Y]=re[Y](c);return ae}}var sv=M(()=>{fv(),o(EU,"genericArray")});function DA(c,q){var Y=new Date;return c=+c,q=+q,function(V){return Y.setTime(c*(1-V)+q*V),Y}}var ov=M(()=>{o(DA,"default")});function Ki(c,q){return c=+c,q=+q,function(Y){return c*(1-Y)+q*Y}}var cv=M(()=>{o(Ki,"default")});function NA(c,q){var Y,V={},Z={};for(Y in(null===c||"object"!=typeof c)&&(c={}),(null===q||"object"!=typeof q)&&(q={}),q)Y in c?V[Y]=xh(c[Y],q[Y]):Z[Y]=q[Y];return function(c){for(Y in V)Z[Y]=V[Y](c);return Z}}var hv=M(()=>{fv(),o(NA,"default")});function Pwe(c){return function(){return c}}function Bwe(c){return function(q){return c(q)+""}}function Sp(c,q){var Y,V,Z,re=uv.lastIndex=dv.lastIndex=0,ae=-1,se=[],oe=[];for(c+="",q+="";(Y=uv.exec(c))&&(V=dv.exec(q));)(Z=V.index)>re&&(Z=q.slice(re,Z),se[ae]?se[ae]+=Z:se[++ae]=Z),(Y=Y[0])===(V=V[0])?se[ae]?se[ae]+=V:se[++ae]=V:(se[++ae]=null,oe.push({i:ae,x:Ki(Y,V)})),re=dv.lastIndex;return re<q.length&&(Z=q.slice(re),se[ae]?se[ae]+=Z:se[++ae]=Z),se.length<2?oe[0]?Bwe(oe[0].x):Pwe(q):(q=oe.length,function(c){for(var Y,V=0;V<q;++V)se[(Y=oe[V]).i]=Y.x(c);return se.join("")})}var uv,dv,gv=M(()=>{cv(),uv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dv=new RegExp(uv.source,"g"),o(Pwe,"zero"),o(Bwe,"one"),o(Sp,"default")});function xh(c,q){var Y,V=typeof q;return null==q||"boolean"===V?Jy(q):("number"===V?Ki:"string"===V?(Y=vl(q))?(q=Y,nv):Sp:q instanceof vl?nv:q instanceof Date?DA:TU(q)?LA:Array.isArray(q)?EU:"function"!=typeof q.valueOf&&"function"!=typeof q.toString||isNaN(q)?NA:Ki)(c,q)}var fv=M(()=>{Qy(),iv(),sv(),ov(),cv(),hv(),gv(),tv(),av(),o(xh,"default")});function Y4(c,q){return c=+c,q=+q,function(Y){return Math.round(c*(1-Y)+q*Y)}}var vv=M(()=>{o(Y4,"default")});function X4(c,q,Y,V,Z,re){var ae,se,oe;return(ae=Math.sqrt(c*c+q*q))&&(c/=ae,q/=ae),(oe=c*Y+q*V)&&(Y-=c*oe,V-=q*oe),(se=Math.sqrt(Y*Y+V*V))&&(Y/=se,V/=se,oe/=se),c*V<q*Y&&(c=-c,q=-q,oe=-oe,ae=-ae),{translateX:Z,translateY:re,rotate:Math.atan2(q,c)*wv,skewX:Math.atan(oe)*wv,scaleX:ae,scaleY:se}}var wv,Tv,_v=M(()=>{wv=180/Math.PI,Tv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},o(X4,"default")});function NU(c){let q=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(c+"");return q.isIdentity?Tv:X4(q.a,q.b,q.c,q.d,q.e,q.f)}function RU(c){return null==c?Tv:(Ev||(Ev=document.createElementNS("http://www.w3.org/2000/svg","g")),Ev.setAttribute("transform",c),(c=Ev.transform.baseVal.consolidate())?X4((c=c.matrix).a,c.b,c.c,c.d,c.e,c.f):Tv)}var Ev,Cv=M(()=>{_v(),o(NU,"parseCss"),o(RU,"parseSvg")});function IU(c,q,Y,V){function i(c){return c.length?c.pop()+" ":""}function a(c,V,Z,re,ae,se){if(c!==Z||V!==re){var oe=ae.push("translate(",null,q,null,Y);se.push({i:oe-4,x:Ki(c,Z)},{i:oe-2,x:Ki(V,re)})}else(Z||re)&&ae.push("translate("+Z+q+re+Y)}function s(c,q,Y,Z){c!==q?(c-q>180?q+=360:q-c>180&&(c+=360),Z.push({i:Y.push(i(Y)+"rotate(",null,V)-2,x:Ki(c,q)})):q&&Y.push(i(Y)+"rotate("+q+V)}function l(c,q,Y,Z){c!==q?Z.push({i:Y.push(i(Y)+"skewX(",null,V)-2,x:Ki(c,q)}):q&&Y.push(i(Y)+"skewX("+q+V)}function u(c,q,Y,V,Z,re){if(c!==Y||q!==V){var ae=Z.push(i(Z)+"scale(",null,",",null,")");re.push({i:ae-4,x:Ki(c,Y)},{i:ae-2,x:Ki(q,V)})}else(1!==Y||1!==V)&&Z.push(i(Z)+"scale("+Y+","+V+")")}return o(i,"pop"),o(a,"translate"),o(s,"rotate"),o(l,"skewX"),o(u,"scale"),function(q,Y){var V=[],Z=[];return q=c(q),Y=c(Y),a(q.translateX,q.translateY,Y.translateX,Y.translateY,V,Z),s(q.rotate,Y.rotate,V,Z),l(q.skewX,Y.skewX,V,Z),u(q.scaleX,q.scaleY,Y.scaleX,Y.scaleY,V,Z),q=Y=null,function(c){for(var q,Y=-1,re=Z.length;++Y<re;)V[(q=Z[Y]).i]=q.x(c);return V.join("")}}}var Sv,Av,Lv=M(()=>{cv(),Cv(),o(IU,"interpolateTransform"),Sv=IU(NU,"px, ","px)","deg)"),Av=IU(RU,", ",")",")")});function PU(c){return function(q,Y){var V=c((q=gy(q)).h,(Y=gy(Y)).h),Z=uu(q.c,Y.c),re=uu(q.l,Y.l),ae=uu(q.opacity,Y.opacity);return function(c){return q.h=V(c),q.c=Z(c),q.l=re(c),q.opacity=ae(c),q+""}}}var Nv,Rv=M(()=>{Qy(),rv(),o(PU,"hcl"),Nv=PU(xU),PU(uu)}),Dv=M(()=>{fv(),cv(),vv(),gv(),Lv(),iv(),Rv()});function ky(){return Yv||(Qv(zwe),Yv=Kv.now()+Vv)}function zwe(){Yv=0}function Ty(){this._call=this._time=this._next=null}function J4(c,q,Y){var V=new Ty;return V.restart(c,q,Y),V}function $U(){ky(),++Pv;for(var c,q=zv;q;)(c=Yv-q._time)>=0&&q._call.call(void 0,c),q=q._next;--Pv}function FU(){Yv=(jv=Kv.now())+Vv,Pv=Bv=0;try{$U()}finally{Pv=0,$we(),Yv=0}}function Gwe(){var c=Kv.now(),q=c-jv;q>$v&&(Vv-=q,jv=c)}function $we(){for(var c,q,Y=zv,V=1/0;Y;)Y._call?(V>Y._time&&(V=Y._time),c=Y,Y=Y._next):(q=Y._next,Y._next=null,Y=c?c._next=q:zv=q);Uv=c,FA(V)}function FA(c){Pv||(Bv&&(Bv=clearTimeout(Bv)),c-Yv>24?(c<1/0&&(Bv=setTimeout(FU,c-Kv.now()-Vv)),Fv&&(Fv=clearInterval(Fv))):(Fv||(jv=Kv.now(),Fv=setInterval(Gwe,$v)),Pv=1,Qv(FU)))}var Pv,Bv,Fv,$v,zv,Uv,jv,Yv,Vv,Kv,Qv,ex=M(()=>{Pv=0,Bv=0,Fv=0,$v=1e3,jv=0,Yv=0,Vv=0,Kv="object"==typeof performance&&performance.now?performance:Date,Qv="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(c){setTimeout(c,17)},o(ky,"now"),o(zwe,"clearNow"),o(Ty,"Timer"),Ty.prototype=J4.prototype={constructor:Ty,restart:o(function(c,q,Y){if("function"!=typeof c)throw new TypeError("callback is not a function");Y=(null==Y?ky():+Y)+(null==q?0:+q),!this._next&&Uv!==this&&(Uv?Uv._next=this:zv=this,Uv=this),this._call=c,this._time=Y,FA()},"restart"),stop:o(function(){this._call&&(this._call=null,this._time=1/0,FA())},"stop")},o(J4,"timer"),o($U,"timerFlush"),o(FU,"wake"),o(Gwe,"poke"),o($we,"nap"),o(FA,"sleep")});function Ey(c,q,Y){var V=new Ty;return q=null==q?0:+q,V.restart(Y=>{V.stop(),c(Y+q)},q,Y),V}var tx=M(()=>{ex(),o(Ey,"default")}),rx=M(()=>{ex(),tx()});function hu(c,q,Y,V,Z,re){var ae=c.__transition;if(ae){if(Y in ae)return}else c.__transition={};Hwe(c,Y,{name:q,index:V,group:Z,on:nx,tween:ix,time:re.time,delay:re.delay,duration:re.duration,ease:re.ease,timer:null,state:ax})}function Cy(c,q){var Y=Oi(c,q);if(Y.state>ax)throw new Error("too late; already scheduled");return Y}function oa(c,q){var Y=Oi(c,q);if(Y.state>lx)throw new Error("too late; already running");return Y}function Oi(c,q){var Y=c.__transition;if(!Y||!(Y=Y[q]))throw new Error("transition not found");return Y}function Hwe(c,q,Y){var V,Z=c.__transition;function a(c){Y.state=sx,Y.timer.restart(s,Y.delay,Y.time),Y.delay<=c&&s(c-Y.delay)}function s(re){var ae,se,oe,he;if(Y.state!==sx)return u();for(ae in Z)if((he=Z[ae]).name===Y.name){if(he.state===lx)return Ey(s);he.state===cx?(he.state=ux,he.timer.stop(),he.on.call("interrupt",c,c.__data__,he.index,he.group),delete Z[ae]):+ae<q&&(he.state=ux,he.timer.stop(),he.on.call("cancel",c,c.__data__,he.index,he.group),delete Z[ae])}if(Ey(function(){Y.state===lx&&(Y.state=cx,Y.timer.restart(l,Y.delay,Y.time),l(re))}),Y.state=ox,Y.on.call("start",c,c.__data__,Y.index,Y.group),Y.state===ox){for(Y.state=lx,V=new Array(oe=Y.tween.length),ae=0,se=-1;ae<oe;++ae)(he=Y.tween[ae].value.call(c,c.__data__,Y.index,Y.group))&&(V[++se]=he);V.length=se+1}}function l(q){for(var Z=q<Y.duration?Y.ease.call(null,q/Y.duration):(Y.timer.restart(u),Y.state=hx,1),re=-1,ae=V.length;++re<ae;)V[re].call(c,Z);Y.state===hx&&(Y.on.call("end",c,c.__data__,Y.index,Y.group),u())}function u(){for(var V in Y.state=ux,Y.timer.stop(),delete Z[q],Z)return;delete c.__transition}Z[q]=Y,Y.timer=J4(a,0,Y.time),o(a,"schedule"),o(s,"start"),o(l,"tick"),o(u,"stop")}var nx,ix,ax,sx,ox,lx,cx,hx,ux,dx=M(()=>{Yf(),rx(),nx=zf("start","end","cancel","interrupt"),ix=[],ax=0,sx=1,ox=2,lx=3,cx=4,hx=5,ux=6,o(hu,"default"),o(Cy,"init"),o(oa,"set"),o(Oi,"get"),o(Hwe,"create")});function Ay(c,q){var Y,V,Z,re=c.__transition,ae=!0;if(re){for(Z in q=null==q?null:q+"",re)(Y=re[Z]).name===q?(V=Y.state>ox&&Y.state<hx,Y.state=ux,Y.timer.stop(),Y.on.call(V?"interrupt":"cancel",c,c.__data__,Y.index,Y.group),delete re[Z]):ae=!1;ae&&delete c.__transition}}var px=M(()=>{dx(),o(Ay,"default")});function GA(c){return this.each(function(){Ay(this,c)})}var gx=M(()=>{px(),o(GA,"default")});function Wwe(c,q){var Y,V;return function(){var Z=oa(this,c),re=Z.tween;if(re!==Y)for(var ae=0,se=(V=Y=re).length;ae<se;++ae)if(V[ae].name===q){(V=V.slice()).splice(ae,1);break}Z.tween=V}}function Ywe(c,q,Y){var V,Z;if("function"!=typeof Y)throw new Error;return function(){var re=oa(this,c),ae=re.tween;if(ae!==V){Z=(V=ae).slice();for(var se={name:q,value:Y},oe=0,he=Z.length;oe<he;++oe)if(Z[oe].name===q){Z[oe]=se;break}oe===he&&Z.push(se)}re.tween=Z}}function $A(c,q){var Y=this._id;if(c+="",arguments.length<2){for(var V,Z=Oi(this.node(),Y).tween,re=0,ae=Z.length;re<ae;++re)if((V=Z[re]).name===c)return V.value;return null}return this.each((null==q?Wwe:Ywe)(Y,c,q))}function _p(c,q,Y){var V=c._id;return c.each(function(){var c=oa(this,V);(c.value||(c.value={}))[q]=Y.apply(this,arguments)}),function(c){return Oi(c,V).value[q]}}var fx=M(()=>{dx(),o(Wwe,"tweenRemove"),o(Ywe,"tweenFunction"),o($A,"default"),o(_p,"tweenValue")});function Ly(c,q){var Y;return("number"==typeof q?Ki:q instanceof vl?nv:(Y=vl(q))?(q=Y,nv):Sp)(c,q)}var mx=M(()=>{Qy(),Dv(),o(Ly,"default")});function qwe(c){return function(){this.removeAttribute(c)}}function Xwe(c){return function(){this.removeAttributeNS(c.space,c.local)}}function jwe(c,q,Y){var V,Z,re=Y+"";return function(){var ae=this.getAttribute(c);return ae===re?null:ae===V?Z:Z=q(V=ae,Y)}}function Kwe(c,q,Y){var V,Z,re=Y+"";return function(){var ae=this.getAttributeNS(c.space,c.local);return ae===re?null:ae===V?Z:Z=q(V=ae,Y)}}function Qwe(c,q,Y){var V,Z,re;return function(){var ae,se,oe=Y(this);return null==oe?void this.removeAttribute(c):(ae=this.getAttribute(c))===(se=oe+"")?null:ae===V&&se===Z?re:(Z=se,re=q(V=ae,oe))}}function Zwe(c,q,Y){var V,Z,re;return function(){var ae,se,oe=Y(this);return null==oe?void this.removeAttributeNS(c.space,c.local):(ae=this.getAttributeNS(c.space,c.local))===(se=oe+"")?null:ae===V&&se===Z?re:(Z=se,re=q(V=ae,oe))}}function UA(c,q){var Y=ic(c),V="transform"===Y?Av:Ly;return this.attrTween(c,"function"==typeof q?(Y.local?Zwe:Qwe)(Y,V,_p(this,"attr."+c,q)):null==q?(Y.local?Xwe:qwe)(Y):(Y.local?Kwe:jwe)(Y,V,q))}var yx=M(()=>{Dv(),iy(),fx(),mx(),o(qwe,"attrRemove"),o(Xwe,"attrRemoveNS"),o(jwe,"attrConstant"),o(Kwe,"attrConstantNS"),o(Qwe,"attrFunction"),o(Zwe,"attrFunctionNS"),o(UA,"default")});function Jwe(c,q){return function(Y){this.setAttribute(c,q.call(this,Y))}}function eTe(c,q){return function(Y){this.setAttributeNS(c.space,c.local,q.call(this,Y))}}function tTe(c,q){var Y,V;function i(){var Z=q.apply(this,arguments);return Z!==V&&(Y=(V=Z)&&eTe(c,Z)),Y}return o(i,"tween"),i._value=q,i}function rTe(c,q){var Y,V;function i(){var Z=q.apply(this,arguments);return Z!==V&&(Y=(V=Z)&&Jwe(c,Z)),Y}return o(i,"tween"),i._value=q,i}function HA(c,q){var Y="attr."+c;if(arguments.length<2)return(Y=this.tween(Y))&&Y._value;if(null==q)return this.tween(Y,null);if("function"!=typeof q)throw new Error;var V=ic(c);return this.tween(Y,(V.local?tTe:rTe)(V,q))}var vx=M(()=>{iy(),o(Jwe,"attrInterpolate"),o(eTe,"attrInterpolateNS"),o(tTe,"attrTweenNS"),o(rTe,"attrTween"),o(HA,"default")});function nTe(c,q){return function(){Cy(this,c).delay=+q.apply(this,arguments)}}function iTe(c,q){return q=+q,function(){Cy(this,c).delay=q}}function WA(c){var q=this._id;return arguments.length?this.each(("function"==typeof c?nTe:iTe)(q,c)):Oi(this.node(),q).delay}var xx=M(()=>{dx(),o(nTe,"delayFunction"),o(iTe,"delayConstant"),o(WA,"default")});function aTe(c,q){return function(){oa(this,c).duration=+q.apply(this,arguments)}}function sTe(c,q){return q=+q,function(){oa(this,c).duration=q}}function YA(c){var q=this._id;return arguments.length?this.each(("function"==typeof c?aTe:sTe)(q,c)):Oi(this.node(),q).duration}var bx=M(()=>{dx(),o(aTe,"durationFunction"),o(sTe,"durationConstant"),o(YA,"default")});function oTe(c,q){if("function"!=typeof q)throw new Error;return function(){oa(this,c).ease=q}}function qA(c){var q=this._id;return arguments.length?this.each(oTe(q,c)):Oi(this.node(),q).ease}var wx=M(()=>{dx(),o(oTe,"easeConstant"),o(qA,"default")});function lTe(c,q){return function(){var Y=q.apply(this,arguments);if("function"!=typeof Y)throw new Error;oa(this,c).ease=Y}}function XA(c){if("function"!=typeof c)throw new Error;return this.each(lTe(this._id,c))}var kx=M(()=>{dx(),o(lTe,"easeVarying"),o(XA,"default")});function jA(c){"function"!=typeof c&&(c=vp(c));for(var q=this._groups,Y=q.length,V=new Array(Y),Z=0;Z<Y;++Z)for(var re,ae=q[Z],se=ae.length,oe=V[Z]=[],he=0;he<se;++he)(re=ae[he])&&c.call(re,re.__data__,he,ae)&&oe.push(re);return new ja(V,this._parents,this._name,this._id)}var Tx=M(()=>{iy(),Gx(),o(jA,"default")});function KA(c){if(c._id!==this._id)throw new Error;for(var q=this._groups,Y=c._groups,V=q.length,Z=Y.length,re=Math.min(V,Z),ae=new Array(V),se=0;se<re;++se)for(var oe,he=q[se],de=Y[se],pe=he.length,ge=ae[se]=new Array(pe),me=0;me<pe;++me)(oe=he[me]||de[me])&&(ge[me]=oe);for(;se<V;++se)ae[se]=q[se];return new ja(ae,this._parents,this._name,this._id)}var _x=M(()=>{Gx(),o(KA,"default")});function cTe(c){return(c+"").trim().split(/^|\s+/).every(function(c){var q=c.indexOf(".");return q>=0&&(c=c.slice(0,q)),!c||"start"===c})}function uTe(c,q,Y){var V,Z,re=cTe(q)?Cy:oa;return function(){var ae=re(this,c),se=ae.on;se!==V&&(Z=(V=se).copy()).on(q,Y),ae.on=Z}}function QA(c,q){var Y=this._id;return arguments.length<2?Oi(this.node(),Y).on.on(c):this.each(uTe(Y,c,q))}var Ex=M(()=>{dx(),o(cTe,"start"),o(uTe,"onFunction"),o(QA,"default")});function hTe(c){return function(){var q=this.parentNode;for(var Y in this.__transition)if(+Y!==c)return;q&&q.removeChild(this)}}function ZA(){return this.on("end.remove",hTe(this._id))}var Cx=M(()=>{o(hTe,"removeFunction"),o(ZA,"default")});function JA(c){var q=this._name,Y=this._id;"function"!=typeof c&&(c=mh(c));for(var V=this._groups,Z=V.length,re=new Array(Z),ae=0;ae<Z;++ae)for(var se,oe,he=V[ae],de=he.length,pe=re[ae]=new Array(de),ge=0;ge<de;++ge)(se=he[ge])&&(oe=c.call(se,se.__data__,ge,he))&&("__data__"in se&&(oe.__data__=se.__data__),pe[ge]=oe,hu(pe[ge],q,Y,ge,pe,Oi(se,Y)));return new ja(re,this._parents,q,Y)}var Sx=M(()=>{iy(),Gx(),dx(),o(JA,"default")});function e8(c){var q=this._name,Y=this._id;"function"!=typeof c&&(c=yp(c));for(var V=this._groups,Z=V.length,re=[],ae=[],se=0;se<Z;++se)for(var oe,he=V[se],de=he.length,pe=0;pe<de;++pe)if(oe=he[pe]){for(var ge,me=c.call(oe,oe.__data__,pe,he),ve=Oi(oe,Y),be=0,we=me.length;be<we;++be)(ge=me[be])&&hu(ge,q,Y,be,me,ve);re.push(me),ae.push(oe)}return new ja(re,ae,q,Y)}var Ax=M(()=>{iy(),Gx(),dx(),o(e8,"default")});function t8(){return new Lx(this._groups,this._parents)}var Lx,Nx=M(()=>{iy(),Lx=ty.prototype.constructor,o(t8,"default")});function dTe(c,q){var Y,V,Z;return function(){var re=gh(this,c),ae=(this.style.removeProperty(c),gh(this,c));return re===ae?null:re===Y&&ae===V?Z:Z=q(Y=re,V=ae)}}function oH(c){return function(){this.style.removeProperty(c)}}function pTe(c,q,Y){var V,Z,re=Y+"";return function(){var ae=gh(this,c);return ae===re?null:ae===V?Z:Z=q(V=ae,Y)}}function mTe(c,q,Y){var V,Z,re;return function(){var ae=gh(this,c),se=Y(this),oe=se+"";return null==se&&(this.style.removeProperty(c),oe=se=gh(this,c)),ae===oe?null:ae===V&&oe===Z?re:(Z=oe,re=q(V=ae,se))}}function gTe(c,q){var Y,V,Z,re,ae="style."+q,se="end."+ae;return function(){var oe=oa(this,c),he=oe.on,de=null==oe.value[ae]?re||(re=oH(q)):void 0;(he!==Y||Z!==de)&&(V=(Y=he).copy()).on(se,Z=de),oe.on=V}}function r8(c,q,Y){var V="transform"==(c+="")?Sv:Ly;return null==q?this.styleTween(c,dTe(c,V)).on("end.style."+c,oH(c)):"function"==typeof q?this.styleTween(c,mTe(c,V,_p(this,"style."+c,q))).each(gTe(this._id,c)):this.styleTween(c,pTe(c,V,q),Y).on("end.style."+c,null)}var Ix=M(()=>{Dv(),iy(),dx(),fx(),mx(),o(dTe,"styleNull"),o(oH,"styleRemove"),o(pTe,"styleConstant"),o(mTe,"styleFunction"),o(gTe,"styleMaybeRemove"),o(r8,"default")});function yTe(c,q,Y){return function(V){this.style.setProperty(c,q.call(this,V),Y)}}function vTe(c,q,Y){var V,Z;function a(){var re=q.apply(this,arguments);return re!==Z&&(V=(Z=re)&&yTe(c,re,Y)),V}return o(a,"tween"),a._value=q,a}function n8(c,q,Y){var V="style."+(c+="");if(arguments.length<2)return(V=this.tween(V))&&V._value;if(null==q)return this.tween(V,null);if("function"!=typeof q)throw new Error;return this.tween(V,vTe(c,q,Y??""))}var Dx=M(()=>{o(yTe,"styleInterpolate"),o(vTe,"styleTween"),o(n8,"default")});function xTe(c){return function(){this.textContent=c}}function bTe(c){return function(){var q=c(this);this.textContent=q??""}}function i8(c){return this.tween("text","function"==typeof c?bTe(_p(this,"text",c)):xTe(null==c?"":c+""))}var Ox=M(()=>{fx(),o(xTe,"textConstant"),o(bTe,"textFunction"),o(i8,"default")});function wTe(c){return function(q){this.textContent=c.call(this,q)}}function TTe(c){var q,Y;function n(){var V=c.apply(this,arguments);return V!==Y&&(q=(Y=V)&&wTe(V)),q}return o(n,"tween"),n._value=c,n}function a8(c){var q="text";if(arguments.length<1)return(q=this.tween(q))&&q._value;if(null==c)return this.tween(q,null);if("function"!=typeof c)throw new Error;return this.tween(q,TTe(c))}var Px=M(()=>{o(wTe,"textInterpolate"),o(TTe,"textTween"),o(a8,"default")});function s8(){for(var c=this._name,q=this._id,Y=i3(),V=this._groups,Z=V.length,re=0;re<Z;++re)for(var ae,se=V[re],oe=se.length,he=0;he<oe;++he)if(ae=se[he]){var de=Oi(ae,q);hu(ae,c,Y,he,se,{time:de.time+de.delay+de.duration,delay:0,duration:de.duration,ease:de.ease})}return new ja(V,this._parents,c,Y)}var Bx=M(()=>{Gx(),dx(),o(s8,"default")});function o8(){var c,q,Y=this,V=Y._id,Z=Y.size();return new Promise(function(re,ae){var se={value:ae},oe={value:o(function(){0===--Z&&re()},"value")};Y.each(function(){var Y=oa(this,V),Z=Y.on;Z!==c&&((q=(c=Z).copy())._.cancel.push(se),q._.interrupt.push(se),q._.end.push(oe)),Y.on=q}),0===Z&&re()})}var Fx=M(()=>{dx(),o(o8,"default")});function ja(c,q,Y,V){this._groups=c,this._parents=q,this._name=Y,this._id=V}function pH(c){return ty().transition(c)}function i3(){return++$x}var $x,zx,Gx=M(()=>{iy(),yx(),vx(),xx(),bx(),wx(),kx(),Tx(),_x(),Ex(),Cx(),Sx(),Ax(),Nx(),Ix(),Dx(),Ox(),Px(),Bx(),fx(),Fx(),$x=0,o(ja,"Transition"),o(pH,"transition"),o(i3,"newId"),zx=ty.prototype,ja.prototype=pH.prototype={constructor:ja,select:JA,selectAll:e8,selectChild:zx.selectChild,selectChildren:zx.selectChildren,filter:jA,merge:KA,selection:t8,transition:s8,call:zx.call,nodes:zx.nodes,node:zx.node,size:zx.size,empty:zx.empty,each:zx.each,on:QA,attr:UA,attrTween:HA,style:r8,styleTween:n8,text:i8,textTween:a8,remove:ZA,tween:$A,delay:WA,duration:YA,ease:qA,easeVarying:XA,end:o8,[Symbol.iterator]:zx[Symbol.iterator]}});function a3(c){return((c*=2)<=1?c*c*c:(c-=2)*c*c+2)/2}var Ux=M(()=>{o(a3,"cubicInOut")}),qx=M(()=>{Ux()});function STe(c,q){for(var Y;!(Y=c.__transition)||!(Y=Y[q]);)if(!(c=c.parentNode))throw new Error(`transition ${q} not found`);return Y}function c8(c){var q,Y;c instanceof ja?(q=c._id,c=c._name):(q=i3(),(Y=jx).time=ky(),c=null==c?null:c+"");for(var V=this._groups,Z=V.length,re=0;re<Z;++re)for(var ae,se=V[re],oe=se.length,he=0;he<oe;++he)(ae=se[he])&&hu(ae,c,q,he,se,Y||STe(ae,q));return new ja(V,this._parents,c,q)}var jx,Yx=M(()=>{Gx(),dx(),qx(),rx(),jx={time:null,delay:0,duration:250,ease:a3},o(STe,"inherit"),o(c8,"default")}),Wx=M(()=>{iy(),gx(),Yx(),ty.prototype.interrupt=GA,ty.prototype.transition=c8}),Hx=M(()=>{Wx()}),Vx=M(()=>{}),Xx=M(()=>{}),Kx=M(()=>{});function wH(c){return[+c[0],+c[1]]}function CTe(c){return[wH(c[0]),wH(c[1])]}function u8(c){return{type:c}}var Qx,Zx,Jx,eb=M(()=>{Hx(),Vx(),Xx(),Kx(),({abs:Qx,max:Zx,min:Jx}=Math),o(wH,"number1"),o(CTe,"number2"),{name:"x",handles:["w","e"].map(u8),input:o(function(c,q){return null==c?null:[[+c[0],q[0][1]],[+c[1],q[1][1]]]},"input"),output:o(function(c){return c&&[c[0][0],c[1][0]]},"output")},{name:"y",handles:["n","s"].map(u8),input:o(function(c,q){return null==c?null:[[q[0][0],+c[0]],[q[1][0],+c[1]]]},"input"),output:o(function(c){return c&&[c[0][1],c[1][1]]},"output")},{name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(u8),input:o(function(c){return null==c?null:CTe(c)},"input"),output:o(function(c){return c},"output")},o(u8,"type")}),tb=M(()=>{eb()});function EH(c){this._+=c[0];for(let q=1,Y=c.length;q<Y;++q)this._+=arguments[q]+c[q]}function _Te(c){let q=Math.floor(c);if(!(q>=0))throw new Error(`invalid digits: ${c}`);if(q>15)return EH;let Y=10**q;return function(c){this._+=c[0];for(let q=1,V=c.length;q<V;++q)this._+=Math.round(arguments[q]*Y)/Y+c[q]}}function SH(){return new sb}var rb,nb,ib,ab,sb,ob=M(()=>{rb=Math.PI,ab=(nb=2*rb)-(ib=1e-6),o(EH,"append"),o(_Te,"appendRound"),sb=class{static{o(this,"Path")}constructor(c){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==c?EH:_Te(c)}moveTo(c,q){this._append`M${this._x0=this._x1=+c},${this._y0=this._y1=+q}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(c,q){this._append`L${this._x1=+c},${this._y1=+q}`}quadraticCurveTo(c,q,Y,V){this._append`Q${+c},${+q},${this._x1=+Y},${this._y1=+V}`}bezierCurveTo(c,q,Y,V,Z,re){this._append`C${+c},${+q},${+Y},${+V},${this._x1=+Z},${this._y1=+re}`}arcTo(c,q,Y,V,Z){if(c=+c,q=+q,Y=+Y,V=+V,(Z=+Z)<0)throw new Error(`negative radius: ${Z}`);let re=this._x1,ae=this._y1,se=Y-c,oe=V-q,he=re-c,de=ae-q,pe=he*he+de*de;if(null===this._x1)this._append`M${this._x1=c},${this._y1=q}`;else if(pe>ib)if(Math.abs(de*se-oe*he)>ib&&Z){let ge=Y-re,me=V-ae,ve=se*se+oe*oe,be=ge*ge+me*me,we=Math.sqrt(ve),Te=Math.sqrt(pe),_e=Z*Math.tan((rb-Math.acos((ve+pe-be)/(2*we*Te)))/2),Ee=_e/Te,Ce=_e/we;Math.abs(Ee-1)>ib&&this._append`L${c+Ee*he},${q+Ee*de}`,this._append`A${Z},${Z},0,0,${+(de*ge>he*me)},${this._x1=c+Ce*se},${this._y1=q+Ce*oe}`}else this._append`L${this._x1=c},${this._y1=q}`}arc(c,q,Y,V,Z,re){if(c=+c,q=+q,re=!!re,(Y=+Y)<0)throw new Error(`negative radius: ${Y}`);let ae=Y*Math.cos(V),se=Y*Math.sin(V),oe=c+ae,he=q+se,de=1^re,pe=re?V-Z:Z-V;null===this._x1?this._append`M${oe},${he}`:(Math.abs(this._x1-oe)>ib||Math.abs(this._y1-he)>ib)&&this._append`L${oe},${he}`,Y&&(pe<0&&(pe=pe%nb+nb),pe>ab?this._append`A${Y},${Y},0,1,${de},${c-ae},${q-se}A${Y},${Y},0,1,${de},${this._x1=oe},${this._y1=he}`:pe>ib&&this._append`A${Y},${Y},0,${+(pe>=rb)},${de},${this._x1=c+Y*Math.cos(Z)},${this._y1=q+Y*Math.sin(Z)}`)}rect(c,q,Y,V){this._append`M${this._x0=this._x1=+c},${this._y0=this._y1=+q}h${Y=+Y}v${+V}h${-Y}Z`}toString(){return this._}},o(SH,"path"),SH.prototype=sb.prototype}),lb=M(()=>{ob()}),cb=M(()=>{}),ub=M(()=>{}),db=M(()=>{}),pb=M(()=>{}),gb=M(()=>{}),mb=M(()=>{}),yb=M(()=>{});function p8(c){return Math.abs(c=Math.round(c))>=1e21?c.toLocaleString("en").replace(/,/g,""):c.toString(10)}function od(c,q){if((Y=(c=q?c.toExponential(q-1):c.toExponential()).indexOf("e"))<0)return null;var Y,V=c.slice(0,Y);return[V.length>1?V[0]+V.slice(2):V,+c.slice(Y+1)]}var vb=M(()=>{o(p8,"default"),o(od,"formatDecimalParts")});function xl(c){return(c=od(Math.abs(c)))?c[1]:NaN}var xb=M(()=>{vb(),o(xl,"default")});function m8(c,q){return function(Y,V){for(var Z=Y.length,re=[],ae=0,se=c[0],oe=0;Z>0&&se>0&&(oe+se+1>V&&(se=Math.max(1,V-oe)),re.push(Y.substring(Z-=se,Z+se)),!((oe+=se+1)>V));)se=c[ae=(ae+1)%c.length];return re.reverse().join(q)}}var bb=M(()=>{o(m8,"default")});function g8(c){return function(q){return q.replace(/[0-9]/g,function(q){return c[+q]})}}var wb=M(()=>{o(g8,"default")});function bh(c){if(!(q=_b.exec(c)))throw new Error("invalid format: "+c);var q;return new o3({fill:q[1],align:q[2],sign:q[3],symbol:q[4],zero:q[5],width:q[6],comma:q[7],precision:q[8]&&q[8].slice(1),trim:q[9],type:q[10]})}function o3(c){this.fill=void 0===c.fill?" ":c.fill+"",this.align=void 0===c.align?">":c.align+"",this.sign=void 0===c.sign?"-":c.sign+"",this.symbol=void 0===c.symbol?"":c.symbol+"",this.zero=!!c.zero,this.width=void 0===c.width?void 0:+c.width,this.comma=!!c.comma,this.precision=void 0===c.precision?void 0:+c.precision,this.trim=!!c.trim,this.type=void 0===c.type?"":c.type+""}var _b,Eb=M(()=>{_b=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,o(bh,"formatSpecifier"),bh.prototype=o3.prototype,o(o3,"FormatSpecifier"),o3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}});function v8(c){e:for(var q,Y=c.length,V=1,Z=-1;V<Y;++V)switch(c[V]){case".":Z=q=V;break;case"0":0===Z&&(Z=V),q=V;break;default:if(!+c[V])break e;Z>0&&(Z=0)}return Z>0?c.slice(0,Z)+c.slice(q+1):c}var Sb=M(()=>{o(v8,"default")});function b8(c,q){var Y=od(c,q);if(!Y)return c+"";var V=Y[0],Z=Y[1],re=Z-(Ab=3*Math.max(-8,Math.min(8,Math.floor(Z/3))))+1,ae=V.length;return re===ae?V:re>ae?V+new Array(re-ae+1).join("0"):re>0?V.slice(0,re)+"."+V.slice(re):"0."+new Array(1-re).join("0")+od(c,Math.max(0,q+re-1))[0]}var Ab,Lb=M(()=>{vb(),o(b8,"default")});function l3(c,q){var Y=od(c,q);if(!Y)return c+"";var V=Y[0],Z=Y[1];return Z<0?"0."+new Array(-Z).join("0")+V:V.length>Z+1?V.slice(0,Z+1)+"."+V.slice(Z+1):V+new Array(Z-V.length+2).join("0")}var Mb,Rb=M(()=>{vb(),o(l3,"default")}),Db=M(()=>{vb(),Lb(),Rb(),Mb={"%":o((c,q)=>(100*c).toFixed(q),"%"),b:o(c=>Math.round(c).toString(2),"b"),c:o(c=>c+"","c"),d:p8,e:o((c,q)=>c.toExponential(q),"e"),f:o((c,q)=>c.toFixed(q),"f"),g:o((c,q)=>c.toPrecision(q),"g"),o:o(c=>Math.round(c).toString(8),"o"),p:o((c,q)=>l3(100*c,q),"p"),r:l3,s:b8,X:o(c=>Math.round(c).toString(16).toUpperCase(),"X"),x:o(c=>Math.round(c).toString(16),"x")}});function c3(c){return c}var Ob=M(()=>{o(c3,"default")});function k8(c){var q=void 0===c.grouping||void 0===c.thousands?c3:m8(Pb.call(c.grouping,Number),c.thousands+""),Y=void 0===c.currency?"":c.currency[0]+"",V=void 0===c.currency?"":c.currency[1]+"",Z=void 0===c.decimal?".":c.decimal+"",re=void 0===c.numerals?c3:g8(Pb.call(c.numerals,String)),ae=void 0===c.percent?"%":c.percent+"",se=void 0===c.minus?"−":c.minus+"",oe=void 0===c.nan?"NaN":c.nan+"";function h(c){var he=(c=bh(c)).fill,de=c.align,pe=c.sign,ge=c.symbol,me=c.zero,ve=c.width,be=c.comma,we=c.precision,Te=c.trim,_e=c.type;"n"===_e?(be=!0,_e="g"):Mb[_e]||(void 0===we&&(we=12),Te=!0,_e="g"),(me||"0"===he&&"="===de)&&(me=!0,he="0",de="=");var Ee="$"===ge?Y:"#"===ge&&/[boxX]/.test(_e)?"0"+_e.toLowerCase():"",Ce="$"===ge?V:/[%p]/.test(_e)?ae:"",Se=Mb[_e],Ae=/[defgprs%]/.test(_e);function I(c){var Y,V,ae,ge=Ee,Le=Ce;if("c"===_e)Le=Se(c)+Le,c="";else{var Ne=(c=+c)<0||1/c<0;if(c=isNaN(c)?oe:Se(Math.abs(c),we),Te&&(c=v8(c)),Ne&&0==+c&&"+"!==pe&&(Ne=!1),ge=(Ne?"("===pe?pe:se:"-"===pe||"("===pe?"":pe)+ge,Le=("s"===_e?Bb[8+Ab/3]:"")+Le+(Ne&&"("===pe?")":""),Ae)for(Y=-1,V=c.length;++Y<V;)if(48>(ae=c.charCodeAt(Y))||ae>57){Le=(46===ae?Z+c.slice(Y+1):c.slice(Y))+Le,c=c.slice(0,Y);break}}be&&!me&&(c=q(c,1/0));var Ie=ge.length+c.length+Le.length,Me=Ie<ve?new Array(ve-Ie+1).join(he):"";switch(be&&me&&(c=q(Me+c,Me.length?ve-Le.length:1/0),Me=""),de){case"<":c=ge+c+Le+Me;break;case"=":c=ge+Me+c+Le;break;case"^":c=Me.slice(0,Ie=Me.length>>1)+ge+c+Le+Me.slice(Ie);break;default:c=Me+ge+c+Le}return re(c)}return we=void 0===we?6:/[gprs]/.test(_e)?Math.max(1,Math.min(21,we)):Math.max(0,Math.min(20,we)),o(I,"format"),I.toString=function(){return c+""},I}function f(c,q){var Y=h(((c=bh(c)).type="f",c)),V=3*Math.max(-8,Math.min(8,Math.floor(xl(q)/3))),Z=Math.pow(10,-V),re=Bb[8+V/3];return function(c){return Y(Z*c)+re}}return o(h,"newFormat"),o(f,"formatPrefix"),{format:h,formatPrefix:f}}var Pb,Bb,Fb=M(()=>{xb(),bb(),wb(),Eb(),Sb(),Db(),Lb(),Ob(),Pb=Array.prototype.map,Bb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],o(k8,"default")});function E8(c){return $b=k8(c),zb=$b.format,Gb=$b.formatPrefix,$b}var $b,zb,Gb,Ub=M(()=>{Fb(),E8({thousands:",",grouping:[3],currency:["$",""]}),o(E8,"defaultLocale")});function d3(c){return Math.max(0,-xl(Math.abs(c)))}var qb=M(()=>{xb(),o(d3,"default")});function p3(c,q){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xl(q)/3)))-xl(Math.abs(c)))}var jb=M(()=>{xb(),o(p3,"default")});function m3(c,q){return c=Math.abs(c),q=Math.abs(q)-c,Math.max(0,xl(q)-xl(c))+1}var Yb=M(()=>{xb(),o(m3,"default")}),Wb=M(()=>{Ub(),Eb(),qb(),jb(),Yb()}),Hb=M(()=>{}),Vb=M(()=>{}),Xb=M(()=>{}),Kb=M(()=>{});function wh(c,q){switch(arguments.length){case 0:break;case 1:this.range(c);break;default:this.range(q).domain(c)}return this}var Qb=M(()=>{o(wh,"initRange")});function du(){var c=new bf,q=[],Y=[],V=Zb;function i(Z){let re=c.get(Z);if(void 0===re){if(V!==Zb)return V;c.set(Z,re=q.push(Z)-1)}return Y[re%Y.length]}return o(i,"scale"),i.domain=function(Y){if(!arguments.length)return q.slice();q=[],c=new bf;for(let V of Y)c.has(V)||c.set(V,q.push(V)-1);return i},i.range=function(c){return arguments.length?(Y=Array.from(c),i):Y.slice()},i.unknown=function(c){return arguments.length?(V=c,i):V},i.copy=function(){return du(q,Y).unknown(V)},wh.apply(i,arguments),i}var Zb,Jb=M(()=>{Lf(),Qb(),Zb=Symbol("implicit"),o(du,"ordinal")});function Lp(){var c,q,Y=du().unknown(void 0),V=Y.domain,Z=Y.range,re=0,ae=1,se=!1,oe=0,he=0,de=.5;function d(){var Y=V().length,pe=ae<re,ge=pe?ae:re,me=pe?re:ae;c=(me-ge)/Math.max(1,Y-oe+2*he),se&&(c=Math.floor(c)),ge+=(me-ge-c*(Y-oe))*de,q=c*(1-oe),se&&(ge=Math.round(ge),q=Math.round(q));var ve=R4(Y).map(function(q){return ge+c*q});return Z(pe?ve.reverse():ve)}return delete Y.unknown,o(d,"rescale"),Y.domain=function(c){return arguments.length?(V(c),d()):V()},Y.range=function(c){return arguments.length?([re,ae]=c,re=+re,ae=+ae,d()):[re,ae]},Y.rangeRound=function(c){return[re,ae]=c,re=+re,ae=+ae,se=!0,d()},Y.bandwidth=function(){return q},Y.step=function(){return c},Y.round=function(c){return arguments.length?(se=!!c,d()):se},Y.padding=function(c){return arguments.length?(oe=Math.min(1,he=+c),d()):oe},Y.paddingInner=function(c){return arguments.length?(oe=Math.min(1,c),d()):oe},Y.paddingOuter=function(c){return arguments.length?(he=+c,d()):he},Y.align=function(c){return arguments.length?(de=Math.max(0,Math.min(1,c)),d()):de},Y.copy=function(){return Lp(V(),[re,ae]).round(se).paddingInner(oe).paddingOuter(he).align(de)},wh.apply(d(),arguments)}var ew=M(()=>{Lf(),Qb(),Jb(),o(Lp,"band")});function _8(c){return function(){return c}}var tw=M(()=>{o(_8,"constants")});function L8(c){return+c}var rw=M(()=>{o(L8,"number")});function Dp(c){return c}function D8(c,q){return(q-=c=+c)?function(Y){return(Y-c)/q}:_8(isNaN(q)?NaN:.5)}function DTe(c,q){var Y;return c>q&&(Y=c,c=q,q=Y),function(Y){return Math.max(c,Math.min(q,Y))}}function NTe(c,q,Y){var V=c[0],Z=c[1],re=q[0],ae=q[1];return Z<V?(V=D8(Z,V),re=Y(ae,re)):(V=D8(V,Z),re=Y(re,ae)),function(c){return re(V(c))}}function RTe(c,q,Y){var V=Math.min(c.length,q.length)-1,Z=new Array(V),re=new Array(V),ae=-1;for(c[V]<c[0]&&(c=c.slice().reverse(),q=q.slice().reverse());++ae<V;)Z[ae]=D8(c[ae],c[ae+1]),re[ae]=Y(q[ae],q[ae+1]);return function(q){var Y=yf(c,q,1,V)-1;return re[Y](Z[Y](q))}}function g3(c,q){return q.domain(c.domain()).range(c.range()).interpolate(c.interpolate()).clamp(c.clamp()).unknown(c.unknown())}function MTe(){var c,q,Y,V,Z,re,ae=nw,se=nw,oe=xh,he=Dp;function f(){var c=Math.min(ae.length,se.length);return he!==Dp&&(he=DTe(ae[0],ae[c-1])),V=c>2?RTe:NTe,Z=re=null,d}function d(q){return null==q||isNaN(q=+q)?Y:(Z||(Z=V(ae.map(c),se,oe)))(c(he(q)))}return o(f,"rescale"),o(d,"scale"),d.invert=function(Y){return he(q((re||(re=V(se,ae.map(c),Ki)))(Y)))},d.domain=function(c){return arguments.length?(ae=Array.from(c,L8),f()):ae.slice()},d.range=function(c){return arguments.length?(se=Array.from(c),f()):se.slice()},d.rangeRound=function(c){return se=Array.from(c),oe=Y4,f()},d.clamp=function(c){return arguments.length?(he=!!c||Dp,f()):he!==Dp},d.interpolate=function(c){return arguments.length?(oe=c,f()):oe},d.unknown=function(c){return arguments.length?(Y=c,d):Y},function(Y,V){return c=Y,q=V,f()}}function My(){return MTe()(Dp,Dp)}var nw,iw=M(()=>{Lf(),Dv(),tw(),rw(),nw=[0,1],o(Dp,"identity"),o(D8,"normalize"),o(DTe,"clamper"),o(NTe,"bimap"),o(RTe,"polymap"),o(g3,"copy"),o(MTe,"transformer"),o(My,"continuous")});function R8(c,q,Y,V){var Z,re=gp(c,q,Y);switch((V=bh(V??",f")).type){case"s":var ae=Math.max(Math.abs(c),Math.abs(q));return null==V.precision&&!isNaN(Z=p3(re,ae))&&(V.precision=Z),Gb(V,ae);case"":case"e":case"g":case"p":case"r":null==V.precision&&!isNaN(Z=m3(re,Math.max(Math.abs(c),Math.abs(q))))&&(V.precision=Z-("e"===V.type));break;case"f":case"%":null==V.precision&&!isNaN(Z=d3(re))&&(V.precision=Z-2*("%"===V.type))}return zb(V)}var aw=M(()=>{Lf(),Wb(),o(R8,"tickFormat")});function ITe(c){var q=c.domain;return c.ticks=function(c){var Y=q();return L4(Y[0],Y[Y.length-1],c??10)},c.tickFormat=function(c,Y){var V=q();return R8(V[0],V[V.length-1],c??10,Y)},c.nice=function(Y){null==Y&&(Y=10);var V,Z,re=q(),ae=0,se=re.length-1,oe=re[ae],he=re[se],de=10;for(he<oe&&(Z=oe,oe=he,he=Z,Z=ae,ae=se,se=Z);de-- >0;){if((Z=ly(oe,he,Y))===V)return re[ae]=oe,re[se]=he,q(re);if(Z>0)oe=Math.floor(oe/Z)*Z,he=Math.ceil(he/Z)*Z;else{if(!(Z<0))break;oe=Math.ceil(oe*Z)/Z,he=Math.floor(he*Z)/Z}V=Z}return c},c}function bl(){var c=My();return c.copy=function(){return g3(c,bl())},wh.apply(c,arguments),ITe(c)}var sw=M(()=>{Lf(),iw(),Qb(),aw(),o(ITe,"linearish"),o(bl,"linear")});function M8(c,q){var Y,V=0,Z=(c=c.slice()).length-1,re=c[V],ae=c[Z];return ae<re&&(Y=V,V=Z,Z=Y,Y=re,re=ae,ae=Y),c[V]=q.floor(re),c[Z]=q.ceil(ae),c}var ow=M(()=>{o(M8,"nice")});function gn(c,q,Y,V){function i(q){return c(q=0===arguments.length?new Date:new Date(+q)),q}return o(i,"interval"),i.floor=q=>(c(q=new Date(+q)),q),i.ceil=Y=>(c(Y=new Date(Y-1)),q(Y,1),c(Y),Y),i.round=c=>{let q=i(c),Y=i.ceil(c);return c-q<Y-c?q:Y},i.offset=(c,Y)=>(q(c=new Date(+c),null==Y?1:Math.floor(Y)),c),i.range=(Y,V,Z)=>{let re,ae=[];if(Y=i.ceil(Y),Z=null==Z?1:Math.floor(Z),!(Y<V&&Z>0))return ae;do{ae.push(re=new Date(+Y)),q(Y,Z),c(Y)}while(re<Y&&Y<V);return ae},i.filter=Y=>gn(q=>{if(q>=q)for(;c(q),!Y(q);)q.setTime(q-1)},(c,V)=>{if(c>=c)if(V<0)for(;++V<=0;)for(;q(c,-1),!Y(c););else for(;--V>=0;)for(;q(c,1),!Y(c););}),Y&&(i.count=(q,V)=>(lw.setTime(+q),cw.setTime(+V),c(lw),c(cw),Math.floor(Y(lw,cw))),i.every=c=>(c=Math.floor(c),isFinite(c)&&c>0?c>1?i.filter(V?q=>V(q)%c===0:q=>i.count(0,q)%c===0):i:null)),i}var lw,cw,hw,uw,dw,pw,gw,fw,mw,yw,vw,xw=M(()=>{lw=new Date,cw=new Date,o(gn,"timeInterval")}),bw=M(()=>{xw(),(hw=gn(()=>{},(c,q)=>{c.setTime(+c+q)},(c,q)=>q-c)).every=c=>(c=Math.floor(c),isFinite(c)&&c>0?c>1?gn(q=>{q.setTime(Math.floor(q/c)*c)},(q,Y)=>{q.setTime(+q+Y*c)},(q,Y)=>(Y-q)/c):hw:null),hw.range}),ww=M(()=>{xw(),uw=gn(c=>{c.setTime(c-c.getMilliseconds())},(c,q)=>{c.setTime(+c+1e3*q)},(c,q)=>(q-c)/1e3,c=>c.getUTCSeconds()),uw.range}),kw=M(()=>{xw(),dw=gn(c=>{c.setTime(c-c.getMilliseconds()-1e3*c.getSeconds())},(c,q)=>{c.setTime(+c+6e4*q)},(c,q)=>(q-c)/6e4,c=>c.getMinutes()),dw.range,pw=gn(c=>{c.setUTCSeconds(0,0)},(c,q)=>{c.setTime(+c+6e4*q)},(c,q)=>(q-c)/6e4,c=>c.getUTCMinutes()),pw.range}),Tw=M(()=>{xw(),gw=gn(c=>{c.setTime(c-c.getMilliseconds()-1e3*c.getSeconds()-6e4*c.getMinutes())},(c,q)=>{c.setTime(+c+36e5*q)},(c,q)=>(q-c)/36e5,c=>c.getHours()),gw.range,fw=gn(c=>{c.setUTCMinutes(0,0,0)},(c,q)=>{c.setTime(+c+36e5*q)},(c,q)=>(q-c)/36e5,c=>c.getUTCHours()),fw.range}),Ew=M(()=>{xw(),mw=gn(c=>c.setHours(0,0,0,0),(c,q)=>c.setDate(c.getDate()+q),(c,q)=>(q-c-6e4*(q.getTimezoneOffset()-c.getTimezoneOffset()))/864e5,c=>c.getDate()-1),mw.range,yw=gn(c=>{c.setUTCHours(0,0,0,0)},(c,q)=>{c.setUTCDate(c.getUTCDate()+q)},(c,q)=>(q-c)/864e5,c=>c.getUTCDate()-1),yw.range,vw=gn(c=>{c.setUTCHours(0,0,0,0)},(c,q)=>{c.setUTCDate(c.getUTCDate()+q)},(c,q)=>(q-c)/864e5,c=>Math.floor(c/864e5)),vw.range});function ud(c){return gn(q=>{q.setDate(q.getDate()-(q.getDay()+7-c)%7),q.setHours(0,0,0,0)},(c,q)=>{c.setDate(c.getDate()+7*q)},(c,q)=>(q-c-6e4*(q.getTimezoneOffset()-c.getTimezoneOffset()))/6048e5)}function hd(c){return gn(q=>{q.setUTCDate(q.getUTCDate()-(q.getUTCDay()+7-c)%7),q.setUTCHours(0,0,0,0)},(c,q)=>{c.setUTCDate(c.getUTCDate()+7*q)},(c,q)=>(q-c)/6048e5)}var Sw,Aw,Lw,Nw,Iw,Mw,Rw,Dw,Ow,Pw,Bw,Fw,$w,zw,Gw,Uw,qw,jw,Yw=M(()=>{xw(),o(ud,"timeWeekday"),Sw=ud(0),Aw=ud(1),Lw=ud(2),Nw=ud(3),Iw=ud(4),Mw=ud(5),Rw=ud(6),Sw.range,Aw.range,Lw.range,Nw.range,Iw.range,Mw.range,Rw.range,o(hd,"utcWeekday"),Dw=hd(0),Ow=hd(1),Pw=hd(2),Bw=hd(3),Fw=hd(4),$w=hd(5),zw=hd(6),Dw.range,Ow.range,Pw.range,Bw.range,Fw.range,$w.range,zw.range}),Ww=M(()=>{xw(),Gw=gn(c=>{c.setDate(1),c.setHours(0,0,0,0)},(c,q)=>{c.setMonth(c.getMonth()+q)},(c,q)=>q.getMonth()-c.getMonth()+12*(q.getFullYear()-c.getFullYear()),c=>c.getMonth()),Gw.range,Uw=gn(c=>{c.setUTCDate(1),c.setUTCHours(0,0,0,0)},(c,q)=>{c.setUTCMonth(c.getUTCMonth()+q)},(c,q)=>q.getUTCMonth()-c.getUTCMonth()+12*(q.getUTCFullYear()-c.getUTCFullYear()),c=>c.getUTCMonth()),Uw.range}),Hw=M(()=>{xw(),(qw=gn(c=>{c.setMonth(0,1),c.setHours(0,0,0,0)},(c,q)=>{c.setFullYear(c.getFullYear()+q)},(c,q)=>q.getFullYear()-c.getFullYear(),c=>c.getFullYear())).every=c=>isFinite(c=Math.floor(c))&&c>0?gn(q=>{q.setFullYear(Math.floor(q.getFullYear()/c)*c),q.setMonth(0,1),q.setHours(0,0,0,0)},(q,Y)=>{q.setFullYear(q.getFullYear()+Y*c)}):null,qw.range,(jw=gn(c=>{c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},(c,q)=>{c.setUTCFullYear(c.getUTCFullYear()+q)},(c,q)=>q.getUTCFullYear()-c.getUTCFullYear(),c=>c.getUTCFullYear())).every=c=>isFinite(c=Math.floor(c))&&c>0?gn(q=>{q.setUTCFullYear(Math.floor(q.getUTCFullYear()/c)*c),q.setUTCMonth(0,1),q.setUTCHours(0,0,0,0)},(q,Y)=>{q.setUTCFullYear(q.getUTCFullYear()+Y*c)}):null,jw.range});function pW(c,q,Y,V,Z,re){let ae=[[uw,1,1e3],[uw,5,5e3],[uw,15,15e3],[uw,30,3e4],[re,1,6e4],[re,5,3e5],[re,15,9e5],[re,30,18e5],[Z,1,36e5],[Z,3,108e5],[Z,6,216e5],[Z,12,432e5],[V,1,864e5],[V,2,1728e5],[Y,1,6048e5],[q,1,2592e6],[q,3,7776e6],[c,1,31536e6]];function l(c,q,Y){let V=q<c;V&&([c,q]=[q,c]);let Z=Y&&"function"==typeof Y.range?Y:u(c,q,Y),re=Z?Z.range(c,+q+1):[];return V?re.reverse():re}function u(q,Y,V){let Z=Math.abs(Y-q)/V,re=Jf(([,,c])=>c).right(ae,Z);if(re===ae.length)return c.every(gp(q/31536e6,Y/31536e6,V));if(0===re)return hw.every(Math.max(gp(q,Y,V),1));let[se,oe]=ae[Z/ae[re-1][2]<ae[re][2]/Z?re-1:re];return se.every(oe)}return o(l,"ticks"),o(u,"tickInterval"),[l,u]}var Vw,Xw,Kw,Qw,Zw=M(()=>{Lf(),bw(),ww(),kw(),Tw(),Ew(),Yw(),Ww(),Hw(),o(pW,"ticker"),[Vw,Xw]=pW(jw,Uw,Dw,vw,fw,pw),[Kw,Qw]=pW(qw,Gw,Sw,mw,gw,dw)}),Jw=M(()=>{bw(),ww(),kw(),Tw(),Ew(),Yw(),Ww(),Hw(),Zw()});function Y8(c){if(0<=c.y&&c.y<100){var q=new Date(-1,c.m,c.d,c.H,c.M,c.S,c.L);return q.setFullYear(c.y),q}return new Date(c.y,c.m,c.d,c.H,c.M,c.S,c.L)}function q8(c){if(0<=c.y&&c.y<100){var q=new Date(Date.UTC(-1,c.m,c.d,c.H,c.M,c.S,c.L));return q.setUTCFullYear(c.y),q}return new Date(Date.UTC(c.y,c.m,c.d,c.H,c.M,c.S,c.L))}function Py(c,q,Y){return{y:c,m:q,d:Y,H:0,M:0,S:0,L:0}}function X8(c){var q=c.dateTime,Y=c.date,V=c.time,Z=c.periods,re=c.days,ae=c.shortDays,se=c.months,oe=c.shortMonths,he=By(Z),de=Fy(Z),pe=By(re),ge=Fy(re),me=By(ae),ve=Fy(ae),be=By(se),we=Fy(se),Te=By(oe),_e=Fy(oe),Ee={a:P,A:F,b:B,B:$,c:null,d:wW,e:wW,f:Lke,g:zke,G:$ke,H:Cke,I:Ake,j:_ke,L:CW,m:Dke,M:Nke,p:z,q:W,Q:EW,s:SW,S:Rke,u:Mke,U:Ike,V:Oke,w:Pke,W:Bke,x:null,X:null,y:Fke,Y:Gke,Z:Vke,"%":kW},Ce={a:j,A:K,b:ie,B:Q,c:null,d:TW,e:TW,f:Yke,g:rEe,G:iEe,H:Uke,I:Hke,j:Wke,L:_W,m:qke,M:Xke,p:ee,q:J,Q:EW,s:SW,S:jke,u:Kke,U:Qke,V:Zke,w:Jke,W:eEe,x:null,X:null,y:tEe,Y:nEe,Z:aEe,"%":kW},Se={a:I,A:D,b:k,B:R,c:S,d:xW,e:xW,f:Tke,g:vW,G:yW,H:bW,I:bW,j:vke,L:wke,m:yke,M:xke,p:A,q:gke,Q:Eke,s:Ske,S:bke,u:hke,U:fke,V:dke,w:uke,W:pke,x:O,X:N,y:vW,Y:yW,Z:mke,"%":kke};function E(c,q){return function(Y){var V,Z,re,ae=[],se=-1,oe=0,he=c.length;for(Y instanceof Date||(Y=new Date(+Y));++se<he;)37===c.charCodeAt(se)&&(ae.push(c.slice(oe,se)),null!=(Z=ek[V=c.charAt(++se)])?V=c.charAt(++se):Z="e"===V?" ":"0",(re=q[V])&&(V=re(Y,Z)),ae.push(V),oe=se+1);return ae.push(c.slice(oe,se)),ae.join("")}}function L(c,q){return function(Y){var V,Z,re=Py(1900,void 0,1);if(C(re,c,Y+="",0)!=Y.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(1e3*re.s+("L"in re?re.L:0));if(q&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+12*re.p),void 0===re.m&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Z=(V=q8(Py(re.y,0,1))).getUTCDay(),V=Z>4||0===Z?Ow.ceil(V):Ow(V),V=yw.offset(V,7*(re.V-1)),re.y=V.getUTCFullYear(),re.m=V.getUTCMonth(),re.d=V.getUTCDate()+(re.w+6)%7):(Z=(V=Y8(Py(re.y,0,1))).getDay(),V=Z>4||0===Z?Aw.ceil(V):Aw(V),V=mw.offset(V,7*(re.V-1)),re.y=V.getFullYear(),re.m=V.getMonth(),re.d=V.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Z="Z"in re?q8(Py(re.y,0,1)).getUTCDay():Y8(Py(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+7*re.W-(Z+5)%7:re.w+7*re.U-(Z+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,q8(re)):Y8(re)}}function C(c,q,Y,V){for(var Z,re,ae=0,se=q.length,oe=Y.length;ae<se;){if(V>=oe)return-1;if(37===(Z=q.charCodeAt(ae++))){if(Z=q.charAt(ae++),!(re=Se[Z in ek?q.charAt(ae++):Z])||(V=re(c,Y,V))<0)return-1}else if(Z!=Y.charCodeAt(V++))return-1}return V}function A(c,q,Y){var V=he.exec(q.slice(Y));return V?(c.p=de.get(V[0].toLowerCase()),Y+V[0].length):-1}function I(c,q,Y){var V=me.exec(q.slice(Y));return V?(c.w=ve.get(V[0].toLowerCase()),Y+V[0].length):-1}function D(c,q,Y){var V=pe.exec(q.slice(Y));return V?(c.w=ge.get(V[0].toLowerCase()),Y+V[0].length):-1}function k(c,q,Y){var V=Te.exec(q.slice(Y));return V?(c.m=_e.get(V[0].toLowerCase()),Y+V[0].length):-1}function R(c,q,Y){var V=be.exec(q.slice(Y));return V?(c.m=we.get(V[0].toLowerCase()),Y+V[0].length):-1}function S(c,Y,V){return C(c,q,Y,V)}function O(c,q,V){return C(c,Y,q,V)}function N(c,q,Y){return C(c,V,q,Y)}function P(c){return ae[c.getDay()]}function F(c){return re[c.getDay()]}function B(c){return oe[c.getMonth()]}function $(c){return se[c.getMonth()]}function z(c){return Z[+(c.getHours()>=12)]}function W(c){return 1+~~(c.getMonth()/3)}function j(c){return ae[c.getUTCDay()]}function K(c){return re[c.getUTCDay()]}function ie(c){return oe[c.getUTCMonth()]}function Q(c){return se[c.getUTCMonth()]}function ee(c){return Z[+(c.getUTCHours()>=12)]}function J(c){return 1+~~(c.getUTCMonth()/3)}return Ee.x=E(Y,Ee),Ee.X=E(V,Ee),Ee.c=E(q,Ee),Ce.x=E(Y,Ce),Ce.X=E(V,Ce),Ce.c=E(q,Ce),o(E,"newFormat"),o(L,"newParse"),o(C,"parseSpecifier"),o(A,"parsePeriod"),o(I,"parseShortWeekday"),o(D,"parseWeekday"),o(k,"parseShortMonth"),o(R,"parseMonth"),o(S,"parseLocaleDateTime"),o(O,"parseLocaleDate"),o(N,"parseLocaleTime"),o(P,"formatShortWeekday"),o(F,"formatWeekday"),o(B,"formatShortMonth"),o($,"formatMonth"),o(z,"formatPeriod"),o(W,"formatQuarter"),o(j,"formatUTCShortWeekday"),o(K,"formatUTCWeekday"),o(ie,"formatUTCShortMonth"),o(Q,"formatUTCMonth"),o(ee,"formatUTCPeriod"),o(J,"formatUTCQuarter"),{format:o(function(c){var q=E(c+="",Ee);return q.toString=function(){return c},q},"format"),parse:o(function(c){var q=L(c+="",!1);return q.toString=function(){return c},q},"parse"),utcFormat:o(function(c){var q=E(c+="",Ce);return q.toString=function(){return c},q},"utcFormat"),utcParse:o(function(c){var q=L(c+="",!0);return q.toString=function(){return c},q},"utcParse")}}function Hr(c,q,Y){var V=c<0?"-":"",Z=(V?-c:c)+"",re=Z.length;return V+(re<Y?new Array(Y-re+1).join(q)+Z:Z)}function cke(c){return c.replace(ik,"\\$&")}function By(c){return new RegExp("^(?:"+c.map(cke).join("|")+")","i")}function Fy(c){return new Map(c.map((c,q)=>[c.toLowerCase(),q]))}function uke(c,q,Y){var V=rk.exec(q.slice(Y,Y+1));return V?(c.w=+V[0],Y+V[0].length):-1}function hke(c,q,Y){var V=rk.exec(q.slice(Y,Y+1));return V?(c.u=+V[0],Y+V[0].length):-1}function fke(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.U=+V[0],Y+V[0].length):-1}function dke(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.V=+V[0],Y+V[0].length):-1}function pke(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.W=+V[0],Y+V[0].length):-1}function yW(c,q,Y){var V=rk.exec(q.slice(Y,Y+4));return V?(c.y=+V[0],Y+V[0].length):-1}function vW(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.y=+V[0]+(+V[0]>68?1900:2e3),Y+V[0].length):-1}function mke(c,q,Y){var V=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(q.slice(Y,Y+6));return V?(c.Z=V[1]?0:-(V[2]+(V[3]||"00")),Y+V[0].length):-1}function gke(c,q,Y){var V=rk.exec(q.slice(Y,Y+1));return V?(c.q=3*V[0]-3,Y+V[0].length):-1}function yke(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.m=V[0]-1,Y+V[0].length):-1}function xW(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.d=+V[0],Y+V[0].length):-1}function vke(c,q,Y){var V=rk.exec(q.slice(Y,Y+3));return V?(c.m=0,c.d=+V[0],Y+V[0].length):-1}function bW(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.H=+V[0],Y+V[0].length):-1}function xke(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.M=+V[0],Y+V[0].length):-1}function bke(c,q,Y){var V=rk.exec(q.slice(Y,Y+2));return V?(c.S=+V[0],Y+V[0].length):-1}function wke(c,q,Y){var V=rk.exec(q.slice(Y,Y+3));return V?(c.L=+V[0],Y+V[0].length):-1}function Tke(c,q,Y){var V=rk.exec(q.slice(Y,Y+6));return V?(c.L=Math.floor(V[0]/1e3),Y+V[0].length):-1}function kke(c,q,Y){var V=nk.exec(q.slice(Y,Y+1));return V?Y+V[0].length:-1}function Eke(c,q,Y){var V=rk.exec(q.slice(Y));return V?(c.Q=+V[0],Y+V[0].length):-1}function Ske(c,q,Y){var V=rk.exec(q.slice(Y));return V?(c.s=+V[0],Y+V[0].length):-1}function wW(c,q){return Hr(c.getDate(),q,2)}function Cke(c,q){return Hr(c.getHours(),q,2)}function Ake(c,q){return Hr(c.getHours()%12||12,q,2)}function _ke(c,q){return Hr(1+mw.count(qw(c),c),q,3)}function CW(c,q){return Hr(c.getMilliseconds(),q,3)}function Lke(c,q){return CW(c,q)+"000"}function Dke(c,q){return Hr(c.getMonth()+1,q,2)}function Nke(c,q){return Hr(c.getMinutes(),q,2)}function Rke(c,q){return Hr(c.getSeconds(),q,2)}function Mke(c){var q=c.getDay();return 0===q?7:q}function Ike(c,q){return Hr(Sw.count(qw(c)-1,c),q,2)}function AW(c){var q=c.getDay();return q>=4||0===q?Iw(c):Iw.ceil(c)}function Oke(c,q){return c=AW(c),Hr(Iw.count(qw(c),c)+(4===qw(c).getDay()),q,2)}function Pke(c){return c.getDay()}function Bke(c,q){return Hr(Aw.count(qw(c)-1,c),q,2)}function Fke(c,q){return Hr(c.getFullYear()%100,q,2)}function zke(c,q){return Hr((c=AW(c)).getFullYear()%100,q,2)}function Gke(c,q){return Hr(c.getFullYear()%1e4,q,4)}function $ke(c,q){var Y=c.getDay();return Hr((c=Y>=4||0===Y?Iw(c):Iw.ceil(c)).getFullYear()%1e4,q,4)}function Vke(c){var q=c.getTimezoneOffset();return(q>0?"-":(q*=-1,"+"))+Hr(q/60|0,"0",2)+Hr(q%60,"0",2)}function TW(c,q){return Hr(c.getUTCDate(),q,2)}function Uke(c,q){return Hr(c.getUTCHours(),q,2)}function Hke(c,q){return Hr(c.getUTCHours()%12||12,q,2)}function Wke(c,q){return Hr(1+yw.count(jw(c),c),q,3)}function _W(c,q){return Hr(c.getUTCMilliseconds(),q,3)}function Yke(c,q){return _W(c,q)+"000"}function qke(c,q){return Hr(c.getUTCMonth()+1,q,2)}function Xke(c,q){return Hr(c.getUTCMinutes(),q,2)}function jke(c,q){return Hr(c.getUTCSeconds(),q,2)}function Kke(c){var q=c.getUTCDay();return 0===q?7:q}function Qke(c,q){return Hr(Dw.count(jw(c)-1,c),q,2)}function LW(c){var q=c.getUTCDay();return q>=4||0===q?Fw(c):Fw.ceil(c)}function Zke(c,q){return c=LW(c),Hr(Fw.count(jw(c),c)+(4===jw(c).getUTCDay()),q,2)}function Jke(c){return c.getUTCDay()}function eEe(c,q){return Hr(Ow.count(jw(c)-1,c),q,2)}function tEe(c,q){return Hr(c.getUTCFullYear()%100,q,2)}function rEe(c,q){return Hr((c=LW(c)).getUTCFullYear()%100,q,2)}function nEe(c,q){return Hr(c.getUTCFullYear()%1e4,q,4)}function iEe(c,q){var Y=c.getUTCDay();return Hr((c=Y>=4||0===Y?Fw(c):Fw.ceil(c)).getUTCFullYear()%1e4,q,4)}function aEe(){return"+0000"}function kW(){return"%"}function EW(c){return+c}function SW(c){return Math.floor(+c/1e3)}var ek,rk,nk,ik,ak=M(()=>{Jw(),o(Y8,"localDate"),o(q8,"utcDate"),o(Py,"newDate"),o(X8,"formatLocale"),ek={"-":"",_:" ",0:"0"},rk=/^\s*\d+/,nk=/^%/,ik=/[\\^$*+?|[\]().{}]/g,o(Hr,"pad"),o(cke,"requote"),o(By,"formatRe"),o(Fy,"formatLookup"),o(uke,"parseWeekdayNumberSunday"),o(hke,"parseWeekdayNumberMonday"),o(fke,"parseWeekNumberSunday"),o(dke,"parseWeekNumberISO"),o(pke,"parseWeekNumberMonday"),o(yW,"parseFullYear"),o(vW,"parseYear"),o(mke,"parseZone"),o(gke,"parseQuarter"),o(yke,"parseMonthNumber"),o(xW,"parseDayOfMonth"),o(vke,"parseDayOfYear"),o(bW,"parseHour24"),o(xke,"parseMinutes"),o(bke,"parseSeconds"),o(wke,"parseMilliseconds"),o(Tke,"parseMicroseconds"),o(kke,"parseLiteralPercent"),o(Eke,"parseUnixTimestamp"),o(Ske,"parseUnixTimestampSeconds"),o(wW,"formatDayOfMonth"),o(Cke,"formatHour24"),o(Ake,"formatHour12"),o(_ke,"formatDayOfYear"),o(CW,"formatMilliseconds"),o(Lke,"formatMicroseconds"),o(Dke,"formatMonthNumber"),o(Nke,"formatMinutes"),o(Rke,"formatSeconds"),o(Mke,"formatWeekdayNumberMonday"),o(Ike,"formatWeekNumberSunday"),o(AW,"dISO"),o(Oke,"formatWeekNumberISO"),o(Pke,"formatWeekdayNumberSunday"),o(Bke,"formatWeekNumberMonday"),o(Fke,"formatYear"),o(zke,"formatYearISO"),o(Gke,"formatFullYear"),o($ke,"formatFullYearISO"),o(Vke,"formatZone"),o(TW,"formatUTCDayOfMonth"),o(Uke,"formatUTCHour24"),o(Hke,"formatUTCHour12"),o(Wke,"formatUTCDayOfYear"),o(_W,"formatUTCMilliseconds"),o(Yke,"formatUTCMicroseconds"),o(qke,"formatUTCMonthNumber"),o(Xke,"formatUTCMinutes"),o(jke,"formatUTCSeconds"),o(Kke,"formatUTCWeekdayNumberMonday"),o(Qke,"formatUTCWeekNumberSunday"),o(LW,"UTCdISO"),o(Zke,"formatUTCWeekNumberISO"),o(Jke,"formatUTCWeekdayNumberSunday"),o(eEe,"formatUTCWeekNumberMonday"),o(tEe,"formatUTCYear"),o(rEe,"formatUTCYearISO"),o(nEe,"formatUTCFullYear"),o(iEe,"formatUTCFullYearISO"),o(aEe,"formatUTCZone"),o(kW,"formatLiteralPercent"),o(EW,"formatUnixTimestamp"),o(SW,"formatUnixTimestampSeconds")});function j8(c){return sk=X8(c),ok=sk.format,sk.parse,sk.utcFormat,sk.utcParse,sk}var sk,ok,lk=M(()=>{ak(),j8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o(j8,"defaultLocale")}),ck=M(()=>{lk()});function sEe(c){return new Date(c)}function oEe(c){return c instanceof Date?+c:+new Date(+c)}function OW(c,q,Y,V,Z,re,ae,se,oe,he){var de=My(),pe=de.invert,ge=de.domain,me=he(".%L"),ve=he(":%S"),be=he("%I:%M"),we=he("%I %p"),Te=he("%a %d"),_e=he("%b %d"),Ee=he("%B"),Ce=he("%Y");function T(c){return(oe(c)<c?me:se(c)<c?ve:ae(c)<c?be:re(c)<c?we:V(c)<c?Z(c)<c?Te:_e:Y(c)<c?Ee:Ce)(c)}return o(T,"tickFormat"),de.invert=function(c){return new Date(pe(c))},de.domain=function(c){return arguments.length?ge(Array.from(c,oEe)):ge().map(sEe)},de.ticks=function(q){var Y=ge();return c(Y[0],Y[Y.length-1],q??10)},de.tickFormat=function(c,q){return null==q?T:he(q)},de.nice=function(c){var Y=ge();return(!c||"function"!=typeof c.range)&&(c=q(Y[0],Y[Y.length-1],c??10)),c?ge(M8(Y,c)):de},de.copy=function(){return g3(de,OW(c,q,Y,V,Z,re,ae,se,oe,he))},de}function C3(){return wh.apply(OW(Kw,Qw,qw,Gw,Sw,mw,gw,dw,uw,ok).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var hk=M(()=>{Jw(),ck(),iw(),Qb(),ow(),o(sEe,"date"),o(oEe,"number"),o(OW,"calendar"),o(C3,"time")}),uk=M(()=>{ew(),sw(),Jb(),hk()});function Q8(c){for(var q=c.length/6|0,Y=new Array(q),V=0;V<q;)Y[V]="#"+c.slice(6*V,6*++V);return Y}var dk,pk=M(()=>{o(Q8,"default")}),gk=M(()=>{pk(),dk=Q8("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}),fk=M(()=>{gk()});function Pn(c){return o(function(){return c},"constant")}var yk=M(()=>{o(Pn,"default")});function VW(c){return c>1?0:c<-1?Ak:Math.acos(c)}function e_(c){return c>=1?Nk:c<=-1?-Nk:Math.asin(c)}var xk,wk,kk,Tk,_k,Ek,Ck,Sk,Ak,Nk,Ik,Mk=M(()=>{xk=Math.abs,wk=Math.atan2,kk=Math.cos,Tk=Math.max,_k=Math.min,Ek=Math.sin,Ck=Math.sqrt,Sk=1e-12,Ak=Math.PI,Nk=Ak/2,Ik=2*Ak,o(VW,"acos"),o(e_,"asin")});function D3(c){let q=3;return c.digits=function(Y){if(!arguments.length)return q;if(null==Y)q=null;else{let c=Math.floor(Y);if(!(c>=0))throw new RangeError(`invalid digits: ${Y}`);q=c}return c},()=>new sb(q)}var Rk=M(()=>{lb(),o(D3,"withPath")});function lEe(c){return c.innerRadius}function cEe(c){return c.outerRadius}function uEe(c){return c.startAngle}function hEe(c){return c.endAngle}function fEe(c){return c&&c.padAngle}function dEe(c,q,Y,V,Z,re,ae,se){var oe=Y-c,he=V-q,de=ae-Z,pe=se-re,ge=pe*oe-de*he;if(!(ge*ge<Sk))return[c+(ge=(de*(q-re)-pe*(c-Z))/ge)*oe,q+ge*he]}function N3(c,q,Y,V,Z,re,ae){var se=c-Y,oe=q-V,he=(ae?re:-re)/Ck(se*se+oe*oe),de=he*oe,pe=-he*se,ge=c+de,me=q+pe,ve=Y+de,be=V+pe,we=(ge+ve)/2,Te=(me+be)/2,_e=ve-ge,Ee=be-me,Ce=_e*_e+Ee*Ee,Se=Z-re,Ae=ge*be-ve*me,Le=(Ee<0?-1:1)*Ck(Tk(0,Se*Se*Ce-Ae*Ae)),Ne=(Ae*Ee-_e*Le)/Ce,Ie=(-Ae*_e-Ee*Le)/Ce,Me=(Ae*Ee+_e*Le)/Ce,Re=(-Ae*_e+Ee*Le)/Ce,Oe=Ne-we,Be=Ie-Te,$e=Me-we,Ue=Re-Te;return Oe*Oe+Be*Be>$e*$e+Ue*Ue&&(Ne=Me,Ie=Re),{cx:Ne,cy:Ie,x01:-de,y01:-pe,x11:Ne*(Z/Se-1),y11:Ie*(Z/Se-1)}}function El(){var c=lEe,q=cEe,Y=Pn(0),V=null,Z=uEe,re=hEe,ae=fEe,se=null,oe=D3(h);function h(){var he,de,pe=+c.apply(this,arguments),ge=+q.apply(this,arguments),me=Z.apply(this,arguments)-Nk,ve=re.apply(this,arguments)-Nk,be=xk(ve-me),we=ve>me;if(se||(se=he=oe()),ge<pe&&(de=ge,ge=pe,pe=de),ge>Sk)if(be>Ik-Sk)se.moveTo(ge*kk(me),ge*Ek(me)),se.arc(0,0,ge,me,ve,!we),pe>Sk&&(se.moveTo(pe*kk(ve),pe*Ek(ve)),se.arc(0,0,pe,ve,me,we));else{var Te,_e,Ee=me,Ce=ve,Se=me,Ae=ve,Le=be,Ne=be,Ie=ae.apply(this,arguments)/2,Me=Ie>Sk&&(V?+V.apply(this,arguments):Ck(pe*pe+ge*ge)),Re=_k(xk(ge-pe)/2,+Y.apply(this,arguments)),Oe=Re,Be=Re;if(Me>Sk){var $e=e_(Me/pe*Ek(Ie)),Ue=e_(Me/ge*Ek(Ie));(Le-=2*$e)>Sk?(Se+=$e*=we?1:-1,Ae-=$e):(Le=0,Se=Ae=(me+ve)/2),(Ne-=2*Ue)>Sk?(Ee+=Ue*=we?1:-1,Ce-=Ue):(Ne=0,Ee=Ce=(me+ve)/2)}var qe=ge*kk(Ee),je=ge*Ek(Ee),We=pe*kk(Ae),He=pe*Ek(Ae);if(Re>Sk){var Ve,Ke=ge*kk(Ce),Qe=ge*Ek(Ce),Ze=pe*kk(Se),Je=pe*Ek(Se);if(be<Ak)if(Ve=dEe(qe,je,Ze,Je,Ke,Qe,We,He)){var et=qe-Ve[0],tt=je-Ve[1],rt=Ke-Ve[0],nt=Qe-Ve[1],it=1/Ek(VW((et*rt+tt*nt)/(Ck(et*et+tt*tt)*Ck(rt*rt+nt*nt)))/2),at=Ck(Ve[0]*Ve[0]+Ve[1]*Ve[1]);Oe=_k(Re,(pe-at)/(it-1)),Be=_k(Re,(ge-at)/(it+1))}else Oe=Be=0}Ne>Sk?Be>Sk?(Te=N3(Ze,Je,qe,je,ge,Be,we),_e=N3(Ke,Qe,We,He,ge,Be,we),se.moveTo(Te.cx+Te.x01,Te.cy+Te.y01),Be<Re?se.arc(Te.cx,Te.cy,Be,wk(Te.y01,Te.x01),wk(_e.y01,_e.x01),!we):(se.arc(Te.cx,Te.cy,Be,wk(Te.y01,Te.x01),wk(Te.y11,Te.x11),!we),se.arc(0,0,ge,wk(Te.cy+Te.y11,Te.cx+Te.x11),wk(_e.cy+_e.y11,_e.cx+_e.x11),!we),se.arc(_e.cx,_e.cy,Be,wk(_e.y11,_e.x11),wk(_e.y01,_e.x01),!we))):(se.moveTo(qe,je),se.arc(0,0,ge,Ee,Ce,!we)):se.moveTo(qe,je),pe>Sk&&Le>Sk?Oe>Sk?(Te=N3(We,He,Ke,Qe,pe,-Oe,we),_e=N3(qe,je,Ze,Je,pe,-Oe,we),se.lineTo(Te.cx+Te.x01,Te.cy+Te.y01),Oe<Re?se.arc(Te.cx,Te.cy,Oe,wk(Te.y01,Te.x01),wk(_e.y01,_e.x01),!we):(se.arc(Te.cx,Te.cy,Oe,wk(Te.y01,Te.x01),wk(Te.y11,Te.x11),!we),se.arc(0,0,pe,wk(Te.cy+Te.y11,Te.cx+Te.x11),wk(_e.cy+_e.y11,_e.cx+_e.x11),we),se.arc(_e.cx,_e.cy,Oe,wk(_e.y11,_e.x11),wk(_e.y01,_e.x01),!we))):se.arc(0,0,pe,Ae,Se,we):se.lineTo(We,He)}else se.moveTo(0,0);if(se.closePath(),he)return se=null,he+""||null}return o(h,"arc"),h.centroid=function(){var Y=(+c.apply(this,arguments)+ +q.apply(this,arguments))/2,V=(+Z.apply(this,arguments)+ +re.apply(this,arguments))/2-Ak/2;return[kk(V)*Y,Ek(V)*Y]},h.innerRadius=function(q){return arguments.length?(c="function"==typeof q?q:Pn(+q),h):c},h.outerRadius=function(c){return arguments.length?(q="function"==typeof c?c:Pn(+c),h):q},h.cornerRadius=function(c){return arguments.length?(Y="function"==typeof c?c:Pn(+c),h):Y},h.padRadius=function(c){return arguments.length?(V=null==c?null:"function"==typeof c?c:Pn(+c),h):V},h.startAngle=function(c){return arguments.length?(Z="function"==typeof c?c:Pn(+c),h):Z},h.endAngle=function(c){return arguments.length?(re="function"==typeof c?c:Pn(+c),h):re},h.padAngle=function(c){return arguments.length?(ae="function"==typeof c?c:Pn(+c),h):ae},h.context=function(c){return arguments.length?(se=c??null,h):se},h}var Ok=M(()=>{yk(),Mk(),Rk(),o(lEe,"arcInnerRadius"),o(cEe,"arcOuterRadius"),o(uEe,"arcStartAngle"),o(hEe,"arcEndAngle"),o(fEe,"arcPadAngle"),o(dEe,"intersect"),o(N3,"cornerTangents"),o(El,"default")});function Gy(c){return"object"==typeof c&&"length"in c?c:Array.from(c)}var Pk=M(()=>{Array.prototype.slice,o(Gy,"default")});function HW(c){this._context=c}function Op(c){return new HW(c)}var Bk=M(()=>{o(HW,"Linear"),HW.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._point=0},"lineStart"),lineEnd:o(function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2;default:this._context.lineTo(c,q)}},"point")},o(Op,"default")});function WW(c){return c[0]}function YW(c){return c[1]}var $k=M(()=>{o(WW,"x"),o(YW,"y")});function Ka(c,q){var Y=Pn(!0),V=null,Z=Op,re=null,ae=D3(l);function l(se){var oe,he,de,pe=(se=Gy(se)).length,ge=!1;for(null==V&&(re=Z(de=ae())),oe=0;oe<=pe;++oe)!(oe<pe&&Y(he=se[oe],oe,se))===ge&&((ge=!ge)?re.lineStart():re.lineEnd()),ge&&re.point(+c(he,oe,se),+q(he,oe,se));if(de)return re=null,de+""||null}return c="function"==typeof c?c:void 0===c?WW:Pn(c),q="function"==typeof q?q:void 0===q?YW:Pn(q),o(l,"line"),l.x=function(q){return arguments.length?(c="function"==typeof q?q:Pn(+q),l):c},l.y=function(c){return arguments.length?(q="function"==typeof c?c:Pn(+c),l):q},l.defined=function(c){return arguments.length?(Y="function"==typeof c?c:Pn(!!c),l):Y},l.curve=function(c){return arguments.length?(Z=c,null!=V&&(re=Z(V)),l):Z},l.context=function(c){return arguments.length?(null==c?V=re=null:re=Z(V=c),l):V},l}var Gk=M(()=>{Pk(),yk(),Bk(),Rk(),$k(),o(Ka,"default")});function i_(c,q){return q<c?-1:q>c?1:q>=c?0:NaN}var Uk=M(()=>{o(i_,"default")});function a_(c){return c}var Yk=M(()=>{o(a_,"default")});function R3(){var c=a_,q=i_,Y=null,V=Pn(0),Z=Pn(Ik),re=Pn(0);function s(ae){var se,oe,he,de,pe,ge=(ae=Gy(ae)).length,me=0,ve=new Array(ge),be=new Array(ge),we=+V.apply(this,arguments),Te=Math.min(Ik,Math.max(-Ik,Z.apply(this,arguments)-we)),_e=Math.min(Math.abs(Te)/ge,re.apply(this,arguments)),Ee=_e*(Te<0?-1:1);for(se=0;se<ge;++se)(pe=be[ve[se]=se]=+c(ae[se],se,ae))>0&&(me+=pe);for(null!=q?ve.sort(function(c,Y){return q(be[c],be[Y])}):null!=Y&&ve.sort(function(c,q){return Y(ae[c],ae[q])}),se=0,he=me?(Te-ge*Ee)/me:0;se<ge;++se,we=de)oe=ve[se],de=we+((pe=be[oe])>0?pe*he:0)+Ee,be[oe]={data:ae[oe],index:se,value:pe,startAngle:we,endAngle:de,padAngle:_e};return be}return o(s,"pie"),s.value=function(q){return arguments.length?(c="function"==typeof q?q:Pn(+q),s):c},s.sortValues=function(c){return arguments.length?(q=c,Y=null,s):q},s.sort=function(c){return arguments.length?(Y=c,q=null,s):Y},s.startAngle=function(c){return arguments.length?(V="function"==typeof c?c:Pn(+c),s):V},s.endAngle=function(c){return arguments.length?(Z="function"==typeof c?c:Pn(+c),s):Z},s.padAngle=function(c){return arguments.length?(re="function"==typeof c?c:Pn(+c),s):re},s}var Hk=M(()=>{Pk(),yk(),Uk(),Yk(),Mk(),o(R3,"default")});function s_(c){return new Xk(c,!0)}function o_(c){return new Xk(c,!1)}var Xk,Kk=M(()=>{Xk=class{static{o(this,"Bump")}constructor(c,q){this._context=c,this._x=q}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+c)/2,this._y0,this._x0,q,c,q):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+q)/2,c,this._y0,c,q)}this._x0=c,this._y0=q}},o(s_,"bumpX"),o(o_,"bumpY")});function Ks(){}var Zk=M(()=>{o(Ks,"default")});function Pp(c,q,Y){c._context.bezierCurveTo((2*c._x0+c._x1)/3,(2*c._y0+c._y1)/3,(c._x0+2*c._x1)/3,(c._y0+2*c._y1)/3,(c._x0+4*c._x1+q)/6,(c._y0+4*c._y1+Y)/6)}function Vy(c){this._context=c}function Do(c){return new Vy(c)}var eT=M(()=>{o(Pp,"point"),o(Vy,"Basis"),Vy.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 3:Pp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pp(this,c,q)}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=q},"point")},o(Do,"default")});function JW(c){this._context=c}function I3(c){return new JW(c)}var tT=M(()=>{Zk(),eT(),o(JW,"BasisClosed"),JW.prototype={areaStart:Ks,areaEnd:Ks,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._x2=c,this._y2=q;break;case 1:this._point=2,this._x3=c,this._y3=q;break;case 2:this._point=3,this._x4=c,this._y4=q,this._context.moveTo((this._x0+4*this._x1+c)/6,(this._y0+4*this._y1+q)/6);break;default:Pp(this,c,q)}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=q},"point")},o(I3,"default")});function tY(c){this._context=c}function O3(c){return new tY(c)}var rT=M(()=>{eT(),o(tY,"BasisOpen"),tY.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:o(function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Y=(this._x0+4*this._x1+c)/6,V=(this._y0+4*this._y1+q)/6;this._line?this._context.lineTo(Y,V):this._context.moveTo(Y,V);break;case 3:this._point=4;default:Pp(this,c,q)}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=q},"point")},o(O3,"default")});function nY(c,q){this._basis=new Vy(c),this._beta=q}var nT,aT=M(()=>{eT(),o(nY,"Bundle"),nY.prototype={lineStart:o(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:o(function(){var c=this._x,q=this._y,Y=c.length-1;if(Y>0)for(var V,Z=c[0],re=q[0],ae=c[Y]-Z,se=q[Y]-re,oe=-1;++oe<=Y;)V=oe/Y,this._basis.point(this._beta*c[oe]+(1-this._beta)*(Z+V*ae),this._beta*q[oe]+(1-this._beta)*(re+V*se));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:o(function(c,q){this._x.push(+c),this._y.push(+q)},"point")},nT=o(function t(c){function r(q){return 1===c?new Vy(q):new nY(q,c)}return o(r,"bundle"),r.beta=function(c){return t(+c)},r},"custom")(.85)});function Bp(c,q,Y){c._context.bezierCurveTo(c._x1+c._k*(c._x2-c._x0),c._y1+c._k*(c._y2-c._y0),c._x2+c._k*(c._x1-q),c._y2+c._k*(c._y1-Y),c._x2,c._y2)}function P3(c,q){this._context=c,this._k=(1-q)/6}var lT,cT=M(()=>{o(Bp,"point"),o(P3,"Cardinal"),P3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Bp(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2,this._x1=c,this._y1=q;break;case 2:this._point=3;default:Bp(this,c,q)}this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=q},"point")},lT=o(function t(c){function r(q){return new P3(q,c)}return o(r,"cardinal"),r.tension=function(c){return t(+c)},r},"custom")(0)});function B3(c,q){this._context=c,this._k=(1-q)/6}var hT,uT=M(()=>{Zk(),cT(),o(B3,"CardinalClosed"),B3.prototype={areaStart:Ks,areaEnd:Ks,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._x3=c,this._y3=q;break;case 1:this._point=2,this._context.moveTo(this._x4=c,this._y4=q);break;case 2:this._point=3,this._x5=c,this._y5=q;break;default:Bp(this,c,q)}this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=q},"point")},hT=o(function t(c){function r(q){return new B3(q,c)}return o(r,"cardinal"),r.tension=function(c){return t(+c)},r},"custom")(0)});function F3(c,q){this._context=c,this._k=(1-q)/6}var pT,gT=M(()=>{cT(),o(F3,"CardinalOpen"),F3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:o(function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bp(this,c,q)}this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=q},"point")},pT=o(function t(c){function r(q){return new F3(q,c)}return o(r,"cardinal"),r.tension=function(c){return t(+c)},r},"custom")(0)});function Wy(c,q,Y){var V=c._x1,Z=c._y1,re=c._x2,ae=c._y2;if(c._l01_a>Sk){var se=2*c._l01_2a+3*c._l01_a*c._l12_a+c._l12_2a,oe=3*c._l01_a*(c._l01_a+c._l12_a);V=(V*se-c._x0*c._l12_2a+c._x2*c._l01_2a)/oe,Z=(Z*se-c._y0*c._l12_2a+c._y2*c._l01_2a)/oe}if(c._l23_a>Sk){var he=2*c._l23_2a+3*c._l23_a*c._l12_a+c._l12_2a,de=3*c._l23_a*(c._l23_a+c._l12_a);re=(re*he+c._x1*c._l23_2a-q*c._l12_2a)/de,ae=(ae*he+c._y1*c._l23_2a-Y*c._l12_2a)/de}c._context.bezierCurveTo(V,Z,re,ae,c._x2,c._y2)}function aY(c,q){this._context=c,this._alpha=q}var fT,mT=M(()=>{Mk(),cT(),o(Wy,"point"),o(aY,"CatmullRom"),aY.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){if(c=+c,q=+q,this._point){var Y=this._x2-c,V=this._y2-q;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Y*Y+V*V,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2;break;case 2:this._point=3;default:Wy(this,c,q)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=q},"point")},fT=o(function t(c){function r(q){return c?new aY(q,c):new P3(q,0)}return o(r,"catmullRom"),r.alpha=function(c){return t(+c)},r},"custom")(.5)});function sY(c,q){this._context=c,this._alpha=q}var yT,vT=M(()=>{uT(),Zk(),mT(),o(sY,"CatmullRomClosed"),sY.prototype={areaStart:Ks,areaEnd:Ks,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},"lineEnd"),point:o(function(c,q){if(c=+c,q=+q,this._point){var Y=this._x2-c,V=this._y2-q;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Y*Y+V*V,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=c,this._y3=q;break;case 1:this._point=2,this._context.moveTo(this._x4=c,this._y4=q);break;case 2:this._point=3,this._x5=c,this._y5=q;break;default:Wy(this,c,q)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=q},"point")},yT=o(function t(c){function r(q){return c?new sY(q,c):new B3(q,0)}return o(r,"catmullRom"),r.alpha=function(c){return t(+c)},r},"custom")(.5)});function lY(c,q){this._context=c,this._alpha=q}var xT,AT=M(()=>{gT(),mT(),o(lY,"CatmullRomOpen"),lY.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){if(c=+c,q=+q,this._point){var Y=this._x2-c,V=this._y2-q;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Y*Y+V*V,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wy(this,c,q)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=c,this._y0=this._y1,this._y1=this._y2,this._y2=q},"point")},xT=o(function t(c){function r(q){return c?new lY(q,c):new F3(q,0)}return o(r,"catmullRom"),r.alpha=function(c){return t(+c)},r},"custom")(.5)});function uY(c){this._context=c}function G3(c){return new uY(c)}var LT=M(()=>{Zk(),o(uY,"LinearClosed"),uY.prototype={areaStart:Ks,areaEnd:Ks,lineStart:o(function(){this._point=0},"lineStart"),lineEnd:o(function(){this._point&&this._context.closePath()},"lineEnd"),point:o(function(c,q){c=+c,q=+q,this._point?this._context.lineTo(c,q):(this._point=1,this._context.moveTo(c,q))},"point")},o(G3,"default")});function fY(c){return c<0?-1:1}function dY(c,q,Y){var V=c._x1-c._x0,Z=q-c._x1,re=(c._y1-c._y0)/(V||Z<0&&-0),ae=(Y-c._y1)/(Z||V<0&&-0),se=(re*Z+ae*V)/(V+Z);return(fY(re)+fY(ae))*Math.min(Math.abs(re),Math.abs(ae),.5*Math.abs(se))||0}function pY(c,q){var Y=c._x1-c._x0;return Y?(3*(c._y1-c._y0)/Y-q)/2:q}function y_(c,q,Y){var V=c._x0,Z=c._y0,re=c._x1,ae=c._y1,se=(re-V)/3;c._context.bezierCurveTo(V+se,Z+se*q,re-se,ae-se*Y,re,ae)}function $3(c){this._context=c}function mY(c){this._context=new gY(c)}function gY(c){this._context=c}function v_(c){return new $3(c)}function x_(c){return new mY(c)}var NT=M(()=>{o(fY,"sign"),o(dY,"slope3"),o(pY,"slope2"),o(y_,"point"),o($3,"MonotoneX"),$3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y_(this,this._t0,pY(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(c,q){var Y=NaN;if(q=+q,(c=+c)!==this._x1||q!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2;break;case 2:this._point=3,y_(this,pY(this,Y=dY(this,c,q)),Y);break;default:y_(this,this._t0,Y=dY(this,c,q))}this._x0=this._x1,this._x1=c,this._y0=this._y1,this._y1=q,this._t0=Y}},"point")},o(mY,"MonotoneY"),(mY.prototype=Object.create($3.prototype)).point=function(c,q){$3.prototype.point.call(this,q,c)},o(gY,"ReflectContext"),gY.prototype={moveTo:o(function(c,q){this._context.moveTo(q,c)},"moveTo"),closePath:o(function(){this._context.closePath()},"closePath"),lineTo:o(function(c,q){this._context.lineTo(q,c)},"lineTo"),bezierCurveTo:o(function(c,q,Y,V,Z,re){this._context.bezierCurveTo(q,c,V,Y,re,Z)},"bezierCurveTo")},o(v_,"monotoneX"),o(x_,"monotoneY")});function xY(c){this._context=c}function vY(c){var q,Y,V=c.length-1,Z=new Array(V),re=new Array(V),ae=new Array(V);for(Z[0]=0,re[0]=2,ae[0]=c[0]+2*c[1],q=1;q<V-1;++q)Z[q]=1,re[q]=4,ae[q]=4*c[q]+2*c[q+1];for(Z[V-1]=2,re[V-1]=7,ae[V-1]=8*c[V-1]+c[V],q=1;q<V;++q)Y=Z[q]/re[q-1],re[q]-=Y,ae[q]-=Y*ae[q-1];for(Z[V-1]=ae[V-1]/re[V-1],q=V-2;q>=0;--q)Z[q]=(ae[q]-Z[q+1])/re[q];for(re[V-1]=(c[V]+Z[V-1])/2,q=0;q<V-1;++q)re[q]=2*c[q+1]-Z[q+1];return[Z,re]}function V3(c){return new xY(c)}var MT=M(()=>{o(xY,"Natural"),xY.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:o(function(){var c=this._x,q=this._y,Y=c.length;if(Y)if(this._line?this._context.lineTo(c[0],q[0]):this._context.moveTo(c[0],q[0]),2===Y)this._context.lineTo(c[1],q[1]);else for(var V=vY(c),Z=vY(q),re=0,ae=1;ae<Y;++re,++ae)this._context.bezierCurveTo(V[0][re],Z[0][re],V[1][re],Z[1][re],c[ae],q[ae]);(this._line||0!==this._line&&1===Y)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:o(function(c,q){this._x.push(+c),this._y.push(+q)},"point")},o(vY,"controlPoints"),o(V3,"default")});function U3(c,q){this._context=c,this._t=q}function H3(c){return new U3(c,.5)}function b_(c){return new U3(c,0)}function w_(c){return new U3(c,1)}var OT=M(()=>{o(U3,"Step"),U3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:o(function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:o(function(c,q){switch(c=+c,q=+q,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,q):this._context.moveTo(c,q);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,q),this._context.lineTo(c,q);else{var Y=this._x*(1-this._t)+c*this._t;this._context.lineTo(Y,this._y),this._context.lineTo(Y,q)}}this._x=c,this._y=q},"point")},o(H3,"default"),o(b_,"stepBefore"),o(w_,"stepAfter")}),PT=M(()=>{Ok(),Gk(),Hk(),tT(),rT(),eT(),Kk(),aT(),uT(),gT(),cT(),vT(),AT(),mT(),LT(),Bk(),NT(),MT(),OT()}),BT=M(()=>{}),FT=M(()=>{});function Sh(c,q,Y){this.k=c,this.x=q,this.y=Y}function k_(c){for(;!c.__zoom;)if(!(c=c.parentNode))return zT;return c.__zoom}var zT,UT,qT,YT,WT,VT,KT,t_,r_,n_,l_,c_,h_,u_,d_,p_,g_,f_,m_,T_,__,E_,C_,S_,A_,L_,N_,I_,M_,R_,O_,P_,B_,F_=M(()=>{o(Sh,"Transform"),Sh.prototype={constructor:Sh,scale:o(function(c){return 1===c?this:new Sh(this.k*c,this.x,this.y)},"scale"),translate:o(function(c,q){return 0===c&0===q?this:new Sh(this.k,this.x+this.k*c,this.y+this.k*q)},"translate"),apply:o(function(c){return[c[0]*this.k+this.x,c[1]*this.k+this.y]},"apply"),applyX:o(function(c){return c*this.k+this.x},"applyX"),applyY:o(function(c){return c*this.k+this.y},"applyY"),invert:o(function(c){return[(c[0]-this.x)/this.k,(c[1]-this.y)/this.k]},"invert"),invertX:o(function(c){return(c-this.x)/this.k},"invertX"),invertY:o(function(c){return(c-this.y)/this.k},"invertY"),rescaleX:o(function(c){return c.copy().domain(c.range().map(this.invertX,this).map(c.invert,c))},"rescaleX"),rescaleY:o(function(c){return c.copy().domain(c.range().map(this.invertY,this).map(c.invert,c))},"rescaleY"),toString:o(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")},zT=new Sh(1,0,0),k_.prototype=Sh.prototype,o(k_,"transform")}),$_=M(()=>{}),z_=M(()=>{Hx(),BT(),FT(),F_(),$_()}),G_=M(()=>{z_(),F_()}),U_=M(()=>{Lf(),Ff(),tb(),cb(),Qy(),ub(),db(),Yf(),ay(),pb(),qx(),gb(),yb(),Wb(),Hb(),Vb(),Dv(),lb(),Xb(),mb(),Kb(),uk(),fk(),iy(),PT(),Jw(),ck(),rx(),Hx(),G_()}),q_=Ni(c=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BLANK_URL=c.relativeFirstCharacters=c.whitespaceEscapeCharsRegex=c.urlSchemeRegex=c.ctrlCharactersRegex=c.htmlCtrlEntityRegex=c.htmlEntitiesRegex=c.invalidProtocolRegex=void 0,c.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,c.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,c.htmlCtrlEntityRegex=/&(newline|tab);/gi,c.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,c.urlSchemeRegex=/^.+(:|&colon;)/gim,c.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,c.relativeFirstCharacters=[".","/"],c.BLANK_URL="about:blank"}),j_=Ni(c=>{Object.defineProperty(c,"__esModule",{value:!0}),c.sanitizeUrl=void 0;var q=q_();function pEe(c){return q.relativeFirstCharacters.indexOf(c[0])>-1}function mEe(c){return c.replace(q.ctrlCharactersRegex,"").replace(q.htmlEntitiesRegex,function(c,q){return String.fromCharCode(q)})}function gEe(c){return URL.canParse(c)}function LY(c){try{return decodeURIComponent(c)}catch{return c}}function yEe(c){if(!c)return q.BLANK_URL;var Y,V=LY(c.trim());do{Y=(V=LY(V=mEe(V).replace(q.htmlCtrlEntityRegex,"").replace(q.ctrlCharactersRegex,"").replace(q.whitespaceEscapeCharsRegex,"").trim())).match(q.ctrlCharactersRegex)||V.match(q.htmlEntitiesRegex)||V.match(q.htmlCtrlEntityRegex)||V.match(q.whitespaceEscapeCharsRegex)}while(Y&&Y.length>0);var Z=V;if(!Z)return q.BLANK_URL;if(pEe(Z))return Z;var re=Z.trimStart(),ae=re.match(q.urlSchemeRegex);if(!ae)return Z;var se=ae[0].toLowerCase().trim();if(q.invalidProtocolRegex.test(se))return q.BLANK_URL;var oe=re.replace(/\\/g,"/");if("mailto:"===se||se.includes("://"))return oe;if("http:"===se||"https:"===se){if(!gEe(oe))return q.BLANK_URL;var he=new URL(oe);return he.protocol=he.protocol.toLowerCase(),he.hostname=he.hostname.toLowerCase(),he.toString()}return oe}o(pEe,"isRelativeUrlWithoutProtocol"),o(mEe,"decodeHtmlCharacters"),o(gEe,"isValidUrl"),o(LY,"decodeURI"),o(yEe,"sanitizeUrl"),c.sanitizeUrl=yEe}),Y_=M(()=>{UT=ka(j_(),1),bp(),qT=o((c,q)=>{let Y=c.append("rect");if(Y.attr("x",q.x),Y.attr("y",q.y),Y.attr("fill",q.fill),Y.attr("stroke",q.stroke),Y.attr("width",q.width),Y.attr("height",q.height),q.name&&Y.attr("name",q.name),q.rx&&Y.attr("rx",q.rx),q.ry&&Y.attr("ry",q.ry),void 0!==q.attrs)for(let c in q.attrs)Y.attr(c,q.attrs[c]);return q.class&&Y.attr("class",q.class),Y},"drawRect"),YT=o((c,q)=>{let Y={x:q.startx,y:q.starty,width:q.stopx-q.startx,height:q.stopy-q.starty,fill:q.fill,stroke:q.stroke,class:"rect"};qT(c,Y).lower()},"drawBackgroundRect"),WT=o((c,q)=>{let Y=q.text.replace(Ed," "),V=c.append("text");V.attr("x",q.x),V.attr("y",q.y),V.attr("class","legend"),V.style("text-anchor",q.anchor),q.class&&V.attr("class",q.class);let Z=V.append("tspan");return Z.attr("x",q.x+2*q.textMargin),Z.text(Y),V},"drawText"),VT=o((c,q,Y,V)=>{let Z=c.append("image");Z.attr("x",q),Z.attr("y",Y);let re=(0,UT.sanitizeUrl)(V);Z.attr("xlink:href",re)},"drawImage"),KT=o((c,q,Y,V)=>{let Z=c.append("use");Z.attr("x",q),Z.attr("y",Y);let re=(0,UT.sanitizeUrl)(V);Z.attr("xlink:href",`#${re}`)},"drawEmbeddedImage"),t_=o(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),r_=o(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")}),W_=M(()=>{bp(),Y_(),n_=ka(j_(),1),l_=o(function(c,q){return qT(c,q)},"drawRect"),c_=o(function(c,q,Y,V,Z,re){let ae=c.append("image");ae.attr("width",q),ae.attr("height",Y),ae.attr("x",V),ae.attr("y",Z);let se=re.startsWith("data:image/png;base64")?re:(0,n_.sanitizeUrl)(re);ae.attr("xlink:href",se)},"drawImage"),h_=o((c,q,Y)=>{let V=c.append("g"),Z=0;for(let c of q){let q=c.textColor?c.textColor:"#444444",re=c.lineColor?c.lineColor:"#444444",ae=c.offsetX?parseInt(c.offsetX):0,se=c.offsetY?parseInt(c.offsetY):0,oe="";if(0===Z){let q=V.append("line");q.attr("x1",c.startPoint.x),q.attr("y1",c.startPoint.y),q.attr("x2",c.endPoint.x),q.attr("y2",c.endPoint.y),q.attr("stroke-width","1"),q.attr("stroke",re),q.style("fill","none"),"rel_b"!==c.type&&q.attr("marker-end","url("+oe+"#arrowhead)"),("birel"===c.type||"rel_b"===c.type)&&q.attr("marker-start","url("+oe+"#arrowend)"),Z=-1}else{let q=V.append("path");q.attr("fill","none").attr("stroke-width","1").attr("stroke",re).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",c.startPoint.x).replaceAll("starty",c.startPoint.y).replaceAll("controlx",c.startPoint.x+(c.endPoint.x-c.startPoint.x)/2-(c.endPoint.x-c.startPoint.x)/4).replaceAll("controly",c.startPoint.y+(c.endPoint.y-c.startPoint.y)/2).replaceAll("stopx",c.endPoint.x).replaceAll("stopy",c.endPoint.y)),"rel_b"!==c.type&&q.attr("marker-end","url("+oe+"#arrowhead)"),("birel"===c.type||"rel_b"===c.type)&&q.attr("marker-start","url("+oe+"#arrowend)")}let he=Y.messageFont();A_(Y)(c.label.text,V,Math.min(c.startPoint.x,c.endPoint.x)+Math.abs(c.endPoint.x-c.startPoint.x)/2+ae,Math.min(c.startPoint.y,c.endPoint.y)+Math.abs(c.endPoint.y-c.startPoint.y)/2+se,c.label.width,c.label.height,{fill:q},he),c.techn&&""!==c.techn.text&&(he=Y.messageFont(),A_(Y)("["+c.techn.text+"]",V,Math.min(c.startPoint.x,c.endPoint.x)+Math.abs(c.endPoint.x-c.startPoint.x)/2+ae,Math.min(c.startPoint.y,c.endPoint.y)+Math.abs(c.endPoint.y-c.startPoint.y)/2+Y.messageFontSize+5+se,Math.max(c.label.width,c.techn.width),c.techn.height,{fill:q,"font-style":"italic"},he))}},"drawRels"),u_=o(function(c,q,Y){let V=c.append("g"),Z=q.bgColor?q.bgColor:"none",re=q.borderColor?q.borderColor:"#444444",ae=q.fontColor?q.fontColor:"black",se={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};q.nodeType&&(se={"stroke-width":1});let oe={x:q.x,y:q.y,fill:Z,stroke:re,width:q.width,height:q.height,rx:2.5,ry:2.5,attrs:se};l_(V,oe);let he=Y.boundaryFont();he.fontWeight="bold",he.fontSize=he.fontSize+2,he.fontColor=ae,A_(Y)(q.label.text,V,q.x,q.y+q.label.Y,q.width,q.height,{fill:"#444444"},he),q.type&&""!==q.type.text&&(he=Y.boundaryFont(),he.fontColor=ae,A_(Y)(q.type.text,V,q.x,q.y+q.type.Y,q.width,q.height,{fill:"#444444"},he)),q.descr&&""!==q.descr.text&&(he=Y.boundaryFont(),he.fontSize=he.fontSize-2,he.fontColor=ae,A_(Y)(q.descr.text,V,q.x,q.y+q.descr.Y,q.width,q.height,{fill:"#444444"},he))},"drawBoundary"),d_=o(function(c,q,Y){let V=q.bgColor?q.bgColor:Y[q.typeC4Shape.text+"_bg_color"],Z=q.borderColor?q.borderColor:Y[q.typeC4Shape.text+"_border_color"],re=q.fontColor?q.fontColor:"#FFFFFF",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(q.typeC4Shape.text){case"person":ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}let se=c.append("g");se.attr("class","person-man");let oe=t_();switch(q.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":oe.x=q.x,oe.y=q.y,oe.fill=V,oe.width=q.width,oe.height=q.height,oe.stroke=Z,oe.rx=2.5,oe.ry=2.5,oe.attrs={"stroke-width":.5},l_(se,oe);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":se.append("path").attr("fill",V).attr("stroke-width","0.5").attr("stroke",Z).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",q.x).replaceAll("starty",q.y).replaceAll("half",q.width/2).replaceAll("height",q.height)),se.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",Z).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",q.x).replaceAll("starty",q.y).replaceAll("half",q.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":se.append("path").attr("fill",V).attr("stroke-width","0.5").attr("stroke",Z).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",q.x).replaceAll("starty",q.y).replaceAll("width",q.width).replaceAll("half",q.height/2)),se.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",Z).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",q.x+q.width).replaceAll("starty",q.y).replaceAll("half",q.height/2))}let he=S_(Y,q.typeC4Shape.text);switch(se.append("text").attr("fill",re).attr("font-family",he.fontFamily).attr("font-size",he.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",q.typeC4Shape.width).attr("x",q.x+q.width/2-q.typeC4Shape.width/2).attr("y",q.y+q.typeC4Shape.Y).text("<<"+q.typeC4Shape.text+">>"),q.typeC4Shape.text){case"person":case"external_person":c_(se,48,48,q.x+q.width/2-24,q.y+q.image.Y,ae)}let de=Y[q.typeC4Shape.text+"Font"]();return de.fontWeight="bold",de.fontSize=de.fontSize+2,de.fontColor=re,A_(Y)(q.label.text,se,q.x,q.y+q.label.Y,q.width,q.height,{fill:re},de),de=Y[q.typeC4Shape.text+"Font"](),de.fontColor=re,q.techn&&""!==q.techn?.text?A_(Y)(q.techn.text,se,q.x,q.y+q.techn.Y,q.width,q.height,{fill:re,"font-style":"italic"},de):q.type&&""!==q.type.text&&A_(Y)(q.type.text,se,q.x,q.y+q.type.Y,q.width,q.height,{fill:re,"font-style":"italic"},de),q.descr&&""!==q.descr.text&&(de=Y.personFont(),de.fontColor=re,A_(Y)(q.descr.text,se,q.x,q.y+q.descr.Y,q.width,q.height,{fill:re},de)),q.height},"drawC4Shape"),p_=o(function(c){c.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),g_=o(function(c){c.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),f_=o(function(c){c.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),m_=o(function(c){c.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),T_=o(function(c){c.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),__=o(function(c){c.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),E_=o(function(c){c.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),C_=o(function(c){let q=c.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);q.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),q.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),S_=o((c,q)=>({fontFamily:c[q+"FontFamily"],fontSize:c[q+"FontSize"],fontWeight:c[q+"FontWeight"]}),"getC4ShapeFont"),A_=function(){function t(c,q,Y,V,Z,re,ae){n(q.append("text").attr("x",Y+Z/2).attr("y",V+re/2+5).style("text-anchor","middle").text(c),ae)}function e(c,q,Y,V,Z,re,ae,se){let{fontSize:oe,fontFamily:he,fontWeight:de}=se,pe=c.split(op.lineBreakRegex);for(let c=0;c<pe.length;c++){let re=c*oe-oe*(pe.length-1)/2,se=q.append("text").attr("x",Y+Z/2).attr("y",V).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",oe).style("font-weight",de).style("font-family",he);se.append("tspan").attr("dy",re).text(pe[c]).attr("alignment-baseline","mathematical"),n(se,ae)}}function r(c,q,Y,V,Z,re,ae,se){let oe=q.append("switch"),he=oe.append("foreignObject").attr("x",Y).attr("y",V).attr("width",Z).attr("height",re).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");he.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(c),e(c,oe,Y,V,Z,0,ae,se),n(he,ae)}function n(c,q){for(let Y in q)q.hasOwnProperty(Y)&&c.attr(Y,q[Y])}return o(t,"byText"),o(e,"byTspan"),o(r,"byFo"),o(n,"_setTextAttrs"),function(c){return"fo"===c.textPlacement?r:"old"===c.textPlacement?t:e}}(),L_={drawRect:l_,drawBoundary:u_,drawC4Shape:d_,drawRels:h_,drawImage:c_,insertArrowHead:m_,insertArrowEnd:T_,insertArrowFilledHead:__,insertDynamicNumber:E_,insertArrowCrossHead:C_,insertDatabaseIcon:p_,insertComputerIcon:g_,insertClockIcon:f_}}),H_=M(()=>{N_="object"==typeof global&&global&&global.Object===Object&&global,I_=N_}),V_=M(()=>{H_(),M_="object"==typeof self&&self&&self.Object===Object&&self,R_=I_||M_||Function("return this")(),O_=R_}),X_=M(()=>{V_(),P_=O_.Symbol,B_=P_});function PEe(c){var q=Z_.call(c,tE),Y=c[tE];try{c[tE]=void 0;var V=!0}catch{}var Z=eE.call(c);return V&&(q?c[tE]=Y:delete c[tE]),Z}var K_,Z_,eE,tE,rE,nE=M(()=>{X_(),K_=Object.prototype,Z_=K_.hasOwnProperty,eE=K_.toString,tE=B_?B_.toStringTag:void 0,o(PEe,"getRawTag"),rE=PEe});function zEe(c){return aE.call(c)}var iE,aE,sE,oE=M(()=>{iE=Object.prototype,aE=iE.toString,o(zEe,"objectToString"),sE=zEe});function VEe(c){return null==c?void 0===c?cE:lE:hE&&hE in Object(c)?rE(c):sE(c)}var lE,cE,hE,uE,pE=M(()=>{X_(),nE(),oE(),lE="[object Null]",cE="[object Undefined]",hE=B_?B_.toStringTag:void 0,o(VEe,"baseGetTag"),uE=VEe});function UEe(c){var q=typeof c;return null!=c&&("object"==q||"function"==q)}var gE,fE=M(()=>{o(UEe,"isObject"),gE=UEe});function XEe(c){if(!gE(c))return!1;var q=uE(c);return q==yE||q==vE||q==mE||q==xE}var mE,yE,vE,xE,bE,wE,kE,TE=M(()=>{pE(),fE(),mE="[object AsyncFunction]",yE="[object Function]",vE="[object GeneratorFunction]",xE="[object Proxy]",o(XEe,"isFunction"),bE=XEe}),_E=M(()=>{V_(),wE=O_["__core-js_shared__"],kE=wE});function KEe(c){return!!EE&&EE in c}var EE,CE,SE=M(()=>{var c;_E(),c=/[^.]+$/.exec(kE&&kE.keys&&kE.keys.IE_PROTO||""),EE=c?"Symbol(src)_1."+c:"",o(KEe,"isMasked"),CE=KEe});function JEe(c){if(null!=c){try{return LE.call(c)}catch{}try{return c+""}catch{}}return""}var AE,LE,NE,IE=M(()=>{AE=Function.prototype,LE=AE.toString,o(JEe,"toSource"),NE=JEe});function o6e(c){return!(!gE(c)||CE(c))&&(bE(c)?$E:RE).test(NE(c))}var ME,RE,DE,PE,BE,FE,$E,zE,GE=M(()=>{TE(),SE(),fE(),IE(),ME=/[\\^$.*+?()[\]{}|]/g,RE=/^\[object .+?Constructor\]$/,DE=Function.prototype,PE=Object.prototype,BE=DE.toString,FE=PE.hasOwnProperty,$E=RegExp("^"+BE.call(FE).replace(ME,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o(o6e,"baseIsNative"),zE=o6e});function l6e(c,q){return c?.[q]}var UE,qE=M(()=>{o(l6e,"getValue"),UE=l6e});function c6e(c,q){var Y=UE(c,q);return zE(Y)?Y:void 0}var jE,YE,WE,HE=M(()=>{GE(),qE(),o(c6e,"getNative"),jE=c6e}),VE=M(()=>{HE(),YE=jE(Object,"create"),WE=YE});function h6e(){this.__data__=WE?WE(null):{},this.size=0}var XE,KE=M(()=>{VE(),o(h6e,"hashClear"),XE=h6e});function f6e(c){var q=this.has(c)&&delete this.__data__[c];return this.size-=q?1:0,q}var QE,ZE=M(()=>{o(f6e,"hashDelete"),QE=f6e});function g6e(c){var q=this.__data__;if(WE){var Y=q[c];return Y===JE?void 0:Y}return tC.call(q,c)?q[c]:void 0}var JE,eC,tC,rC,nC=M(()=>{VE(),JE="__lodash_hash_undefined__",eC=Object.prototype,tC=eC.hasOwnProperty,o(g6e,"hashGet"),rC=g6e});function x6e(c){var q=this.__data__;return WE?void 0!==q[c]:aC.call(q,c)}var iC,aC,sC,oC=M(()=>{VE(),iC=Object.prototype,aC=iC.hasOwnProperty,o(x6e,"hashHas"),sC=x6e});function w6e(c,q){var Y=this.__data__;return this.size+=this.has(c)?0:1,Y[c]=WE&&void 0===q?lC:q,this}var lC,cC,hC=M(()=>{VE(),lC="__lodash_hash_undefined__",o(w6e,"hashSet"),cC=w6e});function zp(c){var q=-1,Y=null==c?0:c.length;for(this.clear();++q<Y;){var V=c[q];this.set(V[0],V[1])}}var uC,dC=M(()=>{KE(),ZE(),nC(),oC(),hC(),o(zp,"Hash"),zp.prototype.clear=XE,zp.prototype.delete=QE,zp.prototype.get=rC,zp.prototype.has=sC,zp.prototype.set=cC,uC=zp});function T6e(){this.__data__=[],this.size=0}var pC,gC=M(()=>{o(T6e,"listCacheClear"),pC=T6e});function k6e(c,q){return c===q||c!=c&&q!=q}var fC,mC=M(()=>{o(k6e,"eq"),fC=k6e});function E6e(c,q){for(var Y=c.length;Y--;)if(fC(c[Y][0],q))return Y;return-1}var yC,vC=M(()=>{mC(),o(E6e,"assocIndexOf"),yC=E6e});function A6e(c){var q=this.__data__,Y=yC(q,c);return!(Y<0)&&(Y==q.length-1?q.pop():bC.call(q,Y,1),--this.size,!0)}var xC,bC,wC,kC=M(()=>{vC(),xC=Array.prototype,bC=xC.splice,o(A6e,"listCacheDelete"),wC=A6e});function _6e(c){var q=this.__data__,Y=yC(q,c);return Y<0?void 0:q[Y][1]}var TC,_C=M(()=>{vC(),o(_6e,"listCacheGet"),TC=_6e});function L6e(c){return yC(this.__data__,c)>-1}var CC,SC=M(()=>{vC(),o(L6e,"listCacheHas"),CC=L6e});function D6e(c,q){var Y=this.__data__,V=yC(Y,c);return V<0?(++this.size,Y.push([c,q])):Y[V][1]=q,this}var AC,LC=M(()=>{vC(),o(D6e,"listCacheSet"),AC=D6e});function Gp(c){var q=-1,Y=null==c?0:c.length;for(this.clear();++q<Y;){var V=c[q];this.set(V[0],V[1])}}var NC,IC,MC,DC=M(()=>{gC(),kC(),_C(),SC(),LC(),o(Gp,"ListCache"),Gp.prototype.clear=pC,Gp.prototype.delete=wC,Gp.prototype.get=TC,Gp.prototype.has=CC,Gp.prototype.set=AC,NC=Gp}),OC=M(()=>{HE(),V_(),IC=jE(O_,"Map"),MC=IC});function R6e(){this.size=0,this.__data__={hash:new uC,map:new(MC||NC),string:new uC}}var BC,FC=M(()=>{dC(),DC(),OC(),o(R6e,"mapCacheClear"),BC=R6e});function M6e(c){var q=typeof c;return"string"==q||"number"==q||"symbol"==q||"boolean"==q?"__proto__"!==c:null===c}var zC,GC=M(()=>{o(M6e,"isKeyable"),zC=M6e});function I6e(c,q){var Y=c.__data__;return zC(q)?Y["string"==typeof q?"string":"hash"]:Y.map}var UC,qC=M(()=>{GC(),o(I6e,"getMapData"),UC=I6e});function O6e(c){var q=UC(this,c).delete(c);return this.size-=q?1:0,q}var jC,YC=M(()=>{qC(),o(O6e,"mapCacheDelete"),jC=O6e});function P6e(c){return UC(this,c).get(c)}var WC,HC=M(()=>{qC(),o(P6e,"mapCacheGet"),WC=P6e});function B6e(c){return UC(this,c).has(c)}var XC,KC=M(()=>{qC(),o(B6e,"mapCacheHas"),XC=B6e});function F6e(c,q){var Y=UC(this,c),V=Y.size;return Y.set(c,q),this.size+=Y.size==V?0:1,this}var QC,ZC=M(()=>{qC(),o(F6e,"mapCacheSet"),QC=F6e});function $p(c){var q=-1,Y=null==c?0:c.length;for(this.clear();++q<Y;){var V=c[q];this.set(V[0],V[1])}}var JC,eS=M(()=>{FC(),YC(),HC(),KC(),ZC(),o($p,"MapCache"),$p.prototype.clear=BC,$p.prototype.delete=jC,$p.prototype.get=WC,$p.prototype.has=XC,$p.prototype.set=QC,JC=$p});function D_(c,q){if("function"!=typeof c||null!=q&&"function"!=typeof q)throw new TypeError(tS);var Y=o(function(){var V=arguments,Z=q?q.apply(this,V):V[0],re=Y.cache;if(re.has(Z))return re.get(Z);var ae=c.apply(this,V);return Y.cache=re.set(Z,ae)||re,ae},"memoized");return Y.cache=new(D_.Cache||JC),Y}var tS,rS,nS=M(()=>{eS(),tS="Expected a function",o(D_,"memoize"),D_.Cache=JC,rS=D_});function G6e(){this.__data__=new NC,this.size=0}var iS,aS=M(()=>{DC(),o(G6e,"stackClear"),iS=G6e});function $6e(c){var q=this.__data__,Y=q.delete(c);return this.size=q.size,Y}var sS,oS=M(()=>{o($6e,"stackDelete"),sS=$6e});function V6e(c){return this.__data__.get(c)}var cS,gS=M(()=>{o(V6e,"stackGet"),cS=V6e});function U6e(c){return this.__data__.has(c)}var mS,yS=M(()=>{o(U6e,"stackHas"),mS=U6e});function W6e(c,q){var Y=this.__data__;if(Y instanceof NC){var V=Y.__data__;if(!MC||V.length<vS-1)return V.push([c,q]),this.size=++Y.size,this;Y=this.__data__=new JC(V)}return Y.set(c,q),this.size=Y.size,this}var vS,xS,bS=M(()=>{DC(),OC(),eS(),vS=200,o(W6e,"stackSet"),xS=W6e});function Up(c){var q=this.__data__=new NC(c);this.size=q.size}var wS,kS,TS,ES=M(()=>{DC(),aS(),oS(),gS(),yS(),bS(),o(Up,"Stack"),Up.prototype.clear=iS,Up.prototype.delete=sS,Up.prototype.get=cS,Up.prototype.has=mS,Up.prototype.set=xS,wS=Up}),NS=M(()=>{HE(),kS=function(){try{var c=jE(Object,"defineProperty");return c({},"",{}),c}catch{}}(),TS=kS});function q6e(c,q,Y){"__proto__"==q&&TS?TS(c,q,{configurable:!0,enumerable:!0,value:Y,writable:!0}):c[q]=Y}var IS,MS=M(()=>{NS(),o(q6e,"baseAssignValue"),IS=q6e});function X6e(c,q,Y){(void 0!==Y&&!fC(c[q],Y)||void 0===Y&&!(q in c))&&IS(c,q,Y)}var RS,OS=M(()=>{MS(),mC(),o(X6e,"assignMergeValue"),RS=X6e});function j6e(c){return function(q,Y,V){for(var Z=-1,re=Object(q),ae=V(q),se=ae.length;se--;){var oe=ae[c?se:++Z];if(!1===Y(re[oe],oe,re))break}return q}}var PS,BS,FS,$S=M(()=>{o(j6e,"createBaseFor"),PS=j6e}),zS=M(()=>{$S(),BS=PS(),FS=BS});function Z6e(c,q){if(q)return c.slice();var Y=c.length,V=YS?YS(Y):new c.constructor(Y);return c.copy(V),V}var GS,US,qS,jS,YS,WS,HS,VS,XS=M(()=>{V_(),GS="object"==typeof exports&&exports&&!exports.nodeType&&exports,US=GS&&"object"==typeof module&&module&&!module.nodeType&&module,qS=US&&US.exports===GS,jS=qS?O_.Buffer:void 0,YS=jS?jS.allocUnsafe:void 0,o(Z6e,"cloneBuffer"),WS=Z6e}),KS=M(()=>{V_(),HS=O_.Uint8Array,VS=HS});function eSe(c){var q=new c.constructor(c.byteLength);return new VS(q).set(new VS(c)),q}var QS,ZS=M(()=>{KS(),o(eSe,"cloneArrayBuffer"),QS=eSe});function tSe(c,q){var Y=q?QS(c.buffer):c.buffer;return new c.constructor(Y,c.byteOffset,c.length)}var JS,dA=M(()=>{ZS(),o(tSe,"cloneTypedArray"),JS=tSe});function rSe(c,q){var Y=-1,V=c.length;for(q||(q=Array(V));++Y<V;)q[Y]=c[Y];return q}var gA,fA,_A,EA,CA=M(()=>{o(rSe,"copyArray"),gA=rSe}),AA=M(()=>{fE(),fA=Object.create,_A=function(){function t(){}return o(t,"object"),function(c){if(!gE(c))return{};if(fA)return fA(c);t.prototype=c;var q=new t;return t.prototype=void 0,q}}(),EA=_A});function iSe(c,q){return function(Y){return c(q(Y))}}var IA,MA,RA,OA=M(()=>{o(iSe,"overArg"),IA=iSe}),PA=M(()=>{OA(),MA=IA(Object.getPrototypeOf,Object),RA=MA});function oSe(c){var q=c&&c.constructor;return c===("function"==typeof q&&q.prototype||BA)}var BA,zA,VA=M(()=>{BA=Object.prototype,o(oSe,"isPrototype"),zA=oSe});function lSe(c){return"function"!=typeof c.constructor||zA(c)?{}:EA(RA(c))}var eL,tL=M(()=>{AA(),PA(),VA(),o(lSe,"initCloneObject"),eL=lSe});function cSe(c){return null!=c&&"object"==typeof c}var nL,iL=M(()=>{o(cSe,"isObjectLike"),nL=cSe});function hSe(c){return nL(c)&&uE(c)==aL}var aL,sL,oL,lL,cL,hL,uL,dL,pL,gL=M(()=>{pE(),iL(),aL="[object Arguments]",o(hSe,"baseIsArguments"),sL=hSe}),fL=M(()=>{gL(),iL(),oL=Object.prototype,lL=oL.hasOwnProperty,cL=oL.propertyIsEnumerable,hL=sL(function(){return arguments}())?sL:function(c){return nL(c)&&lL.call(c,"callee")&&!cL.call(c,"callee")},uL=hL}),mL=M(()=>{dL=Array.isArray,pL=dL});function ySe(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=yL}var yL,vL,xL=M(()=>{yL=9007199254740991,o(ySe,"isLength"),vL=ySe});function vSe(c){return null!=c&&vL(c.length)&&!bE(c)}var bL,wL=M(()=>{TE(),xL(),o(vSe,"isArrayLike"),bL=vSe});function xSe(c){return nL(c)&&bL(c)}var kL,TL=M(()=>{wL(),iL(),o(xSe,"isArrayLikeObject"),kL=xSe});function bSe(){return!1}var _L,EL,CL,SL,AL,LL,NL,IL=M(()=>{o(bSe,"stubFalse"),_L=bSe}),ML=M(()=>{V_(),IL(),EL="object"==typeof exports&&exports&&!exports.nodeType&&exports,CL=EL&&"object"==typeof module&&module&&!module.nodeType&&module,SL=CL&&CL.exports===EL,AL=SL?O_.Buffer:void 0,LL=AL?AL.isBuffer:void 0,NL=LL||_L});function LSe(c){if(!nL(c)||uE(c)!=RL)return!1;var q=RA(c);if(null===q)return!0;var Y=BL.call(q,"constructor")&&q.constructor;return"function"==typeof Y&&Y instanceof Y&&PL.call(Y)==FL}var RL,DL,OL,PL,BL,FL,$L,zL=M(()=>{pE(),PA(),iL(),RL="[object Object]",DL=Function.prototype,OL=Object.prototype,PL=DL.toString,BL=OL.hasOwnProperty,FL=PL.call(Object),o(LSe,"isPlainObject"),$L=LSe});function eCe(c){return nL(c)&&vL(c.length)&&!!GL[uE(c)]}var GL,UL,qL=M(()=>{pE(),xL(),iL(),(GL={})["[object Float32Array]"]=GL["[object Float64Array]"]=GL["[object Int8Array]"]=GL["[object Int16Array]"]=GL["[object Int32Array]"]=GL["[object Uint8Array]"]=GL["[object Uint8ClampedArray]"]=GL["[object Uint16Array]"]=GL["[object Uint32Array]"]=!0,GL["[object Arguments]"]=GL["[object Array]"]=GL["[object ArrayBuffer]"]=GL["[object Boolean]"]=GL["[object DataView]"]=GL["[object Date]"]=GL["[object Error]"]=GL["[object Function]"]=GL["[object Map]"]=GL["[object Number]"]=GL["[object Object]"]=GL["[object RegExp]"]=GL["[object Set]"]=GL["[object String]"]=GL["[object WeakMap]"]=!1,o(eCe,"baseIsTypedArray"),UL=eCe});function tCe(c){return function(q){return c(q)}}var jL,YL,WL,HL,VL,XL,KL,QL,ZL,tN,rN=M(()=>{o(tCe,"baseUnary"),jL=tCe}),nN=M(()=>{H_(),YL="object"==typeof exports&&exports&&!exports.nodeType&&exports,WL=YL&&"object"==typeof module&&module&&!module.nodeType&&module,HL=WL&&WL.exports===YL,VL=HL&&I_.process,XL=function(){try{return WL&&WL.require&&WL.require("util").types||VL&&VL.binding&&VL.binding("util")}catch{}}(),KL=XL}),aN=M(()=>{qL(),rN(),nN(),QL=KL&&KL.isTypedArray,ZL=QL?jL(QL):UL,tN=ZL});function aCe(c,q){if(("constructor"!==q||"function"!=typeof c[q])&&"__proto__"!=q)return c[q]}var sN,cN=M(()=>{o(aCe,"safeGet"),sN=aCe});function lCe(c,q,Y){var V=c[q];(!uN.call(c,q)||!fC(V,Y)||void 0===Y&&!(q in c))&&IS(c,q,Y)}var hN,uN,pN,gN=M(()=>{MS(),mC(),hN=Object.prototype,uN=hN.hasOwnProperty,o(lCe,"assignValue"),pN=lCe});function cCe(c,q,Y,V){var Z=!Y;Y||(Y={});for(var re=-1,ae=q.length;++re<ae;){var se=q[re],oe=V?V(Y[se],c[se],se,Y,c):void 0;void 0===oe&&(oe=c[se]),Z?IS(Y,se,oe):pN(Y,se,oe)}return Y}var fN,mN=M(()=>{gN(),MS(),o(cCe,"copyObject"),fN=cCe});function uCe(c,q){for(var Y=-1,V=Array(c);++Y<c;)V[Y]=q(Y);return V}var yN,xN=M(()=>{o(uCe,"baseTimes"),yN=uCe});function dCe(c,q){var Y=typeof c;return!!(q=q??bN)&&("number"==Y||"symbol"!=Y&&kN.test(c))&&c>-1&&c%1==0&&c<q}var bN,kN,TN,_N=M(()=>{bN=9007199254740991,kN=/^(?:0|[1-9]\d*)$/,o(dCe,"isIndex"),TN=dCe});function gCe(c,q){var Y=pL(c),V=!Y&&uL(c),Z=!Y&&!V&&NL(c),re=!Y&&!V&&!Z&&tN(c),ae=Y||V||Z||re,se=ae?yN(c.length,String):[],oe=se.length;for(var he in c)(q||CN.call(c,he))&&(!ae||!("length"==he||Z&&("offset"==he||"parent"==he)||re&&("buffer"==he||"byteLength"==he||"byteOffset"==he)||TN(he,oe)))&&se.push(he);return se}var EN,CN,LN,NN=M(()=>{xN(),fL(),mL(),ML(),_N(),aN(),EN=Object.prototype,CN=EN.hasOwnProperty,o(gCe,"arrayLikeKeys"),LN=gCe});function yCe(c){var q=[];if(null!=c)for(var Y in Object(c))q.push(Y);return q}var IN,MN=M(()=>{o(yCe,"nativeKeysIn"),IN=yCe});function bCe(c){if(!gE(c))return IN(c);var q=zA(c),Y=[];for(var V in c)"constructor"==V&&(q||!BN.call(c,V))||Y.push(V);return Y}var ON,BN,UN,YN=M(()=>{fE(),VA(),MN(),ON=Object.prototype,BN=ON.hasOwnProperty,o(bCe,"baseKeysIn"),UN=bCe});function wCe(c){return bL(c)?LN(c,!0):UN(c)}var WN,HN=M(()=>{NN(),YN(),wL(),o(wCe,"keysIn"),WN=wCe});function TCe(c){return fN(c,WN(c))}var iI,aI=M(()=>{mN(),HN(),o(TCe,"toPlainObject"),iI=TCe});function kCe(c,q,Y,V,Z,re,ae){var se=sN(c,Y),oe=sN(q,Y),he=ae.get(oe);if(he)RS(c,Y,he);else{var de=re?re(se,oe,Y+"",c,q,ae):void 0,pe=void 0===de;if(pe){var ge=pL(oe),me=!ge&&NL(oe),ve=!ge&&!me&&tN(oe);de=oe,ge||me||ve?pL(se)?de=se:kL(se)?de=gA(se):me?(pe=!1,de=WS(oe,!0)):ve?(pe=!1,de=JS(oe,!0)):de=[]:$L(oe)||uL(oe)?(de=se,uL(se)?de=iI(se):(!gE(se)||bE(se))&&(de=eL(oe))):pe=!1}pe&&(ae.set(oe,de),Z(de,oe,V,re,ae),ae.delete(oe)),RS(c,Y,de)}}var sI,oI=M(()=>{OS(),XS(),dA(),CA(),tL(),fL(),mL(),TL(),ML(),TE(),fE(),zL(),aN(),cN(),aI(),o(kCe,"baseMergeDeep"),sI=kCe});function vX(c,q,Y,V,Z){c!==q&&FS(q,function(re,ae){if(Z||(Z=new wS),gE(re))sI(c,q,ae,Y,vX,V,Z);else{var se=V?V(sN(c,ae),re,ae+"",c,q,Z):void 0;void 0===se&&(se=re),RS(c,ae,se)}},WN)}var lI,cI=M(()=>{ES(),OS(),zS(),oI(),fE(),HN(),cN(),o(vX,"baseMerge"),lI=vX});function ECe(c){return c}var hI,uI=M(()=>{o(ECe,"identity"),hI=ECe});function SCe(c,q,Y){switch(Y.length){case 0:return c.call(q);case 1:return c.call(q,Y[0]);case 2:return c.call(q,Y[0],Y[1]);case 3:return c.call(q,Y[0],Y[1],Y[2])}return c.apply(q,Y)}var dI,pI=M(()=>{o(SCe,"apply"),dI=SCe});function CCe(c,q,Y){return q=gI(void 0===q?c.length-1:q,0),function(){for(var V=arguments,Z=-1,re=gI(V.length-q,0),ae=Array(re);++Z<re;)ae[Z]=V[q+Z];Z=-1;for(var se=Array(q+1);++Z<q;)se[Z]=V[Z];return se[q]=Y(ae),dI(c,this,se)}}var gI,fI,mI=M(()=>{pI(),gI=Math.max,o(CCe,"overRest"),fI=CCe});function ACe(c){return function(){return c}}var yI,vI,xI=M(()=>{o(ACe,"constant"),yI=ACe}),bI=M(()=>{xI(),NS(),uI(),vI=TS?function(c,q){return TS(c,"toString",{configurable:!0,enumerable:!1,value:yI(q),writable:!0})}:hI});function RCe(c){var q=0,Y=0;return function(){var V=TI(),Z=kI-(V-Y);if(Y=V,Z>0){if(++q>=wI)return arguments[0]}else q=0;return c.apply(void 0,arguments)}}var wI,kI,TI,_I,EI,CI,SI=M(()=>{wI=800,kI=16,TI=Date.now,o(RCe,"shortOut"),_I=RCe}),AI=M(()=>{bI(),SI(),EI=_I(vI),CI=EI});function ICe(c,q){return CI(fI(c,q,hI),c+"")}var LI,NI=M(()=>{uI(),mI(),AI(),o(ICe,"baseRest"),LI=ICe});function OCe(c,q,Y){if(!gE(Y))return!1;var V=typeof q;return!!("number"==V?bL(Y)&&TN(q,Y.length):"string"==V&&q in Y)&&fC(Y[q],c)}var II,MI=M(()=>{mC(),wL(),_N(),fE(),o(OCe,"isIterateeCall"),II=OCe});function PCe(c){return LI(function(q,Y){var V=-1,Z=Y.length,re=Z>1?Y[Z-1]:void 0,ae=Z>2?Y[2]:void 0;for(re=c.length>3&&"function"==typeof re?(Z--,re):void 0,ae&&II(Y[0],Y[1],ae)&&(re=Z<3?void 0:re,Z=1),q=Object(q);++V<Z;){var se=Y[V];se&&c(q,se,V,re)}return q})}var DI,OI,PI,BI=M(()=>{NI(),MI(),o(PCe,"createAssigner"),DI=PCe}),FI=M(()=>{cI(),BI(),OI=DI(function(c,q,Y){lI(c,q,Y)}),PI=OI});function Q_(c,q){if(!c)return q;let Y=`curve${c.charAt(0).toUpperCase()+c.slice(1)}`;return GI[Y]??q}function VCe(c,q){let Y=c.trim();if(Y)return"loose"!==q.securityLevel?(0,$I.sanitizeUrl)(Y):Y}function MX(c,q){return c&&q?Math.sqrt(Math.pow(q.x-c.x,2)+Math.pow(q.y-c.y,2)):0}function HCe(c){let q,Y=0;return c.forEach(c=>{Y+=MX(c,q),q=c}),XI(c,Y/2)}function WCe(c){return 1===c.length?c[0]:HCe(c)}function qCe(c,q,Y){let Z=structuredClone(Y);V.info("our points",Z),"start_left"!==q&&"start_right"!==q&&Z.reverse();let re=XI(Z,25+c),ae=10+.5*c,se=Math.atan2(Z[0].y-re.y,Z[0].x-re.x),oe={x:0,y:0};return"start_left"===q?(oe.x=Math.sin(se+Math.PI)*ae+(Z[0].x+re.x)/2,oe.y=-Math.cos(se+Math.PI)*ae+(Z[0].y+re.y)/2):"end_right"===q?(oe.x=Math.sin(se-Math.PI)*ae+(Z[0].x+re.x)/2-5,oe.y=-Math.cos(se-Math.PI)*ae+(Z[0].y+re.y)/2-5):"end_left"===q?(oe.x=Math.sin(se)*ae+(Z[0].x+re.x)/2-5,oe.y=-Math.cos(se)*ae+(Z[0].y+re.y)/2-5):(oe.x=Math.sin(se)*ae+(Z[0].x+re.x)/2,oe.y=-Math.cos(se)*ae+(Z[0].y+re.y)/2),oe}function J_(c){let q="",Y="";for(let V of c)void 0!==V&&(V.startsWith("color:")||V.startsWith("text-align:")?Y=Y+V+";":q=q+V+";");return{style:q,labelStyle:Y}}function XCe(c){let q="",Y="0123456789abcdef";for(let V=0;V<c;V++)q+=Y.charAt(Math.floor(16*Math.random()));return q}function d5(c,q){return iM(c,q).height}function Js(c,q){return iM(c,q).width}function i9(c){return"str"in c}function ws(c,q){return PI({},c,q)}function Fn(c){return c??null}var $I,zI,GI,UI,qI,jI,YI,WI,HI,VI,XI,KI,QI,ZI,JI,eM,tM,rM,nM,iM,aM,sM,oM,lM,cM,hM,uM,dM,mM,yM=M(()=>{$I=ka(j_(),1),U_(),bp(),wi(),Ae(),In(),Rn(),nS(),FI(),Ln(),zI="​",GI={curveBasis:Do,curveBasisClosed:I3,curveBasisOpen:O3,curveBumpX:s_,curveBumpY:o_,curveBundle:nT,curveCardinalClosed:hT,curveCardinalOpen:pT,curveCardinal:lT,curveCatmullRomClosed:yT,curveCatmullRomOpen:xT,curveCatmullRom:fT,curveLinear:Op,curveLinearClosed:G3,curveMonotoneX:v_,curveMonotoneY:x_,curveNatural:V3,curveStep:H3,curveStepAfter:w_,curveStepBefore:b_},UI=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,qI=o(function(c,q){let Y=jI(c,/(?:init\b)|(?:initialize\b)/),V={};if(Array.isArray(Y)){let c=Y.map(c=>c.args);an(c),V=Nt(V,[...c])}else V=Y.args;if(!V)return;let Z=bt(c,q),re="config";return void 0!==V[re]&&("flowchart-v2"===Z&&(Z="flowchart"),V[Z]=V[re],delete V[re]),V},"detectInit"),jI=o(function(c,q=null){try{let Y=new RegExp(`[%]{2}(?![{]${UI.source})(?=[}][%]{2}).*\n`,"ig");c=c.trim().replace(Y,"").replace(/'/gm,'"'),V.debug(`Detecting diagram directive${null!==q?" type:"+q:""} based on the text:${c}`);let Z,re=[];for(;null!==(Z=gt.exec(c));)if(Z.index===gt.lastIndex&&gt.lastIndex++,Z&&!q||q&&Z[1]?.match(q)||q&&Z[2]?.match(q)){let c=Z[1]?Z[1]:Z[2],q=Z[3]?Z[3].trim():Z[4]?JSON.parse(Z[4].trim()):null;re.push({type:c,args:q})}return 0===re.length?{type:c,args:null}:1===re.length?re[0]:re}catch(Y){return V.error(`ERROR: ${Y.message} - Unable to parse directive type: '${q}' based on the text: '${c}'`),{type:void 0,args:null}}},"detectDirective"),YI=o(function(c){return c.replace(gt,"")},"removeDirectives"),WI=o(function(c,q){for(let[Y,V]of q.entries())if(V.match(c))return Y;return-1},"isSubstringInArray"),o(Q_,"interpolateToCurve"),o(VCe,"formatUrl"),HI=o((c,...q)=>{let Y=c.split("."),Z=Y.length-1,re=Y[Z],ae=window;for(let q=0;q<Z;q++)if(ae=ae[Y[q]],!ae)return void V.error(`Function name: ${c} not found in window`);ae[re](...q)},"runFunc"),o(MX,"distance"),o(HCe,"traverseEdge"),o(WCe,"calcLabelPosition"),VI=o((c,q=2)=>{let Y=Math.pow(10,q);return Math.round(c*Y)/Y},"roundNumber"),XI=o((c,q)=>{let Y,V=q;for(let q of c){if(Y){let c=MX(q,Y);if(c<V)V-=c;else{let Z=V/c;if(Z<=0)return Y;if(Z>=1)return{x:q.x,y:q.y};if(Z>0&&Z<1)return{x:VI((1-Z)*Y.x+Z*q.x,5),y:VI((1-Z)*Y.y+Z*q.y,5)}}}Y=q}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),KI=o((c,q,Y)=>{V.info(`our points ${JSON.stringify(q)}`),q[0]!==Y&&(q=q.reverse());let Z=XI(q,25),re=c?10:5,ae=Math.atan2(q[0].y-Z.y,q[0].x-Z.x),se={x:0,y:0};return se.x=Math.sin(ae)*re+(q[0].x+Z.x)/2,se.y=-Math.cos(ae)*re+(q[0].y+Z.y)/2,se},"calcCardinalityPosition"),o(qCe,"calcTerminalLabelPosition"),o(J_,"getStylesFromArray"),QI=0,ZI=o(()=>(QI++,"id-"+Math.random().toString(36).substr(2,12)+"-"+QI),"generateId"),o(XCe,"makeRandomHex"),JI=o(c=>XCe(c.length),"random"),eM=o(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),tM=o(function(c,q){let Y=q.text.replace(op.lineBreakRegex," "),[,V]=cM(q.fontSize),Z=c.append("text");Z.attr("x",q.x),Z.attr("y",q.y),Z.style("text-anchor",q.anchor),Z.style("font-family",q.fontFamily),Z.style("font-size",V),Z.style("font-weight",q.fontWeight),Z.attr("fill",q.fill),void 0!==q.class&&Z.attr("class",q.class);let re=Z.append("tspan");return re.attr("x",q.x+2*q.textMargin),re.attr("fill",q.fill),re.text(Y),Z},"drawSimpleText"),rM=rS((c,q,Y)=>{if(!c||(Y=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},Y),op.lineBreakRegex.test(c)))return c;let V=c.split(" ").filter(Boolean),Z=[],re="";return V.forEach((c,ae)=>{let se=Js(`${c} `,Y),oe=Js(re,Y);if(se>q){let{hyphenatedStrings:V,remainingWord:ae}=nM(c,q,"-",Y);Z.push(re,...V),re=ae}else oe+se>=q?(Z.push(re),re=c):re=[re,c].filter(Boolean).join(" ");ae+1===V.length&&Z.push(re)}),Z.filter(c=>""!==c).join(Y.joinWith)},(c,q,Y)=>`${c}${q}${Y.fontSize}${Y.fontWeight}${Y.fontFamily}${Y.joinWith}`),nM=rS((c,q,Y="-",V)=>{V=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},V);let Z=[...c],re=[],ae="";return Z.forEach((c,se)=>{let oe=`${ae}${c}`;if(Js(oe,V)>=q){let c=se+1,q=Z.length===c,V=`${oe}${Y}`;re.push(q?oe:V),ae=""}else ae=oe}),{hyphenatedStrings:re,remainingWord:ae}},(c,q,Y="-",V)=>`${c}${q}${Y}${V.fontSize}${V.fontWeight}${V.fontFamily}`),o(d5,"calculateTextHeight"),o(Js,"calculateTextWidth"),iM=rS((c,q)=>{let{fontSize:Y=12,fontFamily:V="Arial",fontWeight:Z=400}=q;if(!c)return{width:0,height:0};let[,re]=cM(Y),ae=["sans-serif",V],se=c.split(op.lineBreakRegex),oe=[],he=ze("body");if(!he.remove)return{width:0,height:0,lineHeight:0};let de=he.append("svg");for(let c of ae){let q=0,Y={width:0,height:0,lineHeight:0};for(let V of se){let ae=eM();ae.text=V||zI;let se=tM(de,ae).style("font-size",re).style("font-weight",Z).style("font-family",c),oe=(se._groups||se)[0][0].getBBox();if(0===oe.width&&0===oe.height)throw new Error("svg element not in render tree");Y.width=Math.round(Math.max(Y.width,oe.width)),q=Math.round(oe.height),Y.height+=q,Y.lineHeight=Math.round(Math.max(Y.lineHeight,q))}oe.push(Y)}return de.remove(),oe[isNaN(oe[1].height)||isNaN(oe[1].width)||isNaN(oe[1].lineHeight)||oe[0].height>oe[1].height&&oe[0].width>oe[1].width&&oe[0].lineHeight>oe[1].lineHeight?0:1]},(c,q)=>`${c}${q.fontSize}${q.fontWeight}${q.fontFamily}`),aM=class{constructor(c=!1,q){this.count=0,this.count=q?q.length:0,this.next=c?()=>this.count++:()=>Date.now()}static{o(this,"InitIDGenerator")}},oM=o(function(c){return sM=sM||document.createElement("div"),c=escape(c).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),sM.innerHTML=c,unescape(sM.textContent)},"entityDecode"),o(i9,"isDetailedError"),lM=o((c,q,Y,V)=>{if(!V)return;let Z=c.node()?.getBBox();Z&&c.append("text").text(V).attr("text-anchor","middle").attr("x",Z.x+Z.width/2).attr("y",-Y).attr("class",q)},"insertTitle"),cM=o(c=>{if("number"==typeof c)return[c,c+"px"];let q=parseInt(c??"",10);return Number.isNaN(q)?[void 0,void 0]:c===String(q)?[q,c+"px"]:[q,c]},"parseFontSize"),o(ws,"cleanAndMerge"),hM={assignWithDepth:Nt,wrapLabel:rM,calculateTextHeight:d5,calculateTextWidth:Js,calculateTextDimensions:iM,cleanAndMerge:ws,detectInit:qI,detectDirective:jI,isSubstringInArray:WI,interpolateToCurve:Q_,calcLabelPosition:WCe,calcCardinalityPosition:KI,calcTerminalLabelPosition:qCe,formatUrl:VCe,getStylesFromArray:J_,generateId:ZI,random:JI,runFunc:HI,entityDecode:oM,insertTitle:lM,parseFontSize:cM,InitIDGenerator:aM},uM=o(function(c){let q=c;return q=q.replace(/style.*:\S*#.*;/g,function(c){return c.substring(0,c.length-1)}),q=q.replace(/classDef.*:\S*#.*;/g,function(c){return c.substring(0,c.length-1)}),q=q.replace(/#\w+;/g,function(c){let q=c.substring(1,c.length-1);return/^\+?\d+$/.test(q)?"ﬂ°°"+q+"¶ß":"ﬂ°"+q+"¶ß"}),q},"encodeEntities"),dM=o(function(c){return c.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),mM=o((c,q,{counter:Y=0,prefix:V,suffix:Z})=>`${V?`${V}_`:""}${c}_${q}_${Y}${Z?`_${Z}`:""}`,"getEdgeId"),o(Fn,"handleUndefinedAttr")});function Ll(c,q,Y,V,Z){if(!q[c].width)if(Y)q[c].text=rM(q[c].text,Z,V),q[c].textLines=q[c].text.split(op.lineBreakRegex).length,q[c].width=Z,q[c].height=d5(q[c].text,V);else{let Y=q[c].text.split(op.lineBreakRegex);q[c].textLines=Y.length;let Z=0;q[c].height=0,q[c].width=0;for(let re of Y)q[c].width=Math.max(Js(re,V),q[c].width),Z=d5(re,V),q[c].height=q[c].height+Z}}function zX(c,q,Y,V,Z){let re=new EM(Z);re.data.widthLimit=Y.data.widthLimit/Math.min(TM,V.length);for(let[ae,se]of V.entries()){let V=0;se.image={width:0,height:0,Y:0},se.sprite&&(se.image.width=48,se.image.height=48,se.image.Y=V,V=se.image.Y+se.image.height);let oe=se.wrap&&_M.wrap,he=AM(_M);if(he.fontSize=he.fontSize+2,he.fontWeight="bold",Ll("label",se,oe,he,re.data.widthLimit),se.label.Y=V+8,V=se.label.Y+se.label.height,se.type&&""!==se.type.text){se.type.text="["+se.type.text+"]",Ll("type",se,oe,AM(_M),re.data.widthLimit),se.type.Y=V+5,V=se.type.Y+se.type.height}if(se.descr&&""!==se.descr.text){let c=AM(_M);c.fontSize=c.fontSize-2,Ll("descr",se,oe,c,re.data.widthLimit),se.descr.Y=V+20,V=se.descr.Y+se.descr.height}if(0==ae||ae%TM===0){let c=Y.data.startx+_M.diagramMarginX,q=Y.data.stopy+_M.diagramMarginY+V;re.setData(c,c,q,q)}else{let c=re.data.stopx!==re.data.startx?re.data.stopx+_M.diagramMarginX:re.data.startx,q=re.data.starty;re.setData(c,c,q,q)}re.name=se.alias;let de=Z.db.getC4ShapeArray(se.alias),pe=Z.db.getC4ShapeKeys(se.alias);pe.length>0&&MM(re,c,de,pe),q=se.alias;let ge=Z.db.getBoundarys(q);ge.length>0&&zX(c,q,re,ge,Z),"global"!==se.alias&&IM(c,se,re),Y.data.stopy=Math.max(re.data.stopy+_M.c4ShapeMargin,Y.data.stopy),Y.data.stopx=Math.max(re.data.stopx+_M.c4ShapeMargin,Y.data.stopx),xM=Math.max(xM,Y.data.stopx),bM=Math.max(bM,Y.data.stopy)}}var xM,bM,wM,TM,_M,EM,CM,SM,AM,LM,IM,MM,DM,OM,PM,BM,FM,$M,zM,UM,qM=M(()=>{U_(),W_(),Ae(),Mn(),bp(),uf(),hf(),Rn(),yM(),kp(),xM=0,bM=0,wM=4,TM=2,St.yy=nf,_M={},EM=class{static{o(this,"Bounds")}constructor(c){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,CM(c.db.getConfig())}setData(c,q,Y,V){this.nextData.startx=this.data.startx=c,this.nextData.stopx=this.data.stopx=q,this.nextData.starty=this.data.starty=Y,this.nextData.stopy=this.data.stopy=V}updateVal(c,q,Y,V){void 0===c[q]?c[q]=Y:c[q]=V(Y,c[q])}insert(c){this.nextData.cnt=this.nextData.cnt+1;let q=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+c.margin:this.nextData.stopx+2*c.margin,Y=q+c.width,V=this.nextData.starty+2*c.margin,Z=V+c.height;(q>=this.data.widthLimit||Y>=this.data.widthLimit||this.nextData.cnt>wM)&&(q=this.nextData.startx+c.margin+_M.nextLinePaddingX,V=this.nextData.stopy+2*c.margin,this.nextData.stopx=Y=q+c.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=Z=V+c.height,this.nextData.cnt=1),c.x=q,c.y=V,this.updateVal(this.data,"startx",q,Math.min),this.updateVal(this.data,"starty",V,Math.min),this.updateVal(this.data,"stopx",Y,Math.max),this.updateVal(this.data,"stopy",Z,Math.max),this.updateVal(this.nextData,"startx",q,Math.min),this.updateVal(this.nextData,"starty",V,Math.min),this.updateVal(this.nextData,"stopx",Y,Math.max),this.updateVal(this.nextData,"stopy",Z,Math.max)}init(c){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},CM(c.db.getConfig())}bumpLastMargin(c){this.data.stopx+=c,this.data.stopy+=c}},CM=o(function(c){Nt(_M,c),c.fontFamily&&(_M.personFontFamily=_M.systemFontFamily=_M.messageFontFamily=c.fontFamily),c.fontSize&&(_M.personFontSize=_M.systemFontSize=_M.messageFontSize=c.fontSize),c.fontWeight&&(_M.personFontWeight=_M.systemFontWeight=_M.messageFontWeight=c.fontWeight)},"setConf"),SM=o((c,q)=>({fontFamily:c[q+"FontFamily"],fontSize:c[q+"FontSize"],fontWeight:c[q+"FontWeight"]}),"c4ShapeFont"),AM=o(c=>({fontFamily:c.boundaryFontFamily,fontSize:c.boundaryFontSize,fontWeight:c.boundaryFontWeight}),"boundaryFont"),LM=o(c=>({fontFamily:c.messageFontFamily,fontSize:c.messageFontSize,fontWeight:c.messageFontWeight}),"messageFont"),o(Ll,"calcC4ShapeTextWH"),IM=o(function(c,q,Y){q.x=Y.data.startx,q.y=Y.data.starty,q.width=Y.data.stopx-Y.data.startx,q.height=Y.data.stopy-Y.data.starty,q.label.y=_M.c4ShapeMargin-35;let V=q.wrap&&_M.wrap,Z=AM(_M);Z.fontSize=Z.fontSize+2,Z.fontWeight="bold",Ll("label",q,V,Z,Js(q.label.text,Z)),L_.drawBoundary(c,q,_M)},"drawBoundary"),MM=o(function(c,q,Y,V){let Z=0;for(let re of V){Z=0;let V=Y[re],ae=SM(_M,V.typeC4Shape.text);switch(ae.fontSize=ae.fontSize-2,V.typeC4Shape.width=Js("«"+V.typeC4Shape.text+"»",ae),V.typeC4Shape.height=ae.fontSize+2,V.typeC4Shape.Y=_M.c4ShapePadding,Z=V.typeC4Shape.Y+V.typeC4Shape.height-4,V.image={width:0,height:0,Y:0},V.typeC4Shape.text){case"person":case"external_person":V.image.width=48,V.image.height=48,V.image.Y=Z,Z=V.image.Y+V.image.height}V.sprite&&(V.image.width=48,V.image.height=48,V.image.Y=Z,Z=V.image.Y+V.image.height);let se=V.wrap&&_M.wrap,oe=_M.width-2*_M.c4ShapePadding,he=SM(_M,V.typeC4Shape.text);if(he.fontSize=he.fontSize+2,he.fontWeight="bold",Ll("label",V,se,he,oe),V.label.Y=Z+8,Z=V.label.Y+V.label.height,V.type&&""!==V.type.text){V.type.text="["+V.type.text+"]",Ll("type",V,se,SM(_M,V.typeC4Shape.text),oe),V.type.Y=Z+5,Z=V.type.Y+V.type.height}else if(V.techn&&""!==V.techn.text){V.techn.text="["+V.techn.text+"]",Ll("techn",V,se,SM(_M,V.techn.text),oe),V.techn.Y=Z+5,Z=V.techn.Y+V.techn.height}let de=Z,pe=V.label.width;if(V.descr&&""!==V.descr.text){Ll("descr",V,se,SM(_M,V.typeC4Shape.text),oe),V.descr.Y=Z+20,Z=V.descr.Y+V.descr.height,pe=Math.max(V.label.width,V.descr.width),de=Z-5*V.descr.textLines}pe+=_M.c4ShapePadding,V.width=Math.max(V.width||_M.width,pe,_M.width),V.height=Math.max(V.height||_M.height,de,_M.height),V.margin=V.margin||_M.c4ShapeMargin,c.insert(V),L_.drawC4Shape(q,V,_M)}c.bumpLastMargin(_M.c4ShapeMargin)},"drawC4ShapeArray"),DM=class{static{o(this,"Point")}constructor(c,q){this.x=c,this.y=q}},OM=o(function(c,q){let Y=c.x,V=c.y,Z=q.x,re=q.y,ae=Y+c.width/2,se=V+c.height/2,oe=Math.abs(Y-Z),he=Math.abs(V-re),de=he/oe,pe=c.height/c.width,ge=null;return V==re&&Y<Z?ge=new DM(Y+c.width,se):V==re&&Y>Z?ge=new DM(Y,se):Y==Z&&V<re?ge=new DM(ae,V+c.height):Y==Z&&V>re&&(ge=new DM(ae,V)),Y>Z&&V<re?ge=pe>=de?new DM(Y,se+de*c.width/2):new DM(ae-oe/he*c.height/2,V+c.height):Y<Z&&V<re?ge=pe>=de?new DM(Y+c.width,se+de*c.width/2):new DM(ae+oe/he*c.height/2,V+c.height):Y<Z&&V>re?ge=pe>=de?new DM(Y+c.width,se-de*c.width/2):new DM(ae+c.height/2*oe/he,V):Y>Z&&V>re&&(ge=pe>=de?new DM(Y,se-c.width/2*de):new DM(ae-c.height/2*oe/he,V)),ge},"getIntersectPoint"),PM=o(function(c,q){let Y={x:0,y:0};Y.x=q.x+q.width/2,Y.y=q.y+q.height/2;let V=OM(c,Y);return Y.x=c.x+c.width/2,Y.y=c.y+c.height/2,{startPoint:V,endPoint:OM(q,Y)}},"getIntersectPoints"),BM=o(function(c,q,Y,V){let Z=0;for(let c of q){Z+=1;let q=c.wrap&&_M.wrap,re=LM(_M);"C4Dynamic"===V.db.getC4Type()&&(c.label.text=Z+": "+c.label.text);let ae=Js(c.label.text,re);Ll("label",c,q,re,ae),c.techn&&""!==c.techn.text&&(ae=Js(c.techn.text,re),Ll("techn",c,q,re,ae)),c.descr&&""!==c.descr.text&&(ae=Js(c.descr.text,re),Ll("descr",c,q,re,ae));let se=Y(c.from),oe=Y(c.to),he=PM(se,oe);c.startPoint=he.startPoint,c.endPoint=he.endPoint}L_.drawRels(c,q,_M)},"drawRels"),o(zX,"drawInsideBoundary"),FM=o(function(c,q,Y,Z){_M=Xp().c4;let re,ae=Xp().securityLevel;"sandbox"===ae&&(re=ze("#i"+q));let se=ze("sandbox"===ae?re.nodes()[0].contentDocument.body:"body"),oe=Z.db;Z.db.setWrap(_M.wrap),wM=oe.getC4ShapeInRow(),TM=oe.getC4BoundaryInRow(),V.debug(`C:${JSON.stringify(_M,null,2)}`);let he="sandbox"===ae?se.select(`[id="${q}"]`):ze(`[id="${q}"]`);L_.insertComputerIcon(he),L_.insertDatabaseIcon(he),L_.insertClockIcon(he);let de=new EM(Z);de.setData(_M.diagramMarginX,_M.diagramMarginX,_M.diagramMarginY,_M.diagramMarginY),de.data.widthLimit=screen.availWidth,xM=_M.diagramMarginX,bM=_M.diagramMarginY;let pe=Z.db.getTitle();zX(he,"",de,Z.db.getBoundarys(""),Z),L_.insertArrowHead(he),L_.insertArrowEnd(he),L_.insertArrowCrossHead(he),L_.insertArrowFilledHead(he),BM(he,Z.db.getRels(),Z.db.getC4Shape,Z),de.data.stopx=xM,de.data.stopy=bM;let ge=de.data,me=ge.stopy-ge.starty+2*_M.diagramMarginY,ve=ge.stopx-ge.startx+2*_M.diagramMarginX;pe&&he.append("text").text(pe).attr("x",(ge.stopx-ge.startx)/2-4*_M.diagramMarginX).attr("y",ge.starty+_M.diagramMarginY),hp(he,me,ve,_M.useMaxWidth);let be=pe?60:0;he.attr("viewBox",ge.startx-_M.diagramMarginX+" -"+(_M.diagramMarginY+be)+" "+ve+" "+(me+be)),V.debug("models:",ge)},"draw"),$M={drawPersonOrSystemArray:MM,drawBoundary:IM,setConf:CM,draw:FM}}),jM=M(()=>{zM=o(c=>`.person {\n    stroke: ${c.personBorder};\n    fill: ${c.personBkg};\n  }\n`,"getStyles"),UM=zM}),YM={};vr(YM,{diagram:()=>WM});var WM,HM=M(()=>{Mn(),uf(),qM(),jM(),WM={parser:At,db:nf,renderer:$M,styles:UM,init:o(({c4:c,wrap:q})=>{$M.setConf(c),nf.setWrap(q)},"init")}});function u9(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function ZX(c){VM=c}function eo(c,q){if(q){if(XM.test(c))return c.replace(ZM,dR)}else if(oR.test(c))return c.replace(cR,dR);return c}function d7e(c){return c.replace(pR,(c,q)=>"colon"===(q=q.toLowerCase())?":":"#"===q.charAt(0)?"x"===q.charAt(1)?String.fromCharCode(parseInt(q.substring(2),16)):String.fromCharCode(+q.substring(1)):"")}function fn(c,q){let Y="string"==typeof c?c:c.source;q=q||"";let V={replace:o((c,q)=>{let Z="string"==typeof q?q:q.source;return Z=Z.replace(mR,"$1"),Y=Y.replace(c,Z),V},"replace"),getRegex:o(()=>new RegExp(Y,q),"getRegex")};return V}function XX(c){try{c=encodeURI(c).replace(/%25/g,"%")}catch{return null}return c}function jX(c,q){let Y=c.replace(/\|/g,(c,q,Y)=>{let V=!1,Z=q;for(;--Z>=0&&"\\"===Y[Z];)V=!V;return V?"|":" |"}).split(/ \|/),V=0;if(Y[0].trim()||Y.shift(),Y.length>0&&!Y[Y.length-1].trim()&&Y.pop(),q)if(Y.length>q)Y.splice(q);else for(;Y.length<q;)Y.push("");for(;V<Y.length;V++)Y[V]=Y[V].trim().replace(/\\\|/g,"|");return Y}function lv(c,q,Y){let V=c.length;if(0===V)return"";let Z=0;for(;Z<V;){let re=c.charAt(V-Z-1);if(re!==q||Y){if(re===q||!Y)break;Z++}else Z++}return c.slice(0,V-Z)}function m7e(c,q){if(-1===c.indexOf(q[1]))return-1;let Y=0;for(let V=0;V<c.length;V++)if("\\"===c[V])V++;else if(c[V]===q[0])Y++;else if(c[V]===q[1]&&(Y--,Y<0))return V;return-1}function KX(c,q,Y,V){let Z=q.href,re=q.title?eo(q.title):null,ae=c[1].replace(/\\([\[\]])/g,"$1");if("!"!==c[0].charAt(0)){V.state.inLink=!0;let c={type:"link",raw:Y,href:Z,title:re,text:ae,tokens:V.inlineTokens(ae)};return V.state.inLink=!1,c}return{type:"image",raw:Y,href:Z,title:re,text:eo(ae)}}function g7e(c,q){let Y=c.match(/^(\s+)(?:```)/);if(null===Y)return q;let V=Y[1];return q.split("\n").map(c=>{let q=c.match(/^\s+/);if(null===q)return c;let[Y]=q;return Y.length>=V.length?c.slice(V.length):c}).join("\n")}function en(c,q){return sO.parse(c,q)}var VM,XM,ZM,oR,cR,uR,dR,pR,mR,vR,xR,wR,kR,ER,CR,AR,LR,NR,IR,MR,DR,OR,PR,BR,FR,zR,GR,WR,HR,KR,QR,ZR,JR,rD,lD,cD,hD,uD,pD,fD,mD,wD,_D,CD,SD,AD,LD,RD,$D,zD,GD,YD,HD,VD,XD,KD,QD,ZD,JD,eO,tO,rO,nO,sO,lO=M(()=>{o(u9,"_getDefaults"),VM={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null},o(ZX,"changeDefaults"),XM=/[&<>"']/,ZM=new RegExp(XM.source,"g"),oR=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,cR=new RegExp(oR.source,"g"),uR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dR=o(c=>uR[c],"getEscapeReplacement"),o(eo,"escape$1"),pR=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,o(d7e,"unescape"),mR=/(^|[^\[])\^/g,o(fn,"edit"),o(XX,"cleanUrl"),vR={exec:o(()=>null,"exec")},o(jX,"splitCells"),o(lv,"rtrim"),o(m7e,"findClosingBracket"),o(KX,"outputLink"),o(g7e,"indentCodeCompensation"),xR=class{static{o(this,"_Tokenizer")}options;rules;lexer;constructor(c){this.options=c||VM}space(c){let q=this.rules.block.newline.exec(c);if(q&&q[0].length>0)return{type:"space",raw:q[0]}}code(c){let q=this.rules.block.code.exec(c);if(q){let c=q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?c:lv(c,"\n")}}}fences(c){let q=this.rules.block.fences.exec(c);if(q){let c=q[0],Y=g7e(c,q[3]||"");return{type:"code",raw:c,lang:q[2]?q[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):q[2],text:Y}}}heading(c){let q=this.rules.block.heading.exec(c);if(q){let c=q[2].trim();if(/#$/.test(c)){let q=lv(c,"#");(this.options.pedantic||!q||/ $/.test(q))&&(c=q.trim())}return{type:"heading",raw:q[0],depth:q[1].length,text:c,tokens:this.lexer.inline(c)}}}hr(c){let q=this.rules.block.hr.exec(c);if(q)return{type:"hr",raw:lv(q[0],"\n")}}blockquote(c){let q=this.rules.block.blockquote.exec(c);if(q){let c=lv(q[0],"\n").split("\n"),Y="",V="",Z=[];for(;c.length>0;){let q,re=!1,ae=[];for(q=0;q<c.length;q++)if(/^ {0,3}>/.test(c[q]))ae.push(c[q]),re=!0;else{if(re)break;ae.push(c[q])}c=c.slice(q);let se=ae.join("\n"),oe=se.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");Y=Y?`${Y}\n${se}`:se,V=V?`${V}\n${oe}`:oe;let he=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(oe,Z,!0),this.lexer.state.top=he,0===c.length)break;let de=Z[Z.length-1];if("code"===de?.type)break;if("blockquote"===de?.type){let q=de,re=q.raw+"\n"+c.join("\n"),ae=this.blockquote(re);Z[Z.length-1]=ae,Y=Y.substring(0,Y.length-q.raw.length)+ae.raw,V=V.substring(0,V.length-q.text.length)+ae.text;break}if("list"===de?.type){let q=de,re=q.raw+"\n"+c.join("\n"),ae=this.list(re);Z[Z.length-1]=ae,Y=Y.substring(0,Y.length-de.raw.length)+ae.raw,V=V.substring(0,V.length-q.raw.length)+ae.raw,c=re.substring(Z[Z.length-1].raw.length).split("\n");continue}}return{type:"blockquote",raw:Y,tokens:Z,text:V}}}list(c){let q=this.rules.block.list.exec(c);if(q){let Y=q[1].trim(),V=Y.length>1,Z={type:"list",raw:"",ordered:V,start:V?+Y.slice(0,-1):"",loose:!1,items:[]};Y=V?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic&&(Y=V?Y:"[*+-]");let re=new RegExp(`^( {0,3}${Y})((?:[\t ][^\\n]*)?(?:\\n|$))`),ae=!1;for(;c;){let Y=!1,V="",se="";if(!(q=re.exec(c))||this.rules.block.hr.test(c))break;V=q[0],c=c.substring(V.length);let oe=q[2].split("\n",1)[0].replace(/^\t+/,c=>" ".repeat(3*c.length)),he=c.split("\n",1)[0],de=!oe.trim(),pe=0;if(this.options.pedantic?(pe=2,se=oe.trimStart()):de?pe=q[1].length+1:(pe=q[2].search(/[^ ]/),pe=pe>4?1:pe,se=oe.slice(pe),pe+=q[1].length),de&&/^ *$/.test(he)&&(V+=he+"\n",c=c.substring(he.length+1),Y=!0),!Y){let q=new RegExp(`^ {0,${Math.min(3,pe-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Y=new RegExp(`^ {0,${Math.min(3,pe-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Z=new RegExp(`^ {0,${Math.min(3,pe-1)}}(?:\`\`\`|~~~)`),re=new RegExp(`^ {0,${Math.min(3,pe-1)}}#`);for(;c;){let ae=c.split("\n",1)[0];if(he=ae,this.options.pedantic&&(he=he.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Z.test(he)||re.test(he)||q.test(he)||Y.test(c))break;if(he.search(/[^ ]/)>=pe||!he.trim())se+="\n"+he.slice(pe);else{if(de||oe.search(/[^ ]/)>=4||Z.test(oe)||re.test(oe)||Y.test(oe))break;se+="\n"+he}!de&&!he.trim()&&(de=!0),V+=ae+"\n",c=c.substring(ae.length+1),oe=he.slice(pe)}}Z.loose||(ae?Z.loose=!0:/\n *\n *$/.test(V)&&(ae=!0));let ge,me=null;this.options.gfm&&(me=/^\[[ xX]\] /.exec(se),me&&(ge="[ ] "!==me[0],se=se.replace(/^\[[ xX]\] +/,""))),Z.items.push({type:"list_item",raw:V,task:!!me,checked:ge,loose:!1,text:se,tokens:[]}),Z.raw+=V}Z.items[Z.items.length-1].raw=Z.items[Z.items.length-1].raw.trimEnd(),Z.items[Z.items.length-1].text=Z.items[Z.items.length-1].text.trimEnd(),Z.raw=Z.raw.trimEnd();for(let c=0;c<Z.items.length;c++)if(this.lexer.state.top=!1,Z.items[c].tokens=this.lexer.blockTokens(Z.items[c].text,[]),!Z.loose){let q=Z.items[c].tokens.filter(c=>"space"===c.type),Y=q.length>0&&q.some(c=>/\n.*\n/.test(c.raw));Z.loose=Y}if(Z.loose)for(let c=0;c<Z.items.length;c++)Z.items[c].loose=!0;return Z}}html(c){let q=this.rules.block.html.exec(c);if(q)return{type:"html",block:!0,raw:q[0],pre:"pre"===q[1]||"script"===q[1]||"style"===q[1],text:q[0]}}def(c){let q=this.rules.block.def.exec(c);if(q){let c=q[1].toLowerCase().replace(/\s+/g," "),Y=q[2]?q[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",V=q[3]?q[3].substring(1,q[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):q[3];return{type:"def",tag:c,raw:q[0],href:Y,title:V}}}table(c){let q=this.rules.block.table.exec(c);if(!q||!/[:|]/.test(q[2]))return;let Y=jX(q[1]),V=q[2].replace(/^\||\| *$/g,"").split("|"),Z=q[3]&&q[3].trim()?q[3].replace(/\n[ \t]*$/,"").split("\n"):[],re={type:"table",raw:q[0],header:[],align:[],rows:[]};if(Y.length===V.length){for(let c of V)/^ *-+: *$/.test(c)?re.align.push("right"):/^ *:-+: *$/.test(c)?re.align.push("center"):/^ *:-+ *$/.test(c)?re.align.push("left"):re.align.push(null);for(let c=0;c<Y.length;c++)re.header.push({text:Y[c],tokens:this.lexer.inline(Y[c]),header:!0,align:re.align[c]});for(let c of Z)re.rows.push(jX(c,re.header.length).map((c,q)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:re.align[q]})));return re}}lheading(c){let q=this.rules.block.lheading.exec(c);if(q)return{type:"heading",raw:q[0],depth:"="===q[2].charAt(0)?1:2,text:q[1],tokens:this.lexer.inline(q[1])}}paragraph(c){let q=this.rules.block.paragraph.exec(c);if(q){let c="\n"===q[1].charAt(q[1].length-1)?q[1].slice(0,-1):q[1];return{type:"paragraph",raw:q[0],text:c,tokens:this.lexer.inline(c)}}}text(c){let q=this.rules.block.text.exec(c);if(q)return{type:"text",raw:q[0],text:q[0],tokens:this.lexer.inline(q[0])}}escape(c){let q=this.rules.inline.escape.exec(c);if(q)return{type:"escape",raw:q[0],text:eo(q[1])}}tag(c){let q=this.rules.inline.tag.exec(c);if(q)return!this.lexer.state.inLink&&/^<a /i.test(q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:q[0]}}link(c){let q=this.rules.inline.link.exec(c);if(q){let c=q[2].trim();if(!this.options.pedantic&&/^</.test(c)){if(!/>$/.test(c))return;let q=lv(c.slice(0,-1),"\\");if((c.length-q.length)%2==0)return}else{let c=m7e(q[2],"()");if(c>-1){let Y=(0===q[0].indexOf("!")?5:4)+q[1].length+c;q[2]=q[2].substring(0,c),q[0]=q[0].substring(0,Y).trim(),q[3]=""}}let Y=q[2],V="";if(this.options.pedantic){let c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Y);c&&(Y=c[1],V=c[3])}else V=q[3]?q[3].slice(1,-1):"";return Y=Y.trim(),/^</.test(Y)&&(Y=this.options.pedantic&&!/>$/.test(c)?Y.slice(1):Y.slice(1,-1)),KX(q,{href:Y&&Y.replace(this.rules.inline.anyPunctuation,"$1"),title:V&&V.replace(this.rules.inline.anyPunctuation,"$1")},q[0],this.lexer)}}reflink(c,q){let Y;if((Y=this.rules.inline.reflink.exec(c))||(Y=this.rules.inline.nolink.exec(c))){let c=q[(Y[2]||Y[1]).replace(/\s+/g," ").toLowerCase()];if(!c){let c=Y[0].charAt(0);return{type:"text",raw:c,text:c}}return KX(Y,c,Y[0],this.lexer)}}emStrong(c,q,Y=""){let V=this.rules.inline.emStrongLDelim.exec(c);if(!(!V||V[3]&&Y.match(/[\p{L}\p{N}]/u))&&(!V[1]&&!V[2]||!Y||this.rules.inline.punctuation.exec(Y))){let Y,Z,re=[...V[0]].length-1,ae=re,se=0,oe="*"===V[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(oe.lastIndex=0,q=q.slice(-1*c.length+re);null!=(V=oe.exec(q));){if(Y=V[1]||V[2]||V[3]||V[4]||V[5]||V[6],!Y)continue;if(Z=[...Y].length,V[3]||V[4]){ae+=Z;continue}if((V[5]||V[6])&&re%3&&!((re+Z)%3)){se+=Z;continue}if(ae-=Z,ae>0)continue;Z=Math.min(Z,Z+ae+se);let q=[...V[0]][0].length,oe=c.slice(0,re+V.index+q+Z);if(Math.min(re,Z)%2){let c=oe.slice(1,-1);return{type:"em",raw:oe,text:c,tokens:this.lexer.inlineTokens(c)}}let he=oe.slice(2,-2);return{type:"strong",raw:oe,text:he,tokens:this.lexer.inlineTokens(he)}}}}codespan(c){let q=this.rules.inline.code.exec(c);if(q){let c=q[2].replace(/\n/g," "),Y=/[^ ]/.test(c),V=/^ /.test(c)&&/ $/.test(c);return Y&&V&&(c=c.substring(1,c.length-1)),c=eo(c,!0),{type:"codespan",raw:q[0],text:c}}}br(c){let q=this.rules.inline.br.exec(c);if(q)return{type:"br",raw:q[0]}}del(c){let q=this.rules.inline.del.exec(c);if(q)return{type:"del",raw:q[0],text:q[2],tokens:this.lexer.inlineTokens(q[2])}}autolink(c){let q=this.rules.inline.autolink.exec(c);if(q){let c,Y;return"@"===q[2]?(c=eo(q[1]),Y="mailto:"+c):(c=eo(q[1]),Y=c),{type:"link",raw:q[0],text:c,href:Y,tokens:[{type:"text",raw:c,text:c}]}}}url(c){let q;if(q=this.rules.inline.url.exec(c)){let c,Y;if("@"===q[2])c=eo(q[0]),Y="mailto:"+c;else{let V;do{V=q[0],q[0]=this.rules.inline._backpedal.exec(q[0])?.[0]??""}while(V!==q[0]);c=eo(q[0]),Y="www."===q[1]?"http://"+q[0]:q[0]}return{type:"link",raw:q[0],text:c,href:Y,tokens:[{type:"text",raw:c,text:c}]}}}inlineText(c){let q=this.rules.inline.text.exec(c);if(q){let c;return c=this.lexer.state.inRawBlock?q[0]:eo(q[0]),{type:"text",raw:q[0],text:c}}}},wR=/^(?: *(?:\n|$))+/,kR=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ER=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,CR=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,AR=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,LR=/(?:[*+-]|\d{1,9}[.)])/,NR=fn(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,LR).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),IR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,MR=/^[^\n]+/,DR=/(?!\s*\])(?:\\.|[^\[\]\\])+/,OR=fn(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",DR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),PR=fn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,LR).getRegex(),BR="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",FR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,zR=fn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",FR).replace("tag",BR).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),GR=fn(IR).replace("hr",CR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",BR).getRegex(),WR=fn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",GR).getRegex(),HR={blockquote:WR,code:kR,def:OR,fences:ER,heading:AR,hr:CR,html:zR,lheading:NR,list:PR,newline:wR,paragraph:GR,table:vR,text:MR},KR=fn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",CR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",BR).getRegex(),QR={...HR,table:KR,paragraph:fn(IR).replace("hr",CR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",KR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",BR).getRegex()},ZR={...HR,html:fn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",FR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vR,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:fn(IR).replace("hr",CR).replace("heading"," *#{1,6} *[^\n]").replace("lheading",NR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},JR=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,rD=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,lD=/^( {2,}|\\)\n(?!\s*$)/,cD=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,hD="\\p{P}\\p{S}",uD=fn(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,hD).getRegex(),pD=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,fD=fn(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,hD).getRegex(),mD=fn("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,hD).getRegex(),wD=fn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,hD).getRegex(),_D=fn(/\\([punct])/,"gu").replace(/punct/g,hD).getRegex(),CD=fn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),SD=fn(FR).replace("(?:--\x3e|$)","--\x3e").getRegex(),AD=fn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",SD).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),LD=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,RD=fn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",LD).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$D=fn(/^!?\[(label)\]\[(ref)\]/).replace("label",LD).replace("ref",DR).getRegex(),zD=fn(/^!?\[(ref)\](?:\[\])?/).replace("ref",DR).getRegex(),GD=fn("reflink|nolink(?!\\()","g").replace("reflink",$D).replace("nolink",zD).getRegex(),YD={_backpedal:vR,anyPunctuation:_D,autolink:CD,blockSkip:pD,br:lD,code:rD,del:vR,emStrongLDelim:fD,emStrongRDelimAst:mD,emStrongRDelimUnd:wD,escape:JR,link:RD,nolink:zD,punctuation:uD,reflink:$D,reflinkSearch:GD,tag:AD,text:cD,url:vR},HD={...YD,link:fn(/^!?\[(label)\]\((.*?)\)/).replace("label",LD).getRegex(),reflink:fn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",LD).getRegex()},VD={...YD,escape:fn(JR).replace("])","~|])").getRegex(),url:fn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},XD={...VD,br:fn(lD).replace("{2,}","*").getRegex(),text:fn(VD.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},KD={normal:HR,gfm:QR,pedantic:ZR},QD={normal:YD,gfm:VD,breaks:XD,pedantic:HD},ZD=class t{static{o(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(c){this.tokens=[],this.tokens.links=Object.create(null),this.options=c||VM,this.options.tokenizer=this.options.tokenizer||new xR,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let q={block:KD.normal,inline:QD.normal};this.options.pedantic?(q.block=KD.pedantic,q.inline=QD.pedantic):this.options.gfm&&(q.block=KD.gfm,this.options.breaks?q.inline=QD.breaks:q.inline=QD.gfm),this.tokenizer.rules=q}static get rules(){return{block:KD,inline:QD}}static lex(c,q){return new t(q).lex(c)}static lexInline(c,q){return new t(q).inlineTokens(c)}lex(c){c=c.replace(/\r\n|\r/g,"\n"),this.blockTokens(c,this.tokens);for(let c=0;c<this.inlineQueue.length;c++){let q=this.inlineQueue[c];this.inlineTokens(q.src,q.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(c,q=[],Y=!1){let V,Z,re;for(c=this.options.pedantic?c.replace(/\t/g,"    ").replace(/^ +$/gm,""):c.replace(/^( *)(\t+)/gm,(c,q,Y)=>q+"    ".repeat(Y.length));c;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Y=>!!(V=Y.call({lexer:this},c,q))&&(c=c.substring(V.raw.length),q.push(V),!0)))){if(V=this.tokenizer.space(c)){c=c.substring(V.raw.length),1===V.raw.length&&q.length>0?q[q.length-1].raw+="\n":q.push(V);continue}if(V=this.tokenizer.code(c)){c=c.substring(V.raw.length),Z=q[q.length-1],!Z||"paragraph"!==Z.type&&"text"!==Z.type?q.push(V):(Z.raw+="\n"+V.raw,Z.text+="\n"+V.text,this.inlineQueue[this.inlineQueue.length-1].src=Z.text);continue}if(V=this.tokenizer.fences(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.heading(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.hr(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.blockquote(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.list(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.html(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.def(c)){c=c.substring(V.raw.length),Z=q[q.length-1],!Z||"paragraph"!==Z.type&&"text"!==Z.type?this.tokens.links[V.tag]||(this.tokens.links[V.tag]={href:V.href,title:V.title}):(Z.raw+="\n"+V.raw,Z.text+="\n"+V.raw,this.inlineQueue[this.inlineQueue.length-1].src=Z.text);continue}if(V=this.tokenizer.table(c)){c=c.substring(V.raw.length),q.push(V);continue}if(V=this.tokenizer.lheading(c)){c=c.substring(V.raw.length),q.push(V);continue}if(re=c,this.options.extensions&&this.options.extensions.startBlock){let q,Y=1/0,V=c.slice(1);this.options.extensions.startBlock.forEach(c=>{q=c.call({lexer:this},V),"number"==typeof q&&q>=0&&(Y=Math.min(Y,q))}),Y<1/0&&Y>=0&&(re=c.substring(0,Y+1))}if(this.state.top&&(V=this.tokenizer.paragraph(re))){Z=q[q.length-1],Y&&"paragraph"===Z?.type?(Z.raw+="\n"+V.raw,Z.text+="\n"+V.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Z.text):q.push(V),Y=re.length!==c.length,c=c.substring(V.raw.length);continue}if(V=this.tokenizer.text(c)){c=c.substring(V.raw.length),Z=q[q.length-1],Z&&"text"===Z.type?(Z.raw+="\n"+V.raw,Z.text+="\n"+V.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Z.text):q.push(V);continue}if(c){let q="Infinite loop on byte: "+c.charCodeAt(0);if(this.options.silent){console.error(q);break}throw new Error(q)}}return this.state.top=!0,q}inline(c,q=[]){return this.inlineQueue.push({src:c,tokens:q}),q}inlineTokens(c,q=[]){let Y,V,Z,re,ae,se,oe=c;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(re=this.tokenizer.rules.inline.reflinkSearch.exec(oe));)c.includes(re[0].slice(re[0].lastIndexOf("[")+1,-1))&&(oe=oe.slice(0,re.index)+"["+"a".repeat(re[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(re=this.tokenizer.rules.inline.blockSkip.exec(oe));)oe=oe.slice(0,re.index)+"["+"a".repeat(re[0].length-2)+"]"+oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(re=this.tokenizer.rules.inline.anyPunctuation.exec(oe));)oe=oe.slice(0,re.index)+"++"+oe.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;c;)if(ae||(se=""),ae=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(V=>!!(Y=V.call({lexer:this},c,q))&&(c=c.substring(Y.raw.length),q.push(Y),!0)))){if(Y=this.tokenizer.escape(c)){c=c.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.tag(c)){c=c.substring(Y.raw.length),V=q[q.length-1],V&&"text"===Y.type&&"text"===V.type?(V.raw+=Y.raw,V.text+=Y.text):q.push(Y);continue}if(Y=this.tokenizer.link(c)){c=c.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.reflink(c,this.tokens.links)){c=c.substring(Y.raw.length),V=q[q.length-1],V&&"text"===Y.type&&"text"===V.type?(V.raw+=Y.raw,V.text+=Y.text):q.push(Y);continue}if(Y=this.tokenizer.emStrong(c,oe,se)){c=c.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.codespan(c)){c=c.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.br(c)){c=c.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.del(c)){c=c.substring(Y.raw.length),q.push(Y);continue}if(Y=this.tokenizer.autolink(c)){c=c.substring(Y.raw.length),q.push(Y);continue}if(!this.state.inLink&&(Y=this.tokenizer.url(c))){c=c.substring(Y.raw.length),q.push(Y);continue}if(Z=c,this.options.extensions&&this.options.extensions.startInline){let q,Y=1/0,V=c.slice(1);this.options.extensions.startInline.forEach(c=>{q=c.call({lexer:this},V),"number"==typeof q&&q>=0&&(Y=Math.min(Y,q))}),Y<1/0&&Y>=0&&(Z=c.substring(0,Y+1))}if(Y=this.tokenizer.inlineText(Z)){c=c.substring(Y.raw.length),"_"!==Y.raw.slice(-1)&&(se=Y.raw.slice(-1)),ae=!0,V=q[q.length-1],V&&"text"===V.type?(V.raw+=Y.raw,V.text+=Y.text):q.push(Y);continue}if(c){let q="Infinite loop on byte: "+c.charCodeAt(0);if(this.options.silent){console.error(q);break}throw new Error(q)}}return q}},JD=class{static{o(this,"_Renderer")}options;parser;constructor(c){this.options=c||VM}space(c){return""}code({text:c,lang:q,escaped:Y}){let V=(q||"").match(/^\S*/)?.[0],Z=c.replace(/\n$/,"")+"\n";return V?'<pre><code class="language-'+eo(V)+'">'+(Y?Z:eo(Z,!0))+"</code></pre>\n":"<pre><code>"+(Y?Z:eo(Z,!0))+"</code></pre>\n"}blockquote({tokens:c}){return`<blockquote>\n${this.parser.parse(c)}</blockquote>\n`}html({text:c}){return c}heading({tokens:c,depth:q}){return`<h${q}>${this.parser.parseInline(c)}</h${q}>\n`}hr(c){return"<hr>\n"}list(c){let q=c.ordered,Y=c.start,V="";for(let q=0;q<c.items.length;q++){let Y=c.items[q];V+=this.listitem(Y)}let Z=q?"ol":"ul";return"<"+Z+(q&&1!==Y?' start="'+Y+'"':"")+">\n"+V+"</"+Z+">\n"}listitem(c){let q="";if(c.task){let Y=this.checkbox({checked:!!c.checked});c.loose?c.tokens.length>0&&"paragraph"===c.tokens[0].type?(c.tokens[0].text=Y+" "+c.tokens[0].text,c.tokens[0].tokens&&c.tokens[0].tokens.length>0&&"text"===c.tokens[0].tokens[0].type&&(c.tokens[0].tokens[0].text=Y+" "+c.tokens[0].tokens[0].text)):c.tokens.unshift({type:"text",raw:Y+" ",text:Y+" "}):q+=Y+" "}return q+=this.parser.parse(c.tokens,!!c.loose),`<li>${q}</li>\n`}checkbox({checked:c}){return"<input "+(c?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:c}){return`<p>${this.parser.parseInline(c)}</p>\n`}table(c){let q="",Y="";for(let q=0;q<c.header.length;q++)Y+=this.tablecell(c.header[q]);q+=this.tablerow({text:Y});let V="";for(let q=0;q<c.rows.length;q++){let Z=c.rows[q];Y="";for(let c=0;c<Z.length;c++)Y+=this.tablecell(Z[c]);V+=this.tablerow({text:Y})}return V&&(V=`<tbody>${V}</tbody>`),"<table>\n<thead>\n"+q+"</thead>\n"+V+"</table>\n"}tablerow({text:c}){return`<tr>\n${c}</tr>\n`}tablecell(c){let q=this.parser.parseInline(c.tokens),Y=c.header?"th":"td";return(c.align?`<${Y} align="${c.align}">`:`<${Y}>`)+q+`</${Y}>\n`}strong({tokens:c}){return`<strong>${this.parser.parseInline(c)}</strong>`}em({tokens:c}){return`<em>${this.parser.parseInline(c)}</em>`}codespan({text:c}){return`<code>${c}</code>`}br(c){return"<br>"}del({tokens:c}){return`<del>${this.parser.parseInline(c)}</del>`}link({href:c,title:q,tokens:Y}){let V=this.parser.parseInline(Y),Z=XX(c);if(null===Z)return V;let re='<a href="'+(c=Z)+'"';return q&&(re+=' title="'+q+'"'),re+=">"+V+"</a>",re}image({href:c,title:q,text:Y}){let V=XX(c);if(null===V)return Y;let Z=`<img src="${c=V}" alt="${Y}"`;return q&&(Z+=` title="${q}"`),Z+=">",Z}text(c){return"tokens"in c&&c.tokens?this.parser.parseInline(c.tokens):c.text}},eO=class{static{o(this,"_TextRenderer")}strong({text:c}){return c}em({text:c}){return c}codespan({text:c}){return c}del({text:c}){return c}html({text:c}){return c}text({text:c}){return c}link({text:c}){return""+c}image({text:c}){return""+c}br(){return""}},tO=class t{static{o(this,"_Parser")}options;renderer;textRenderer;constructor(c){this.options=c||VM,this.options.renderer=this.options.renderer||new JD,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new eO}static parse(c,q){return new t(q).parse(c)}static parseInline(c,q){return new t(q).parseInline(c)}parse(c,q=!0){let Y="";for(let V=0;V<c.length;V++){let Z=c[V];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Z.type]){let c=Z,q=this.options.extensions.renderers[c.type].call({parser:this},c);if(!1!==q||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){Y+=q||"";continue}}let re=Z;switch(re.type){case"space":Y+=this.renderer.space(re);continue;case"hr":Y+=this.renderer.hr(re);continue;case"heading":Y+=this.renderer.heading(re);continue;case"code":Y+=this.renderer.code(re);continue;case"table":Y+=this.renderer.table(re);continue;case"blockquote":Y+=this.renderer.blockquote(re);continue;case"list":Y+=this.renderer.list(re);continue;case"html":Y+=this.renderer.html(re);continue;case"paragraph":Y+=this.renderer.paragraph(re);continue;case"text":{let Z=re,ae=this.renderer.text(Z);for(;V+1<c.length&&"text"===c[V+1].type;)Z=c[++V],ae+="\n"+this.renderer.text(Z);Y+=q?this.renderer.paragraph({type:"paragraph",raw:ae,text:ae,tokens:[{type:"text",raw:ae,text:ae}]}):ae;continue}default:{let c='Token with "'+re.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return Y}parseInline(c,q){q=q||this.renderer;let Y="";for(let V=0;V<c.length;V++){let Z=c[V];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Z.type]){let c=this.options.extensions.renderers[Z.type].call({parser:this},Z);if(!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Z.type)){Y+=c||"";continue}}let re=Z;switch(re.type){case"escape":case"text":Y+=q.text(re);break;case"html":Y+=q.html(re);break;case"link":Y+=q.link(re);break;case"image":Y+=q.image(re);break;case"strong":Y+=q.strong(re);break;case"em":Y+=q.em(re);break;case"codespan":Y+=q.codespan(re);break;case"br":Y+=q.br(re);break;case"del":Y+=q.del(re);break;default:{let c='Token with "'+re.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return Y}},rO=class{static{o(this,"_Hooks")}options;constructor(c){this.options=c||VM}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(c){return c}postprocess(c){return c}processAllTokens(c){return c}},nO=class{static{o(this,"Marked")}defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(ZD.lex,tO.parse);parseInline=this.#e(ZD.lexInline,tO.parseInline);Parser=tO;Renderer=JD;TextRenderer=eO;Lexer=ZD;Tokenizer=xR;Hooks=rO;constructor(...c){this.use(...c)}walkTokens(c,q){let Y=[];for(let V of c)switch(Y=Y.concat(q.call(this,V)),V.type){case"table":{let c=V;for(let V of c.header)Y=Y.concat(this.walkTokens(V.tokens,q));for(let V of c.rows)for(let c of V)Y=Y.concat(this.walkTokens(c.tokens,q));break}case"list":{let c=V;Y=Y.concat(this.walkTokens(c.items,q));break}default:{let c=V;this.defaults.extensions?.childTokens?.[c.type]?this.defaults.extensions.childTokens[c.type].forEach(V=>{let Z=c[V].flat(1/0);Y=Y.concat(this.walkTokens(Z,q))}):c.tokens&&(Y=Y.concat(this.walkTokens(c.tokens,q)))}}return Y}use(...c){let q=this.defaults.extensions||{renderers:{},childTokens:{}};return c.forEach(c=>{let Y={...c};if(Y.async=this.defaults.async||Y.async||!1,c.extensions&&(c.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){let Y=q.renderers[c.name];q.renderers[c.name]=Y?function(...q){let V=c.renderer.apply(this,q);return!1===V&&(V=Y.apply(this,q)),V}:c.renderer}if("tokenizer"in c){if(!c.level||"block"!==c.level&&"inline"!==c.level)throw new Error("extension level must be 'block' or 'inline'");let Y=q[c.level];Y?Y.unshift(c.tokenizer):q[c.level]=[c.tokenizer],c.start&&("block"===c.level?q.startBlock?q.startBlock.push(c.start):q.startBlock=[c.start]:"inline"===c.level&&(q.startInline?q.startInline.push(c.start):q.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(q.childTokens[c.name]=c.childTokens)}),Y.extensions=q),c.renderer){let q=this.defaults.renderer||new JD(this.defaults);for(let Y in c.renderer){if(!(Y in q))throw new Error(`renderer '${Y}' does not exist`);if(["options","parser"].includes(Y))continue;let V=Y,Z=c.renderer[V];c.useNewRenderer||(Z=this.#t(Z,V,q));let re=q[V];q[V]=(...c)=>{let Y=Z.apply(q,c);return!1===Y&&(Y=re.apply(q,c)),Y||""}}Y.renderer=q}if(c.tokenizer){let q=this.defaults.tokenizer||new xR(this.defaults);for(let Y in c.tokenizer){if(!(Y in q))throw new Error(`tokenizer '${Y}' does not exist`);if(["options","rules","lexer"].includes(Y))continue;let V=Y,Z=c.tokenizer[V],re=q[V];q[V]=(...c)=>{let Y=Z.apply(q,c);return!1===Y&&(Y=re.apply(q,c)),Y}}Y.tokenizer=q}if(c.hooks){let q=this.defaults.hooks||new rO;for(let Y in c.hooks){if(!(Y in q))throw new Error(`hook '${Y}' does not exist`);if("options"===Y)continue;let V=Y,Z=c.hooks[V],re=q[V];rO.passThroughHooks.has(Y)?q[V]=c=>{if(this.defaults.async)return Promise.resolve(Z.call(q,c)).then(c=>re.call(q,c));let Y=Z.call(q,c);return re.call(q,Y)}:q[V]=(...c)=>{let Y=Z.apply(q,c);return!1===Y&&(Y=re.apply(q,c)),Y}}Y.hooks=q}if(c.walkTokens){let q=this.defaults.walkTokens,V=c.walkTokens;Y.walkTokens=function(c){let Y=[];return Y.push(V.call(this,c)),q&&(Y=Y.concat(q.call(this,c))),Y}}this.defaults={...this.defaults,...Y}}),this}#t(c,q,Y){switch(q){case"heading":return function(V){return V.type&&V.type===q?c.call(this,Y.parser.parseInline(V.tokens),V.depth,d7e(Y.parser.parseInline(V.tokens,Y.parser.textRenderer))):c.apply(this,arguments)};case"code":return function(Y){return Y.type&&Y.type===q?c.call(this,Y.text,Y.lang,!!Y.escaped):c.apply(this,arguments)};case"table":return function(Y){if(!Y.type||Y.type!==q)return c.apply(this,arguments);let V="",Z="";for(let c=0;c<Y.header.length;c++)Z+=this.tablecell({text:Y.header[c].text,tokens:Y.header[c].tokens,header:!0,align:Y.align[c]});V+=this.tablerow({text:Z});let re="";for(let c=0;c<Y.rows.length;c++){let q=Y.rows[c];Z="";for(let c=0;c<q.length;c++)Z+=this.tablecell({text:q[c].text,tokens:q[c].tokens,header:!1,align:Y.align[c]});re+=this.tablerow({text:Z})}return c.call(this,V,re)};case"blockquote":return function(Y){if(!Y.type||Y.type!==q)return c.apply(this,arguments);let V=this.parser.parse(Y.tokens);return c.call(this,V)};case"list":return function(Y){if(!Y.type||Y.type!==q)return c.apply(this,arguments);let V=Y.ordered,Z=Y.start,re=Y.loose,ae="";for(let c=0;c<Y.items.length;c++){let q=Y.items[c],V=q.checked,Z=q.task,se="";if(q.task){let c=this.checkbox({checked:!!V});re?q.tokens.length>0&&"paragraph"===q.tokens[0].type?(q.tokens[0].text=c+" "+q.tokens[0].text,q.tokens[0].tokens&&q.tokens[0].tokens.length>0&&"text"===q.tokens[0].tokens[0].type&&(q.tokens[0].tokens[0].text=c+" "+q.tokens[0].tokens[0].text)):q.tokens.unshift({type:"text",text:c+" "}):se+=c+" "}se+=this.parser.parse(q.tokens,re),ae+=this.listitem({type:"list_item",raw:se,text:se,task:Z,checked:!!V,loose:re,tokens:q.tokens})}return c.call(this,ae,V,Z)};case"html":return function(Y){return Y.type&&Y.type===q?c.call(this,Y.text,Y.block):c.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(Y){return Y.type&&Y.type===q?c.call(this,this.parser.parseInline(Y.tokens)):c.apply(this,arguments)};case"escape":case"codespan":case"text":return function(Y){return Y.type&&Y.type===q?c.call(this,Y.text):c.apply(this,arguments)};case"link":return function(Y){return Y.type&&Y.type===q?c.call(this,Y.href,Y.title,this.parser.parseInline(Y.tokens)):c.apply(this,arguments)};case"image":return function(Y){return Y.type&&Y.type===q?c.call(this,Y.href,Y.title,Y.text):c.apply(this,arguments)}}return c}setOptions(c){return this.defaults={...this.defaults,...c},this}lexer(c,q){return ZD.lex(c,q??this.defaults)}parser(c,q){return tO.parse(c,q??this.defaults)}#e(c,q){return(Y,V)=>{let Z={...V},re={...this.defaults,...Z};!0===this.defaults.async&&!1===Z.async&&(re.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),re.async=!0);let ae=this.#r(!!re.silent,!!re.async);if(typeof Y>"u"||null===Y)return ae(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof Y)return ae(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Y)+", string expected"));if(re.hooks&&(re.hooks.options=re),re.async)return Promise.resolve(re.hooks?re.hooks.preprocess(Y):Y).then(q=>c(q,re)).then(c=>re.hooks?re.hooks.processAllTokens(c):c).then(c=>re.walkTokens?Promise.all(this.walkTokens(c,re.walkTokens)).then(()=>c):c).then(c=>q(c,re)).then(c=>re.hooks?re.hooks.postprocess(c):c).catch(ae);try{re.hooks&&(Y=re.hooks.preprocess(Y));let V=c(Y,re);re.hooks&&(V=re.hooks.processAllTokens(V)),re.walkTokens&&this.walkTokens(V,re.walkTokens);let Z=q(V,re);return re.hooks&&(Z=re.hooks.postprocess(Z)),Z}catch(c){return ae(c)}}}#r(c,q){return Y=>{if(Y.message+="\nPlease report this to https://github.com/markedjs/marked.",c){let c="<p>An error occurred:</p><pre>"+eo(Y.message+"",!0)+"</pre>";return q?Promise.resolve(c):c}if(q)return Promise.reject(Y);throw Y}}},sO=new nO,o(en,"marked"),en.options=en.setOptions=function(c){return sO.setOptions(c),en.defaults=sO.defaults,ZX(en.defaults),en},en.getDefaults=u9,en.defaults=VM,en.use=function(...c){return sO.use(...c),en.defaults=sO.defaults,ZX(en.defaults),en},en.walkTokens=function(c,q){return sO.walkTokens(c,q)},en.parseInline=sO.parseInline,en.Parser=tO,en.parser=tO.parse,en.Renderer=JD,en.TextRenderer=eO,en.Lexer=ZD,en.lexer=ZD.lex,en.Tokenizer=xR,en.Hooks=rO,en.parse=en,en.options,en.setOptions,en.use,en.walkTokens,en.parseInline,tO.parse,ZD.lex});function U7e(c,{markdownAutoWrap:q}){let Y=Ib(c.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"));return!1===q?Y.replace(/ /g,"&nbsp;"):Y}function cj(c,q={}){let Y=U7e(c,q),V=en.lexer(Y),Z=[[]],re=0;function s(c,q="normal"){"text"===c.type?c.text.split("\n").forEach((c,Y)=>{0!==Y&&(re++,Z.push([])),c.split(" ").forEach(c=>{(c=c.replace(/&#39;/g,"'"))&&Z[re].push({content:c,type:q})})}):"strong"===c.type||"em"===c.type?c.tokens.forEach(q=>{s(q,c.type)}):"html"===c.type&&Z[re].push({content:c.text,type:"normal"})}return o(s,"processNode"),V.forEach(c=>{"paragraph"===c.type?c.tokens?.forEach(c=>{s(c)}):"html"===c.type&&Z[re].push({content:c.text,type:"normal"})}),Z}function uj(c,{markdownAutoWrap:q}={}){let Y=en.lexer(c);function n(c){return"text"===c.type?!1===q?c.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):c.text.replace(/\n */g,"<br/>"):"strong"===c.type?`<strong>${c.tokens?.map(n).join("")}</strong>`:"em"===c.type?`<em>${c.tokens?.map(n).join("")}</em>`:"paragraph"===c.type?`<p>${c.tokens?.map(n).join("")}</p>`:"space"===c.type?"":"html"===c.type?`${c.text}`:"escape"===c.type?c.text:`Unsupported markdown: ${c.type}`}return o(n,"output"),Y.map(n).join("")}var cO=M(()=>{lO(),An(),o(U7e,"preprocessMarkdown"),o(cj,"markdownToLines"),o(uj,"markdownToHTML")});function H7e(c){return Intl.Segmenter?[...(new Intl.Segmenter).segment(c)].map(c=>c.segment):[...c]}function W7e(c,q){return fj(c,[],H7e(q.content),q.type)}function fj(c,q,Y,V){if(0===Y.length)return[{content:q.join(""),type:V},{content:"",type:V}];let[Z,...re]=Y,ae=[...q,Z];return c([{content:ae.join(""),type:V}])?fj(c,ae,re,V):(0===q.length&&Z&&(q.push(Z),Y.shift()),[{content:q.join(""),type:V},{content:Y.join(""),type:V}])}function dj(c,q){if(c.some(({content:c})=>c.includes("\n")))throw new Error("splitLineToFitWidth does not support newlines in the line");return g9(c,q)}function g9(c,q,Y=[],V=[]){if(0===c.length)return V.length>0&&Y.push(V),Y.length>0?Y:[];let Z="";" "===c[0].content&&(Z=" ",c.shift());let re=c.shift()??{content:" ",type:"normal"},ae=[...V];if(""!==Z&&ae.push({content:Z,type:"normal"}),ae.push(re),q(ae))return g9(c,q,Y,ae);if(V.length>0)Y.push(V),c.unshift(re);else if(re.content){let[V,Z]=W7e(q,re);Y.push([V]),Z.content&&c.unshift(Z)}return g9(c,q,Y)}var hO=M(()=>{o(H7e,"splitTextToChars"),o(W7e,"splitWordToFitWidth"),o(fj,"splitWordToFitWidthRecursion"),o(dj,"splitLineToFitWidth"),o(g9,"splitLineToFitWidthRecursion")});function mj(c,q){q&&c.attr("style",q)}async function Y7e(c,q,Y,V,Z=!1){let re=c.append("foreignObject");re.attr("width",10*Y+"px"),re.attr("height",10*Y+"px");let ae=re.append("xhtml:div"),se=q.label;q.label&&ip(q.label)&&(se=await sp(q.label.replace(op.lineBreakRegex,"\n"),Xp()));let oe=q.isNode?"nodeLabel":"edgeLabel",he=ae.append("span");he.html(se),mj(he,q.labelStyle),he.attr("class",`${oe} ${V}`),mj(ae,q.labelStyle),ae.style("display","table-cell"),ae.style("white-space","nowrap"),ae.style("line-height","1.5"),ae.style("max-width",Y+"px"),ae.style("text-align","center"),ae.attr("xmlns","http://www.w3.org/1999/xhtml"),Z&&ae.attr("class","labelBkg");let de=ae.node().getBoundingClientRect();return de.width===Y&&(ae.style("display","table"),ae.style("white-space","break-spaces"),ae.style("width",Y+"px"),de=ae.node().getBoundingClientRect()),re.node()}function y9(c,q,Y){return c.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",q*Y-.1+"em").attr("dy",Y+"em")}function q7e(c,q,Y){let V=c.append("text"),Z=y9(V,1,q);v9(Z,Y);let re=Z.node().getComputedTextLength();return V.remove(),re}function gj(c,q,Y){let V=c.append("text"),Z=y9(V,1,q);v9(Z,[{content:Y,type:"normal"}]);let re=Z.node()?.getBoundingClientRect();return re&&V.remove(),re}function X7e(c,q,Y,V=!1){let Z=q.append("g"),re=Z.insert("rect").attr("class","background").attr("style","stroke: none"),ae=Z.append("text").attr("y","-10.1"),se=0;for(let q of Y){let Y=o(q=>q7e(Z,1.1,q)<=c,"checkWidth"),V=Y(q)?[q]:dj(q,Y);for(let c of V){v9(y9(ae,se,1.1),c),se++}}if(V){let c=ae.node().getBBox(),q=2;return re.attr("x",c.x-q).attr("y",c.y-q).attr("width",c.width+2*q).attr("height",c.height+2*q),Z.node()}return ae.node()}function v9(c,q){c.text(""),q.forEach((q,Y)=>{let V=c.append("tspan").attr("font-style","em"===q.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===q.type?"bold":"normal");0===Y?V.text(q.content):V.text(" "+q.content)})}function x9(c){return c.replace(/fa[bklrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`)}var dO,pO=M(()=>{hf(),bp(),U_(),Ae(),cO(),yM(),hO(),o(mj,"applyStyle"),o(Y7e,"addHtmlSpan"),o(y9,"createTspan"),o(q7e,"computeWidthOfText"),o(gj,"computeDimensionOfText"),o(X7e,"createFormattedText"),o(v9,"updateTextContentAndStyles"),o(x9,"replaceIconSubstring"),dO=o(async(c,q="",{style:Y="",isTitle:Z=!1,classes:re="",useHtmlLabels:ae=!0,isNode:se=!0,width:oe=200,addSvgBackground:he=!1}={},de)=>{if(V.debug("XYZ createText",q,Y,Z,re,ae,se,"addSvgBackground: ",he),ae){let V=uj(q,de),Z=x9(dM(V)),ae=q.replace(/\\\\/g,"\\"),pe={isNode:se,label:ip(q)?ae:Z,labelStyle:Y.replace("fill:","color:")};return await Y7e(c,pe,oe,re,he)}{let V=X7e(oe,c,cj(q.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),de),!!q&&he);if(se){/stroke:/.exec(Y)&&(Y=Y.replace("stroke:","lineColor:"));let c=Y.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ze(V).attr("style",c)}else{let c=Y.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");ze(V).select("rect").attr("style",c.replace(/background:/g,"fill:"));let q=Y.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");ze(V).select("text").attr("style",q)}return V}},"createText")});function Wt(c){let q=c.map((c,q)=>`${0===q?"M":"L"}${c.x},${c.y}`);return q.push("Z"),q.join(" ")}function zo(c,q,Y,V,Z,re){let ae=[],se=Y-c,oe=V-q,he=se/re,de=2*Math.PI/he,pe=q+oe/2;for(let q=0;q<=50;q++){let Y=c+q/50*se,V=pe+Z*Math.sin(de*(Y-c));ae.push({x:Y,y:V})}return ae}function k5(c,q,Y,V,Z,re){let ae=[],se=Z*Math.PI/180,oe=(re*Math.PI/180-se)/(V-1);for(let Z=0;Z<V;Z++){let V=se+Z*oe,re=c+Y*Math.cos(V),he=q+Y*Math.sin(V);ae.push({x:-re,y:-he})}return ae}var gO,fO,yO,vO,xO=M(()=>{pO(),hf(),U_(),bi(),bp(),yM(),gO=o(async(c,q,Y)=>{let V,Z=q.useHtmlLabels||zd(Xp()?.htmlLabels);V=Y||"node default";let re,ae=c.insert("g").attr("class",V).attr("id",q.domId||q.id),se=ae.insert("g").attr("class","label").attr("style",Fn(q.labelStyle));re=void 0===q.label?"":"string"==typeof q.label?q.label:q.label[0];let oe=await dO(se,Md(dM(re),Xp()),{useHtmlLabels:Z,width:q.width||Xp().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:q.labelStyle,addSvgBackground:!!q.icon||!!q.img}),he=oe.getBBox(),de=(q?.padding??0)/2;if(Z){let c=oe.children[0],q=ze(oe),Y=c.getElementsByTagName("img");if(Y){let c=""===re.replace(/<img[^>]*>/g,"").trim();await Promise.all([...Y].map(q=>new Promise(Y=>{function x(){if(q.style.display="flex",q.style.flexDirection="column",c){let c=Xp().fontSize?Xp().fontSize:window.getComputedStyle(document.body).fontSize,Y=5,[V=nn.fontSize]=cM(c),Z=V*Y+"px";q.style.minWidth=Z,q.style.maxWidth=Z}else q.style.width="100%";Y(q)}o(x,"setupImage"),setTimeout(()=>{q.complete&&x()}),q.addEventListener("error",x),q.addEventListener("load",x)})))}he=c.getBoundingClientRect(),q.attr("width",he.width),q.attr("height",he.height)}return Z?se.attr("transform","translate("+-he.width/2+", "+-he.height/2+")"):se.attr("transform","translate(0, "+-he.height/2+")"),q.centerLabel&&se.attr("transform","translate("+-he.width/2+", "+-he.height/2+")"),se.insert("rect",":first-child"),{shapeSvg:ae,bbox:he,halfPadding:de,label:se}},"labelHelper"),fO=o(async(c,q,Y)=>{let V=Y.useHtmlLabels||zd(Xp()?.flowchart?.htmlLabels),Z=c.insert("g").attr("class","label").attr("style",Y.labelStyle||""),re=await dO(Z,Md(dM(q),Xp()),{useHtmlLabels:V,width:Y.width||Xp()?.flowchart?.wrappingWidth,style:Y.labelStyle,addSvgBackground:!!Y.icon||!!Y.img}),ae=re.getBBox(),se=Y.padding/2;if(zd(Xp()?.flowchart?.htmlLabels)){let c=re.children[0],q=ze(re);ae=c.getBoundingClientRect(),q.attr("width",ae.width),q.attr("height",ae.height)}return V?Z.attr("transform","translate("+-ae.width/2+", "+-ae.height/2+")"):Z.attr("transform","translate(0, "+-ae.height/2+")"),Y.centerLabel&&Z.attr("transform","translate("+-ae.width/2+", "+-ae.height/2+")"),Z.insert("rect",":first-child"),{shapeSvg:c,bbox:ae,halfPadding:se,label:Z}},"insertLabel"),yO=o((c,q)=>{let Y=q.node().getBBox();c.width=Y.width,c.height=Y.height},"updateNodeBounds"),vO=o((c,q)=>("handDrawn"===c.look?"rough-node":"node")+" "+c.cssClasses+" "+(q||""),"getNodeClasses"),o(Wt,"createPathFromPoints"),o(zo,"generateFullSineWavePoints"),o(k5,"generateCirclePoints")});function j7e(c,q){return c.intersect(q)}var bO,wO=M(()=>{o(j7e,"intersectNode"),bO=j7e});function K7e(c,q,Y,V){var Z=c.x,re=c.y,ae=Z-V.x,se=re-V.y,oe=Math.sqrt(q*q*se*se+Y*Y*ae*ae),he=Math.abs(q*Y*ae/oe);V.x<Z&&(he=-he);var de=Math.abs(q*Y*se/oe);return V.y<re&&(de=-de),{x:Z+he,y:re+de}}var kO,_O=M(()=>{o(K7e,"intersectEllipse"),kO=K7e});function Q7e(c,q,Y){return kO(c,q,q,Y)}var EO,CO=M(()=>{_O(),o(Q7e,"intersectCircle"),EO=Q7e});function Z7e(c,q,Y,V){var Z,re,ae,se,oe,he,de,pe,ge,me,ve,be,we;if(Z=q.y-c.y,ae=c.x-q.x,oe=q.x*c.y-c.x*q.y,ge=Z*Y.x+ae*Y.y+oe,me=Z*V.x+ae*V.y+oe,!(0!==ge&&0!==me&&wj(ge,me)||(re=V.y-Y.y,se=Y.x-V.x,he=V.x*Y.y-Y.x*V.y,de=re*c.x+se*c.y+he,pe=re*q.x+se*q.y+he,0!==de&&0!==pe&&wj(de,pe)||(ve=Z*se-re*ae,0===ve))))return be=Math.abs(ve/2),{x:(we=ae*he-se*oe)<0?(we-be)/ve:(we+be)/ve,y:(we=re*oe-Z*he)<0?(we-be)/ve:(we+be)/ve}}function wj(c,q){return c*q>0}var SO,AO=M(()=>{o(Z7e,"intersectLine"),o(wj,"sameSign"),SO=Z7e});function J7e(c,q,Y){let V=c.x,Z=c.y,re=[],ae=Number.POSITIVE_INFINITY,se=Number.POSITIVE_INFINITY;"function"==typeof q.forEach?q.forEach(function(c){ae=Math.min(ae,c.x),se=Math.min(se,c.y)}):(ae=Math.min(ae,q.x),se=Math.min(se,q.y));let oe=V-c.width/2-ae,he=Z-c.height/2-se;for(let V=0;V<q.length;V++){let Z=q[V],ae=q[V<q.length-1?V+1:0],se=SO(c,Y,{x:oe+Z.x,y:he+Z.y},{x:oe+ae.x,y:he+ae.y});se&&re.push(se)}return re.length?(re.length>1&&re.sort(function(c,q){let V=c.x-Y.x,Z=c.y-Y.y,re=Math.sqrt(V*V+Z*Z),ae=q.x-Y.x,se=q.y-Y.y,oe=Math.sqrt(ae*ae+se*se);return re<oe?-1:re===oe?0:1}),re[0]):c}var LO,NO,IO,MO,RO,DO,OO,PO,BO,FO=M(()=>{AO(),o(J7e,"intersectPolygon"),LO=J7e}),$O=M(()=>{NO=o((c,q)=>{var Y,V,Z=c.x,re=c.y,ae=q.x-Z,se=q.y-re,oe=c.width/2,he=c.height/2;return Math.abs(se)*oe>Math.abs(ae)*he?(se<0&&(he=-he),Y=0===se?0:he*ae/se,V=he):(ae<0&&(oe=-oe),Y=oe,V=0===ae?0:oe*se/ae),{x:Z+Y,y:re+V}},"intersectRect"),IO=NO}),zO=M(()=>{wO(),CO(),_O(),FO(),$O(),MO={node:bO,circle:EO,ellipse:kO,polygon:LO,rect:IO}}),GO=M(()=>{hf(),RO=o(c=>{let{handDrawnSeed:q}=Xp();return{fill:c,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:c,seed:q}},"solidStateFill"),DO=o(c=>{let q=OO([...c.cssCompiledStyles||[],...c.cssStyles||[]]);return{stylesMap:q,stylesArray:[...q]}},"compileStyles"),OO=o(c=>{let q=new Map;return c.forEach(c=>{let[Y,V]=c.split(":");q.set(Y.trim(),V?.trim())}),q},"styles2Map"),PO=o(c=>{let{stylesArray:q}=DO(c),Y=[],V=[],Z=[],re=[];return q.forEach(c=>{let q=c[0];"color"===q||"font-size"===q||"font-family"===q||"font-weight"===q||"font-style"===q||"text-decoration"===q||"text-align"===q||"text-transform"===q||"line-height"===q||"letter-spacing"===q||"word-spacing"===q||"text-shadow"===q||"text-overflow"===q||"white-space"===q||"word-wrap"===q||"word-break"===q||"overflow-wrap"===q||"hyphens"===q?Y.push(c.join(":")+" !important"):(V.push(c.join(":")+" !important"),q.includes("stroke")&&Z.push(c.join(":")+" !important"),"fill"===q&&re.push(c.join(":")+" !important"))}),{labelStyles:Y.join(";"),nodeStyles:V.join(";"),stylesArray:q,borderStyles:Z,backgroundStyles:re}},"styles2String"),BO=o((c,q)=>{let{themeVariables:Y,handDrawnSeed:V}=Xp(),{nodeBorder:Z,mainBkg:re}=Y,{stylesMap:ae}=DO(c);return Object.assign({roughness:.7,fill:ae.get("fill")||re,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:ae.get("stroke")||Z,seed:V,strokeWidth:ae.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},q)},"userNodeOverrides")});function T9(c,q,Y){if(c&&c.length){let[V,Z]=q,re=Math.PI/180*Y,ae=Math.cos(re),se=Math.sin(re);for(let q of c){let[c,Y]=q;q[0]=(c-V)*ae-(Y-Z)*se+V,q[1]=(c-V)*se+(Y-Z)*ae+Z}}}function rAe(c,q){return c[0]===q[0]&&c[1]===q[1]}function nAe(c,q,Y,V=1){let Z=Y,re=Math.max(q,.1),ae=c[0]&&c[0][0]&&"number"==typeof c[0][0]?[c]:c,se=[0,0];if(Z)for(let c of ae)T9(c,se,Z);let oe=function(c,q,Y){let V=[];for(let q of c){let c=[...q];rAe(c[0],c[c.length-1])||c.push([c[0][0],c[0][1]]),c.length>2&&V.push(c)}let Z=[];q=Math.max(q,.1);let re=[];for(let c of V)for(let q=0;q<c.length-1;q++){let Y=c[q],V=c[q+1];if(Y[1]!==V[1]){let c=Math.min(Y[1],V[1]);re.push({ymin:c,ymax:Math.max(Y[1],V[1]),x:c===Y[1]?Y[0]:V[0],islope:(V[0]-Y[0])/(V[1]-Y[1])})}}if(re.sort((c,q)=>c.ymin<q.ymin?-1:c.ymin>q.ymin?1:c.x<q.x?-1:c.x>q.x?1:c.ymax===q.ymax?0:(c.ymax-q.ymax)/Math.abs(c.ymax-q.ymax)),!re.length)return Z;let ae=[],se=re[0].ymin,oe=0;for(;ae.length||re.length;){if(re.length){let c=-1;for(let q=0;q<re.length&&!(re[q].ymin>se);q++)c=q;re.splice(0,c+1).forEach(c=>{ae.push({s:se,edge:c})})}if(ae=ae.filter(c=>!(c.edge.ymax<=se)),ae.sort((c,q)=>c.edge.x===q.edge.x?0:(c.edge.x-q.edge.x)/Math.abs(c.edge.x-q.edge.x)),(1!==Y||oe%q==0)&&ae.length>1)for(let c=0;c<ae.length;c+=2){let q=c+1;if(q>=ae.length)break;let Y=ae[c].edge,V=ae[q].edge;Z.push([[Math.round(Y.x),se],[Math.round(V.x),se]])}se+=Y,ae.forEach(c=>{c.edge.x=c.edge.x+Y*c.edge.islope}),oe++}return Z}(ae,re,V);if(Z){for(let c of ae)T9(c,se,-Z);!function(c,q,Y){let V=[];c.forEach(c=>V.push(...c)),T9(V,q,Y)}(oe,se,-Z)}return oe}function yv(c,q){var Y;let V=q.hachureAngle+90,Z=q.hachureGap;Z<0&&(Z=4*q.strokeWidth),Z=Math.round(Math.max(Z,.1));let re=1;return q.roughness>=1&&((null===(Y=q.randomizer)||void 0===Y?void 0:Y.next())||Math.random())>.7&&(re=Z),nAe(c,Z,V,re||1)}function M5(c){let q=c[0],Y=c[1];return Math.sqrt(Math.pow(q[0]-Y[0],2)+Math.pow(q[1]-Y[1],2))}function E9(c,q){return c.type===q}function F9(c){let q=[],Y=function(c){let q=new Array;for(;""!==c;)if(c.match(/^([ \t\r\n,]+)/))c=c.substr(RegExp.$1.length);else if(c.match(/^([aAcChHlLmMqQsStTvVzZ])/))q[q.length]={type:KO,text:RegExp.$1},c=c.substr(RegExp.$1.length);else{if(!c.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];q[q.length]={type:ZO,text:`${parseFloat(RegExp.$1)}`},c=c.substr(RegExp.$1.length)}return q[q.length]={type:JO,text:""},q}(c),V="BOD",Z=0,re=Y[Z];for(;!E9(re,JO);){let ae=0,se=[];if("BOD"===V){if("M"!==re.text&&"m"!==re.text)return F9("M0,0"+c);Z++,ae=rP[re.text],V=re.text}else E9(re,ZO)?ae=rP[V]:(Z++,ae=rP[re.text],V=re.text);if(!(Z+ae<Y.length))throw new Error("Path data ended short");for(let c=Z;c<Z+ae;c++){let q=Y[c];if(!E9(q,ZO))throw new Error("Param not a number: "+V+","+q.text);se[se.length]=+q.text}if("number"!=typeof rP[V])throw new Error("Bad segment: "+V);{let c={key:V,data:se};q.push(c),Z+=ae,re=Y[Z],"M"===V&&(V="L"),"m"===V&&(V="l")}}return q}function Oj(c){let q=0,Y=0,V=0,Z=0,re=[];for(let{key:ae,data:se}of c)switch(ae){case"M":re.push({key:"M",data:[...se]}),[q,Y]=se,[V,Z]=se;break;case"m":q+=se[0],Y+=se[1],re.push({key:"M",data:[q,Y]}),V=q,Z=Y;break;case"L":re.push({key:"L",data:[...se]}),[q,Y]=se;break;case"l":q+=se[0],Y+=se[1],re.push({key:"L",data:[q,Y]});break;case"C":re.push({key:"C",data:[...se]}),q=se[4],Y=se[5];break;case"c":{let c=se.map((c,V)=>V%2?c+Y:c+q);re.push({key:"C",data:c}),q=c[4],Y=c[5];break}case"Q":re.push({key:"Q",data:[...se]}),q=se[2],Y=se[3];break;case"q":{let c=se.map((c,V)=>V%2?c+Y:c+q);re.push({key:"Q",data:c}),q=c[2],Y=c[3];break}case"A":re.push({key:"A",data:[...se]}),q=se[5],Y=se[6];break;case"a":q+=se[5],Y+=se[6],re.push({key:"A",data:[se[0],se[1],se[2],se[3],se[4],q,Y]});break;case"H":re.push({key:"H",data:[...se]}),q=se[0];break;case"h":q+=se[0],re.push({key:"H",data:[q]});break;case"V":re.push({key:"V",data:[...se]}),Y=se[0];break;case"v":Y+=se[0],re.push({key:"V",data:[Y]});break;case"S":re.push({key:"S",data:[...se]}),q=se[2],Y=se[3];break;case"s":{let c=se.map((c,V)=>V%2?c+Y:c+q);re.push({key:"S",data:c}),q=c[2],Y=c[3];break}case"T":re.push({key:"T",data:[...se]}),q=se[0],Y=se[1];break;case"t":q+=se[0],Y+=se[1],re.push({key:"T",data:[q,Y]});break;case"Z":case"z":re.push({key:"Z",data:[]}),q=V,Y=Z}return re}function Pj(c){let q=[],Y="",V=0,Z=0,re=0,ae=0,se=0,oe=0;for(let{key:he,data:de}of c){switch(he){case"M":q.push({key:"M",data:[...de]}),[V,Z]=de,[re,ae]=de;break;case"C":q.push({key:"C",data:[...de]}),V=de[4],Z=de[5],se=de[2],oe=de[3];break;case"L":q.push({key:"L",data:[...de]}),[V,Z]=de;break;case"H":V=de[0],q.push({key:"L",data:[V,Z]});break;case"V":Z=de[0],q.push({key:"L",data:[V,Z]});break;case"S":{let c=0,re=0;"C"===Y||"S"===Y?(c=V+(V-se),re=Z+(Z-oe)):(c=V,re=Z),q.push({key:"C",data:[c,re,...de]}),se=de[0],oe=de[1],V=de[2],Z=de[3];break}case"T":{let[c,re]=de,ae=0,he=0;"Q"===Y||"T"===Y?(ae=V+(V-se),he=Z+(Z-oe)):(ae=V,he=Z);let pe=V+2*(ae-V)/3,ge=Z+2*(he-Z)/3,me=c+2*(ae-c)/3,ve=re+2*(he-re)/3;q.push({key:"C",data:[pe,ge,me,ve,c,re]}),se=ae,oe=he,V=c,Z=re;break}case"Q":{let[c,Y,re,ae]=de,he=V+2*(c-V)/3,pe=Z+2*(Y-Z)/3,ge=re+2*(c-re)/3,me=ae+2*(Y-ae)/3;q.push({key:"C",data:[he,pe,ge,me,re,ae]}),se=c,oe=Y,V=re,Z=ae;break}case"A":{let c=Math.abs(de[0]),Y=Math.abs(de[1]),re=de[2],ae=de[3],se=de[4],oe=de[5],he=de[6];0===c||0===Y?(q.push({key:"C",data:[V,Z,oe,he,oe,he]}),V=oe,Z=he):(V!==oe||Z!==he)&&(Bj(V,Z,oe,he,c,Y,re,ae,se).forEach(function(c){q.push({key:"C",data:c})}),V=oe,Z=he);break}case"Z":q.push({key:"Z",data:[]}),V=re,Z=ae}Y=he}return q}function pv(c,q,Y){return[c*Math.cos(Y)-q*Math.sin(Y),c*Math.sin(Y)+q*Math.cos(Y)]}function Bj(c,q,Y,V,Z,re,ae,se,oe,he){let de=(pe=ae,Math.PI*pe/180);var pe;let ge=[],me=0,ve=0,be=0,we=0;if(he)[me,ve,be,we]=he;else{[c,q]=pv(c,q,-de),[Y,V]=pv(Y,V,-de);let ae=(c-Y)/2,he=(q-V)/2,pe=ae*ae/(Z*Z)+he*he/(re*re);pe>1&&(pe=Math.sqrt(pe),Z*=pe,re*=pe);let ge=Z*Z,Te=re*re,_e=ge*Te-ge*he*he-Te*ae*ae,Ee=ge*he*he+Te*ae*ae,Ce=(se===oe?-1:1)*Math.sqrt(Math.abs(_e/Ee));be=Ce*Z*he/re+(c+Y)/2,we=Ce*-re*ae/Z+(q+V)/2,me=Math.asin(parseFloat(((q-we)/re).toFixed(9))),ve=Math.asin(parseFloat(((V-we)/re).toFixed(9))),c<be&&(me=Math.PI-me),Y<be&&(ve=Math.PI-ve),me<0&&(me=2*Math.PI+me),ve<0&&(ve=2*Math.PI+ve),oe&&me>ve&&(me-=2*Math.PI),!oe&&ve>me&&(ve-=2*Math.PI)}let Te=ve-me;if(Math.abs(Te)>120*Math.PI/180){let c=ve,q=Y,se=V;ve=oe&&ve>me?me+120*Math.PI/180*1:me+120*Math.PI/180*-1,ge=Bj(Y=be+Z*Math.cos(ve),V=we+re*Math.sin(ve),q,se,Z,re,ae,0,oe,[ve,c,be,we])}Te=ve-me;let _e=Math.cos(me),Ee=Math.sin(me),Ce=Math.cos(ve),Se=Math.sin(ve),Ae=Math.tan(Te/4),Le=4/3*Z*Ae,Ne=4/3*re*Ae,Ie=[c,q],Me=[c+Le*Ee,q-Ne*_e],Re=[Y+Le*Se,V-Ne*Ce],Oe=[Y,V];if(Me[0]=2*Ie[0]-Me[0],Me[1]=2*Ie[1]-Me[1],he)return[Me,Re,Oe].concat(ge);{ge=[Me,Re,Oe].concat(ge);let c=[];for(let q=0;q<ge.length;q+=3){let Y=pv(ge[q][0],ge[q][1],de),V=pv(ge[q+1][0],ge[q+1][1],de),Z=pv(ge[q+2][0],ge[q+2][1],de);c.push([Y[0],Y[1],V[0],V[1],Z[0],Z[1]])}return c}}function Fj(c,q,Y,V,Z){return{type:"path",ops:Ph(c,q,Y,V,Z)}}function _5(c,q,Y){let V=(c||[]).length;if(V>2){let Z=[];for(let q=0;q<V-1;q++)Z.push(...Ph(c[q][0],c[q][1],c[q+1][0],c[q+1][1],Y));return q&&Z.push(...Ph(c[V-1][0],c[V-1][1],c[0][0],c[0][1],Y)),{type:"path",ops:Z}}return 2===V?Fj(c[0][0],c[0][1],c[1][0],c[1][1],Y):{type:"path",ops:[]}}function sAe(c,q,Y,V,Z){return _5([[c,q],[c+Y,q],[c+Y,q+V],[c,q+V]],!0,Z)}function _j(c,q){if(c.length){let Y="number"==typeof c[0][0]?[c]:c,V=C5(Y[0],1*(1+.2*q.roughness),q),Z=q.disableMultiStroke?[]:C5(Y[0],1.5*(1+.22*q.roughness),Nj(q));for(let c=1;c<Y.length;c++){let re=Y[c];if(re.length){let c=C5(re,1*(1+.2*q.roughness),q),Y=q.disableMultiStroke?[]:C5(re,1.5*(1+.22*q.roughness),Nj(q));for(let q of c)"move"!==q.op&&V.push(q);for(let c of Y)"move"!==c.op&&Z.push(c)}}return{type:"path",ops:V.concat(Z)}}return{type:"path",ops:[]}}function zj(c,q,Y){let V=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(c/2,2)+Math.pow(q/2,2))/2)),Z=Math.ceil(Math.max(Y.curveStepCount,Y.curveStepCount/Math.sqrt(200)*V)),re=2*Math.PI/Z,ae=Math.abs(c/2),se=Math.abs(q/2),oe=1-Y.curveFitting;return ae+=nr(ae*oe,Y),se+=nr(se*oe,Y),{increment:re,rx:ae,ry:se}}function M9(c,q,Y,V){let[Z,re]=Rj(V.increment,c,q,V.rx,V.ry,1,V.increment*D5(.1,D5(.4,1,Y),Y),Y),ae=N5(Z,null,Y);if(!Y.disableMultiStroke&&0!==Y.roughness){let[Z]=Rj(V.increment,c,q,V.rx,V.ry,1.5,0,Y),re=N5(Z,null,Y);ae=ae.concat(re)}return{estimatedPoints:re,opset:{type:"path",ops:ae}}}function Lj(c,q,Y,V,Z,re,ae,se,oe){let he=c,de=q,pe=Math.abs(Y/2),ge=Math.abs(V/2);pe+=nr(.01*pe,oe),ge+=nr(.01*ge,oe);let me=Z,ve=re;for(;me<0;)me+=2*Math.PI,ve+=2*Math.PI;ve-me>2*Math.PI&&(me=0,ve=2*Math.PI);let be=2*Math.PI/oe.curveStepCount,we=Math.min(be/2,(ve-me)/2),Te=Mj(we,he,de,pe,ge,me,ve,1,oe);if(!oe.disableMultiStroke){let c=Mj(we,he,de,pe,ge,me,ve,1.5,oe);Te.push(...c)}return ae&&(se?Te.push(...Ph(he,de,he+pe*Math.cos(me),de+ge*Math.sin(me),oe),...Ph(he,de,he+pe*Math.cos(ve),de+ge*Math.sin(ve),oe)):Te.push({op:"lineTo",data:[he,de]},{op:"lineTo",data:[he+pe*Math.cos(me),de+ge*Math.sin(me)]})),{type:"path",ops:Te}}function Dj(c,q){let Y=Pj(Oj(F9(c))),V=[],Z=[0,0],re=[0,0];for(let{key:c,data:ae}of Y)switch(c){case"M":re=[ae[0],ae[1]],Z=[ae[0],ae[1]];break;case"L":V.push(...Ph(re[0],re[1],ae[0],ae[1],q)),re=[ae[0],ae[1]];break;case"C":{let[c,Y,Z,se,oe,he]=ae;V.push(...oAe(c,Y,Z,se,oe,he,re,q)),re=[oe,he];break}case"Z":V.push(...Ph(re[0],re[1],Z[0],Z[1],q)),re=[Z[0],Z[1]]}return{type:"path",ops:V}}function S9(c,q){let Y=[];for(let V of c)if(V.length){let c=q.maxRandomnessOffset||0,Z=V.length;if(Z>2){Y.push({op:"move",data:[V[0][0]+nr(c,q),V[0][1]+nr(c,q)]});for(let re=1;re<Z;re++)Y.push({op:"lineTo",data:[V[re][0]+nr(c,q),V[re][1]+nr(c,q)]})}}return{type:"fillPath",ops:Y}}function am(c,q){return function(c,q){let Y=c.fillStyle||"hachure";if(!VO[Y])switch(Y){case"zigzag":VO[Y]||(VO[Y]=new qO(q));break;case"cross-hatch":VO[Y]||(VO[Y]=new jO(q));break;case"dots":VO[Y]||(VO[Y]=new YO(q));break;case"dashed":VO[Y]||(VO[Y]=new WO(q));break;case"zigzag-line":VO[Y]||(VO[Y]=new HO(q));break;default:Y="hachure",VO[Y]||(VO[Y]=new UO(q))}return VO[Y]}(q,nP).fillPolygons(c,q)}function Nj(c){let q=Object.assign({},c);return q.randomizer=void 0,c.seed&&(q.seed=c.seed+1),q}function Gj(c){return c.randomizer||(c.randomizer=new XO(c.seed||0)),c.randomizer.next()}function D5(c,q,Y,V=1){return Y.roughness*V*(Gj(Y)*(q-c)+c)}function nr(c,q,Y=1){return D5(-c,c,q,Y)}function Ph(c,q,Y,V,Z,re=!1){let ae=re?Z.disableMultiStrokeFill:Z.disableMultiStroke,se=I9(c,q,Y,V,Z,!0,!1);if(ae)return se;let oe=I9(c,q,Y,V,Z,!0,!0);return se.concat(oe)}function I9(c,q,Y,V,Z,re,ae){let se=Math.pow(c-Y,2)+Math.pow(q-V,2),oe=Math.sqrt(se),he=1;he=oe<200?1:oe>500?.4:-.0016668*oe+1.233334;let de=Z.maxRandomnessOffset||0;de*de*100>se&&(de=oe/10);let pe=de/2,ge=.2+.2*Gj(Z),me=Z.bowing*Z.maxRandomnessOffset*(V-q)/200,ve=Z.bowing*Z.maxRandomnessOffset*(c-Y)/200;me=nr(me,Z,he),ve=nr(ve,Z,he);let be=[],we=o(()=>nr(pe,Z,he),"M"),Te=o(()=>nr(de,Z,he),"k"),_e=Z.preserveVertices;return re&&(ae?be.push({op:"move",data:[c+(_e?0:we()),q+(_e?0:we())]}):be.push({op:"move",data:[c+(_e?0:nr(de,Z,he)),q+(_e?0:nr(de,Z,he))]})),ae?be.push({op:"bcurveTo",data:[me+c+(Y-c)*ge+we(),ve+q+(V-q)*ge+we(),me+c+2*(Y-c)*ge+we(),ve+q+2*(V-q)*ge+we(),Y+(_e?0:we()),V+(_e?0:we())]}):be.push({op:"bcurveTo",data:[me+c+(Y-c)*ge+Te(),ve+q+(V-q)*ge+Te(),me+c+2*(Y-c)*ge+Te(),ve+q+2*(V-q)*ge+Te(),Y+(_e?0:Te()),V+(_e?0:Te())]}),be}function C5(c,q,Y){if(!c.length)return[];let V=[];V.push([c[0][0]+nr(q,Y),c[0][1]+nr(q,Y)]),V.push([c[0][0]+nr(q,Y),c[0][1]+nr(q,Y)]);for(let Z=1;Z<c.length;Z++)V.push([c[Z][0]+nr(q,Y),c[Z][1]+nr(q,Y)]),Z===c.length-1&&V.push([c[Z][0]+nr(q,Y),c[Z][1]+nr(q,Y)]);return N5(V,null,Y)}function N5(c,q,Y){let V=c.length,Z=[];if(V>3){let re=[],ae=1-Y.curveTightness;Z.push({op:"move",data:[c[1][0],c[1][1]]});for(let q=1;q+2<V;q++){let Y=c[q];re[0]=[Y[0],Y[1]],re[1]=[Y[0]+(ae*c[q+1][0]-ae*c[q-1][0])/6,Y[1]+(ae*c[q+1][1]-ae*c[q-1][1])/6],re[2]=[c[q+1][0]+(ae*c[q][0]-ae*c[q+2][0])/6,c[q+1][1]+(ae*c[q][1]-ae*c[q+2][1])/6],re[3]=[c[q+1][0],c[q+1][1]],Z.push({op:"bcurveTo",data:[re[1][0],re[1][1],re[2][0],re[2][1],re[3][0],re[3][1]]})}if(q&&2===q.length){let c=Y.maxRandomnessOffset;Z.push({op:"lineTo",data:[q[0]+nr(c,Y),q[1]+nr(c,Y)]})}}else 3===V?(Z.push({op:"move",data:[c[1][0],c[1][1]]}),Z.push({op:"bcurveTo",data:[c[1][0],c[1][1],c[2][0],c[2][1],c[2][0],c[2][1]]})):2===V&&Z.push(...I9(c[0][0],c[0][1],c[1][0],c[1][1],Y,!0,!0));return Z}function Rj(c,q,Y,V,Z,re,ae,se){let oe=[],he=[];if(0===se.roughness){c/=4,he.push([q+V*Math.cos(-c),Y+Z*Math.sin(-c)]);for(let re=0;re<=2*Math.PI;re+=c){let c=[q+V*Math.cos(re),Y+Z*Math.sin(re)];oe.push(c),he.push(c)}he.push([q+V*Math.cos(0),Y+Z*Math.sin(0)]),he.push([q+V*Math.cos(c),Y+Z*Math.sin(c)])}else{let de=nr(.5,se)-Math.PI/2;he.push([nr(re,se)+q+.9*V*Math.cos(de-c),nr(re,se)+Y+.9*Z*Math.sin(de-c)]);let pe=2*Math.PI+de-.01;for(let ae=de;ae<pe;ae+=c){let c=[nr(re,se)+q+V*Math.cos(ae),nr(re,se)+Y+Z*Math.sin(ae)];oe.push(c),he.push(c)}he.push([nr(re,se)+q+V*Math.cos(de+2*Math.PI+.5*ae),nr(re,se)+Y+Z*Math.sin(de+2*Math.PI+.5*ae)]),he.push([nr(re,se)+q+.98*V*Math.cos(de+ae),nr(re,se)+Y+.98*Z*Math.sin(de+ae)]),he.push([nr(re,se)+q+.9*V*Math.cos(de+.5*ae),nr(re,se)+Y+.9*Z*Math.sin(de+.5*ae)])}return[he,oe]}function Mj(c,q,Y,V,Z,re,ae,se,oe){let he=re+nr(.1,oe),de=[];de.push([nr(se,oe)+q+.9*V*Math.cos(he-c),nr(se,oe)+Y+.9*Z*Math.sin(he-c)]);for(let re=he;re<=ae;re+=c)de.push([nr(se,oe)+q+V*Math.cos(re),nr(se,oe)+Y+Z*Math.sin(re)]);return de.push([q+V*Math.cos(ae),Y+Z*Math.sin(ae)]),de.push([q+V*Math.cos(ae),Y+Z*Math.sin(ae)]),N5(de,null,oe)}function oAe(c,q,Y,V,Z,re,ae,se){let oe=[],he=[se.maxRandomnessOffset||1,(se.maxRandomnessOffset||1)+.3],de=[0,0],pe=se.disableMultiStroke?1:2,ge=se.preserveVertices;for(let me=0;me<pe;me++)0===me?oe.push({op:"move",data:[ae[0],ae[1]]}):oe.push({op:"move",data:[ae[0]+(ge?0:nr(he[0],se)),ae[1]+(ge?0:nr(he[0],se))]}),de=ge?[Z,re]:[Z+nr(he[me],se),re+nr(he[me],se)],oe.push({op:"bcurveTo",data:[c+nr(he[me],se),q+nr(he[me],se),Y+nr(he[me],se),V+nr(he[me],se),de[0],de[1]]});return oe}function mv(c){return[...c]}function Ij(c,q=0){let Y=c.length;if(Y<3)throw new Error("A curve must have at least three points.");let V=[];if(3===Y)V.push(mv(c[0]),mv(c[1]),mv(c[2]),mv(c[2]));else{let Y=[];Y.push(c[0],c[0]);for(let q=1;q<c.length;q++)Y.push(c[q]),q===c.length-1&&Y.push(c[q]);let Z=[],re=1-q;V.push(mv(Y[0]));for(let c=1;c+2<Y.length;c++){let q=Y[c];Z[0]=[q[0],q[1]],Z[1]=[q[0]+(re*Y[c+1][0]-re*Y[c-1][0])/6,q[1]+(re*Y[c+1][1]-re*Y[c-1][1])/6],Z[2]=[Y[c+1][0]+(re*Y[c][0]-re*Y[c+2][0])/6,Y[c+1][1]+(re*Y[c][1]-re*Y[c+2][1])/6],Z[3]=[Y[c+1][0],Y[c+1][1]],V.push(Z[1],Z[2],Z[3])}}return V}function L5(c,q){return Math.pow(c[0]-q[0],2)+Math.pow(c[1]-q[1],2)}function lAe(c,q,Y){let V=L5(q,Y);if(0===V)return L5(c,q);let Z=((c[0]-q[0])*(Y[0]-q[0])+(c[1]-q[1])*(Y[1]-q[1]))/V;return Z=Math.max(0,Math.min(1,Z)),L5(c,Sd(q,Y,Z))}function Sd(c,q,Y){return[c[0]+(q[0]-c[0])*Y,c[1]+(q[1]-c[1])*Y]}function O9(c,q,Y,V){let Z=V||[];if(function(c,q){let Y=c[q+0],V=c[q+1],Z=c[q+2],re=c[q+3],ae=3*V[0]-2*Y[0]-re[0];ae*=ae;let se=3*V[1]-2*Y[1]-re[1];se*=se;let oe=3*Z[0]-2*re[0]-Y[0];oe*=oe;let he=3*Z[1]-2*re[1]-Y[1];return he*=he,ae<oe&&(ae=oe),se<he&&(se=he),ae+se}(c,q)<Y){let Y=c[q+0];Z.length?(re=Z[Z.length-1],ae=Y,Math.sqrt(L5(re,ae))>1&&Z.push(Y)):Z.push(Y),Z.push(c[q+3])}else{let V=c[q+0],re=c[q+1],ae=c[q+2],se=c[q+3],oe=Sd(V,re,.5),he=Sd(re,ae,.5),de=Sd(ae,se,.5),pe=Sd(oe,he,.5),ge=Sd(he,de,.5),me=Sd(pe,ge,.5);O9([V,oe,pe,me],0,Y,Z),O9([me,ge,de,se],0,Y,Z)}var re,ae;return Z}function cAe(c,q){return R5(c,0,c.length,q)}function R5(c,q,Y,V,Z){let re=Z||[],ae=c[q],se=c[Y-1],oe=0,he=1;for(let V=q+1;V<Y-1;++V){let q=lAe(c[V],ae,se);q>oe&&(oe=q,he=V)}return Math.sqrt(oe)>V?(R5(c,q,he+1,V,re),R5(c,he,Y,V,re)):(re.length||re.push(ae),re.push(se)),re}function C9(c,q=.15,Y){let V=[],Z=(c.length-1)/3;for(let Y=0;Y<Z;Y++)O9(c,3*Y,q,V);return Y&&Y>0?R5(V,0,V.length,Y):V}var UO,qO,jO,YO,WO,HO,VO,XO,KO,ZO,JO,rP,nP,iP,aP,sP,oP,lP,cP,hP=M(()=>{o(T9,"t"),o(rAe,"e"),o(nAe,"s"),o(yv,"n"),UO=class{static{o(this,"o")}constructor(c){this.helper=c}fillPolygons(c,q){return this._fillPolygons(c,q)}_fillPolygons(c,q){let Y=yv(c,q);return{type:"fillSketch",ops:this.renderLines(Y,q)}}renderLines(c,q){let Y=[];for(let V of c)Y.push(...this.helper.doubleLineOps(V[0][0],V[0][1],V[1][0],V[1][1],q));return Y}},o(M5,"a"),qO=class extends UO{static{o(this,"h")}fillPolygons(c,q){let Y=q.hachureGap;Y<0&&(Y=4*q.strokeWidth),Y=Math.max(Y,.1);let V=yv(c,Object.assign({},q,{hachureGap:Y})),Z=Math.PI/180*q.hachureAngle,re=[],ae=.5*Y*Math.cos(Z),se=.5*Y*Math.sin(Z);for(let[c,q]of V)M5([c,q])&&re.push([[c[0]-ae,c[1]+se],[...q]],[[c[0]+ae,c[1]-se],[...q]]);return{type:"fillSketch",ops:this.renderLines(re,q)}}},jO=class extends UO{static{o(this,"r")}fillPolygons(c,q){let Y=this._fillPolygons(c,q),V=Object.assign({},q,{hachureAngle:q.hachureAngle+90}),Z=this._fillPolygons(c,V);return Y.ops=Y.ops.concat(Z.ops),Y}},YO=class{static{o(this,"i")}constructor(c){this.helper=c}fillPolygons(c,q){let Y=yv(c,q=Object.assign({},q,{hachureAngle:0}));return this.dotsOnLines(Y,q)}dotsOnLines(c,q){let Y=[],V=q.hachureGap;V<0&&(V=4*q.strokeWidth),V=Math.max(V,.1);let Z=q.fillWeight;Z<0&&(Z=q.strokeWidth/2);let re=V/4;for(let ae of c){let c=M5(ae),se=c/V,oe=Math.ceil(se)-1,he=c-oe*V,de=(ae[0][0]+ae[1][0])/2-V/4,pe=Math.min(ae[0][1],ae[1][1]);for(let c=0;c<oe;c++){let ae=pe+he+c*V,se=de-re+2*Math.random()*re,oe=ae-re+2*Math.random()*re,ge=this.helper.ellipse(se,oe,Z,Z,q);Y.push(...ge.ops)}}return{type:"fillSketch",ops:Y}}},WO=class{static{o(this,"c")}constructor(c){this.helper=c}fillPolygons(c,q){let Y=yv(c,q);return{type:"fillSketch",ops:this.dashedLine(Y,q)}}dashedLine(c,q){let Y=q.dashOffset<0?q.hachureGap<0?4*q.strokeWidth:q.hachureGap:q.dashOffset,V=q.dashGap<0?q.hachureGap<0?4*q.strokeWidth:q.hachureGap:q.dashGap,Z=[];return c.forEach(c=>{let re=M5(c),ae=Math.floor(re/(Y+V)),se=(re+V-ae*(Y+V))/2,oe=c[0],he=c[1];oe[0]>he[0]&&(oe=c[1],he=c[0]);let de=Math.atan((he[1]-oe[1])/(he[0]-oe[0]));for(let c=0;c<ae;c++){let re=c*(Y+V),ae=re+Y,he=[oe[0]+re*Math.cos(de)+se*Math.cos(de),oe[1]+re*Math.sin(de)+se*Math.sin(de)],pe=[oe[0]+ae*Math.cos(de)+se*Math.cos(de),oe[1]+ae*Math.sin(de)+se*Math.sin(de)];Z.push(...this.helper.doubleLineOps(he[0],he[1],pe[0],pe[1],q))}}),Z}},HO=class{static{o(this,"l")}constructor(c){this.helper=c}fillPolygons(c,q){let Y=q.hachureGap<0?4*q.strokeWidth:q.hachureGap,V=q.zigzagOffset<0?Y:q.zigzagOffset,Z=yv(c,q=Object.assign({},q,{hachureGap:Y+V}));return{type:"fillSketch",ops:this.zigzagLines(Z,V,q)}}zigzagLines(c,q,Y){let V=[];return c.forEach(c=>{let Z=M5(c),re=Math.round(Z/(2*q)),ae=c[0],se=c[1];ae[0]>se[0]&&(ae=c[1],se=c[0]);let oe=Math.atan((se[1]-ae[1])/(se[0]-ae[0]));for(let c=0;c<re;c++){let Z=2*c*q,re=2*(c+1)*q,se=Math.sqrt(2*Math.pow(q,2)),he=[ae[0]+Z*Math.cos(oe),ae[1]+Z*Math.sin(oe)],de=[ae[0]+re*Math.cos(oe),ae[1]+re*Math.sin(oe)],pe=[he[0]+se*Math.cos(oe+Math.PI/4),he[1]+se*Math.sin(oe+Math.PI/4)];V.push(...this.helper.doubleLineOps(he[0],he[1],pe[0],pe[1],Y),...this.helper.doubleLineOps(pe[0],pe[1],de[0],de[1],Y))}}),V}},VO={},XO=class{static{o(this,"p")}constructor(c){this.seed=c}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},KO=0,ZO=1,JO=2,rP={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},o(E9,"k"),o(F9,"b"),o(Oj,"y"),o(Pj,"m"),o(pv,"w"),o(Bj,"x"),nP={randOffset:o(function(c,q){return nr(c,q)},"randOffset"),randOffsetWithRange:o(function(c,q,Y){return D5(c,q,Y)},"randOffsetWithRange"),ellipse:o(function(c,q,Y,V,Z){return M9(c,q,Z,zj(Y,V,Z)).opset},"ellipse"),doubleLineOps:o(function(c,q,Y,V,Z){return Ph(c,q,Y,V,Z,!0)},"doubleLineOps")},o(Fj,"v"),o(_5,"S"),o(sAe,"O"),o(_j,"L"),o(zj,"T"),o(M9,"D"),o(Lj,"A"),o(Dj,"_"),o(S9,"I"),o(am,"C"),o(Nj,"z"),o(Gj,"W"),o(D5,"E"),o(nr,"G"),o(Ph,"$"),o(I9,"R"),o(C5,"j"),o(N5,"q"),o(Rj,"F"),o(Mj,"V"),o(oAe,"Z"),o(mv,"Q"),o(Ij,"H"),o(L5,"N"),o(lAe,"B"),o(Sd,"J"),o(O9,"K"),o(cAe,"U"),o(R5,"X"),o(C9,"Y"),iP="none",aP=class{static{o(this,"et")}constructor(c){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=c||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(c){return c?Object.assign({},this.defaultOptions,c):this.defaultOptions}_d(c,q,Y){return{shape:c,sets:q||[],options:Y||this.defaultOptions}}line(c,q,Y,V,Z){let re=this._o(Z);return this._d("line",[Fj(c,q,Y,V,re)],re)}rectangle(c,q,Y,V,Z){let re=this._o(Z),ae=[],se=sAe(c,q,Y,V,re);if(re.fill){let Z=[[c,q],[c+Y,q],[c+Y,q+V],[c,q+V]];"solid"===re.fillStyle?ae.push(S9([Z],re)):ae.push(am([Z],re))}return re.stroke!==iP&&ae.push(se),this._d("rectangle",ae,re)}ellipse(c,q,Y,V,Z){let re=this._o(Z),ae=[],se=zj(Y,V,re),oe=M9(c,q,re,se);if(re.fill)if("solid"===re.fillStyle){let Y=M9(c,q,re,se).opset;Y.type="fillPath",ae.push(Y)}else ae.push(am([oe.estimatedPoints],re));return re.stroke!==iP&&ae.push(oe.opset),this._d("ellipse",ae,re)}circle(c,q,Y,V){let Z=this.ellipse(c,q,Y,Y,V);return Z.shape="circle",Z}linearPath(c,q){let Y=this._o(q);return this._d("linearPath",[_5(c,!1,Y)],Y)}arc(c,q,Y,V,Z,re,ae=!1,se){let oe=this._o(se),he=[],de=Lj(c,q,Y,V,Z,re,ae,!0,oe);if(ae&&oe.fill)if("solid"===oe.fillStyle){let ae=Object.assign({},oe);ae.disableMultiStroke=!0;let se=Lj(c,q,Y,V,Z,re,!0,!1,ae);se.type="fillPath",he.push(se)}else he.push(function(c,q,Y,V,Z,re,ae){let se=c,oe=q,he=Math.abs(Y/2),de=Math.abs(V/2);he+=nr(.01*he,ae),de+=nr(.01*de,ae);let pe=Z,ge=re;for(;pe<0;)pe+=2*Math.PI,ge+=2*Math.PI;ge-pe>2*Math.PI&&(pe=0,ge=2*Math.PI);let me=(ge-pe)/ae.curveStepCount,ve=[];for(let c=pe;c<=ge;c+=me)ve.push([se+he*Math.cos(c),oe+de*Math.sin(c)]);return ve.push([se+he*Math.cos(ge),oe+de*Math.sin(ge)]),ve.push([se,oe]),am([ve],ae)}(c,q,Y,V,Z,re,oe));return oe.stroke!==iP&&he.push(de),this._d("arc",he,oe)}curve(c,q){let Y=this._o(q),V=[],Z=_j(c,Y);if(Y.fill&&Y.fill!==iP)if("solid"===Y.fillStyle){let q=_j(c,Object.assign(Object.assign({},Y),{disableMultiStroke:!0,roughness:Y.roughness?Y.roughness+Y.fillShapeRoughnessGain:0}));V.push({type:"fillPath",ops:this._mergedShape(q.ops)})}else{let q=[],Z=c;if(Z.length){let c="number"==typeof Z[0][0]?[Z]:Z;for(let V of c)V.length<3?q.push(...V):3===V.length?q.push(...C9(Ij([V[0],V[0],V[1],V[2]]),10,(1+Y.roughness)/2)):q.push(...C9(Ij(V),10,(1+Y.roughness)/2))}q.length&&V.push(am([q],Y))}return Y.stroke!==iP&&V.push(Z),this._d("curve",V,Y)}polygon(c,q){let Y=this._o(q),V=[],Z=_5(c,!0,Y);return Y.fill&&("solid"===Y.fillStyle?V.push(S9([c],Y)):V.push(am([c],Y))),Y.stroke!==iP&&V.push(Z),this._d("polygon",V,Y)}path(c,q){let Y=this._o(q),V=[];if(!c)return this._d("path",V,Y);c=(c||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let Z=Y.fill&&"transparent"!==Y.fill&&Y.fill!==iP,re=Y.stroke!==iP,ae=!!(Y.simplification&&Y.simplification<1),se=function(c,q,Y){let V=Pj(Oj(F9(c))),Z=[],re=[],ae=[0,0],se=[],oe=o(()=>{se.length>=4&&re.push(...C9(se,1)),se=[]},"i"),he=o(()=>{oe(),re.length&&(Z.push(re),re=[])},"c");for(let{key:c,data:q}of V)switch(c){case"M":he(),ae=[q[0],q[1]],re.push(ae);break;case"L":oe(),re.push([q[0],q[1]]);break;case"C":if(!se.length){let c=re.length?re[re.length-1]:ae;se.push([c[0],c[1]])}se.push([q[0],q[1]]),se.push([q[2],q[3]]),se.push([q[4],q[5]]);break;case"Z":oe(),re.push([ae[0],ae[1]])}if(he(),!Y)return Z;let de=[];for(let c of Z){let q=cAe(c,Y);q.length&&de.push(q)}return de}(c,0,ae?4-4*(Y.simplification||1):(1+Y.roughness)/2),oe=Dj(c,Y);if(Z)if("solid"===Y.fillStyle)if(1===se.length){let q=Dj(c,Object.assign(Object.assign({},Y),{disableMultiStroke:!0,roughness:Y.roughness?Y.roughness+Y.fillShapeRoughnessGain:0}));V.push({type:"fillPath",ops:this._mergedShape(q.ops)})}else V.push(S9(se,Y));else V.push(am(se,Y));return re&&(ae?se.forEach(c=>{V.push(_5(c,!1,Y))}):V.push(oe)),this._d("path",V,Y)}opsToPath(c,q){let Y="";for(let V of c.ops){let c="number"==typeof q&&q>=0?V.data.map(c=>+c.toFixed(q)):V.data;switch(V.op){case"move":Y+=`M${c[0]} ${c[1]} `;break;case"bcurveTo":Y+=`C${c[0]} ${c[1]}, ${c[2]} ${c[3]}, ${c[4]} ${c[5]} `;break;case"lineTo":Y+=`L${c[0]} ${c[1]} `}}return Y.trim()}toPaths(c){let q=c.sets||[],Y=c.options||this.defaultOptions,V=[];for(let c of q){let q=null;switch(c.type){case"path":q={d:this.opsToPath(c),stroke:Y.stroke,strokeWidth:Y.strokeWidth,fill:iP};break;case"fillPath":q={d:this.opsToPath(c),stroke:iP,strokeWidth:0,fill:Y.fill||iP};break;case"fillSketch":q=this.fillSketch(c,Y)}q&&V.push(q)}return V}fillSketch(c,q){let Y=q.fillWeight;return Y<0&&(Y=q.strokeWidth/2),{d:this.opsToPath(c),stroke:q.fill||iP,strokeWidth:Y,fill:iP}}_mergedShape(c){return c.filter((c,q)=>0===q||"move"!==c.op)}},sP=class{static{o(this,"st")}constructor(c,q){this.canvas=c,this.ctx=this.canvas.getContext("2d"),this.gen=new aP(q)}draw(c){let q=c.sets||[],Y=c.options||this.getDefaultOptions(),V=this.ctx,Z=c.options.fixedDecimalPlaceDigits;for(let re of q)switch(re.type){case"path":V.save(),V.strokeStyle="none"===Y.stroke?"transparent":Y.stroke,V.lineWidth=Y.strokeWidth,Y.strokeLineDash&&V.setLineDash(Y.strokeLineDash),Y.strokeLineDashOffset&&(V.lineDashOffset=Y.strokeLineDashOffset),this._drawToContext(V,re,Z),V.restore();break;case"fillPath":{V.save(),V.fillStyle=Y.fill||"";let q="curve"===c.shape||"polygon"===c.shape||"path"===c.shape?"evenodd":"nonzero";this._drawToContext(V,re,Z,q),V.restore();break}case"fillSketch":this.fillSketch(V,re,Y)}}fillSketch(c,q,Y){let V=Y.fillWeight;V<0&&(V=Y.strokeWidth/2),c.save(),Y.fillLineDash&&c.setLineDash(Y.fillLineDash),Y.fillLineDashOffset&&(c.lineDashOffset=Y.fillLineDashOffset),c.strokeStyle=Y.fill||"",c.lineWidth=V,this._drawToContext(c,q,Y.fixedDecimalPlaceDigits),c.restore()}_drawToContext(c,q,Y,V="nonzero"){c.beginPath();for(let V of q.ops){let q="number"==typeof Y&&Y>=0?V.data.map(c=>+c.toFixed(Y)):V.data;switch(V.op){case"move":c.moveTo(q[0],q[1]);break;case"bcurveTo":c.bezierCurveTo(q[0],q[1],q[2],q[3],q[4],q[5]);break;case"lineTo":c.lineTo(q[0],q[1])}}"fillPath"===q.type?c.fill(V):c.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(c,q,Y,V,Z){let re=this.gen.line(c,q,Y,V,Z);return this.draw(re),re}rectangle(c,q,Y,V,Z){let re=this.gen.rectangle(c,q,Y,V,Z);return this.draw(re),re}ellipse(c,q,Y,V,Z){let re=this.gen.ellipse(c,q,Y,V,Z);return this.draw(re),re}circle(c,q,Y,V){let Z=this.gen.circle(c,q,Y,V);return this.draw(Z),Z}linearPath(c,q){let Y=this.gen.linearPath(c,q);return this.draw(Y),Y}polygon(c,q){let Y=this.gen.polygon(c,q);return this.draw(Y),Y}arc(c,q,Y,V,Z,re,ae=!1,se){let oe=this.gen.arc(c,q,Y,V,Z,re,ae,se);return this.draw(oe),oe}curve(c,q){let Y=this.gen.curve(c,q);return this.draw(Y),Y}path(c,q){let Y=this.gen.path(c,q);return this.draw(Y),Y}},oP="http://www.w3.org/2000/svg",lP=class{static{o(this,"ot")}constructor(c,q){this.svg=c,this.gen=new aP(q)}draw(c){let q=c.sets||[],Y=c.options||this.getDefaultOptions(),V=this.svg.ownerDocument||window.document,Z=V.createElementNS(oP,"g"),re=c.options.fixedDecimalPlaceDigits;for(let ae of q){let q=null;switch(ae.type){case"path":q=V.createElementNS(oP,"path"),q.setAttribute("d",this.opsToPath(ae,re)),q.setAttribute("stroke",Y.stroke),q.setAttribute("stroke-width",Y.strokeWidth+""),q.setAttribute("fill","none"),Y.strokeLineDash&&q.setAttribute("stroke-dasharray",Y.strokeLineDash.join(" ").trim()),Y.strokeLineDashOffset&&q.setAttribute("stroke-dashoffset",`${Y.strokeLineDashOffset}`);break;case"fillPath":q=V.createElementNS(oP,"path"),q.setAttribute("d",this.opsToPath(ae,re)),q.setAttribute("stroke","none"),q.setAttribute("stroke-width","0"),q.setAttribute("fill",Y.fill||""),"curve"!==c.shape&&"polygon"!==c.shape||q.setAttribute("fill-rule","evenodd");break;case"fillSketch":q=this.fillSketch(V,ae,Y)}q&&Z.appendChild(q)}return Z}fillSketch(c,q,Y){let V=Y.fillWeight;V<0&&(V=Y.strokeWidth/2);let Z=c.createElementNS(oP,"path");return Z.setAttribute("d",this.opsToPath(q,Y.fixedDecimalPlaceDigits)),Z.setAttribute("stroke",Y.fill||""),Z.setAttribute("stroke-width",V+""),Z.setAttribute("fill","none"),Y.fillLineDash&&Z.setAttribute("stroke-dasharray",Y.fillLineDash.join(" ").trim()),Y.fillLineDashOffset&&Z.setAttribute("stroke-dashoffset",`${Y.fillLineDashOffset}`),Z}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(c,q){return this.gen.opsToPath(c,q)}line(c,q,Y,V,Z){let re=this.gen.line(c,q,Y,V,Z);return this.draw(re)}rectangle(c,q,Y,V,Z){let re=this.gen.rectangle(c,q,Y,V,Z);return this.draw(re)}ellipse(c,q,Y,V,Z){let re=this.gen.ellipse(c,q,Y,V,Z);return this.draw(re)}circle(c,q,Y,V){let Z=this.gen.circle(c,q,Y,V);return this.draw(Z)}linearPath(c,q){let Y=this.gen.linearPath(c,q);return this.draw(Y)}polygon(c,q){let Y=this.gen.polygon(c,q);return this.draw(Y)}arc(c,q,Y,V,Z,re,ae=!1,se){let oe=this.gen.arc(c,q,Y,V,Z,re,ae,se);return this.draw(oe)}curve(c,q){let Y=this.gen.curve(c,q);return this.draw(Y)}path(c,q){let Y=this.gen.path(c,q);return this.draw(Y)}},cP={canvas:o((c,q)=>new sP(c,q),"canvas"),svg:o((c,q)=>new lP(c,q),"svg"),generator:o(c=>new aP(c),"generator"),newSeed:o(()=>aP.newSeed(),"newSeed")}});function $j(c,q){let{labelStyles:Y}=PO(q);q.labelStyle=Y;let Z=vO(q),re=Z;Z||(re="anchor");let ae=c.insert("g").attr("class",re).attr("id",q.domId||q.id),{cssStyles:se}=q,oe=cP.svg(ae),he=BO(q,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==q.look&&(he.roughness=0);let de=oe.circle(0,0,2,he),pe=ae.insert(()=>de,":first-child");return pe.attr("class","anchor").attr("style",Fn(se)),yO(q,pe),q.intersect=function(c){return V.info("Circle intersect",q,1,c),MO.circle(q,1,c)},ae}var uP=M(()=>{Ae(),xO(),zO(),GO(),hP(),yM(),o($j,"anchor")});function Uj(c,q,Y,V,Z,re,ae){let se=(c+Y)/2,oe=(q+V)/2,he=Math.atan2(V-q,Y-c),de=(Y-c)/2/Z,pe=(V-q)/2/re,ge=Math.sqrt(de**2+pe**2);if(ge>1)throw new Error("The given radii are too small to create an arc between the points.");let me=Math.sqrt(1-ge**2),ve=se+me*re*Math.sin(he)*(ae?-1:1),be=oe-me*Z*Math.cos(he)*(ae?-1:1),we=Math.atan2((q-be)/re,(c-ve)/Z),Te=Math.atan2((V-be)/re,(Y-ve)/Z)-we;ae&&Te<0&&(Te+=2*Math.PI),!ae&&Te>0&&(Te-=2*Math.PI);let _e=[];for(let c=0;c<20;c++){let q=we+c/19*Te,Y=ve+Z*Math.cos(q),V=be+re*Math.sin(q);_e.push({x:Y,y:V})}return _e}async function Hj(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=re.width+q.padding+20,se=re.height+q.padding,oe=se/2,he=oe/(2.5+se/50),{cssStyles:de}=q,pe=[{x:ae/2,y:-se/2},{x:-ae/2,y:-se/2},...Uj(-ae/2,-se/2,-ae/2,se/2,he,oe,!1),{x:ae/2,y:se/2},...Uj(ae/2,se/2,ae/2,-se/2,he,oe,!0)],ge=cP.svg(Z),me=BO(q,{});"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let ve=Wt(pe),be=ge.path(ve,me),we=Z.insert(()=>be,":first-child");return we.attr("class","basic label-container"),de&&"handDrawn"!==q.look&&we.selectAll("path").attr("style",de),V&&"handDrawn"!==q.look&&we.selectAll("path").attr("style",V),we.attr("transform",`translate(${he/2}, 0)`),yO(q,we),q.intersect=function(c){return MO.polygon(q,pe,c)},Z}var dP=M(()=>{xO(),zO(),GO(),hP(),o(Uj,"generateArcPoints"),o(Hj,"bowTieRect")});function Aa(c,q,Y,V){return c.insert("polygon",":first-child").attr("points",V.map(function(c){return c.x+","+c.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-q/2+","+Y/2+")")}var pP=M(()=>{o(Aa,"insertPolygonShape")});async function Yj(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=ae.height+q.padding,oe=ae.width+q.padding+12,he=-se,de=[{x:12,y:he},{x:oe,y:he},{x:oe,y:0},{x:0,y:0},{x:0,y:he+12},{x:12,y:he}],{cssStyles:pe}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=Wt(de),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child").attr("transform",`translate(${-oe/2}, ${se/2})`),pe&&Z.attr("style",pe)}else Z=Aa(re,oe,se,de);return V&&Z.attr("style",V),yO(q,Z),q.intersect=function(c){return MO.polygon(q,de,c)},re}var gP=M(()=>{xO(),zO(),GO(),hP(),pP(),xO(),o(Yj,"card")});function Xj(c,q){let{nodeStyles:Y}=PO(q);q.label="";let V=c.insert("g").attr("class",vO(q)).attr("id",q.domId??q.id),{cssStyles:Z}=q,re=Math.max(28,q.width??0),ae=[{x:0,y:re/2},{x:re/2,y:0},{x:0,y:-re/2},{x:-re/2,y:0}],se=cP.svg(V),oe=BO(q,{});"handDrawn"!==q.look&&(oe.roughness=0,oe.fillStyle="solid");let he=Wt(ae),de=se.path(he,oe),pe=V.insert(()=>de,":first-child");return Z&&"handDrawn"!==q.look&&pe.selectAll("path").attr("style",Z),Y&&"handDrawn"!==q.look&&pe.selectAll("path").attr("style",Y),q.width=28,q.height=28,q.intersect=function(c){return MO.polygon(q,ae,c)},V}var fP=M(()=>{zO(),hP(),GO(),xO(),o(Xj,"choice")});async function Kj(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y;let re,{shapeSvg:ae,bbox:se,halfPadding:oe}=await gO(c,q,vO(q)),he=se.width/2+oe,{cssStyles:de}=q;if("handDrawn"===q.look){let c=cP.svg(ae),Y=BO(q,{}),V=c.circle(0,0,2*he,Y);re=ae.insert(()=>V,":first-child"),re.attr("class","basic label-container").attr("style",Fn(de))}else re=ae.insert("circle",":first-child").attr("class","basic label-container").attr("style",Z).attr("r",he).attr("cx",0).attr("cy",0);return yO(q,re),q.intersect=function(c){return V.info("Circle intersect",q,he,c),MO.circle(q,he,c)},ae}var mP=M(()=>{Ae(),xO(),zO(),GO(),hP(),yM(),o(Kj,"circle")});function uAe(c){let q=Math.cos(Math.PI/4),Y=Math.sin(Math.PI/4),V=2*c;return`M ${-V/2*q},${V/2*Y} L ${V/2*q},${-V/2*Y}\n                   M ${V/2*q},${V/2*Y} L ${-V/2*q},${-V/2*Y}`}function Zj(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y,q.label="";let re=c.insert("g").attr("class",vO(q)).attr("id",q.domId??q.id),ae=Math.max(30,q?.width??0),{cssStyles:se}=q,oe=cP.svg(re),he=BO(q,{});"handDrawn"!==q.look&&(he.roughness=0,he.fillStyle="solid");let de=oe.circle(0,0,2*ae,he),pe=uAe(ae),ge=oe.path(pe,he),me=re.insert(()=>de,":first-child");return me.insert(()=>ge),se&&"handDrawn"!==q.look&&me.selectAll("path").attr("style",se),Z&&"handDrawn"!==q.look&&me.selectAll("path").attr("style",Z),yO(q,me),q.intersect=function(c){return V.info("crossedCircle intersect",q,{radius:ae,point:c}),MO.circle(q,ae,c)},re}var yP=M(()=>{Ae(),xO(),GO(),hP(),zO(),o(uAe,"createLine"),o(Zj,"crossedCircle")});function Bh(c,q,Y,V=100,Z=0,re=180){let ae=[],se=Z*Math.PI/180,oe=(re*Math.PI/180-se)/(V-1);for(let Z=0;Z<V;Z++){let V=se+Z*oe,re=c+Y*Math.cos(V),he=q+Y*Math.sin(V);ae.push({x:-re,y:-he})}return ae}async function eK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=re.width+(q.padding??0),oe=re.height+(q.padding??0),he=Math.max(5,.1*oe),{cssStyles:de}=q,pe=[...Bh(se/2,-oe/2,he,30,-90,0),{x:-se/2-he,y:he},...Bh(se/2+2*he,-he,he,20,-180,-270),...Bh(se/2+2*he,he,he,20,-90,-180),{x:-se/2-he,y:-oe/2},...Bh(se/2,oe/2,he,20,0,90)],ge=[{x:se/2,y:-oe/2-he},{x:-se/2,y:-oe/2-he},...Bh(se/2,-oe/2,he,20,-90,0),{x:-se/2-he,y:-he},...Bh(se/2+.1*se,-he,he,20,-180,-270),...Bh(se/2+.1*se,he,he,20,-90,-180),{x:-se/2-he,y:oe/2},...Bh(se/2,oe/2,he,20,0,90),{x:-se/2,y:oe/2+he},{x:se/2,y:oe/2+he}],me=cP.svg(Z),ve=BO(q,{fill:"none"});"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let be=Wt(pe).replace("Z",""),we=me.path(be,ve),Te=Wt(ge),_e=me.path(Te,{...ve}),Ee=Z.insert("g",":first-child");return Ee.insert(()=>_e,":first-child").attr("stroke-opacity",0),Ee.insert(()=>we,":first-child"),Ee.attr("class","text"),de&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",de),V&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",V),Ee.attr("transform",`translate(${he}, 0)`),ae.attr("transform",`translate(${-se/2+he-(re.x-(re.left??0))},${-oe/2+(q.padding??0)/2-(re.y-(re.top??0))})`),yO(q,Ee),q.intersect=function(c){return MO.polygon(q,ge,c)},Z}var vP=M(()=>{xO(),zO(),GO(),hP(),o(Bh,"generateCirclePoints"),o(eK,"curlyBraceLeft")});function Fh(c,q,Y,V=100,Z=0,re=180){let ae=[],se=Z*Math.PI/180,oe=(re*Math.PI/180-se)/(V-1);for(let Z=0;Z<V;Z++){let V=se+Z*oe,re=c+Y*Math.cos(V),he=q+Y*Math.sin(V);ae.push({x:re,y:he})}return ae}async function rK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=re.width+(q.padding??0),oe=re.height+(q.padding??0),he=Math.max(5,.1*oe),{cssStyles:de}=q,pe=[...Fh(se/2,-oe/2,he,20,-90,0),{x:se/2+he,y:-he},...Fh(se/2+2*he,-he,he,20,-180,-270),...Fh(se/2+2*he,he,he,20,-90,-180),{x:se/2+he,y:oe/2},...Fh(se/2,oe/2,he,20,0,90)],ge=[{x:-se/2,y:-oe/2-he},{x:se/2,y:-oe/2-he},...Fh(se/2,-oe/2,he,20,-90,0),{x:se/2+he,y:-he},...Fh(se/2+2*he,-he,he,20,-180,-270),...Fh(se/2+2*he,he,he,20,-90,-180),{x:se/2+he,y:oe/2},...Fh(se/2,oe/2,he,20,0,90),{x:se/2,y:oe/2+he},{x:-se/2,y:oe/2+he}],me=cP.svg(Z),ve=BO(q,{fill:"none"});"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let be=Wt(pe).replace("Z",""),we=me.path(be,ve),Te=Wt(ge),_e=me.path(Te,{...ve}),Ee=Z.insert("g",":first-child");return Ee.insert(()=>_e,":first-child").attr("stroke-opacity",0),Ee.insert(()=>we,":first-child"),Ee.attr("class","text"),de&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",de),V&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",V),Ee.attr("transform",`translate(${-he}, 0)`),ae.attr("transform",`translate(${-se/2+(q.padding??0)/2-(re.x-(re.left??0))},${-oe/2+(q.padding??0)/2-(re.y-(re.top??0))})`),yO(q,Ee),q.intersect=function(c){return MO.polygon(q,ge,c)},Z}var xP=M(()=>{xO(),zO(),GO(),hP(),o(Fh,"generateCirclePoints"),o(rK,"curlyBraceRight")});function _a(c,q,Y,V=100,Z=0,re=180){let ae=[],se=Z*Math.PI/180,oe=(re*Math.PI/180-se)/(V-1);for(let Z=0;Z<V;Z++){let V=se+Z*oe,re=c+Y*Math.cos(V),he=q+Y*Math.sin(V);ae.push({x:-re,y:-he})}return ae}async function iK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=re.width+(q.padding??0),oe=re.height+(q.padding??0),he=Math.max(5,.1*oe),{cssStyles:de}=q,pe=[..._a(se/2,-oe/2,he,30,-90,0),{x:-se/2-he,y:he},..._a(se/2+2*he,-he,he,20,-180,-270),..._a(se/2+2*he,he,he,20,-90,-180),{x:-se/2-he,y:-oe/2},..._a(se/2,oe/2,he,20,0,90)],ge=[..._a(-se/2+he+he/2,-oe/2,he,20,-90,-180),{x:se/2-he/2,y:he},..._a(-se/2-he/2,-he,he,20,0,90),..._a(-se/2-he/2,he,he,20,-90,0),{x:se/2-he/2,y:-he},..._a(-se/2+he+he/2,oe/2,he,30,-180,-270)],me=[{x:se/2,y:-oe/2-he},{x:-se/2,y:-oe/2-he},..._a(se/2,-oe/2,he,20,-90,0),{x:-se/2-he,y:-he},..._a(se/2+2*he,-he,he,20,-180,-270),..._a(se/2+2*he,he,he,20,-90,-180),{x:-se/2-he,y:oe/2},..._a(se/2,oe/2,he,20,0,90),{x:-se/2,y:oe/2+he},{x:se/2-he-he/2,y:oe/2+he},..._a(-se/2+he+he/2,-oe/2,he,20,-90,-180),{x:se/2-he/2,y:he},..._a(-se/2-he/2,-he,he,20,0,90),..._a(-se/2-he/2,he,he,20,-90,0),{x:se/2-he/2,y:-he},..._a(-se/2+he+he/2,oe/2,he,30,-180,-270)],ve=cP.svg(Z),be=BO(q,{fill:"none"});"handDrawn"!==q.look&&(be.roughness=0,be.fillStyle="solid");let we=Wt(pe).replace("Z",""),Te=ve.path(we,be),_e=Wt(ge).replace("Z",""),Ee=ve.path(_e,be),Ce=Wt(me),Se=ve.path(Ce,{...be}),Ae=Z.insert("g",":first-child");return Ae.insert(()=>Se,":first-child").attr("stroke-opacity",0),Ae.insert(()=>Te,":first-child"),Ae.insert(()=>Ee,":first-child"),Ae.attr("class","text"),de&&"handDrawn"!==q.look&&Ae.selectAll("path").attr("style",de),V&&"handDrawn"!==q.look&&Ae.selectAll("path").attr("style",V),Ae.attr("transform",`translate(${he-he/4}, 0)`),ae.attr("transform",`translate(${-se/2+(q.padding??0)/2-(re.x-(re.left??0))},${-oe/2+(q.padding??0)/2-(re.y-(re.top??0))})`),yO(q,Ae),q.intersect=function(c){return MO.polygon(q,me,c)},Z}var bP=M(()=>{xO(),zO(),GO(),hP(),o(_a,"generateCirclePoints"),o(iK,"curlyBraces")});async function sK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=Math.max(80,1.25*(re.width+2*(q.padding??0)),q?.width??0),se=Math.max(20,re.height+2*(q.padding??0),q?.height??0),oe=se/2,{cssStyles:he}=q,de=cP.svg(Z),pe=BO(q,{});"handDrawn"!==q.look&&(pe.roughness=0,pe.fillStyle="solid");let ge=ae-oe,me=se/4,ve=[{x:ge,y:0},{x:me,y:0},{x:0,y:se/2},{x:me,y:se},{x:ge,y:se},...k5(-ge,-se/2,oe,50,270,90)],be=Wt(ve),we=de.path(be,pe),Te=Z.insert(()=>we,":first-child");return Te.attr("class","basic label-container"),he&&"handDrawn"!==q.look&&Te.selectChildren("path").attr("style",he),V&&"handDrawn"!==q.look&&Te.selectChildren("path").attr("style",V),Te.attr("transform",`translate(${-ae/2}, ${-se/2})`),yO(q,Te),q.intersect=function(c){return MO.polygon(q,ve,c)},Z}var wP=M(()=>{xO(),zO(),GO(),hP(),o(sK,"curvedTrapezoid")});async function lK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae,label:se}=await gO(c,q,vO(q)),oe=Math.max(ae.width+q.padding,q.width??0),he=oe/2,de=he/(2.5+oe/50),pe=Math.max(ae.height+de+q.padding,q.height??0),{cssStyles:ge}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=TP(0,0,oe,pe,he,de),V=_P(0,de,oe,pe,he,de),ae=c.path(Y,BO(q,{})),se=c.path(V,BO(q,{fill:"none"}));Z=re.insert(()=>se,":first-child"),Z=re.insert(()=>ae,":first-child"),Z.attr("class","basic label-container"),ge&&Z.attr("style",ge)}else{let c=kP(0,0,oe,pe,he,de);Z=re.insert("path",":first-child").attr("d",c).attr("class","basic label-container").attr("style",Fn(ge)).attr("style",V)}return Z.attr("label-offset-y",de),Z.attr("transform",`translate(${-oe/2}, ${-(pe/2+de)})`),yO(q,Z),se.attr("transform",`translate(${-ae.width/2-(ae.x-(ae.left??0))}, ${-ae.height/2+(q.padding??0)/1.5-(ae.y-(ae.top??0))})`),q.intersect=function(c){let Y=MO.rect(q,c),V=Y.x-(q.x??0);if(0!=he&&(Math.abs(V)<(q.width??0)/2||Math.abs(V)==(q.width??0)/2&&Math.abs(Y.y-(q.y??0))>(q.height??0)/2-de)){let Z=de*de*(1-V*V/(he*he));Z>0&&(Z=Math.sqrt(Z)),Z=de-Z,c.y-(q.y??0)>0&&(Z=-Z),Y.y+=Z}return Y},re}var kP,TP,_P,EP=M(()=>{xO(),zO(),GO(),hP(),yM(),kP=o((c,q,Y,V,Z,re)=>[`M${c},${q+re}`,`a${Z},${re} 0,0,0 ${Y},0`,`a${Z},${re} 0,0,0 ${-Y},0`,`l0,${V}`,`a${Z},${re} 0,0,0 ${Y},0`,"l0,"+-V].join(" "),"createCylinderPathD"),TP=o((c,q,Y,V,Z,re)=>[`M${c},${q+re}`,`M${c+Y},${q+re}`,`a${Z},${re} 0,0,0 ${-Y},0`,`l0,${V}`,`a${Z},${re} 0,0,0 ${Y},0`,"l0,"+-V].join(" "),"createOuterCylinderPathD"),_P=o((c,q,Y,V,Z,re)=>[`M${c-Y/2},${-V/2}`,`a${Z},${re} 0,0,0 ${Y},0`].join(" "),"createInnerCylinderPathD"),o(lK,"cylinder")});async function uK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=re.width+q.padding,oe=re.height+q.padding,he=.2*oe,de=-se/2,pe=-oe/2-he/2,{cssStyles:ge}=q,me=cP.svg(Z),ve=BO(q,{});"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let be=[{x:de,y:pe+he},{x:-de,y:pe+he},{x:-de,y:-pe},{x:de,y:-pe},{x:de,y:pe},{x:-de,y:pe},{x:-de,y:pe+he}],we=me.polygon(be.map(c=>[c.x,c.y]),ve),Te=Z.insert(()=>we,":first-child");return Te.attr("class","basic label-container"),ge&&"handDrawn"!==q.look&&Te.selectAll("path").attr("style",ge),V&&"handDrawn"!==q.look&&Te.selectAll("path").attr("style",V),ae.attr("transform",`translate(${de+(q.padding??0)/2-(re.x-(re.left??0))}, ${pe+he+(q.padding??0)/2-(re.y-(re.top??0))})`),yO(q,Te),q.intersect=function(c){return MO.rect(q,c)},Z}var CP=M(()=>{xO(),zO(),GO(),hP(),o(uK,"dividedRectangle")});async function fK(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y;let re,{shapeSvg:ae,bbox:se,halfPadding:oe}=await gO(c,q,vO(q)),he=se.width/2+oe+5,de=se.width/2+oe,{cssStyles:pe}=q;if("handDrawn"===q.look){let c=cP.svg(ae),Y=BO(q,{roughness:.2,strokeWidth:2.5}),V=BO(q,{roughness:.2,strokeWidth:1.5}),Z=c.circle(0,0,2*he,Y),se=c.circle(0,0,2*de,V);re=ae.insert("g",":first-child"),re.attr("class",Fn(q.cssClasses)).attr("style",Fn(pe)),re.node()?.appendChild(Z),re.node()?.appendChild(se)}else{re=ae.insert("g",":first-child");let c=re.insert("circle",":first-child"),q=re.insert("circle");re.attr("class","basic label-container").attr("style",Z),c.attr("class","outer-circle").attr("style",Z).attr("r",he).attr("cx",0).attr("cy",0),q.attr("class","inner-circle").attr("style",Z).attr("r",de).attr("cx",0).attr("cy",0)}return yO(q,re),q.intersect=function(c){return V.info("DoubleCircle intersect",q,he,c),MO.circle(q,he,c)},ae}var SP=M(()=>{Ae(),xO(),zO(),GO(),hP(),yM(),o(fK,"doublecircle")});function pK(c,q,{config:{themeVariables:Y}}){let{labelStyles:Z,nodeStyles:re}=PO(q);q.label="",q.labelStyle=Z;let ae=c.insert("g").attr("class",vO(q)).attr("id",q.domId??q.id),{cssStyles:se}=q,oe=cP.svg(ae),{nodeBorder:he}=Y,de=BO(q,{fillStyle:"solid"});"handDrawn"!==q.look&&(de.roughness=0);let pe=oe.circle(0,0,14,de),ge=ae.insert(()=>pe,":first-child");return ge.selectAll("path").attr("style",`fill: ${he} !important;`),se&&se.length>0&&"handDrawn"!==q.look&&ge.selectAll("path").attr("style",se),re&&"handDrawn"!==q.look&&ge.selectAll("path").attr("style",re),yO(q,ge),q.intersect=function(c){return V.info("filledCircle intersect",q,{radius:7,point:c}),MO.circle(q,7,c)},ae}var AP=M(()=>{hP(),Ae(),zO(),GO(),xO(),o(pK,"filledCircle")});async function gK(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y;let{shapeSvg:re,bbox:ae,label:se}=await gO(c,q,vO(q)),oe=ae.width+(q.padding??0),he=oe+ae.height,de=oe+ae.height,pe=[{x:0,y:-he},{x:de,y:-he},{x:de/2,y:0}],{cssStyles:ge}=q,me=cP.svg(re),ve=BO(q,{});"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let be=Wt(pe),we=me.path(be,ve),Te=re.insert(()=>we,":first-child").attr("transform",`translate(${-he/2}, ${he/2})`);return ge&&"handDrawn"!==q.look&&Te.selectChildren("path").attr("style",ge),Z&&"handDrawn"!==q.look&&Te.selectChildren("path").attr("style",Z),q.width=oe,q.height=he,yO(q,Te),se.attr("transform",`translate(${-ae.width/2-(ae.x-(ae.left??0))}, ${-he/2+(q.padding??0)/2+(ae.y-(ae.top??0))})`),q.intersect=function(c){return V.info("Triangle intersect",q,pe,c),MO.polygon(q,pe,c)},re}var LP=M(()=>{Ae(),xO(),zO(),GO(),hP(),xO(),o(gK,"flippedTriangle")});function vK(c,q,{dir:Y,config:{state:V,themeVariables:Z}}){let{nodeStyles:re}=PO(q);q.label="";let ae=c.insert("g").attr("class",vO(q)).attr("id",q.domId??q.id),{cssStyles:se}=q,oe=Math.max(70,q?.width??0),he=Math.max(10,q?.height??0);"LR"===Y&&(oe=Math.max(10,q?.width??0),he=Math.max(70,q?.height??0));let de=-1*oe/2,pe=-1*he/2,ge=cP.svg(ae),me=BO(q,{stroke:Z.lineColor,fill:Z.lineColor});"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let ve=ge.rectangle(de,pe,oe,he,me),be=ae.insert(()=>ve,":first-child");se&&"handDrawn"!==q.look&&be.selectAll("path").attr("style",se),re&&"handDrawn"!==q.look&&be.selectAll("path").attr("style",re),yO(q,be);let we=V?.padding??0;return q.width&&q.height&&(q.width+=we/2||0,q.height+=we/2||0),q.intersect=function(c){return MO.rect(q,c)},ae}var NP=M(()=>{hP(),zO(),GO(),xO(),o(vK,"forkJoin")});async function bK(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y;let{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=Math.max(80,ae.width+2*(q.padding??0),q?.width??0),oe=Math.max(50,ae.height+2*(q.padding??0),q?.height??0),he=oe/2,{cssStyles:de}=q,pe=cP.svg(re),ge=BO(q,{});"handDrawn"!==q.look&&(ge.roughness=0,ge.fillStyle="solid");let me=[{x:-se/2,y:-oe/2},{x:se/2-he,y:-oe/2},...k5(-se/2+he,0,he,50,90,270),{x:se/2-he,y:oe/2},{x:-se/2,y:oe/2}],ve=Wt(me),be=pe.path(ve,ge),we=re.insert(()=>be,":first-child");return we.attr("class","basic label-container"),de&&"handDrawn"!==q.look&&we.selectChildren("path").attr("style",de),Z&&"handDrawn"!==q.look&&we.selectChildren("path").attr("style",Z),yO(q,we),q.intersect=function(c){return V.info("Pill intersect",q,{radius:he,point:c}),MO.polygon(q,me,c)},re}var IP=M(()=>{Ae(),xO(),zO(),GO(),hP(),o(bK,"halfRoundedRectangle")});async function TK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=ae.height+q.padding,oe=se/4,he=ae.width+2*oe+q.padding,de=[{x:oe,y:0},{x:he-oe,y:0},{x:he,y:-se/2},{x:he-oe,y:-se},{x:oe,y:-se},{x:0,y:-se/2}],{cssStyles:pe}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=MP(0,0,he,se,oe),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child").attr("transform",`translate(${-he/2}, ${se/2})`),pe&&Z.attr("style",pe)}else Z=Aa(re,he,se,de);return V&&Z.attr("style",V),q.width=he,q.height=se,yO(q,Z),q.intersect=function(c){return MO.polygon(q,de,c)},re}var MP,OP=M(()=>{xO(),zO(),GO(),hP(),pP(),MP=o((c,q,Y,V,Z)=>[`M${c+Z},${q}`,`L${c+Y-Z},${q}`,`L${c+Y},${q-V/2}`,`L${c+Y-Z},${q-V}`,`L${c+Z},${q-V}`,`L${c},${q-V/2}`,"Z"].join(" "),"createHexagonPathD"),o(TK,"hexagon")});async function EK(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.label="",q.labelStyle=Y;let{shapeSvg:re}=await gO(c,q,vO(q)),ae=Math.max(30,q?.width??0),se=Math.max(30,q?.height??0),{cssStyles:oe}=q,he=cP.svg(re),de=BO(q,{});"handDrawn"!==q.look&&(de.roughness=0,de.fillStyle="solid");let pe=[{x:0,y:0},{x:ae,y:0},{x:0,y:se},{x:ae,y:se}],ge=Wt(pe),me=he.path(ge,de),ve=re.insert(()=>me,":first-child");return ve.attr("class","basic label-container"),oe&&"handDrawn"!==q.look&&ve.selectChildren("path").attr("style",oe),Z&&"handDrawn"!==q.look&&ve.selectChildren("path").attr("style",Z),ve.attr("transform",`translate(${-ae/2}, ${-se/2})`),yO(q,ve),q.intersect=function(c){return V.info("Pill intersect",q,{points:pe}),MO.polygon(q,pe,c)},re}var BP=M(()=>{Ae(),xO(),zO(),GO(),hP(),o(EK,"hourglass")});async function CK(c,q,{config:{themeVariables:Y,flowchart:Z}}){let{labelStyles:re}=PO(q);q.labelStyle=re;let ae=q.assetHeight??48,se=q.assetWidth??48,oe=Math.max(ae,se),he=Z?.wrappingWidth;q.width=Math.max(oe,he??0);let{shapeSvg:de,bbox:pe,label:ge}=await gO(c,q,"icon-shape default"),me="t"===q.pos,ve=oe,be=oe,{nodeBorder:we}=Y,{stylesMap:Te}=DO(q),_e=-be/2,Ee=-ve/2,Ce=q.label?8:0,Se=cP.svg(de),Ae=BO(q,{stroke:"none",fill:"none"});"handDrawn"!==q.look&&(Ae.roughness=0,Ae.fillStyle="solid");let Le=Se.rectangle(_e,Ee,be,ve,Ae),Ne=Math.max(be,pe.width),Ie=ve+pe.height+Ce,Me=Se.rectangle(-Ne/2,-Ie/2,Ne,Ie,{...Ae,fill:"transparent",stroke:"none"}),Re=de.insert(()=>Le,":first-child"),Oe=de.insert(()=>Me);if(q.icon){let c=de.append("g");c.html(`<g>${await it(q.icon,{height:oe,width:oe,fallbackPrefix:""})}</g>`);let Y=c.node().getBBox(),V=Y.width,Z=Y.height,re=Y.x,ae=Y.y;c.attr("transform",`translate(${-V/2-re},${me?pe.height/2+Ce/2-Z/2-ae:-pe.height/2-Ce/2-Z/2-ae})`),c.attr("style",`color: ${Te.get("stroke")??we};`)}return ge.attr("transform",`translate(${-pe.width/2-(pe.x-(pe.left??0))},${me?-Ie/2:Ie/2-pe.height})`),Re.attr("transform",`translate(0,${me?pe.height/2+Ce/2:-pe.height/2-Ce/2})`),yO(q,Oe),q.intersect=function(c){if(V.info("iconSquare intersect",q,c),!q.label)return MO.rect(q,c);let Y=q.x??0,Z=q.y??0,re=q.height??0,ae=[];return ae=me?[{x:Y-pe.width/2,y:Z-re/2},{x:Y+pe.width/2,y:Z-re/2},{x:Y+pe.width/2,y:Z-re/2+pe.height+Ce},{x:Y+be/2,y:Z-re/2+pe.height+Ce},{x:Y+be/2,y:Z+re/2},{x:Y-be/2,y:Z+re/2},{x:Y-be/2,y:Z-re/2+pe.height+Ce},{x:Y-pe.width/2,y:Z-re/2+pe.height+Ce}]:[{x:Y-be/2,y:Z-re/2},{x:Y+be/2,y:Z-re/2},{x:Y+be/2,y:Z-re/2+ve},{x:Y+pe.width/2,y:Z-re/2+ve},{x:Y+pe.width/2/2,y:Z+re/2},{x:Y-pe.width/2,y:Z+re/2},{x:Y-pe.width/2,y:Z-re/2+ve},{x:Y-be/2,y:Z-re/2+ve}],MO.polygon(q,ae,c)},de}var FP=M(()=>{hP(),Ae(),ut(),zO(),GO(),xO(),o(CK,"icon")});async function _K(c,q,{config:{themeVariables:Y,flowchart:Z}}){let{labelStyles:re}=PO(q);q.labelStyle=re;let ae=q.assetHeight??48,se=q.assetWidth??48,oe=Math.max(ae,se),he=Z?.wrappingWidth;q.width=Math.max(oe,he??0);let{shapeSvg:de,bbox:pe,label:ge}=await gO(c,q,"icon-shape default"),me=q.label?8:0,ve="t"===q.pos,{nodeBorder:be,mainBkg:we}=Y,{stylesMap:Te}=DO(q),_e=cP.svg(de),Ee=BO(q,{});"handDrawn"!==q.look&&(Ee.roughness=0,Ee.fillStyle="solid");let Ce=Te.get("fill");Ee.stroke=Ce??we;let Se=de.append("g");q.icon&&Se.html(`<g>${await it(q.icon,{height:oe,width:oe,fallbackPrefix:""})}</g>`);let Ae=Se.node().getBBox(),Le=Ae.width,Ne=Ae.height,Ie=Ae.x,Me=Ae.y,Re=Math.max(Le,Ne)*Math.SQRT2+40,Oe=_e.circle(0,0,Re,Ee),Be=Math.max(Re,pe.width),$e=Re+pe.height+me,Ue=_e.rectangle(-Be/2,-$e/2,Be,$e,{...Ee,fill:"transparent",stroke:"none"}),qe=de.insert(()=>Oe,":first-child"),je=de.insert(()=>Ue);return Se.attr("transform",`translate(${-Le/2-Ie},${ve?pe.height/2+me/2-Ne/2-Me:-pe.height/2-me/2-Ne/2-Me})`),Se.attr("style",`color: ${Te.get("stroke")??be};`),ge.attr("transform",`translate(${-pe.width/2-(pe.x-(pe.left??0))},${ve?-$e/2:$e/2-pe.height})`),qe.attr("transform",`translate(0,${ve?pe.height/2+me/2:-pe.height/2-me/2})`),yO(q,je),q.intersect=function(c){return V.info("iconSquare intersect",q,c),MO.rect(q,c)},de}var $P,zP=M(()=>{hP(),Ae(),ut(),zO(),GO(),xO(),o(_K,"iconCircle")}),GP=M(()=>{$P=o((c,q,Y,V,Z)=>["M",c+Z,q,"H",c+Y-Z,"A",Z,Z,0,0,1,c+Y,q+Z,"V",q+V-Z,"A",Z,Z,0,0,1,c+Y-Z,q+V,"H",c+Z,"A",Z,Z,0,0,1,c,q+V-Z,"V",q+Z,"A",Z,Z,0,0,1,c+Z,q,"Z"].join(" "),"createRoundedRectPathD")});async function DK(c,q,{config:{themeVariables:Y,flowchart:Z}}){let{labelStyles:re}=PO(q);q.labelStyle=re;let ae=q.assetHeight??48,se=q.assetWidth??48,oe=Math.max(ae,se),he=Z?.wrappingWidth;q.width=Math.max(oe,he??0);let{shapeSvg:de,bbox:pe,halfPadding:ge,label:me}=await gO(c,q,"icon-shape default"),ve="t"===q.pos,be=oe+2*ge,we=oe+2*ge,{nodeBorder:Te,mainBkg:_e}=Y,{stylesMap:Ee}=DO(q),Ce=-we/2,Se=-be/2,Ae=q.label?8:0,Le=cP.svg(de),Ne=BO(q,{});"handDrawn"!==q.look&&(Ne.roughness=0,Ne.fillStyle="solid");let Ie=Ee.get("fill");Ne.stroke=Ie??_e;let Me=Le.path($P(Ce,Se,we,be,5),Ne),Re=Math.max(we,pe.width),Oe=be+pe.height+Ae,Be=Le.rectangle(-Re/2,-Oe/2,Re,Oe,{...Ne,fill:"transparent",stroke:"none"}),$e=de.insert(()=>Me,":first-child").attr("class","icon-shape2"),Ue=de.insert(()=>Be);if(q.icon){let c=de.append("g");c.html(`<g>${await it(q.icon,{height:oe,width:oe,fallbackPrefix:""})}</g>`);let Y=c.node().getBBox(),V=Y.width,Z=Y.height,re=Y.x,ae=Y.y;c.attr("transform",`translate(${-V/2-re},${ve?pe.height/2+Ae/2-Z/2-ae:-pe.height/2-Ae/2-Z/2-ae})`),c.attr("style",`color: ${Ee.get("stroke")??Te};`)}return me.attr("transform",`translate(${-pe.width/2-(pe.x-(pe.left??0))},${ve?-Oe/2:Oe/2-pe.height})`),$e.attr("transform",`translate(0,${ve?pe.height/2+Ae/2:-pe.height/2-Ae/2})`),yO(q,Ue),q.intersect=function(c){if(V.info("iconSquare intersect",q,c),!q.label)return MO.rect(q,c);let Y=q.x??0,Z=q.y??0,re=q.height??0,ae=[];return ae=ve?[{x:Y-pe.width/2,y:Z-re/2},{x:Y+pe.width/2,y:Z-re/2},{x:Y+pe.width/2,y:Z-re/2+pe.height+Ae},{x:Y+we/2,y:Z-re/2+pe.height+Ae},{x:Y+we/2,y:Z+re/2},{x:Y-we/2,y:Z+re/2},{x:Y-we/2,y:Z-re/2+pe.height+Ae},{x:Y-pe.width/2,y:Z-re/2+pe.height+Ae}]:[{x:Y-we/2,y:Z-re/2},{x:Y+we/2,y:Z-re/2},{x:Y+we/2,y:Z-re/2+be},{x:Y+pe.width/2,y:Z-re/2+be},{x:Y+pe.width/2/2,y:Z+re/2},{x:Y-pe.width/2,y:Z+re/2},{x:Y-pe.width/2,y:Z-re/2+be},{x:Y-we/2,y:Z-re/2+be}],MO.polygon(q,ae,c)},de}var UP=M(()=>{hP(),Ae(),ut(),zO(),GO(),GP(),xO(),o(DK,"iconRounded")});async function RK(c,q,{config:{themeVariables:Y,flowchart:Z}}){let{labelStyles:re}=PO(q);q.labelStyle=re;let ae=q.assetHeight??48,se=q.assetWidth??48,oe=Math.max(ae,se),he=Z?.wrappingWidth;q.width=Math.max(oe,he??0);let{shapeSvg:de,bbox:pe,halfPadding:ge,label:me}=await gO(c,q,"icon-shape default"),ve="t"===q.pos,be=oe+2*ge,we=oe+2*ge,{nodeBorder:Te,mainBkg:_e}=Y,{stylesMap:Ee}=DO(q),Ce=-we/2,Se=-be/2,Ae=q.label?8:0,Le=cP.svg(de),Ne=BO(q,{});"handDrawn"!==q.look&&(Ne.roughness=0,Ne.fillStyle="solid");let Ie=Ee.get("fill");Ne.stroke=Ie??_e;let Me=Le.path($P(Ce,Se,we,be,.1),Ne),Re=Math.max(we,pe.width),Oe=be+pe.height+Ae,Be=Le.rectangle(-Re/2,-Oe/2,Re,Oe,{...Ne,fill:"transparent",stroke:"none"}),$e=de.insert(()=>Me,":first-child"),Ue=de.insert(()=>Be);if(q.icon){let c=de.append("g");c.html(`<g>${await it(q.icon,{height:oe,width:oe,fallbackPrefix:""})}</g>`);let Y=c.node().getBBox(),V=Y.width,Z=Y.height,re=Y.x,ae=Y.y;c.attr("transform",`translate(${-V/2-re},${ve?pe.height/2+Ae/2-Z/2-ae:-pe.height/2-Ae/2-Z/2-ae})`),c.attr("style",`color: ${Ee.get("stroke")??Te};`)}return me.attr("transform",`translate(${-pe.width/2-(pe.x-(pe.left??0))},${ve?-Oe/2:Oe/2-pe.height})`),$e.attr("transform",`translate(0,${ve?pe.height/2+Ae/2:-pe.height/2-Ae/2})`),yO(q,Ue),q.intersect=function(c){if(V.info("iconSquare intersect",q,c),!q.label)return MO.rect(q,c);let Y=q.x??0,Z=q.y??0,re=q.height??0,ae=[];return ae=ve?[{x:Y-pe.width/2,y:Z-re/2},{x:Y+pe.width/2,y:Z-re/2},{x:Y+pe.width/2,y:Z-re/2+pe.height+Ae},{x:Y+we/2,y:Z-re/2+pe.height+Ae},{x:Y+we/2,y:Z+re/2},{x:Y-we/2,y:Z+re/2},{x:Y-we/2,y:Z-re/2+pe.height+Ae},{x:Y-pe.width/2,y:Z-re/2+pe.height+Ae}]:[{x:Y-we/2,y:Z-re/2},{x:Y+we/2,y:Z-re/2},{x:Y+we/2,y:Z-re/2+be},{x:Y+pe.width/2,y:Z-re/2+be},{x:Y+pe.width/2/2,y:Z+re/2},{x:Y-pe.width/2,y:Z+re/2},{x:Y-pe.width/2,y:Z-re/2+be},{x:Y-we/2,y:Z-re/2+be}],MO.polygon(q,ae,c)},de}var qP=M(()=>{hP(),Ae(),ut(),zO(),GP(),GO(),xO(),o(RK,"iconSquare")});async function IK(c,q,{config:{flowchart:Y}}){let Z=new Image;Z.src=q?.img??"",await Z.decode();let re=Number(Z.naturalWidth.toString().replace("px","")),ae=Number(Z.naturalHeight.toString().replace("px",""));q.imageAspectRatio=re/ae;let{labelStyles:se}=PO(q);q.labelStyle=se;let oe=Y?.wrappingWidth;q.defaultWidth=Y?.wrappingWidth;let he=Math.max(q.label?oe??0:0,q?.assetWidth??re),de="on"===q.constraint&&q?.assetHeight?q.assetHeight*q.imageAspectRatio:he,pe="on"===q.constraint?de/q.imageAspectRatio:q?.assetHeight??ae;q.width=Math.max(de,oe??0);let{shapeSvg:ge,bbox:me,label:ve}=await gO(c,q,"image-shape default"),be="t"===q.pos,we=-de/2,Te=-pe/2,_e=q.label?8:0,Ee=cP.svg(ge),Ce=BO(q,{});"handDrawn"!==q.look&&(Ce.roughness=0,Ce.fillStyle="solid");let Se=Ee.rectangle(we,Te,de,pe,Ce),Ae=Math.max(de,me.width),Le=pe+me.height+_e,Ne=Ee.rectangle(-Ae/2,-Le/2,Ae,Le,{...Ce,fill:"none",stroke:"none"}),Ie=ge.insert(()=>Se,":first-child"),Me=ge.insert(()=>Ne);if(q.img){let c=ge.append("image");c.attr("href",q.img),c.attr("width",de),c.attr("height",pe),c.attr("preserveAspectRatio","none"),c.attr("transform",`translate(${-de/2},${be?Le/2-pe:-Le/2})`)}return ve.attr("transform",`translate(${-me.width/2-(me.x-(me.left??0))},${be?-pe/2-me.height/2-_e/2:pe/2-me.height/2+_e/2})`),Ie.attr("transform",`translate(0,${be?me.height/2+_e/2:-me.height/2-_e/2})`),yO(q,Me),q.intersect=function(c){if(V.info("iconSquare intersect",q,c),!q.label)return MO.rect(q,c);let Y=q.x??0,Z=q.y??0,re=q.height??0,ae=[];return ae=be?[{x:Y-me.width/2,y:Z-re/2},{x:Y+me.width/2,y:Z-re/2},{x:Y+me.width/2,y:Z-re/2+me.height+_e},{x:Y+de/2,y:Z-re/2+me.height+_e},{x:Y+de/2,y:Z+re/2},{x:Y-de/2,y:Z+re/2},{x:Y-de/2,y:Z-re/2+me.height+_e},{x:Y-me.width/2,y:Z-re/2+me.height+_e}]:[{x:Y-de/2,y:Z-re/2},{x:Y+de/2,y:Z-re/2},{x:Y+de/2,y:Z-re/2+pe},{x:Y+me.width/2,y:Z-re/2+pe},{x:Y+me.width/2/2,y:Z+re/2},{x:Y-me.width/2,y:Z+re/2},{x:Y-me.width/2,y:Z-re/2+pe},{x:Y-de/2,y:Z-re/2+pe}],MO.polygon(q,ae,c)},ge}var jP=M(()=>{hP(),Ae(),zO(),GO(),xO(),o(IK,"imageSquare")});async function PK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=Math.max(ae.width+2*(q.padding??0),q?.width??0),oe=Math.max(ae.height+2*(q.padding??0),q?.height??0),he=[{x:0,y:0},{x:se,y:0},{x:se+3*oe/6,y:-oe},{x:-3*oe/6,y:-oe}],{cssStyles:de}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=Wt(he),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child").attr("transform",`translate(${-se/2}, ${oe/2})`),de&&Z.attr("style",de)}else Z=Aa(re,se,oe,he);return V&&Z.attr("style",V),q.width=se,q.height=oe,yO(q,Z),q.intersect=function(c){return MO.polygon(q,he,c)},re}var YP=M(()=>{xO(),zO(),GO(),hP(),pP(),o(PK,"inv_trapezoid")});async function Cd(c,q,Y){let{labelStyles:V,nodeStyles:Z}=PO(q);q.labelStyle=V;let re,{shapeSvg:ae,bbox:se}=await gO(c,q,vO(q)),oe=Math.max(se.width+2*Y.labelPaddingX,q?.width||0),he=Math.max(se.height+2*Y.labelPaddingY,q?.height||0),de=-oe/2,pe=-he/2,{rx:ge,ry:me}=q,{cssStyles:ve}=q;if(Y?.rx&&Y.ry&&(ge=Y.rx,me=Y.ry),"handDrawn"===q.look){let c=cP.svg(ae),Y=BO(q,{}),V=ge||me?c.path($P(de,pe,oe,he,ge||0),Y):c.rectangle(de,pe,oe,he,Y);re=ae.insert(()=>V,":first-child"),re.attr("class","basic label-container").attr("style",Fn(ve))}else re=ae.insert("rect",":first-child"),re.attr("class","basic label-container").attr("style",Z).attr("rx",Fn(ge)).attr("ry",Fn(me)).attr("x",de).attr("y",pe).attr("width",oe).attr("height",he);return yO(q,re),q.intersect=function(c){return MO.rect(q,c)},ae}var WP=M(()=>{xO(),zO(),GP(),GO(),hP(),yM(),o(Cd,"drawRect")});async function FK(c,q){let{shapeSvg:Y,bbox:V,label:Z}=await gO(c,q,"label"),re=Y.insert("rect",":first-child");return re.attr("width",.1).attr("height",.1),Y.attr("class","label edgeLabel"),Z.attr("transform",`translate(${-V.width/2-(V.x-(V.left??0))}, ${-V.height/2-(V.y-(V.top??0))})`),yO(q,re),q.intersect=function(c){return MO.rect(q,c)},Y}var HP=M(()=>{WP(),xO(),zO(),o(FK,"labelRect")});async function GK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=Math.max(ae.width+(q.padding??0),q?.width??0),oe=Math.max(ae.height+(q.padding??0),q?.height??0),he=[{x:0,y:0},{x:se+3*oe/6,y:0},{x:se,y:-oe},{x:-3*oe/6,y:-oe}],{cssStyles:de}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=Wt(he),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child").attr("transform",`translate(${-se/2}, ${oe/2})`),de&&Z.attr("style",de)}else Z=Aa(re,se,oe,he);return V&&Z.attr("style",V),q.width=se,q.height=oe,yO(q,Z),q.intersect=function(c){return MO.polygon(q,he,c)},re}var VP=M(()=>{xO(),zO(),GO(),hP(),pP(),o(GK,"lean_left")});async function VK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=Math.max(ae.width+(q.padding??0),q?.width??0),oe=Math.max(ae.height+(q.padding??0),q?.height??0),he=[{x:-3*oe/6,y:0},{x:se,y:0},{x:se+3*oe/6,y:-oe},{x:0,y:-oe}],{cssStyles:de}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=Wt(he),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child").attr("transform",`translate(${-se/2}, ${oe/2})`),de&&Z.attr("style",de)}else Z=Aa(re,se,oe,he);return V&&Z.attr("style",V),q.width=se,q.height=oe,yO(q,Z),q.intersect=function(c){return MO.polygon(q,he,c)},re}var XP=M(()=>{xO(),zO(),GO(),hP(),pP(),o(VK,"lean_right")});function HK(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.label="",q.labelStyle=Y;let re=c.insert("g").attr("class",vO(q)).attr("id",q.domId??q.id),{cssStyles:ae}=q,se=Math.max(35,q?.width??0),oe=Math.max(35,q?.height??0),he=[{x:se,y:0},{x:0,y:oe+3.5},{x:se-14,y:oe+3.5},{x:0,y:2*oe},{x:se,y:oe-3.5},{x:14,y:oe-3.5}],de=cP.svg(re),pe=BO(q,{});"handDrawn"!==q.look&&(pe.roughness=0,pe.fillStyle="solid");let ge=Wt(he),me=de.path(ge,pe),ve=re.insert(()=>me,":first-child");return ae&&"handDrawn"!==q.look&&ve.selectAll("path").attr("style",ae),Z&&"handDrawn"!==q.look&&ve.selectAll("path").attr("style",Z),ve.attr("transform",`translate(-${se/2},${-oe})`),yO(q,ve),q.intersect=function(c){return V.info("lightningBolt intersect",q,c),MO.polygon(q,he,c)},re}var KP=M(()=>{Ae(),xO(),GO(),hP(),zO(),xO(),o(HK,"lightningBolt")});async function YK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae,label:se}=await gO(c,q,vO(q)),oe=Math.max(ae.width+(q.padding??0),q.width??0),he=oe/2,de=he/(2.5+oe/50),pe=Math.max(ae.height+de+(q.padding??0),q.height??0),ge=.1*pe,{cssStyles:me}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=ZP(0,0,oe,pe,he,de,ge),V=tB(0,de,oe,pe,he,de),ae=BO(q,{}),se=c.path(Y,ae),ve=c.path(V,ae);re.insert(()=>ve,":first-child").attr("class","line"),Z=re.insert(()=>se,":first-child"),Z.attr("class","basic label-container"),me&&Z.attr("style",me)}else{let c=QP(0,0,oe,pe,he,de,ge);Z=re.insert("path",":first-child").attr("d",c).attr("class","basic label-container").attr("style",Fn(me)).attr("style",V)}return Z.attr("label-offset-y",de),Z.attr("transform",`translate(${-oe/2}, ${-(pe/2+de)})`),yO(q,Z),se.attr("transform",`translate(${-ae.width/2-(ae.x-(ae.left??0))}, ${-ae.height/2+de-(ae.y-(ae.top??0))})`),q.intersect=function(c){let Y=MO.rect(q,c),V=Y.x-(q.x??0);if(0!=he&&(Math.abs(V)<(q.width??0)/2||Math.abs(V)==(q.width??0)/2&&Math.abs(Y.y-(q.y??0))>(q.height??0)/2-de)){let Z=de*de*(1-V*V/(he*he));Z>0&&(Z=Math.sqrt(Z)),Z=de-Z,c.y-(q.y??0)>0&&(Z=-Z),Y.y+=Z}return Y},re}var QP,ZP,tB,rB=M(()=>{xO(),zO(),GO(),hP(),yM(),QP=o((c,q,Y,V,Z,re,ae)=>[`M${c},${q+re}`,`a${Z},${re} 0,0,0 ${Y},0`,`a${Z},${re} 0,0,0 ${-Y},0`,`l0,${V}`,`a${Z},${re} 0,0,0 ${Y},0`,"l0,"+-V,`M${c},${q+re+ae}`,`a${Z},${re} 0,0,0 ${Y},0`].join(" "),"createCylinderPathD"),ZP=o((c,q,Y,V,Z,re,ae)=>[`M${c},${q+re}`,`M${c+Y},${q+re}`,`a${Z},${re} 0,0,0 ${-Y},0`,`l0,${V}`,`a${Z},${re} 0,0,0 ${Y},0`,"l0,"+-V,`M${c},${q+re+ae}`,`a${Z},${re} 0,0,0 ${Y},0`].join(" "),"createOuterCylinderPathD"),tB=o((c,q,Y,V,Z,re)=>[`M${c-Y/2},${-V/2}`,`a${Z},${re} 0,0,0 ${Y},0`].join(" "),"createInnerCylinderPathD"),o(YK,"linedCylinder")});async function XK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=oe/4,de=oe+he,{cssStyles:pe}=q,ge=cP.svg(Z),me=BO(q,{});"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let ve=[{x:-se/2-se/2*.1,y:-de/2},{x:-se/2-se/2*.1,y:de/2},...zo(-se/2-se/2*.1,de/2,se/2+se/2*.1,de/2,he,.8),{x:se/2+se/2*.1,y:-de/2},{x:-se/2-se/2*.1,y:-de/2},{x:-se/2,y:-de/2},{x:-se/2,y:de/2*1.1},{x:-se/2,y:-de/2}],be=ge.polygon(ve.map(c=>[c.x,c.y]),me),we=Z.insert(()=>be,":first-child");return we.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&we.selectAll("path").attr("style",pe),V&&"handDrawn"!==q.look&&we.selectAll("path").attr("style",V),we.attr("transform",`translate(0,${-he/2})`),ae.attr("transform",`translate(${-se/2+(q.padding??0)+se/2*.1/2-(re.x-(re.left??0))},${-oe/2+(q.padding??0)-he/2-(re.y-(re.top??0))})`),yO(q,we),q.intersect=function(c){return MO.polygon(q,ve,c)},Z}var nB=M(()=>{xO(),zO(),hP(),GO(),o(XK,"linedWaveEdgedRect")});async function KK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=-se/2,de=-oe/2,{cssStyles:pe}=q,ge=cP.svg(Z),me=BO(q,{}),ve=[{x:he-5,y:de+5},{x:he-5,y:de+oe+5},{x:he+se-5,y:de+oe+5},{x:he+se-5,y:de+oe},{x:he+se,y:de+oe},{x:he+se,y:de+oe-5},{x:he+se+5,y:de+oe-5},{x:he+se+5,y:de-5},{x:he+5,y:de-5},{x:he+5,y:de},{x:he,y:de},{x:he,y:de+5}],be=[{x:he,y:de+5},{x:he+se-5,y:de+5},{x:he+se-5,y:de+oe},{x:he+se,y:de+oe},{x:he+se,y:de},{x:he,y:de}];"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let we=Wt(ve),Te=ge.path(we,me),_e=Wt(be),Ee=ge.path(_e,{...me,fill:"none"}),Ce=Z.insert(()=>Ee,":first-child");return Ce.insert(()=>Te,":first-child"),Ce.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&Ce.selectAll("path").attr("style",pe),V&&"handDrawn"!==q.look&&Ce.selectAll("path").attr("style",V),ae.attr("transform",`translate(${-re.width/2-5-(re.x-(re.left??0))}, ${-re.height/2+5-(re.y-(re.top??0))})`),yO(q,Ce),q.intersect=function(c){return MO.polygon(q,ve,c)},Z}var iB=M(()=>{xO(),GO(),hP(),zO(),o(KK,"multiRect")});async function ZK(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=oe/4,de=oe+he,pe=-se/2,ge=-de/2,{cssStyles:me}=q,ve=zo(pe-5,ge+de+5,pe+se-5,ge+de+5,he,.8),be=ve?.[ve.length-1],we=[{x:pe-5,y:ge+5},{x:pe-5,y:ge+de+5},...ve,{x:pe+se-5,y:be.y-5},{x:pe+se,y:be.y-5},{x:pe+se,y:be.y-10},{x:pe+se+5,y:be.y-10},{x:pe+se+5,y:ge-5},{x:pe+5,y:ge-5},{x:pe+5,y:ge},{x:pe,y:ge},{x:pe,y:ge+5}],Te=[{x:pe,y:ge+5},{x:pe+se-5,y:ge+5},{x:pe+se-5,y:be.y-5},{x:pe+se,y:be.y-5},{x:pe+se,y:ge},{x:pe,y:ge}],_e=cP.svg(Z),Ee=BO(q,{});"handDrawn"!==q.look&&(Ee.roughness=0,Ee.fillStyle="solid");let Ce=Wt(we),Se=_e.path(Ce,Ee),Ae=Wt(Te),Le=_e.path(Ae,Ee),Ne=Z.insert(()=>Se,":first-child");return Ne.insert(()=>Le),Ne.attr("class","basic label-container"),me&&"handDrawn"!==q.look&&Ne.selectAll("path").attr("style",me),V&&"handDrawn"!==q.look&&Ne.selectAll("path").attr("style",V),Ne.attr("transform",`translate(0,${-he/2})`),ae.attr("transform",`translate(${-re.width/2-5-(re.x-(re.left??0))}, ${-re.height/2+5-he/2-(re.y-(re.top??0))})`),yO(q,Ne),q.intersect=function(c){return MO.polygon(q,we,c)},Z}var aB=M(()=>{xO(),zO(),hP(),GO(),o(ZK,"multiWaveEdgedRectangle")});async function eQ(c,q,{config:{themeVariables:Y}}){let{labelStyles:V,nodeStyles:Z}=PO(q);q.labelStyle=V,q.useHtmlLabels||!1!==bn().flowchart?.htmlLabels||(q.centerLabel=!0);let{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=Math.max(ae.width+2*(q.padding??0),q?.width??0),oe=Math.max(ae.height+2*(q.padding??0),q?.height??0),he=-se/2,de=-oe/2,{cssStyles:pe}=q,ge=cP.svg(re),me=BO(q,{fill:Y.noteBkgColor,stroke:Y.noteBorderColor});"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let ve=ge.rectangle(he,de,se,oe,me),be=re.insert(()=>ve,":first-child");return be.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&be.selectAll("path").attr("style",pe),Z&&"handDrawn"!==q.look&&be.selectAll("path").attr("style",Z),yO(q,be),q.intersect=function(c){return MO.rect(q,c)},re}var sB=M(()=>{hP(),zO(),GO(),xO(),ki(),o(eQ,"note")});async function rQ(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y;let re,{shapeSvg:ae,bbox:se}=await gO(c,q,vO(q)),oe=se.width+q.padding+(se.height+q.padding),he=[{x:oe/2,y:0},{x:oe,y:-oe/2},{x:oe/2,y:-oe},{x:0,y:-oe/2}],{cssStyles:de}=q;if("handDrawn"===q.look){let c=cP.svg(ae),Y=BO(q,{}),V=oB(0,0,oe),Z=c.path(V,Y);re=ae.insert(()=>Z,":first-child").attr("transform",`translate(${-oe/2}, ${oe/2})`),de&&re.attr("style",de)}else re=Aa(ae,oe,oe,he);return Z&&re.attr("style",Z),yO(q,re),q.intersect=function(c){return V.debug("APA12 Intersect called SPLIT\npoint:",c,"\nnode:\n",q,"\nres:",MO.polygon(q,he,c)),MO.polygon(q,he,c)},ae}var oB,lB=M(()=>{Ae(),xO(),zO(),GO(),hP(),pP(),oB=o((c,q,Y)=>[`M${c+Y/2},${q}`,`L${c+Y},${q-Y/2}`,`L${c+Y/2},${q-Y}`,`L${c},${q-Y/2}`,"Z"].join(" "),"createDecisionBoxPathD"),o(rQ,"question")});async function iQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=-Math.max(re.width+(q.padding??0),q?.width??0)/2,oe=-Math.max(re.height+(q.padding??0),q?.height??0)/2,he=oe/2,de=[{x:se+he,y:oe},{x:se,y:0},{x:se+he,y:-oe},{x:-se,y:-oe},{x:-se,y:oe}],{cssStyles:pe}=q,ge=cP.svg(Z),me=BO(q,{});"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let ve=Wt(de),be=ge.path(ve,me),we=Z.insert(()=>be,":first-child");return we.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&we.selectAll("path").attr("style",pe),V&&"handDrawn"!==q.look&&we.selectAll("path").attr("style",V),we.attr("transform",`translate(${-he/2},0)`),ae.attr("transform",`translate(${-he/2-re.width/2-(re.x-(re.left??0))}, ${-re.height/2-(re.y-(re.top??0))})`),yO(q,we),q.intersect=function(c){return MO.polygon(q,de,c)},Z}var cB=M(()=>{xO(),zO(),GO(),hP(),o(iQ,"rect_left_inv_arrow")});function xAe(c,q){q&&c.attr("style",q)}async function bAe(c){let q=ze(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),Y=q.append("xhtml:div"),V=c.label;c.label&&ip(c.label)&&(V=await sp(c.label.replace(op.lineBreakRegex,"\n"),Xp()));let Z=c.isNode?"nodeLabel":"edgeLabel";return Y.html('<span class="'+Z+'" '+(c.labelStyle?'style="'+c.labelStyle+'"':"")+">"+V+"</span>"),xAe(Y,c.labelStyle),Y.style("display","inline-block"),Y.style("padding-right","1px"),Y.style("white-space","nowrap"),Y.attr("xmlns","http://www.w3.org/1999/xhtml"),q.node()}var uB,dB,gB=M(()=>{U_(),Ae(),hf(),bp(),yM(),o(xAe,"applyStyle"),o(bAe,"addHtmlLabel"),uB=o(async(c,q,Y,Z)=>{let re=c||"";if("object"==typeof re&&(re=re[0]),zd(Xp().flowchart.htmlLabels)){re=re.replace(/\\n|\n/g,"<br />"),V.info("vertexText"+re);let c={isNode:Z,label:dM(re).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:q&&q.replace("fill:","color:")};return await bAe(c)}{let c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("style",q.replace("color:","fill:"));let V=[];V="string"==typeof re?re.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(re)?re:[];for(let q of V){let V=document.createElementNS("http://www.w3.org/2000/svg","tspan");V.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),V.setAttribute("dy","1em"),V.setAttribute("x","0"),Y?V.setAttribute("class","title-row"):V.setAttribute("class","row"),V.textContent=q.trim(),c.appendChild(V)}return c}},"createLabel"),dB=uB});async function sQ(c,q){let Y,{labelStyles:Z,nodeStyles:re}=PO(q);q.labelStyle=Z,Y=q.cssClasses?"node "+q.cssClasses:"node default";let ae=c.insert("g").attr("class",Y).attr("id",q.domId||q.id),se=ae.insert("g"),oe=ae.insert("g").attr("class","label").attr("style",re),he=q.description,de=q.label,pe=oe.node().appendChild(await dB(de,q.labelStyle,!0,!0)),ge={width:0,height:0};if(zd(Xp()?.flowchart?.htmlLabels)){let c=pe.children[0],q=ze(pe);ge=c.getBoundingClientRect(),q.attr("width",ge.width),q.attr("height",ge.height)}V.info("Text 2",he);let me=he||[],ve=pe.getBBox(),be=oe.node().appendChild(await dB(me.join?me.join("<br/>"):me,q.labelStyle,!0,!0)),we=be.children[0],Te=ze(be);ge=we.getBoundingClientRect(),Te.attr("width",ge.width),Te.attr("height",ge.height);let _e=(q.padding||0)/2;ze(be).attr("transform","translate( "+(ge.width>ve.width?0:(ve.width-ge.width)/2)+", "+(ve.height+_e+5)+")"),ze(pe).attr("transform","translate( "+(ge.width<ve.width?0:-(ve.width-ge.width)/2)+", 0)"),ge=oe.node().getBBox(),oe.attr("transform","translate("+-ge.width/2+", "+(-ge.height/2-_e+3)+")");let Ee,Ce,Se=ge.width+(q.padding||0),Ae=ge.height+(q.padding||0),Le=-ge.width/2-_e,Ne=-ge.height/2-_e;if("handDrawn"===q.look){let c=cP.svg(ae),Y=BO(q,{}),Z=c.path($P(Le,Ne,Se,Ae,q.rx||0),Y),re=c.line(-ge.width/2-_e,-ge.height/2-_e+ve.height+_e,ge.width/2+_e,-ge.height/2-_e+ve.height+_e,Y);Ce=ae.insert(()=>(V.debug("Rough node insert CXC",Z),re),":first-child"),Ee=ae.insert(()=>(V.debug("Rough node insert CXC",Z),Z),":first-child")}else Ee=se.insert("rect",":first-child"),Ce=se.insert("line"),Ee.attr("class","outer title-state").attr("style",re).attr("x",-ge.width/2-_e).attr("y",-ge.height/2-_e).attr("width",ge.width+(q.padding||0)).attr("height",ge.height+(q.padding||0)),Ce.attr("class","divider").attr("x1",-ge.width/2-_e).attr("x2",ge.width/2+_e).attr("y1",-ge.height/2-_e+ve.height+_e).attr("y2",-ge.height/2-_e+ve.height+_e);return yO(q,Ee),q.intersect=function(c){return MO.rect(q,c)},ae}var fB=M(()=>{U_(),bp(),xO(),gB(),zO(),GO(),hP(),hf(),GP(),Ae(),o(sQ,"rectWithTitle")});async function lQ(c,q){return Cd(c,q,{rx:5,ry:5,classes:"",labelPaddingX:1*(q?.padding||0),labelPaddingY:1*(q?.padding||0)})}var yB=M(()=>{WP(),o(lQ,"roundedRect")});async function uQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=q?.padding??0,oe=Math.max(re.width+2*(q.padding??0),q?.width??0),he=Math.max(re.height+2*(q.padding??0),q?.height??0),de=-re.width/2-se,pe=-re.height/2-se,{cssStyles:ge}=q,me=cP.svg(Z),ve=BO(q,{});"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let be=[{x:de,y:pe},{x:de+oe+8,y:pe},{x:de+oe+8,y:pe+he},{x:de-8,y:pe+he},{x:de-8,y:pe},{x:de,y:pe},{x:de,y:pe+he}],we=me.polygon(be.map(c=>[c.x,c.y]),ve),Te=Z.insert(()=>we,":first-child");return Te.attr("class","basic label-container").attr("style",Fn(ge)),V&&"handDrawn"!==q.look&&Te.selectAll("path").attr("style",V),ge&&"handDrawn"!==q.look&&Te.selectAll("path").attr("style",V),ae.attr("transform",`translate(${-oe/2+4+(q.padding??0)-(re.x-(re.left??0))},${-he/2+(q.padding??0)-(re.y-(re.top??0))})`),yO(q,Te),q.intersect=function(c){return MO.rect(q,c)},Z}var xB=M(()=>{xO(),zO(),GO(),hP(),yM(),o(uQ,"shadedProcess")});async function fQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=-se/2,de=-oe/2,{cssStyles:pe}=q,ge=cP.svg(Z),me=BO(q,{});"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let ve=[{x:he,y:de},{x:he,y:de+oe},{x:he+se,y:de+oe},{x:he+se,y:de-oe/2}],be=Wt(ve),we=ge.path(be,me),Te=Z.insert(()=>we,":first-child");return Te.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&Te.selectChildren("path").attr("style",pe),V&&"handDrawn"!==q.look&&Te.selectChildren("path").attr("style",V),Te.attr("transform",`translate(0, ${oe/4})`),ae.attr("transform",`translate(${-se/2+(q.padding??0)-(re.x-(re.left??0))}, ${-oe/4+(q.padding??0)-(re.y-(re.top??0))})`),yO(q,Te),q.intersect=function(c){return MO.polygon(q,ve,c)},Z}var wB=M(()=>{xO(),zO(),GO(),hP(),o(fQ,"slopedRect")});async function pQ(c,q){return Cd(c,q,{rx:0,ry:0,classes:"",labelPaddingX:2*(q?.padding||0),labelPaddingY:1*(q?.padding||0)})}var kB=M(()=>{WP(),o(pQ,"squareRect")});async function gQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=ae.height+q.padding,oe=ae.width+se/4+q.padding,{cssStyles:he}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=$P(-oe/2,-se/2,oe,se,se/2),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child"),Z.attr("class","basic label-container").attr("style",Fn(he))}else Z=re.insert("rect",":first-child"),Z.attr("class","basic label-container").attr("style",V).attr("rx",se/2).attr("ry",se/2).attr("x",-oe/2).attr("y",-se/2).attr("width",oe).attr("height",se);return yO(q,Z),q.intersect=function(c){return MO.rect(q,c)},re}var TB=M(()=>{xO(),zO(),GO(),hP(),GP(),yM(),o(gQ,"stadium")});async function vQ(c,q){return Cd(c,q,{rx:5,ry:5,classes:"flowchart-node"})}var _B=M(()=>{WP(),o(vQ,"state")});function bQ(c,q,{config:{themeVariables:Y}}){let{labelStyles:V,nodeStyles:Z}=PO(q);q.labelStyle=V;let{cssStyles:re}=q,{lineColor:ae,stateBorder:se,nodeBorder:oe}=Y,he=c.insert("g").attr("class","node default").attr("id",q.domId||q.id),de=cP.svg(he),pe=BO(q,{});"handDrawn"!==q.look&&(pe.roughness=0,pe.fillStyle="solid");let ge=de.circle(0,0,14,{...pe,stroke:ae,strokeWidth:2}),me=se??oe,ve=de.circle(0,0,5,{...pe,fill:me,stroke:me,strokeWidth:2,fillStyle:"solid"}),be=he.insert(()=>ge,":first-child");return be.insert(()=>ve),re&&be.selectAll("path").attr("style",re),Z&&be.selectAll("path").attr("style",Z),yO(q,be),q.intersect=function(c){return MO.circle(q,7,c)},he}var EB=M(()=>{hP(),zO(),GO(),xO(),o(bQ,"stateEnd")});function TQ(c,q,{config:{themeVariables:Y}}){let V,{lineColor:Z}=Y,re=c.insert("g").attr("class","node default").attr("id",q.domId||q.id);if("handDrawn"===q.look){let c=cP.svg(re).circle(0,0,14,RO(Z));V=re.insert(()=>c),V.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else V=re.insert("circle",":first-child"),V.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return yO(q,V),q.intersect=function(c){return MO.circle(q,7,c)},re}var CB=M(()=>{hP(),zO(),GO(),xO(),o(TQ,"stateStart")});async function EQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=(q?.padding||0)/2,se=re.width+q.padding,oe=re.height+q.padding,he=-re.width/2-ae,de=-re.height/2-ae,pe=[{x:0,y:0},{x:se,y:0},{x:se,y:-oe},{x:0,y:-oe},{x:0,y:0},{x:-8,y:0},{x:se+8,y:0},{x:se+8,y:-oe},{x:-8,y:-oe},{x:-8,y:0}];if("handDrawn"===q.look){let c=cP.svg(Z),Y=BO(q,{}),V=c.rectangle(he-8,de,se+16,oe,Y),re=c.line(he,de,he,de+oe,Y),ae=c.line(he+se,de,he+se,de+oe,Y);Z.insert(()=>re,":first-child"),Z.insert(()=>ae,":first-child");let pe=Z.insert(()=>V,":first-child"),{cssStyles:ge}=q;pe.attr("class","basic label-container").attr("style",Fn(ge)),yO(q,pe)}else{let c=Aa(Z,se,oe,pe);V&&c.attr("style",V),yO(q,c)}return q.intersect=function(c){return MO.polygon(q,pe,c)},Z}var SB=M(()=>{xO(),zO(),GO(),hP(),pP(),yM(),o(EQ,"subroutine")});async function CQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=Math.max(re.width+2*(q.padding??0),q?.width??0),se=Math.max(re.height+2*(q.padding??0),q?.height??0),oe=-ae/2,he=-se/2,de=.2*se,pe=.2*se,{cssStyles:ge}=q,me=cP.svg(Z),ve=BO(q,{}),be=[{x:oe-de/2,y:he},{x:oe+ae+de/2,y:he},{x:oe+ae+de/2,y:he+se},{x:oe-de/2,y:he+se}],we=[{x:oe+ae-de/2,y:he+se},{x:oe+ae+de/2,y:he+se},{x:oe+ae+de/2,y:he+se-pe}];"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let Te=Wt(be),_e=me.path(Te,ve),Ee=Wt(we),Ce=me.path(Ee,{...ve,fillStyle:"solid"}),Se=Z.insert(()=>Ce,":first-child");return Se.insert(()=>_e,":first-child"),Se.attr("class","basic label-container"),ge&&"handDrawn"!==q.look&&Se.selectAll("path").attr("style",ge),V&&"handDrawn"!==q.look&&Se.selectAll("path").attr("style",V),yO(q,Se),q.intersect=function(c){return MO.polygon(q,be,c)},Z}var AB=M(()=>{xO(),GO(),hP(),zO(),o(CQ,"taggedRect")});async function _Q(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=oe/4,de=.2*se,pe=.2*oe,ge=oe+he,{cssStyles:me}=q,ve=cP.svg(Z),be=BO(q,{});"handDrawn"!==q.look&&(be.roughness=0,be.fillStyle="solid");let we=[{x:-se/2-se/2*.1,y:ge/2},...zo(-se/2-se/2*.1,ge/2,se/2+se/2*.1,ge/2,he,.8),{x:se/2+se/2*.1,y:-ge/2},{x:-se/2-se/2*.1,y:-ge/2}],Te=-se/2+se/2*.1,_e=-ge/2-.4*pe,Ee=[{x:Te+se-de,y:1.4*(_e+oe)},{x:Te+se,y:_e+oe-pe},{x:Te+se,y:.9*(_e+oe)},...zo(Te+se,1.3*(_e+oe),Te+se-de,1.5*(_e+oe),.03*-oe,.5)],Ce=Wt(we),Se=ve.path(Ce,be),Ae=Wt(Ee),Le=ve.path(Ae,{...be,fillStyle:"solid"}),Ne=Z.insert(()=>Le,":first-child");return Ne.insert(()=>Se,":first-child"),Ne.attr("class","basic label-container"),me&&"handDrawn"!==q.look&&Ne.selectAll("path").attr("style",me),V&&"handDrawn"!==q.look&&Ne.selectAll("path").attr("style",V),Ne.attr("transform",`translate(0,${-he/2})`),ae.attr("transform",`translate(${-se/2+(q.padding??0)-(re.x-(re.left??0))},${-oe/2+(q.padding??0)-he/2-(re.y-(re.top??0))})`),yO(q,Ne),q.intersect=function(c){return MO.polygon(q,we,c)},Z}var LB=M(()=>{xO(),zO(),hP(),GO(),o(_Q,"taggedWaveEdgedRectangle")});async function DQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=Math.max(re.width+q.padding,q?.width||0),se=Math.max(re.height+q.padding,q?.height||0),oe=-ae/2,he=-se/2,de=Z.insert("rect",":first-child");return de.attr("class","text").attr("style",V).attr("rx",0).attr("ry",0).attr("x",oe).attr("y",he).attr("width",ae).attr("height",se),yO(q,de),q.intersect=function(c){return MO.rect(q,c)},Z}var NB=M(()=>{xO(),zO(),GO(),o(DQ,"text")});async function RQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae,label:se,halfPadding:oe}=await gO(c,q,vO(q)),he="neo"===q.look?2*oe:oe,de=ae.height+he,pe=de/2,ge=pe/(2.5+de/50),me=ae.width+ge+he,{cssStyles:ve}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=MB(0,0,me,de,ge,pe),V=RB(0,0,me,de,ge,pe),ae=c.path(Y,BO(q,{})),se=c.path(V,BO(q,{fill:"none"}));Z=re.insert(()=>se,":first-child"),Z=re.insert(()=>ae,":first-child"),Z.attr("class","basic label-container"),ve&&Z.attr("style",ve)}else{let c=IB(0,0,me,de,ge,pe);Z=re.insert("path",":first-child").attr("d",c).attr("class","basic label-container").attr("style",Fn(ve)).attr("style",V),Z.attr("class","basic label-container"),ve&&Z.selectAll("path").attr("style",ve),V&&Z.selectAll("path").attr("style",V)}return Z.attr("label-offset-x",ge),Z.attr("transform",`translate(${-me/2}, ${de/2} )`),se.attr("transform",`translate(${-ae.width/2-ge-(ae.x-(ae.left??0))}, ${-ae.height/2-(ae.y-(ae.top??0))})`),yO(q,Z),q.intersect=function(c){let Y=MO.rect(q,c),V=Y.y-(q.y??0);if(0!=pe&&(Math.abs(V)<(q.height??0)/2||Math.abs(V)==(q.height??0)/2&&Math.abs(Y.x-(q.x??0))>(q.width??0)/2-ge)){let Z=ge*ge*(1-V*V/(pe*pe));0!=Z&&(Z=Math.sqrt(Math.abs(Z))),Z=ge-Z,c.x-(q.x??0)>0&&(Z=-Z),Y.x+=Z}return Y},re}var IB,MB,RB,DB=M(()=>{xO(),GO(),hP(),zO(),yM(),IB=o((c,q,Y,V,Z,re)=>`M${c},${q}\n    a${Z},${re} 0,0,1 0,${-V}\n    l${Y},0\n    a${Z},${re} 0,0,1 0,${V}\n    M${Y},${-V}\n    a${Z},${re} 0,0,0 0,${V}\n    l${-Y},0`,"createCylinderPathD"),MB=o((c,q,Y,V,Z,re)=>[`M${c},${q}`,`M${c+Y},${q}`,`a${Z},${re} 0,0,0 0,${-V}`,`l${-Y},0`,`a${Z},${re} 0,0,0 0,${V}`,`l${Y},0`].join(" "),"createOuterCylinderPathD"),RB=o((c,q,Y,V,Z,re)=>[`M${c+Y/2},${-V/2}`,`a${Z},${re} 0,0,0 0,${V}`].join(" "),"createInnerCylinderPathD"),o(RQ,"tiltedCylinder")});async function IQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let Z,{shapeSvg:re,bbox:ae}=await gO(c,q,vO(q)),se=ae.width+q.padding,oe=ae.height+q.padding,he=[{x:-3*oe/6,y:0},{x:se+3*oe/6,y:0},{x:se,y:-oe},{x:0,y:-oe}],{cssStyles:de}=q;if("handDrawn"===q.look){let c=cP.svg(re),Y=BO(q,{}),V=Wt(he),ae=c.path(V,Y);Z=re.insert(()=>ae,":first-child").attr("transform",`translate(${-se/2}, ${oe/2})`),de&&Z.attr("style",de)}else Z=Aa(re,se,oe,he);return V&&Z.attr("style",V),q.width=se,q.height=oe,yO(q,Z),q.intersect=function(c){return MO.polygon(q,he,c)},re}var OB=M(()=>{xO(),zO(),GO(),hP(),pP(),o(IQ,"trapezoid")});async function PQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=Math.max(60,re.width+2*(q.padding??0),q?.width??0),se=Math.max(20,re.height+2*(q.padding??0),q?.height??0),{cssStyles:oe}=q,he=cP.svg(Z),de=BO(q,{});"handDrawn"!==q.look&&(de.roughness=0,de.fillStyle="solid");let pe=[{x:-ae/2*.8,y:-se/2},{x:ae/2*.8,y:-se/2},{x:ae/2,y:-se/2*.6},{x:ae/2,y:se/2},{x:-ae/2,y:se/2},{x:-ae/2,y:-se/2*.6}],ge=Wt(pe),me=he.path(ge,de),ve=Z.insert(()=>me,":first-child");return ve.attr("class","basic label-container"),oe&&"handDrawn"!==q.look&&ve.selectChildren("path").attr("style",oe),V&&"handDrawn"!==q.look&&ve.selectChildren("path").attr("style",V),yO(q,ve),q.intersect=function(c){return MO.polygon(q,pe,c)},Z}var PB=M(()=>{xO(),zO(),GO(),hP(),o(PQ,"trapezoidalPentagon")});async function FQ(c,q){let{labelStyles:Y,nodeStyles:Z}=PO(q);q.labelStyle=Y;let{shapeSvg:re,bbox:ae,label:se}=await gO(c,q,vO(q)),oe=zd(Xp().flowchart?.htmlLabels),he=ae.width+(q.padding??0),de=he+ae.height,pe=he+ae.height,ge=[{x:0,y:0},{x:pe,y:0},{x:pe/2,y:-de}],{cssStyles:me}=q,ve=cP.svg(re),be=BO(q,{});"handDrawn"!==q.look&&(be.roughness=0,be.fillStyle="solid");let we=Wt(ge),Te=ve.path(we,be),_e=re.insert(()=>Te,":first-child").attr("transform",`translate(${-de/2}, ${de/2})`);return me&&"handDrawn"!==q.look&&_e.selectChildren("path").attr("style",me),Z&&"handDrawn"!==q.look&&_e.selectChildren("path").attr("style",Z),q.width=he,q.height=de,yO(q,_e),se.attr("transform",`translate(${-ae.width/2-(ae.x-(ae.left??0))}, ${de/2-(ae.height+(q.padding??0)/(oe?2:1)-(ae.y-(ae.top??0)))})`),q.intersect=function(c){return V.info("Triangle intersect",q,ge,c),MO.polygon(q,ge,c)},re}var GB=M(()=>{Ae(),xO(),zO(),GO(),hP(),xO(),bp(),hf(),o(FQ,"triangle")});async function GQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=oe/8,de=oe+he,{cssStyles:pe}=q,ge=70-se,me=ge>0?ge/2:0,ve=cP.svg(Z),be=BO(q,{});"handDrawn"!==q.look&&(be.roughness=0,be.fillStyle="solid");let we=[{x:-se/2-me,y:de/2},...zo(-se/2-me,de/2,se/2+me,de/2,he,.8),{x:se/2+me,y:-de/2},{x:-se/2-me,y:-de/2}],Te=Wt(we),_e=ve.path(Te,be),Ee=Z.insert(()=>_e,":first-child");return Ee.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",pe),V&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",V),Ee.attr("transform",`translate(0,${-he/2})`),ae.attr("transform",`translate(${-se/2+(q.padding??0)-(re.x-(re.left??0))},${-oe/2+(q.padding??0)-he-(re.y-(re.top??0))})`),yO(q,Ee),q.intersect=function(c){return MO.polygon(q,we,c)},Z}var UB=M(()=>{xO(),zO(),hP(),GO(),o(GQ,"waveEdgedRectangle")});async function VQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re}=await gO(c,q,vO(q)),ae=Math.max(re.width+2*(q.padding??0),q?.width??0),se=Math.max(re.height+2*(q.padding??0),q?.height??0),oe=ae/se,he=ae,de=se;he>de*oe?de=he/oe:he=de*oe,he=Math.max(he,100),de=Math.max(de,50);let pe=Math.min(.2*de,de/4),ge=de+2*pe,{cssStyles:me}=q,ve=cP.svg(Z),be=BO(q,{});"handDrawn"!==q.look&&(be.roughness=0,be.fillStyle="solid");let we=[{x:-he/2,y:ge/2},...zo(-he/2,ge/2,he/2,ge/2,pe,1),{x:he/2,y:-ge/2},...zo(he/2,-ge/2,-he/2,-ge/2,pe,-1)],Te=Wt(we),_e=ve.path(Te,be),Ee=Z.insert(()=>_e,":first-child");return Ee.attr("class","basic label-container"),me&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",me),V&&"handDrawn"!==q.look&&Ee.selectAll("path").attr("style",V),yO(q,Ee),q.intersect=function(c){return MO.polygon(q,we,c)},Z}var qB=M(()=>{xO(),zO(),GO(),hP(),o(VQ,"waveRectangle")});async function HQ(c,q){let{labelStyles:Y,nodeStyles:V}=PO(q);q.labelStyle=Y;let{shapeSvg:Z,bbox:re,label:ae}=await gO(c,q,vO(q)),se=Math.max(re.width+2*(q.padding??0),q?.width??0),oe=Math.max(re.height+2*(q.padding??0),q?.height??0),he=-se/2,de=-oe/2,{cssStyles:pe}=q,ge=cP.svg(Z),me=BO(q,{}),ve=[{x:he-5,y:de-5},{x:he-5,y:de+oe},{x:he+se,y:de+oe},{x:he+se,y:de-5}],be=`M${he-5},${de-5} L${he+se},${de-5} L${he+se},${de+oe} L${he-5},${de+oe} L${he-5},${de-5}\n                M${he-5},${de} L${he+se},${de}\n                M${he},${de-5} L${he},${de+oe}`;"handDrawn"!==q.look&&(me.roughness=0,me.fillStyle="solid");let we=ge.path(be,me),Te=Z.insert(()=>we,":first-child");return Te.attr("transform","translate(2.5, 2.5)"),Te.attr("class","basic label-container"),pe&&"handDrawn"!==q.look&&Te.selectAll("path").attr("style",pe),V&&"handDrawn"!==q.look&&Te.selectAll("path").attr("style",V),ae.attr("transform",`translate(${-re.width/2+2.5-(re.x-(re.left??0))}, ${-re.height/2+2.5-(re.y-(re.top??0))})`),yO(q,Te),q.intersect=function(c){return MO.polygon(q,ve,c)},Z}var jB=M(()=>{xO(),GO(),hP(),zO(),o(HQ,"windowPane")});async function YQ(c,q,Y,V,Z=Y.class.padding??12){let re=V?0:3,ae=c.insert("g").attr("class",vO(q)).attr("id",q.domId||q.id),se=null,oe=null,he=null,de=null,pe=0,ge=0,me=0;if(se=ae.insert("g").attr("class","annotation-group text"),q.annotations.length>0){let c=q.annotations[0];await O5(se,{text:`«${c}»`},0),pe=se.node().getBBox().height}oe=ae.insert("g").attr("class","label-group text"),await O5(oe,q,0,["font-weight: bolder"]);let ve=oe.node().getBBox();ge=ve.height,he=ae.insert("g").attr("class","members-group text");let be=0;for(let c of q.members){be+=await O5(he,c,be,[c.parseClassifier()])+re}me=he.node().getBBox().height,me<=0&&(me=Z/2),de=ae.insert("g").attr("class","methods-group text");let we=0;for(let c of q.methods){we+=await O5(de,c,we,[c.parseClassifier()])+re}let Te=ae.node().getBBox();if(null!==se){let c=se.node().getBBox();se.attr("transform",`translate(${-c.width/2})`)}return oe.attr("transform",`translate(${-ve.width/2}, ${pe})`),Te=ae.node().getBBox(),he.attr("transform",`translate(0, ${pe+ge+2*Z})`),Te=ae.node().getBBox(),de.attr("transform",`translate(0, ${pe+ge+(me?me+4*Z:2*Z)})`),Te=ae.node().getBBox(),{shapeSvg:ae,bbox:Te}}async function O5(c,q,Y,V=[]){let Z=c.insert("g").attr("class","label").attr("style",V.join("; ")),re=bn(),ae="useHtmlLabels"in q?q.useHtmlLabels:zd(re.htmlLabels)??!0,se="";se="text"in q?q.text:q.label,!ae&&se.startsWith("\\")&&(se=se.substring(1)),ip(se)&&(ae=!0);let oe,he=await dO(Z,Zp(dM(se)),{width:Js(se,re)+50,classes:"markdown-node-label",useHtmlLabels:ae},re),de=1;if(ae){let c=he.children[0],q=ze(he);de=c.innerHTML.split("<br>").length,c.innerHTML.includes("</math>")&&(de+=c.innerHTML.split("<mrow>").length-1);let Y=c.getElementsByTagName("img");if(Y){let c=""===se.replace(/<img[^>]*>/g,"").trim();await Promise.all([...Y].map(q=>new Promise(Y=>{function x(){if(q.style.display="flex",q.style.flexDirection="column",c){let c=re.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,Y=5*parseInt(c,10)+"px";q.style.minWidth=Y,q.style.maxWidth=Y}else q.style.width="100%";Y(q)}o(x,"setupImage"),setTimeout(()=>{q.complete&&x()}),q.addEventListener("error",x),q.addEventListener("load",x)})))}oe=c.getBoundingClientRect(),q.attr("width",oe.width),q.attr("height",oe.height)}else{V.includes("font-weight: bolder")&&ze(he).selectAll("tspan").attr("font-weight",""),de=he.children.length;let c=he.children[0];(""===he.textContent||he.textContent.includes("&gt"))&&(c.textContent=se[0]+se.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim()," "===se[1]&&(c.textContent=c.textContent[0]+" "+c.textContent.substring(1))),"undefined"===c.textContent&&(c.textContent=""),oe=he.getBBox()}return Z.attr("transform","translate(0,"+(-oe.height/(2*de)+Y)+")"),oe.height}var WB=M(()=>{U_(),ki(),xO(),yM(),hf(),pO(),bp(),o(YQ,"textHelper"),o(O5,"addText")});async function XQ(c,q){let Y=Xp(),V=Y.class.padding??12,Z=V,re=q.useHtmlLabels??zd(Y.htmlLabels)??!0,ae=q;ae.annotations=ae.annotations??[],ae.members=ae.members??[],ae.methods=ae.methods??[];let{shapeSvg:se,bbox:oe}=await YQ(c,q,Y,re,Z),{labelStyles:he,nodeStyles:de}=PO(q);q.labelStyle=he,q.cssStyles=ae.styles||"";let pe=ae.styles?.join(";")||de||"";q.cssStyles||(q.cssStyles=pe.replaceAll("!important","").split(";"));let ge=0===ae.members.length&&0===ae.methods.length&&!Y.class?.hideEmptyMembersBox,me=cP.svg(se),ve=BO(q,{});"handDrawn"!==q.look&&(ve.roughness=0,ve.fillStyle="solid");let be=oe.width,we=oe.height;0===ae.members.length&&0===ae.methods.length?we+=Z:ae.members.length>0&&0===ae.methods.length&&(we+=2*Z);let Te=-be/2,_e=-we/2,Ee=me.rectangle(Te-V,_e-V-(ge?V:0===ae.members.length&&0===ae.methods.length?-V/2:0),be+2*V,we+2*V+(ge?2*V:0===ae.members.length&&0===ae.methods.length?-V:0),ve),Ce=se.insert(()=>Ee,":first-child");Ce.attr("class","basic label-container");let Se=Ce.node().getBBox();se.selectAll(".text").each((c,q,Y)=>{let Z=ze(Y[q]),oe=Z.attr("transform"),he=0;if(oe){let c=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(oe);c&&(he=parseFloat(c[2]))}let de=he+_e+V-(ge?V:0===ae.members.length&&0===ae.methods.length?-V/2:0);re||(de-=4);let pe=Te;(Z.attr("class").includes("label-group")||Z.attr("class").includes("annotation-group"))&&(pe=-Z.node()?.getBBox().width/2||0,se.selectAll("text").each(function(c,q,Y){"middle"===window.getComputedStyle(Y[q]).textAnchor&&(pe=0)})),Z.attr("transform",`translate(${pe}, ${de})`)});let Ae=se.select(".annotation-group").node().getBBox().height-(ge?V/2:0)||0,Le=se.select(".label-group").node().getBBox().height-(ge?V/2:0)||0,Ne=se.select(".members-group").node().getBBox().height-(ge?V/2:0)||0;if(ae.members.length>0||ae.methods.length>0||ge){let c=me.line(Se.x,Ae+Le+_e+V,Se.x+Se.width,Ae+Le+_e+V,ve);se.insert(()=>c).attr("class","divider").attr("style",pe)}if(ge||ae.members.length>0||ae.methods.length>0){let c=me.line(Se.x,Ae+Le+Ne+_e+2*Z+V,Se.x+Se.width,Ae+Le+Ne+_e+V+2*Z,ve);se.insert(()=>c).attr("class","divider").attr("style",pe)}if("handDrawn"!==ae.look&&se.selectAll("path").attr("style",pe),Ce.select(":nth-child(2)").attr("style",pe),se.selectAll(".divider").select("path").attr("style",pe),q.labelStyle?se.selectAll("span").attr("style",q.labelStyle):se.selectAll("span").attr("style",pe),!re){let c=RegExp(/color\s*:\s*([^;]*)/),q=c.exec(pe);if(q){let c=q[0].replace("color","fill");se.selectAll("tspan").attr("style",c)}else if(he){let q=c.exec(he);if(q){let c=q[0].replace("color","fill");se.selectAll("tspan").attr("style",c)}}}return yO(q,Ce),q.intersect=function(c){return MO.rect(q,c)},se}var VB=M(()=>{xO(),hf(),U_(),hP(),GO(),zO(),WB(),bp(),o(XQ,"classBox")});async function KQ(c,q,{config:Y}){let{labelStyles:V,nodeStyles:Z}=PO(q);q.labelStyle=V||"";let re=q.width;q.width=(q.width??200)-10;let ae,{shapeSvg:se,bbox:oe,label:he}=await gO(c,q,vO(q)),de=q.padding||10,pe="";"ticket"in q&&q.ticket&&Y?.kanban?.ticketBaseUrl&&(pe=Y?.kanban?.ticketBaseUrl.replace("#TICKET#",q.ticket),ae=se.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",pe).attr("target","_blank"));let ge,me,ve={useHtmlLabels:q.useHtmlLabels,labelStyle:q.labelStyle||"",width:q.width,img:q.img,padding:q.padding||8,centerLabel:!1};({label:ge,bbox:me}=ae?await fO(ae,"ticket"in q&&q.ticket||"",ve):await fO(se,"ticket"in q&&q.ticket||"",ve));let{label:be,bbox:we}=await fO(se,"assigned"in q&&q.assigned||"",ve);q.width=re;let Te=q?.width||0,_e=Math.max(me.height,we.height)/2,Ee=Math.max(oe.height+20,q?.height||0)+_e,Ce=-Te/2,Se=-Ee/2;he.attr("transform","translate("+(de-Te/2)+", "+(-_e-oe.height/2)+")"),ge.attr("transform","translate("+(de-Te/2)+", "+(-_e+oe.height/2)+")"),be.attr("transform","translate("+(de+Te/2-we.width-20)+", "+(-_e+oe.height/2)+")");let Ae,{rx:Le,ry:Ne}=q,{cssStyles:Ie}=q;if("handDrawn"===q.look){let c=cP.svg(se),Y=BO(q,{}),V=Le||Ne?c.path($P(Ce,Se,Te,Ee,Le||0),Y):c.rectangle(Ce,Se,Te,Ee,Y);Ae=se.insert(()=>V,":first-child"),Ae.attr("class","basic label-container").attr("style",Ie||null)}else{Ae=se.insert("rect",":first-child"),Ae.attr("class","basic label-container __APA__").attr("style",Z).attr("rx",Le??5).attr("ry",Ne??5).attr("x",Ce).attr("y",Se).attr("width",Te).attr("height",Ee);let c="priority"in q&&q.priority;if(c){let q=se.append("line"),Y=Ce+2,V=Se+Math.floor((Le??0)/2),Z=Se+Ee-Math.floor((Le??0)/2);q.attr("x1",Y).attr("y1",V).attr("x2",Y).attr("y2",Z).attr("stroke-width","4").attr("stroke",XB(c))}}return yO(q,Ae),q.height=Ee,q.intersect=function(c){return MO.rect(q,c)},se}var XB,KB=M(()=>{xO(),zO(),GP(),GO(),hP(),XB=o(c=>{switch(c){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority"),o(KQ,"kanbanItem")});function ZQ(c){return c in eF}var QB,ZB,eF,tF=M(()=>{uP(),dP(),gP(),fP(),mP(),yP(),vP(),xP(),bP(),wP(),EP(),CP(),SP(),AP(),LP(),NP(),IP(),OP(),BP(),FP(),zP(),UP(),qP(),jP(),YP(),HP(),VP(),XP(),KP(),rB(),nB(),iB(),aB(),sB(),lB(),cB(),fB(),yB(),xB(),wB(),kB(),TB(),_B(),EB(),CB(),SB(),AB(),LB(),NB(),DB(),OB(),PB(),GB(),UB(),qB(),jB(),VB(),KB(),QB=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:pQ},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:lQ},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:gQ},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:EQ},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:lK},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Kj},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:rQ},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:TK},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:VK},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:GK},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:IQ},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:PK},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:fK},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:DQ},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Yj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:uQ},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:TQ},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:bQ},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:vK},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:EK},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:eK},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:rK},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:iK},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:HK},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:GQ},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:bK},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:RQ},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:YK},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:sK},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:uK},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:FQ},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:HQ},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:pK},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:PQ},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:gK},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:fQ},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:ZK},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:KK},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Hj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Zj},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:_Q},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:CQ},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:VQ},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:iQ},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:XK}],ZB=o(()=>{let c=[...Object.entries({state:vQ,choice:Xj,note:eQ,rectWithTitle:sQ,labelRect:FK,iconSquare:RK,iconCircle:_K,icon:CK,iconRounded:DK,imageSquare:IK,anchor:$j,kanbanItem:KQ,classBox:XQ}),...QB.flatMap(c=>[c.shortName,..."aliases"in c?c.aliases:[],..."internalAliases"in c?c.internalAliases:[]].map(q=>[q,c.handler]))];return Object.fromEntries(c)},"generateShapeMap"),eF=ZB(),o(ZQ,"isValidShape")});function pZ(c){return typeof c>"u"||null===c}function _Ae(c){return"object"==typeof c&&null!==c}function LAe(c){return Array.isArray(c)?c:pZ(c)?[]:[c]}function DAe(c,q){var Y,V,Z,re;if(q)for(Y=0,V=(re=Object.keys(q)).length;Y<V;Y+=1)c[Z=re[Y]]=q[Z];return c}function NAe(c,q){var Y,V="";for(Y=0;Y<q;Y+=1)V+=c;return V}function RAe(c){return 0===c&&Number.NEGATIVE_INFINITY===1/c}function mZ(c,q){var Y="",V=c.reason||"(unknown reason)";return c.mark?(c.mark.name&&(Y+='in "'+c.mark.name+'" '),Y+="("+(c.mark.line+1)+":"+(c.mark.column+1)+")",!q&&c.mark.snippet&&(Y+="\n\n"+c.mark.snippet),V+" "+Y):V}function bv(c,q){Error.call(this),this.name="YAMLException",this.reason=c,this.mark=q,this.message=mZ(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}function $9(c,q,Y,V,Z){var re="",ae="",se=Math.floor(Z/2)-1;return V-q>se&&(q=V-se+(re=" ... ").length),Y-V>se&&(Y=V+se-(ae=" ...").length),{str:re+c.slice(q,Y).replace(/\t/g,"→")+ae,pos:V-q+re.length}}function V9(c,q){return rF.repeat(" ",q-c.length)+c}function zAe(c,q){if(q=Object.create(q||null),!c.buffer)return null;q.maxLength||(q.maxLength=79),"number"!=typeof q.indent&&(q.indent=1),"number"!=typeof q.linesBefore&&(q.linesBefore=3),"number"!=typeof q.linesAfter&&(q.linesAfter=2);for(var Y,V=/\r?\n|\r|\0/g,Z=[0],re=[],ae=-1;Y=V.exec(c.buffer);)re.push(Y.index),Z.push(Y.index+Y[0].length),c.position<=Y.index&&ae<0&&(ae=Z.length-2);ae<0&&(ae=Z.length-1);var se,oe,he="",de=Math.min(c.line+q.linesAfter,re.length).toString().length,pe=q.maxLength-(q.indent+de+3);for(se=1;se<=q.linesBefore&&!(ae-se<0);se++)oe=$9(c.buffer,Z[ae-se],re[ae-se],c.position-(Z[ae]-Z[ae-se]),pe),he=rF.repeat(" ",q.indent)+V9((c.line-se+1).toString(),de)+" | "+oe.str+"\n"+he;for(oe=$9(c.buffer,Z[ae],re[ae],c.position,pe),he+=rF.repeat(" ",q.indent)+V9((c.line+1).toString(),de)+" | "+oe.str+"\n",he+=rF.repeat("-",q.indent+de+3+oe.pos)+"^\n",se=1;se<=q.linesAfter&&!(ae+se>=re.length);se++)oe=$9(c.buffer,Z[ae+se],re[ae+se],c.position-(Z[ae]-Z[ae+se]),pe),he+=rF.repeat(" ",q.indent)+V9((c.line+se+1).toString(),de)+" | "+oe.str+"\n";return he.replace(/\n$/,"")}function UAe(c){var q={};return null!==c&&Object.keys(c).forEach(function(Y){c[Y].forEach(function(c){q[String(c)]=Y})}),q}function HAe(c,q){if(q=q||{},Object.keys(q).forEach(function(q){if(-1===oF.indexOf(q))throw new nF('Unknown option "'+q+'" is met in definition of "'+c+'" YAML type.')}),this.options=q,this.tag=c,this.kind=q.kind||null,this.resolve=q.resolve||function(){return!0},this.construct=q.construct||function(c){return c},this.instanceOf=q.instanceOf||null,this.predicate=q.predicate||null,this.represent=q.represent||null,this.representName=q.representName||null,this.defaultStyle=q.defaultStyle||null,this.multi=q.multi||!1,this.styleAliases=UAe(q.styleAliases||null),-1===lF.indexOf(this.kind))throw new nF('Unknown kind "'+this.kind+'" is specified for "'+c+'" YAML type.')}function JQ(c,q){var Y=[];return c[q].forEach(function(c){var q=Y.length;Y.forEach(function(Y,V){Y.tag===c.tag&&Y.kind===c.kind&&Y.multi===c.multi&&(q=V)}),Y[q]=c}),Y}function WAe(){var c,q,Y={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(c){c.multi?(Y.multi[c.kind].push(c),Y.multi.fallback.push(c)):Y[c.kind][c.tag]=Y.fallback[c.tag]=c}for(o(n,"collectType"),c=0,q=arguments.length;c<q;c+=1)arguments[c].forEach(n);return Y}function H9(c){return this.extend(c)}function QAe(c){if(null===c)return!0;var q=c.length;return 1===q&&"~"===c||4===q&&("null"===c||"Null"===c||"NULL"===c)}function ZAe(){return null}function JAe(c){return null===c}function t8e(c){if(null===c)return!1;var q=c.length;return 4===q&&("true"===c||"True"===c||"TRUE"===c)||5===q&&("false"===c||"False"===c||"FALSE"===c)}function r8e(c){return"true"===c||"True"===c||"TRUE"===c}function n8e(c){return"[object Boolean]"===Object.prototype.toString.call(c)}function a8e(c){return 48<=c&&c<=57||65<=c&&c<=70||97<=c&&c<=102}function s8e(c){return 48<=c&&c<=55}function o8e(c){return 48<=c&&c<=57}function l8e(c){if(null===c)return!1;var q,Y=c.length,V=0,Z=!1;if(!Y)return!1;if(("-"===(q=c[V])||"+"===q)&&(q=c[++V]),"0"===q){if(V+1===Y)return!0;if("b"===(q=c[++V])){for(V++;V<Y;V++)if("_"!==(q=c[V])){if("0"!==q&&"1"!==q)return!1;Z=!0}return Z&&"_"!==q}if("x"===q){for(V++;V<Y;V++)if("_"!==(q=c[V])){if(!a8e(c.charCodeAt(V)))return!1;Z=!0}return Z&&"_"!==q}if("o"===q){for(V++;V<Y;V++)if("_"!==(q=c[V])){if(!s8e(c.charCodeAt(V)))return!1;Z=!0}return Z&&"_"!==q}}if("_"===q)return!1;for(;V<Y;V++)if("_"!==(q=c[V])){if(!o8e(c.charCodeAt(V)))return!1;Z=!0}return!(!Z||"_"===q)}function c8e(c){var q,Y=c,V=1;if(-1!==Y.indexOf("_")&&(Y=Y.replace(/_/g,"")),("-"===(q=Y[0])||"+"===q)&&("-"===q&&(V=-1),q=(Y=Y.slice(1))[0]),"0"===Y)return 0;if("0"===q){if("b"===Y[1])return V*parseInt(Y.slice(2),2);if("x"===Y[1])return V*parseInt(Y.slice(2),16);if("o"===Y[1])return V*parseInt(Y.slice(2),8)}return V*parseInt(Y,10)}function u8e(c){return"[object Number]"===Object.prototype.toString.call(c)&&c%1==0&&!rF.isNegativeZero(c)}function d8e(c){return!(null===c||!bF.test(c)||"_"===c[c.length-1])}function p8e(c){var q,Y;return Y="-"===(q=c.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(q[0])>=0&&(q=q.slice(1)),".inf"===q?1===Y?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===q?NaN:Y*parseFloat(q,10)}function g8e(c,q){var Y;if(isNaN(c))switch(q){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===c)switch(q){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===c)switch(q){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(rF.isNegativeZero(c))return"-0.0";return Y=c.toString(10),wF.test(Y)?Y.replace("e",".e"):Y}function y8e(c){return"[object Number]"===Object.prototype.toString.call(c)&&(c%1!=0||rF.isNegativeZero(c))}function b8e(c){return null!==c&&(null!==EF.exec(c)||null!==CF.exec(c))}function w8e(c){var q,Y,V,Z,re,ae,se,oe,he=0,de=null;if(null===(q=EF.exec(c))&&(q=CF.exec(c)),null===q)throw new Error("Date resolve error");if(Y=+q[1],V=+q[2]-1,Z=+q[3],!q[4])return new Date(Date.UTC(Y,V,Z));if(re=+q[4],ae=+q[5],se=+q[6],q[7]){for(he=q[7].slice(0,3);he.length<3;)he+="0";he=+he}return q[9]&&(de=6e4*(60*+q[10]+ +(q[11]||0)),"-"===q[9]&&(de=-de)),oe=new Date(Date.UTC(Y,V,Z,re,ae,se,he)),de&&oe.setTime(oe.getTime()-de),oe}function T8e(c){return c.toISOString()}function E8e(c){return"<<"===c||null===c}function C8e(c){if(null===c)return!1;var q,Y,V=0,Z=c.length,re=NF;for(Y=0;Y<Z;Y++)if(!((q=re.indexOf(c.charAt(Y)))>64)){if(q<0)return!1;V+=6}return V%8==0}function A8e(c){var q,Y,V=c.replace(/[\r\n=]/g,""),Z=V.length,re=NF,ae=0,se=[];for(q=0;q<Z;q++)q%4==0&&q&&(se.push(ae>>16&255),se.push(ae>>8&255),se.push(255&ae)),ae=ae<<6|re.indexOf(V.charAt(q));return 0===(Y=Z%4*6)?(se.push(ae>>16&255),se.push(ae>>8&255),se.push(255&ae)):18===Y?(se.push(ae>>10&255),se.push(ae>>2&255)):12===Y&&se.push(ae>>4&255),new Uint8Array(se)}function _8e(c){var q,Y,V="",Z=0,re=c.length,ae=NF;for(q=0;q<re;q++)q%3==0&&q&&(V+=ae[Z>>18&63],V+=ae[Z>>12&63],V+=ae[Z>>6&63],V+=ae[63&Z]),Z=(Z<<8)+c[q];return 0===(Y=re%3)?(V+=ae[Z>>18&63],V+=ae[Z>>12&63],V+=ae[Z>>6&63],V+=ae[63&Z]):2===Y?(V+=ae[Z>>10&63],V+=ae[Z>>4&63],V+=ae[Z<<2&63],V+=ae[64]):1===Y&&(V+=ae[Z>>2&63],V+=ae[Z<<4&63],V+=ae[64],V+=ae[64]),V}function L8e(c){return"[object Uint8Array]"===Object.prototype.toString.call(c)}function M8e(c){if(null===c)return!0;var q,Y,V,Z,re,ae=[],se=c;for(q=0,Y=se.length;q<Y;q+=1){if(V=se[q],re=!1,"[object Object]"!==OF.call(V))return!1;for(Z in V)if(DF.call(V,Z)){if(re)return!1;re=!0}if(!re)return!1;if(-1!==ae.indexOf(Z))return!1;ae.push(Z)}return!0}function I8e(c){return null!==c?c:[]}function B8e(c){if(null===c)return!0;var q,Y,V,Z,re,ae=c;for(re=new Array(ae.length),q=0,Y=ae.length;q<Y;q+=1){if(V=ae[q],"[object Object]"!==FF.call(V)||1!==(Z=Object.keys(V)).length)return!1;re[q]=[Z[0],V[Z[0]]]}return!0}function F8e(c){if(null===c)return[];var q,Y,V,Z,re,ae=c;for(re=new Array(ae.length),q=0,Y=ae.length;q<Y;q+=1)V=ae[q],Z=Object.keys(V),re[q]=[Z[0],V[Z[0]]];return re}function $8e(c){if(null===c)return!0;var q,Y=c;for(q in Y)if(zF.call(Y,q)&&null!==Y[q])return!1;return!0}function V8e(c){return null!==c?c:{}}function tZ(c){return Object.prototype.toString.call(c)}function yc(c){return 10===c||13===c}function _d(c){return 9===c||32===c}function Ss(c){return 9===c||32===c||10===c||13===c}function lm(c){return 44===c||91===c||93===c||123===c||125===c}function X8e(c){var q;return 48<=c&&c<=57?c-48:97<=(q=32|c)&&q<=102?q-97+10:-1}function j8e(c){return 120===c?2:117===c?4:85===c?8:0}function K8e(c){return 48<=c&&c<=57?c-48:-1}function rZ(c){return 48===c?"\0":97===c?"":98===c?"\b":116===c||9===c?"\t":110===c?"\n":118===c?"\v":102===c?"\f":114===c?"\r":101===c?"":32===c?" ":34===c?'"':47===c?"/":92===c?"\\":78===c?"":95===c?" ":76===c?"\u2028":80===c?"\u2029":""}function Q8e(c){return c<=65535?String.fromCharCode(c):String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023))}function Z8e(c,q){this.input=c,this.filename=q.filename||null,this.schema=q.schema||UF,this.onWarning=q.onWarning||null,this.legacy=q.legacy||!1,this.json=q.json||!1,this.listener=q.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=c.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function CZ(c,q){var Y={name:c.filename,buffer:c.input.slice(0,-1),position:c.position,line:c.line,column:c.position-c.lineStart};return Y.snippet=aF(Y),new nF(q,Y)}function Qt(c,q){throw CZ(c,q)}function F5(c,q){c.onWarning&&c.onWarning.call(null,CZ(c,q))}function Gh(c,q,Y,V){var Z,re,ae,se;if(q<Y){if(se=c.input.slice(q,Y),V)for(Z=0,re=se.length;Z<re;Z+=1)9===(ae=se.charCodeAt(Z))||32<=ae&&ae<=1114111||Qt(c,"expected valid JSON character");else QF.test(se)&&Qt(c,"the stream contains non-printable characters");c.result+=se}}function iZ(c,q,Y,V){var Z,re,ae,se;for(rF.isObject(Y)||Qt(c,"cannot merge mappings; the provided source object is unacceptable"),ae=0,se=(Z=Object.keys(Y)).length;ae<se;ae+=1)re=Z[ae],qF.call(q,re)||(q[re]=Y[re],V[re]=!0)}function cm(c,q,Y,V,Z,re,ae,se,oe){var he,de;if(Array.isArray(Z))for(he=0,de=(Z=Array.prototype.slice.call(Z)).length;he<de;he+=1)Array.isArray(Z[he])&&Qt(c,"nested arrays are not supported inside keys"),"object"==typeof Z&&"[object Object]"===tZ(Z[he])&&(Z[he]="[object Object]");if("object"==typeof Z&&"[object Object]"===tZ(Z)&&(Z="[object Object]"),Z=String(Z),null===q&&(q={}),"tag:yaml.org,2002:merge"===V)if(Array.isArray(re))for(he=0,de=re.length;he<de;he+=1)iZ(c,q,re[he],Y);else iZ(c,q,re,Y);else!c.json&&!qF.call(Y,Z)&&qF.call(q,Z)&&(c.line=ae||c.line,c.lineStart=se||c.lineStart,c.position=oe||c.position,Qt(c,"duplicated mapping key")),"__proto__"===Z?Object.defineProperty(q,Z,{configurable:!0,enumerable:!0,writable:!0,value:re}):q[Z]=re,delete Y[Z];return q}function K9(c){var q;10===(q=c.input.charCodeAt(c.position))?c.position++:13===q?(c.position++,10===c.input.charCodeAt(c.position)&&c.position++):Qt(c,"a line break is expected"),c.line+=1,c.lineStart=c.position,c.firstTabInLine=-1}function Ci(c,q,Y){for(var V=0,Z=c.input.charCodeAt(c.position);0!==Z;){for(;_d(Z);)9===Z&&-1===c.firstTabInLine&&(c.firstTabInLine=c.position),Z=c.input.charCodeAt(++c.position);if(q&&35===Z)do{Z=c.input.charCodeAt(++c.position)}while(10!==Z&&13!==Z&&0!==Z);if(!yc(Z))break;for(K9(c),Z=c.input.charCodeAt(c.position),V++,c.lineIndent=0;32===Z;)c.lineIndent++,Z=c.input.charCodeAt(++c.position)}return-1!==Y&&0!==V&&c.lineIndent<Y&&F5(c,"deficient indentation"),V}function $5(c){var q,Y=c.position;return!(45!==(q=c.input.charCodeAt(Y))&&46!==q||q!==c.input.charCodeAt(Y+1)||q!==c.input.charCodeAt(Y+2)||(Y+=3,q=c.input.charCodeAt(Y),0!==q&&!Ss(q)))}function Q9(c,q){1===q?c.result+=" ":q>1&&(c.result+=rF.repeat("\n",q-1))}function J8e(c,q,Y){var V,Z,re,ae,se,oe,he,de,pe=c.kind,ge=c.result;if(Ss(de=c.input.charCodeAt(c.position))||lm(de)||35===de||38===de||42===de||33===de||124===de||62===de||39===de||34===de||37===de||64===de||96===de||(63===de||45===de)&&(Ss(V=c.input.charCodeAt(c.position+1))||Y&&lm(V)))return!1;for(c.kind="scalar",c.result="",Z=re=c.position,ae=!1;0!==de;){if(58===de){if(Ss(V=c.input.charCodeAt(c.position+1))||Y&&lm(V))break}else if(35===de){if(Ss(c.input.charCodeAt(c.position-1)))break}else{if(c.position===c.lineStart&&$5(c)||Y&&lm(de))break;if(yc(de)){if(se=c.line,oe=c.lineStart,he=c.lineIndent,Ci(c,!1,-1),c.lineIndent>=q){ae=!0,de=c.input.charCodeAt(c.position);continue}c.position=re,c.line=se,c.lineStart=oe,c.lineIndent=he;break}}ae&&(Gh(c,Z,re,!1),Q9(c,c.line-se),Z=re=c.position,ae=!1),_d(de)||(re=c.position+1),de=c.input.charCodeAt(++c.position)}return Gh(c,Z,re,!1),!!c.result||(c.kind=pe,c.result=ge,!1)}function e_e(c,q){var Y,V,Z;if(39!==(Y=c.input.charCodeAt(c.position)))return!1;for(c.kind="scalar",c.result="",c.position++,V=Z=c.position;0!==(Y=c.input.charCodeAt(c.position));)if(39===Y){if(Gh(c,V,c.position,!0),39!==(Y=c.input.charCodeAt(++c.position)))return!0;V=c.position,c.position++,Z=c.position}else yc(Y)?(Gh(c,V,Z,!0),Q9(c,Ci(c,!1,q)),V=Z=c.position):c.position===c.lineStart&&$5(c)?Qt(c,"unexpected end of the document within a single quoted scalar"):(c.position++,Z=c.position);Qt(c,"unexpected end of the stream within a single quoted scalar")}function t_e(c,q){var Y,V,Z,re,ae,se;if(34!==(se=c.input.charCodeAt(c.position)))return!1;for(c.kind="scalar",c.result="",c.position++,Y=V=c.position;0!==(se=c.input.charCodeAt(c.position));){if(34===se)return Gh(c,Y,c.position,!0),c.position++,!0;if(92===se){if(Gh(c,Y,c.position,!0),yc(se=c.input.charCodeAt(++c.position)))Ci(c,!1,q);else if(se<256&&n$[se])c.result+=i$[se],c.position++;else if((ae=j8e(se))>0){for(Z=ae,re=0;Z>0;Z--)(ae=X8e(se=c.input.charCodeAt(++c.position)))>=0?re=(re<<4)+ae:Qt(c,"expected hexadecimal character");c.result+=Q8e(re),c.position++}else Qt(c,"unknown escape sequence");Y=V=c.position}else yc(se)?(Gh(c,Y,V,!0),Q9(c,Ci(c,!1,q)),Y=V=c.position):c.position===c.lineStart&&$5(c)?Qt(c,"unexpected end of the document within a double quoted scalar"):(c.position++,V=c.position)}Qt(c,"unexpected end of the stream within a double quoted scalar")}function r_e(c,q){var Y,V,Z,re,ae,se,oe,he,de,pe,ge,me,ve=!0,be=c.tag,we=c.anchor,Te=Object.create(null);if(91===(me=c.input.charCodeAt(c.position)))ae=93,he=!1,re=[];else{if(123!==me)return!1;ae=125,he=!0,re={}}for(null!==c.anchor&&(c.anchorMap[c.anchor]=re),me=c.input.charCodeAt(++c.position);0!==me;){if(Ci(c,!0,q),(me=c.input.charCodeAt(c.position))===ae)return c.position++,c.tag=be,c.anchor=we,c.kind=he?"mapping":"sequence",c.result=re,!0;ve?44===me&&Qt(c,"expected the node content, but found ','"):Qt(c,"missed comma between flow collection entries"),ge=null,se=oe=!1,63===me&&(Ss(c.input.charCodeAt(c.position+1))&&(se=oe=!0,c.position++,Ci(c,!0,q))),Y=c.line,V=c.lineStart,Z=c.position,um(c,q,jF,!1,!0),pe=c.tag,de=c.result,Ci(c,!0,q),me=c.input.charCodeAt(c.position),(oe||c.line===Y)&&58===me&&(se=!0,me=c.input.charCodeAt(++c.position),Ci(c,!0,q),um(c,q,jF,!1,!0),ge=c.result),he?cm(c,re,Te,pe,de,ge,Y,V,Z):se?re.push(cm(c,null,Te,pe,de,ge,Y,V,Z)):re.push(de),Ci(c,!0,q),44===(me=c.input.charCodeAt(c.position))?(ve=!0,me=c.input.charCodeAt(++c.position)):ve=!1}Qt(c,"unexpected end of the stream within a flow collection")}function n_e(c,q){var Y,V,Z,re,ae=VF,se=!1,oe=!1,he=q,de=0,pe=!1;if(124===(re=c.input.charCodeAt(c.position)))V=!1;else{if(62!==re)return!1;V=!0}for(c.kind="scalar",c.result="";0!==re;)if(43===(re=c.input.charCodeAt(++c.position))||45===re)VF===ae?ae=43===re?KF:XF:Qt(c,"repeat of a chomping mode identifier");else{if(!((Z=K8e(re))>=0))break;0===Z?Qt(c,"bad explicit indentation width of a block scalar; it cannot be less than one"):oe?Qt(c,"repeat of an indentation width identifier"):(he=q+Z-1,oe=!0)}if(_d(re)){do{re=c.input.charCodeAt(++c.position)}while(_d(re));if(35===re)do{re=c.input.charCodeAt(++c.position)}while(!yc(re)&&0!==re)}for(;0!==re;){for(K9(c),c.lineIndent=0,re=c.input.charCodeAt(c.position);(!oe||c.lineIndent<he)&&32===re;)c.lineIndent++,re=c.input.charCodeAt(++c.position);if(!oe&&c.lineIndent>he&&(he=c.lineIndent),yc(re))de++;else{if(c.lineIndent<he){ae===KF?c.result+=rF.repeat("\n",se?1+de:de):ae===VF&&se&&(c.result+="\n");break}for(V?_d(re)?(pe=!0,c.result+=rF.repeat("\n",se?1+de:de)):pe?(pe=!1,c.result+=rF.repeat("\n",de+1)):0===de?se&&(c.result+=" "):c.result+=rF.repeat("\n",de):c.result+=rF.repeat("\n",se?1+de:de),se=!0,oe=!0,de=0,Y=c.position;!yc(re)&&0!==re;)re=c.input.charCodeAt(++c.position);Gh(c,Y,c.position,!1)}}return!0}function aZ(c,q){var Y,V,Z=c.tag,re=c.anchor,ae=[],se=!1;if(-1!==c.firstTabInLine)return!1;for(null!==c.anchor&&(c.anchorMap[c.anchor]=ae),V=c.input.charCodeAt(c.position);0!==V&&(-1!==c.firstTabInLine&&(c.position=c.firstTabInLine,Qt(c,"tab characters must not be used in indentation")),45===V&&Ss(c.input.charCodeAt(c.position+1)));)if(se=!0,c.position++,Ci(c,!0,-1)&&c.lineIndent<=q)ae.push(null),V=c.input.charCodeAt(c.position);else if(Y=c.line,um(c,q,WF,!1,!0),ae.push(c.result),Ci(c,!0,-1),V=c.input.charCodeAt(c.position),(c.line===Y||c.lineIndent>q)&&0!==V)Qt(c,"bad indentation of a sequence entry");else if(c.lineIndent<q)break;return!!se&&(c.tag=Z,c.anchor=re,c.kind="sequence",c.result=ae,!0)}function i_e(c,q,Y){var V,Z,re,ae,se,oe,he,de=c.tag,pe=c.anchor,ge={},me=Object.create(null),ve=null,be=null,we=null,Te=!1,_e=!1;if(-1!==c.firstTabInLine)return!1;for(null!==c.anchor&&(c.anchorMap[c.anchor]=ge),he=c.input.charCodeAt(c.position);0!==he;){if(!Te&&-1!==c.firstTabInLine&&(c.position=c.firstTabInLine,Qt(c,"tab characters must not be used in indentation")),V=c.input.charCodeAt(c.position+1),re=c.line,63!==he&&58!==he||!Ss(V)){if(ae=c.line,se=c.lineStart,oe=c.position,!um(c,Y,YF,!1,!0))break;if(c.line===re){for(he=c.input.charCodeAt(c.position);_d(he);)he=c.input.charCodeAt(++c.position);if(58===he)Ss(he=c.input.charCodeAt(++c.position))||Qt(c,"a whitespace character is expected after the key-value separator within a block mapping"),Te&&(cm(c,ge,me,ve,be,null,ae,se,oe),ve=be=we=null),_e=!0,Te=!1,Z=!1,ve=c.tag,be=c.result;else{if(!_e)return c.tag=de,c.anchor=pe,!0;Qt(c,"can not read an implicit mapping pair; a colon is missed")}}else{if(!_e)return c.tag=de,c.anchor=pe,!0;Qt(c,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===he?(Te&&(cm(c,ge,me,ve,be,null,ae,se,oe),ve=be=we=null),_e=!0,Te=!0,Z=!0):Te?(Te=!1,Z=!0):Qt(c,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),c.position+=1,he=V;if((c.line===re||c.lineIndent>q)&&(Te&&(ae=c.line,se=c.lineStart,oe=c.position),um(c,q,HF,!0,Z)&&(Te?be=c.result:we=c.result),Te||(cm(c,ge,me,ve,be,we,ae,se,oe),ve=be=we=null),Ci(c,!0,-1),he=c.input.charCodeAt(c.position)),(c.line===re||c.lineIndent>q)&&0!==he)Qt(c,"bad indentation of a mapping entry");else if(c.lineIndent<q)break}return Te&&cm(c,ge,me,ve,be,null,ae,se,oe),_e&&(c.tag=de,c.anchor=pe,c.kind="mapping",c.result=ge),_e}function a_e(c){var q,Y,V,Z,re=!1,ae=!1;if(33!==(Z=c.input.charCodeAt(c.position)))return!1;if(null!==c.tag&&Qt(c,"duplication of a tag property"),60===(Z=c.input.charCodeAt(++c.position))?(re=!0,Z=c.input.charCodeAt(++c.position)):33===Z?(ae=!0,Y="!!",Z=c.input.charCodeAt(++c.position)):Y="!",q=c.position,re){do{Z=c.input.charCodeAt(++c.position)}while(0!==Z&&62!==Z);c.position<c.length?(V=c.input.slice(q,c.position),Z=c.input.charCodeAt(++c.position)):Qt(c,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Z&&!Ss(Z);)33===Z&&(ae?Qt(c,"tag suffix cannot contain exclamation marks"):(Y=c.input.slice(q-1,c.position+1),t$.test(Y)||Qt(c,"named tag handle cannot contain such characters"),ae=!0,q=c.position+1)),Z=c.input.charCodeAt(++c.position);V=c.input.slice(q,c.position),JF.test(V)&&Qt(c,"tag suffix cannot contain flow indicator characters")}V&&!r$.test(V)&&Qt(c,"tag name cannot contain such characters: "+V);try{V=decodeURIComponent(V)}catch{Qt(c,"tag name is malformed: "+V)}return re?c.tag=V:qF.call(c.tagMap,Y)?c.tag=c.tagMap[Y]+V:"!"===Y?c.tag="!"+V:"!!"===Y?c.tag="tag:yaml.org,2002:"+V:Qt(c,'undeclared tag handle "'+Y+'"'),!0}function s_e(c){var q,Y;if(38!==(Y=c.input.charCodeAt(c.position)))return!1;for(null!==c.anchor&&Qt(c,"duplication of an anchor property"),Y=c.input.charCodeAt(++c.position),q=c.position;0!==Y&&!Ss(Y)&&!lm(Y);)Y=c.input.charCodeAt(++c.position);return c.position===q&&Qt(c,"name of an anchor node must contain at least one character"),c.anchor=c.input.slice(q,c.position),!0}function o_e(c){var q,Y,V;if(42!==(V=c.input.charCodeAt(c.position)))return!1;for(V=c.input.charCodeAt(++c.position),q=c.position;0!==V&&!Ss(V)&&!lm(V);)V=c.input.charCodeAt(++c.position);return c.position===q&&Qt(c,"name of an alias node must contain at least one character"),Y=c.input.slice(q,c.position),qF.call(c.anchorMap,Y)||Qt(c,'unidentified alias "'+Y+'"'),c.result=c.anchorMap[Y],Ci(c,!0,-1),!0}function um(c,q,Y,V,Z){var re,ae,se,oe,he,de,pe,ge,me,ve=1,be=!1,we=!1;if(null!==c.listener&&c.listener("open",c),c.tag=null,c.anchor=null,c.kind=null,c.result=null,re=ae=se=HF===Y||WF===Y,V&&Ci(c,!0,-1)&&(be=!0,c.lineIndent>q?ve=1:c.lineIndent===q?ve=0:c.lineIndent<q&&(ve=-1)),1===ve)for(;a_e(c)||s_e(c);)Ci(c,!0,-1)?(be=!0,se=re,c.lineIndent>q?ve=1:c.lineIndent===q?ve=0:c.lineIndent<q&&(ve=-1)):se=!1;if(se&&(se=be||Z),(1===ve||HF===Y)&&(ge=jF===Y||YF===Y?q:q+1,me=c.position-c.lineStart,1===ve?se&&(aZ(c,me)||i_e(c,me,ge))||r_e(c,ge)?we=!0:(ae&&n_e(c,ge)||e_e(c,ge)||t_e(c,ge)?we=!0:o_e(c)?(we=!0,(null!==c.tag||null!==c.anchor)&&Qt(c,"alias node should not have any properties")):J8e(c,ge,jF===Y)&&(we=!0,null===c.tag&&(c.tag="?")),null!==c.anchor&&(c.anchorMap[c.anchor]=c.result)):0===ve&&(we=se&&aZ(c,me))),null===c.tag)null!==c.anchor&&(c.anchorMap[c.anchor]=c.result);else if("?"===c.tag){for(null!==c.result&&"scalar"!==c.kind&&Qt(c,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+c.kind+'"'),oe=0,he=c.implicitTypes.length;oe<he;oe+=1)if((pe=c.implicitTypes[oe]).resolve(c.result)){c.result=pe.construct(c.result),c.tag=pe.tag,null!==c.anchor&&(c.anchorMap[c.anchor]=c.result);break}}else if("!"!==c.tag){if(qF.call(c.typeMap[c.kind||"fallback"],c.tag))pe=c.typeMap[c.kind||"fallback"][c.tag];else for(pe=null,oe=0,he=(de=c.typeMap.multi[c.kind||"fallback"]).length;oe<he;oe+=1)if(c.tag.slice(0,de[oe].tag.length)===de[oe].tag){pe=de[oe];break}pe||Qt(c,"unknown tag !<"+c.tag+">"),null!==c.result&&pe.kind!==c.kind&&Qt(c,"unacceptable node kind for !<"+c.tag+'> tag; it should be "'+pe.kind+'", not "'+c.kind+'"'),pe.resolve(c.result,c.tag)?(c.result=pe.construct(c.result,c.tag),null!==c.anchor&&(c.anchorMap[c.anchor]=c.result)):Qt(c,"cannot resolve a node with !<"+c.tag+"> explicit tag")}return null!==c.listener&&c.listener("close",c),null!==c.tag||null!==c.anchor||we}function l_e(c){var q,Y,V,Z,re=c.position,ae=!1;for(c.version=null,c.checkLineBreaks=c.legacy,c.tagMap=Object.create(null),c.anchorMap=Object.create(null);0!==(Z=c.input.charCodeAt(c.position))&&(Ci(c,!0,-1),Z=c.input.charCodeAt(c.position),!(c.lineIndent>0||37!==Z));){for(ae=!0,Z=c.input.charCodeAt(++c.position),q=c.position;0!==Z&&!Ss(Z);)Z=c.input.charCodeAt(++c.position);for(V=[],(Y=c.input.slice(q,c.position)).length<1&&Qt(c,"directive name must not be less than one character in length");0!==Z;){for(;_d(Z);)Z=c.input.charCodeAt(++c.position);if(35===Z){do{Z=c.input.charCodeAt(++c.position)}while(0!==Z&&!yc(Z));break}if(yc(Z))break;for(q=c.position;0!==Z&&!Ss(Z);)Z=c.input.charCodeAt(++c.position);V.push(c.input.slice(q,c.position))}0!==Z&&K9(c),qF.call(s$,Y)?s$[Y](c,Y,V):F5(c,'unknown document directive "'+Y+'"')}Ci(c,!0,-1),0===c.lineIndent&&45===c.input.charCodeAt(c.position)&&45===c.input.charCodeAt(c.position+1)&&45===c.input.charCodeAt(c.position+2)?(c.position+=3,Ci(c,!0,-1)):ae&&Qt(c,"directives end mark is expected"),um(c,c.lineIndent-1,HF,!1,!0),Ci(c,!0,-1),c.checkLineBreaks&&ZF.test(c.input.slice(re,c.position))&&F5(c,"non-ASCII line breaks are interpreted as content"),c.documents.push(c.result),c.position===c.lineStart&&$5(c)?46===c.input.charCodeAt(c.position)&&(c.position+=3,Ci(c,!0,-1)):c.position<c.length-1&&Qt(c,"end of the stream or a document separator is expected")}function AZ(c,q){q=q||{},0!==(c=String(c)).length&&(10!==c.charCodeAt(c.length-1)&&13!==c.charCodeAt(c.length-1)&&(c+="\n"),65279===c.charCodeAt(0)&&(c=c.slice(1)));var Y=new Z8e(c,q),V=c.indexOf("\0");for(-1!==V&&(Y.position=V,Qt(Y,"null byte is not allowed in input")),Y.input+="\0";32===Y.input.charCodeAt(Y.position);)Y.lineIndent+=1,Y.position+=1;for(;Y.position<Y.length-1;)l_e(Y);return Y.documents}function c_e(c,q,Y){null!==q&&"object"==typeof q&&typeof Y>"u"&&(Y=q,q=null);var V=AZ(c,Y);if("function"!=typeof q)return V;for(var Z=0,re=V.length;Z<re;Z+=1)q(V[Z])}function u_e(c,q){var Y=AZ(c,q);if(0!==Y.length){if(1===Y.length)return Y[0];throw new nF("expected a single document in the stream, but found more")}}function N_e(c,q){var Y,V,Z,re,ae,se,oe;if(null===q)return{};for(Y={},Z=0,re=(V=Object.keys(q)).length;Z<re;Z+=1)ae=V[Z],se=String(q[ae]),"!!"===ae.slice(0,2)&&(ae="tag:yaml.org,2002:"+ae.slice(2)),(oe=c.compiledTypeMap.fallback[ae])&&c$.call(oe.styleAliases,se)&&(se=oe.styleAliases[se]),Y[ae]=se;return Y}function R_e(c){var q,Y,V;if(q=c.toString(16).toUpperCase(),c<=255)Y="x",V=2;else if(c<=65535)Y="u",V=4;else{if(!(c<=4294967295))throw new nF("code point within a string may not be greater than 0xFFFFFFFF");Y="U",V=8}return"\\"+Y+rF.repeat("0",V-q.length)+q}function I_e(c){this.schema=c.schema||UF,this.indent=Math.max(1,c.indent||2),this.noArrayIndent=c.noArrayIndent||!1,this.skipInvalid=c.skipInvalid||!1,this.flowLevel=rF.isNothing(c.flowLevel)?-1:c.flowLevel,this.styleMap=N_e(this.schema,c.styles||null),this.sortKeys=c.sortKeys||!1,this.lineWidth=c.lineWidth||80,this.noRefs=c.noRefs||!1,this.noCompatMode=c.noCompatMode||!1,this.condenseFlow=c.condenseFlow||!1,this.quotingType='"'===c.quotingType?z$:$$,this.forceQuotes=c.forceQuotes||!1,this.replacer="function"==typeof c.replacer?c.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function sZ(c,q){for(var Y,V=rF.repeat(" ",q),Z=0,re=-1,ae="",se=c.length;Z<se;)-1===(re=c.indexOf("\n",Z))?(Y=c.slice(Z),Z=se):(Y=c.slice(Z,re+1),Z=re+1),Y.length&&"\n"!==Y&&(ae+=V),ae+=Y;return ae}function Y9(c,q){return"\n"+rF.repeat(" ",c.indent*q)}function O_e(c,q){var Y,V;for(Y=0,V=c.implicitTypes.length;Y<V;Y+=1)if(c.implicitTypes[Y].resolve(q))return!0;return!1}function G5(c){return c===g$||c===u$}function kv(c){return 32<=c&&c<=126||161<=c&&c<=55295&&8232!==c&&8233!==c||57344<=c&&c<=65533&&c!==h$||65536<=c&&c<=1114111}function oZ(c){return kv(c)&&c!==h$&&c!==p$&&c!==d$}function lZ(c,q,Y){var V=oZ(c),Z=V&&!G5(c);return(Y?V:V&&c!==T$&&c!==N$&&c!==I$&&c!==R$&&c!==O$)&&c!==y$&&!(q===E$&&!Z)||oZ(q)&&!G5(q)&&c===y$||q===E$&&Z}function P_e(c){return kv(c)&&c!==h$&&!G5(c)&&c!==_$&&c!==A$&&c!==E$&&c!==T$&&c!==N$&&c!==I$&&c!==R$&&c!==O$&&c!==y$&&c!==x$&&c!==w$&&c!==f$&&c!==D$&&c!==C$&&c!==S$&&c!==b$&&c!==m$&&c!==v$&&c!==L$&&c!==M$}function B_e(c){return!G5(c)&&c!==E$}function xv(c,q){var Y,V=c.charCodeAt(q);return V>=55296&&V<=56319&&q+1<c.length&&((Y=c.charCodeAt(q+1))>=56320&&Y<=57343)?1024*(V-55296)+Y-56320+65536:V}function PZ(c){return/^\n* /.test(c)}function F_e(c,q,Y,V,Z,re,ae,se){var oe,he=0,de=null,pe=!1,ge=!1,me=-1!==V,ve=-1,be=P_e(xv(c,0))&&B_e(xv(c,c.length-1));if(q||ae)for(oe=0;oe<c.length;he>=65536?oe+=2:oe++){if(!kv(he=xv(c,oe)))return Y$;be=be&&lZ(he,de,se),de=he}else{for(oe=0;oe<c.length;he>=65536?oe+=2:oe++){if((he=xv(c,oe))===d$)pe=!0,me&&(ge=ge||oe-ve-1>V&&" "!==c[ve+1],ve=oe);else if(!kv(he))return Y$;be=be&&lZ(he,de,se),de=he}ge=ge||me&&oe-ve-1>V&&" "!==c[ve+1]}return pe||ge?Y>9&&PZ(c)?Y$:ae?re===z$?Y$:U$:ge?j$:q$:!be||ae||Z(c)?re===z$?Y$:U$:G$}function z_e(c,q,Y,V,Z){c.dump=function(){if(0===q.length)return c.quotingType===z$?'""':"''";if(!c.noCompatMode&&(-1!==B$.indexOf(q)||F$.test(q)))return c.quotingType===z$?'"'+q+'"':"'"+q+"'";var re=c.indent*Math.max(1,Y),ae=-1===c.lineWidth?-1:Math.max(Math.min(c.lineWidth,40),c.lineWidth-re),se=V||c.flowLevel>-1&&Y>=c.flowLevel;function u(q){return O_e(c,q)}switch(o(u,"testAmbiguity"),F_e(q,se,c.indent,ae,u,c.quotingType,c.forceQuotes&&!V,Z)){case G$:return q;case U$:return"'"+q.replace(/'/g,"''")+"'";case q$:return"|"+cZ(q,c.indent)+uZ(sZ(q,re));case j$:return">"+cZ(q,c.indent)+uZ(sZ(G_e(q,ae),re));case Y$:return'"'+$_e(q)+'"';default:throw new nF("impossible error: invalid scalar style")}}()}function cZ(c,q){var Y=PZ(c)?String(q):"",V="\n"===c[c.length-1];return Y+(V&&("\n"===c[c.length-2]||"\n"===c)?"+":V?"":"-")+"\n"}function uZ(c){return"\n"===c[c.length-1]?c.slice(0,-1):c}function G_e(c,q){for(var Y,V,Z=/(\n+)([^\n]*)/g,re=(he=void 0,he=-1!==(he=c.indexOf("\n"))?he:c.length,Z.lastIndex=he,hZ(c.slice(0,he),q)),ae="\n"===c[0]||" "===c[0];V=Z.exec(c);){var se=V[1],oe=V[2];Y=" "===oe[0],re+=se+(ae||Y||""===oe?"":"\n")+hZ(oe,q),ae=Y}var he;return re}function hZ(c,q){if(""===c||" "===c[0])return c;for(var Y,V,Z=/ [^ ]/g,re=0,ae=0,se=0,oe="";Y=Z.exec(c);)(se=Y.index)-re>q&&(V=ae>re?ae:se,oe+="\n"+c.slice(re,V),re=V+1),ae=se;return oe+="\n",c.length-re>q&&ae>re?oe+=c.slice(re,ae)+"\n"+c.slice(ae+1):oe+=c.slice(re),oe.slice(1)}function $_e(c){for(var q,Y="",V=0,Z=0;Z<c.length;V>=65536?Z+=2:Z++)V=xv(c,Z),!(q=P$[V])&&kv(V)?(Y+=c[Z],V>=65536&&(Y+=c[Z+1])):Y+=q||R_e(V);return Y}function V_e(c,q,Y){var V,Z,re,ae="",se=c.tag;for(V=0,Z=Y.length;V<Z;V+=1)re=Y[V],c.replacer&&(re=c.replacer.call(Y,String(V),re)),(Cu(c,q,re,!1,!1)||typeof re>"u"&&Cu(c,q,null,!1,!1))&&(""!==ae&&(ae+=","+(c.condenseFlow?"":" ")),ae+=c.dump);c.tag=se,c.dump="["+ae+"]"}function fZ(c,q,Y,V){var Z,re,ae,se="",oe=c.tag;for(Z=0,re=Y.length;Z<re;Z+=1)ae=Y[Z],c.replacer&&(ae=c.replacer.call(Y,String(Z),ae)),(Cu(c,q+1,ae,!0,!0,!1,!0)||typeof ae>"u"&&Cu(c,q+1,null,!0,!0,!1,!0))&&((!V||""!==se)&&(se+=Y9(c,q)),c.dump&&d$===c.dump.charCodeAt(0)?se+="-":se+="- ",se+=c.dump);c.tag=oe,c.dump=se||"[]"}function U_e(c,q,Y){var V,Z,re,ae,se,oe="",he=c.tag,de=Object.keys(Y);for(V=0,Z=de.length;V<Z;V+=1)se="",""!==oe&&(se+=", "),c.condenseFlow&&(se+='"'),ae=Y[re=de[V]],c.replacer&&(ae=c.replacer.call(Y,re,ae)),Cu(c,q,re,!1,!1)&&(c.dump.length>1024&&(se+="? "),se+=c.dump+(c.condenseFlow?'"':"")+":"+(c.condenseFlow?"":" "),Cu(c,q,ae,!1,!1)&&(oe+=se+=c.dump));c.tag=he,c.dump="{"+oe+"}"}function H_e(c,q,Y,V){var Z,re,ae,se,oe,he,de="",pe=c.tag,ge=Object.keys(Y);if(!0===c.sortKeys)ge.sort();else if("function"==typeof c.sortKeys)ge.sort(c.sortKeys);else if(c.sortKeys)throw new nF("sortKeys must be a boolean or a function");for(Z=0,re=ge.length;Z<re;Z+=1)he="",(!V||""!==de)&&(he+=Y9(c,q)),se=Y[ae=ge[Z]],c.replacer&&(se=c.replacer.call(Y,ae,se)),Cu(c,q+1,ae,!0,!0,!0)&&((oe=null!==c.tag&&"?"!==c.tag||c.dump&&c.dump.length>1024)&&(c.dump&&d$===c.dump.charCodeAt(0)?he+="?":he+="? "),he+=c.dump,oe&&(he+=Y9(c,q)),Cu(c,q+1,se,!0,oe)&&(c.dump&&d$===c.dump.charCodeAt(0)?he+=":":he+=": ",de+=he+=c.dump));c.tag=pe,c.dump=de||"{}"}function dZ(c,q,Y){var V,Z,re,ae,se,oe;for(re=0,ae=(Z=Y?c.explicitTypes:c.implicitTypes).length;re<ae;re+=1)if(((se=Z[re]).instanceOf||se.predicate)&&(!se.instanceOf||"object"==typeof q&&q instanceof se.instanceOf)&&(!se.predicate||se.predicate(q))){if(Y?se.multi&&se.representName?c.tag=se.representName(q):c.tag=se.tag:c.tag="?",se.represent){if(oe=c.styleMap[se.tag]||se.defaultStyle,"[object Function]"===l$.call(se.represent))V=se.represent(q,oe);else{if(!c$.call(se.represent,oe))throw new nF("!<"+se.tag+'> tag resolver accepts not "'+oe+'" style');V=se.represent[oe](q,oe)}c.dump=V}return!0}return!1}function Cu(c,q,Y,V,Z,re,ae){c.tag=null,c.dump=Y,dZ(c,Y,!1)||dZ(c,Y,!0);var se,oe=l$.call(c.dump),he=V;V&&(V=c.flowLevel<0||c.flowLevel>q);var de,pe,ge="[object Object]"===oe||"[object Array]"===oe;if(ge&&(pe=-1!==(de=c.duplicates.indexOf(Y))),(null!==c.tag&&"?"!==c.tag||pe||2!==c.indent&&q>0)&&(Z=!1),pe&&c.usedDuplicates[de])c.dump="*ref_"+de;else{if(ge&&pe&&!c.usedDuplicates[de]&&(c.usedDuplicates[de]=!0),"[object Object]"===oe)V&&0!==Object.keys(c.dump).length?(H_e(c,q,c.dump,Z),pe&&(c.dump="&ref_"+de+c.dump)):(U_e(c,q,c.dump),pe&&(c.dump="&ref_"+de+" "+c.dump));else if("[object Array]"===oe)V&&0!==c.dump.length?(c.noArrayIndent&&!ae&&q>0?fZ(c,q-1,c.dump,Z):fZ(c,q,c.dump,Z),pe&&(c.dump="&ref_"+de+c.dump)):(V_e(c,q,c.dump),pe&&(c.dump="&ref_"+de+" "+c.dump));else{if("[object String]"!==oe){if("[object Undefined]"===oe)return!1;if(c.skipInvalid)return!1;throw new nF("unacceptable kind of an object to dump "+oe)}"?"!==c.tag&&z_e(c,c.dump,q,re,he)}null!==c.tag&&"?"!==c.tag&&(se=encodeURI("!"===c.tag[0]?c.tag.slice(1):c.tag).replace(/!/g,"%21"),se="!"===c.tag[0]?"!"+se:"tag:yaml.org,2002:"===se.slice(0,18)?"!!"+se.slice(18):"!<"+se+">",c.dump=se+" "+c.dump)}return!0}function W_e(c,q){var Y,V,Z=[],re=[];for(X9(c,Z,re),Y=0,V=re.length;Y<V;Y+=1)q.duplicates.push(Z[re[Y]]);q.usedDuplicates=new Array(V)}function X9(c,q,Y){var V,Z,re;if(null!==c&&"object"==typeof c)if(-1!==(Z=q.indexOf(c)))-1===Y.indexOf(Z)&&Y.push(Z);else if(q.push(c),Array.isArray(c))for(Z=0,re=c.length;Z<re;Z+=1)X9(c[Z],q,Y);else for(Z=0,re=(V=Object.keys(c)).length;Z<re;Z+=1)X9(c[V[Z]],q,Y)}function Y_e(c,q){var Y=new I_e(q=q||{});Y.noRefs||W_e(c,Y);var V=c;return Y.replacer&&(V=Y.replacer.call({"":V},"",V)),Cu(Y,0,V,!0,!0)?Y.dump+"\n":""}function J9(c,q){return function(){throw new Error("Function yaml."+c+" is removed in js-yaml 4. Use yaml."+q+" instead, which is now safe by default.")}}var rF,nF,aF,oF,lF,cF,hF,uF,dF,pF,gF,fF,mF,xF,bF,wF,kF,TF,_F,EF,CF,SF,AF,NF,MF,DF,OF,PF,FF,$F,zF,GF,UF,qF,jF,YF,WF,HF,VF,XF,KF,QF,ZF,JF,t$,r$,n$,i$,a$,s$,o$,l$,c$,h$,u$,d$,p$,g$,f$,m$,y$,v$,x$,b$,w$,T$,_$,E$,C$,S$,A$,L$,N$,I$,M$,R$,D$,O$,P$,B$,F$,$$,z$,G$,U$,q$,j$,Y$,W$,H$,V$,K$=M(()=>{for(o(pZ,"isNothing"),o(_Ae,"isObject"),o(LAe,"toArray"),o(DAe,"extend"),o(NAe,"repeat"),o(RAe,"isNegativeZero"),rF={isNothing:pZ,isObject:_Ae,toArray:LAe,repeat:NAe,isNegativeZero:RAe,extend:DAe},o(mZ,"formatError"),o(bv,"YAMLException$1"),bv.prototype=Object.create(Error.prototype),bv.prototype.constructor=bv,bv.prototype.toString=o(function(c){return this.name+": "+mZ(this,c)},"toString"),nF=bv,o($9,"getLine"),o(V9,"padStart"),o(zAe,"makeSnippet"),aF=zAe,oF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],lF=["scalar","sequence","mapping"],o(UAe,"compileStyleAliases"),o(HAe,"Type$1"),cF=HAe,o(JQ,"compileList"),o(WAe,"compileMap"),o(H9,"Schema$1"),H9.prototype.extend=o(function(c){var q=[],Y=[];if(c instanceof cF)Y.push(c);else if(Array.isArray(c))Y=Y.concat(c);else{if(!c||!Array.isArray(c.implicit)&&!Array.isArray(c.explicit))throw new nF("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");c.implicit&&(q=q.concat(c.implicit)),c.explicit&&(Y=Y.concat(c.explicit))}q.forEach(function(c){if(!(c instanceof cF))throw new nF("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(c.loadKind&&"scalar"!==c.loadKind)throw new nF("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(c.multi)throw new nF("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Y.forEach(function(c){if(!(c instanceof cF))throw new nF("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var V=Object.create(H9.prototype);return V.implicit=(this.implicit||[]).concat(q),V.explicit=(this.explicit||[]).concat(Y),V.compiledImplicit=JQ(V,"implicit"),V.compiledExplicit=JQ(V,"explicit"),V.compiledTypeMap=WAe(V.compiledImplicit,V.compiledExplicit),V},"extend"),hF=H9,uF=new cF("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(c){return null!==c?c:""},"construct")}),dF=new cF("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(c){return null!==c?c:[]},"construct")}),pF=new cF("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(c){return null!==c?c:{}},"construct")}),gF=new hF({explicit:[uF,dF,pF]}),o(QAe,"resolveYamlNull"),o(ZAe,"constructYamlNull"),o(JAe,"isNull"),fF=new cF("tag:yaml.org,2002:null",{kind:"scalar",resolve:QAe,construct:ZAe,predicate:JAe,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"}),o(t8e,"resolveYamlBoolean"),o(r8e,"constructYamlBoolean"),o(n8e,"isBoolean"),mF=new cF("tag:yaml.org,2002:bool",{kind:"scalar",resolve:t8e,construct:r8e,predicate:n8e,represent:{lowercase:o(function(c){return c?"true":"false"},"lowercase"),uppercase:o(function(c){return c?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(c){return c?"True":"False"},"camelcase")},defaultStyle:"lowercase"}),o(a8e,"isHexCode"),o(s8e,"isOctCode"),o(o8e,"isDecCode"),o(l8e,"resolveYamlInteger"),o(c8e,"constructYamlInteger"),o(u8e,"isInteger"),xF=new cF("tag:yaml.org,2002:int",{kind:"scalar",resolve:l8e,construct:c8e,predicate:u8e,represent:{binary:o(function(c){return c>=0?"0b"+c.toString(2):"-0b"+c.toString(2).slice(1)},"binary"),octal:o(function(c){return c>=0?"0o"+c.toString(8):"-0o"+c.toString(8).slice(1)},"octal"),decimal:o(function(c){return c.toString(10)},"decimal"),hexadecimal:o(function(c){return c>=0?"0x"+c.toString(16).toUpperCase():"-0x"+c.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),bF=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),o(d8e,"resolveYamlFloat"),o(p8e,"constructYamlFloat"),wF=/^[-+]?[0-9]+e/,o(g8e,"representYamlFloat"),o(y8e,"isFloat"),kF=new cF("tag:yaml.org,2002:float",{kind:"scalar",resolve:d8e,construct:p8e,predicate:y8e,represent:g8e,defaultStyle:"lowercase"}),TF=gF.extend({implicit:[fF,mF,xF,kF]}),_F=TF,EF=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),CF=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),o(b8e,"resolveYamlTimestamp"),o(w8e,"constructYamlTimestamp"),o(T8e,"representYamlTimestamp"),SF=new cF("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:b8e,construct:w8e,instanceOf:Date,represent:T8e}),o(E8e,"resolveYamlMerge"),AF=new cF("tag:yaml.org,2002:merge",{kind:"scalar",resolve:E8e}),NF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",o(C8e,"resolveYamlBinary"),o(A8e,"constructYamlBinary"),o(_8e,"representYamlBinary"),o(L8e,"isBinary"),MF=new cF("tag:yaml.org,2002:binary",{kind:"scalar",resolve:C8e,construct:A8e,predicate:L8e,represent:_8e}),DF=Object.prototype.hasOwnProperty,OF=Object.prototype.toString,o(M8e,"resolveYamlOmap"),o(I8e,"constructYamlOmap"),PF=new cF("tag:yaml.org,2002:omap",{kind:"sequence",resolve:M8e,construct:I8e}),FF=Object.prototype.toString,o(B8e,"resolveYamlPairs"),o(F8e,"constructYamlPairs"),$F=new cF("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:B8e,construct:F8e}),zF=Object.prototype.hasOwnProperty,o($8e,"resolveYamlSet"),o(V8e,"constructYamlSet"),GF=new cF("tag:yaml.org,2002:set",{kind:"mapping",resolve:$8e,construct:V8e}),UF=_F.extend({implicit:[SF,AF],explicit:[MF,PF,$F,GF]}),qF=Object.prototype.hasOwnProperty,jF=1,YF=2,WF=3,HF=4,VF=1,XF=2,KF=3,QF=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ZF=/[\x85\u2028\u2029]/,JF=/[,\[\]\{\}]/,t$=/^(?:!|!!|![a-z\-]+!)$/i,r$=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,o(tZ,"_class"),o(yc,"is_EOL"),o(_d,"is_WHITE_SPACE"),o(Ss,"is_WS_OR_EOL"),o(lm,"is_FLOW_INDICATOR"),o(X8e,"fromHexCode"),o(j8e,"escapedHexLen"),o(K8e,"fromDecimalCode"),o(rZ,"simpleEscapeSequence"),o(Q8e,"charFromCodepoint"),n$=new Array(256),i$=new Array(256),a$=0;a$<256;a$++)n$[a$]=rZ(a$)?1:0,i$[a$]=rZ(a$);o(Z8e,"State$1"),o(CZ,"generateError"),o(Qt,"throwError"),o(F5,"throwWarning"),s$={YAML:o(function(c,q,Y){var V,Z,re;null!==c.version&&Qt(c,"duplication of %YAML directive"),1!==Y.length&&Qt(c,"YAML directive accepts exactly one argument"),null===(V=/^([0-9]+)\.([0-9]+)$/.exec(Y[0]))&&Qt(c,"ill-formed argument of the YAML directive"),Z=parseInt(V[1],10),re=parseInt(V[2],10),1!==Z&&Qt(c,"unacceptable YAML version of the document"),c.version=Y[0],c.checkLineBreaks=re<2,1!==re&&2!==re&&F5(c,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(c,q,Y){var V,Z;2!==Y.length&&Qt(c,"TAG directive accepts exactly two arguments"),V=Y[0],Z=Y[1],t$.test(V)||Qt(c,"ill-formed tag handle (first argument) of the TAG directive"),qF.call(c.tagMap,V)&&Qt(c,'there is a previously declared suffix for "'+V+'" tag handle'),r$.test(Z)||Qt(c,"ill-formed tag prefix (second argument) of the TAG directive");try{Z=decodeURIComponent(Z)}catch{Qt(c,"tag prefix is malformed: "+Z)}c.tagMap[V]=Z},"handleTagDirective")},o(Gh,"captureSegment"),o(iZ,"mergeMappings"),o(cm,"storeMappingPair"),o(K9,"readLineBreak"),o(Ci,"skipSeparationSpace"),o($5,"testDocumentSeparator"),o(Q9,"writeFoldedLines"),o(J8e,"readPlainScalar"),o(e_e,"readSingleQuotedScalar"),o(t_e,"readDoubleQuotedScalar"),o(r_e,"readFlowCollection"),o(n_e,"readBlockScalar"),o(aZ,"readBlockSequence"),o(i_e,"readBlockMapping"),o(a_e,"readTagProperty"),o(s_e,"readAnchorProperty"),o(o_e,"readAlias"),o(um,"composeNode"),o(l_e,"readDocument"),o(AZ,"loadDocuments"),o(c_e,"loadAll$1"),o(u_e,"load$1"),o$={loadAll:c_e,load:u_e},l$=Object.prototype.toString,c$=Object.prototype.hasOwnProperty,h$=65279,u$=9,d$=10,p$=13,g$=32,f$=33,m$=34,y$=35,v$=37,x$=38,b$=39,w$=42,T$=44,_$=45,E$=58,C$=61,S$=62,A$=63,L$=64,N$=91,I$=93,M$=96,R$=123,D$=124,O$=125,(P$={})[0]="\\0",P$[7]="\\a",P$[8]="\\b",P$[9]="\\t",P$[10]="\\n",P$[11]="\\v",P$[12]="\\f",P$[13]="\\r",P$[27]="\\e",P$[34]='\\"',P$[92]="\\\\",P$[133]="\\N",P$[160]="\\_",P$[8232]="\\L",P$[8233]="\\P",B$=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],F$=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,o(N_e,"compileStyleMap"),o(R_e,"encodeHex"),$$=1,z$=2,o(I_e,"State"),o(sZ,"indentString"),o(Y9,"generateNextLine"),o(O_e,"testImplicitResolving"),o(G5,"isWhitespace"),o(kv,"isPrintable"),o(oZ,"isNsCharOrWhitespace"),o(lZ,"isPlainSafe"),o(P_e,"isPlainSafeFirst"),o(B_e,"isPlainSafeLast"),o(xv,"codePointAt"),o(PZ,"needIndentIndicator"),G$=1,U$=2,q$=3,j$=4,Y$=5,o(F_e,"chooseScalarStyle"),o(z_e,"writeScalar"),o(cZ,"blockHeader"),o(uZ,"dropEndingNewline"),o(G_e,"foldString"),o(hZ,"foldLine"),o($_e,"escapeString"),o(V_e,"writeFlowSequence"),o(fZ,"writeBlockSequence"),o(U_e,"writeFlowMapping"),o(H_e,"writeBlockMapping"),o(dZ,"detectType"),o(Cu,"writeNode"),o(W_e,"getDuplicateReferences"),o(X9,"inspectNode"),o(Y_e,"dump$1"),W$={dump:Y_e},o(J9,"renamed"),H$=TF,V$=o$.load,J9("safeLoad","load"),J9("safeLoadAll","loadAll"),J9("safeDump","dump")});function rL(c){let q=[];for(let Y of c){let c=tz.get(Y);c?.styles&&(q=[...q,...c.styles??[]].map(c=>c.trim())),c?.textStyles&&(q=[...q,...c.textStyles??[]].map(c=>c.trim()))}return q}var Q$,Z$,J$,ez,tz,rz,nz,iz,az,sz,oz,lz,cz,hz,uz,dz,pz,gz,fz,mz,yz,vz,xz,bz,wz,kz,Tz,_z,Ez,Cz,Sz,Az,Lz,Nz,Iz,Mz,Rz,Dz,Oz,Pz,Bz,Fz,$z,zz,Gz,Uz,qz,jz,Yz,Wz,Hz,Vz,Xz,Kz,Qz,Zz,Jz,eG,tG,rG,nG,aG,sG,oG,lG,hG,uG,dG,gG,fG,mG=M(()=>{U_(),yM(),hf(),bp(),tF(),Ae(),K$(),cf(),Q$=0,Z$=Xp(),J$=new Map,ez=[],tz=new Map,rz=[],nz=new Map,iz=new Map,az=0,sz=!0,cz=[],hz=o(c=>op.sanitizeText(c,Z$),"sanitizeText"),uz=o(function(c){for(let q of J$.values())if(q.id===c)return q.domId;return c},"lookUpDomId"),dz=o(function(c,q,Y,V,Z,re,ae={},se){if(!c||0===c.trim().length)return;let oe,he=J$.get(c);if(void 0===he&&(he={id:c,labelType:"text",domId:"flowchart-"+c+"-"+Q$,styles:[],classes:[]},J$.set(c,he)),Q$++,void 0!==q?(Z$=Xp(),oe=hz(q.text.trim()),he.labelType=q.type,oe.startsWith('"')&&oe.endsWith('"')&&(oe=oe.substring(1,oe.length-1)),he.text=oe):void 0===he.text&&(he.text=c),void 0!==Y&&(he.type=Y),V?.forEach(function(c){he.styles.push(c)}),Z?.forEach(function(c){he.classes.push(c)}),void 0!==re&&(he.dir=re),void 0===he.props?he.props=ae:void 0!==ae&&Object.assign(he.props,ae),void 0!==se){let q;q=se.includes("\n")?se+"\n":"{\n"+se+"\n}";let Y=V$(q,{schema:H$});if(Y.shape){if(Y.shape!==Y.shape.toLowerCase()||Y.shape.includes("_"))throw new Error(`No such shape: ${Y.shape}. Shape names should be lowercase.`);if(!ZQ(Y.shape))throw new Error(`No such shape: ${Y.shape}.`);he.type=Y?.shape}Y?.label&&(he.text=Y?.label),Y?.icon&&(he.icon=Y?.icon,!Y.label?.trim()&&he.text===c&&(he.text="")),Y?.form&&(he.form=Y?.form),Y?.pos&&(he.pos=Y?.pos),Y?.img&&(he.img=Y?.img,!Y.label?.trim()&&he.text===c&&(he.text="")),Y?.constraint&&(he.constraint=Y.constraint),Y.w&&(he.assetWidth=Number(Y.w)),Y.h&&(he.assetHeight=Number(Y.h))}},"addVertex"),pz=o(function(c,q,Y){let Z={start:c,end:q,type:void 0,text:"",labelType:"text"};V.info("abc78 Got edge...",Z);let re=Y.text;if(void 0!==re&&(Z.text=hz(re.text.trim()),Z.text.startsWith('"')&&Z.text.endsWith('"')&&(Z.text=Z.text.substring(1,Z.text.length-1)),Z.labelType=re.type),void 0!==Y&&(Z.type=Y.type,Z.stroke=Y.stroke,Z.length=Y.length>10?10:Y.length),!(ez.length<(Z$.maxEdges??500)))throw new Error(`Edge limit exceeded. ${ez.length} edges found, but the limit is ${Z$.maxEdges}.\n\nInitialize mermaid with maxEdges set to a higher number to allow more edges.\nYou cannot set this config via configuration inside the diagram as it is a secure config.\nYou have to call mermaid.initialize.`);V.info("Pushing edge..."),ez.push(Z)},"addSingleLink"),gz=o(function(c,q,Y){V.info("addLink",c,q,Y);for(let V of c)for(let c of q)pz(V,c,Y)},"addLink"),fz=o(function(c,q){c.forEach(function(c){"default"===c?ez.defaultInterpolate=q:ez[c].interpolate=q})},"updateLinkInterpolate"),mz=o(function(c,q){c.forEach(function(c){if("number"==typeof c&&c>=ez.length)throw new Error(`The index ${c} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${ez.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);"default"===c?ez.defaultStyle=q:(ez[c].style=q,(ez[c]?.style?.length??0)>0&&!ez[c]?.style?.some(c=>c?.startsWith("fill"))&&ez[c]?.style?.push("fill:none"))})},"updateLink"),yz=o(function(c,q){c.split(",").forEach(function(c){let Y=tz.get(c);void 0===Y&&(Y={id:c,styles:[],textStyles:[]},tz.set(c,Y)),q?.forEach(function(c){if(/color/.exec(c)){let q=c.replace("fill","bgFill");Y.textStyles.push(q)}Y.styles.push(c)})})},"addClass"),vz=o(function(c){/.*</.exec(oz=c)&&(oz="RL"),/.*\^/.exec(oz)&&(oz="BT"),/.*>/.exec(oz)&&(oz="LR"),/.*v/.exec(oz)&&(oz="TB"),"TD"===oz&&(oz="TB")},"setDirection"),xz=o(function(c,q){for(let Y of c.split(",")){let c=J$.get(Y);c&&c.classes.push(q);let V=nz.get(Y);V&&V.classes.push(q)}},"setClass"),bz=o(function(c,q){if(void 0!==q){q=hz(q);for(let Y of c.split(","))iz.set("gen-1"===lz?uz(Y):Y,q)}},"setTooltip"),wz=o(function(c,q,Y){let V=uz(c);if("loose"!==Xp().securityLevel||void 0===q)return;let Z=[];if("string"==typeof Y){Z=Y.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let c=0;c<Z.length;c++){let q=Z[c].trim();q.startsWith('"')&&q.endsWith('"')&&(q=q.substr(1,q.length-2)),Z[c]=q}}0===Z.length&&Z.push(c);let re=J$.get(c);re&&(re.haveCallback=!0,cz.push(function(){let c=document.querySelector(`[id="${V}"]`);null!==c&&c.addEventListener("click",function(){hM.runFunc(q,...Z)},!1)}))},"setClickFun"),kz=o(function(c,q,Y){c.split(",").forEach(function(c){let V=J$.get(c);void 0!==V&&(V.link=hM.formatUrl(q,Z$),V.linkTarget=Y)}),xz(c,"clickable")},"setLink"),Tz=o(function(c){return iz.get(c)},"getTooltip"),_z=o(function(c,q,Y){c.split(",").forEach(function(c){wz(c,q,Y)}),xz(c,"clickable")},"setClickEvent"),Ez=o(function(c){cz.forEach(function(q){q(c)})},"bindFunctions"),Cz=o(function(){return oz.trim()},"getDirection"),Sz=o(function(){return J$},"getVertices"),Az=o(function(){return ez},"getEdges"),Lz=o(function(){return tz},"getClasses"),Nz=o(function(c){let q=ze(".mermaidTooltip");null===(q._groups||q)[0][0]&&(q=ze("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ze(c).select("svg").selectAll("g.node").on("mouseover",function(){let c=ze(this);if(null===c.attr("title"))return;let Y=this?.getBoundingClientRect();q.transition().duration(200).style("opacity",".9"),q.text(c.attr("title")).style("left",window.scrollX+Y.left+(Y.right-Y.left)/2+"px").style("top",window.scrollY+Y.bottom+"px"),q.html(q.html().replace(/&lt;br\/&gt;/g,"<br/>")),c.classed("hover",!0)}).on("mouseout",function(){q.transition().duration(500).style("opacity",0),ze(this).classed("hover",!1)})},"setupToolTips"),cz.push(Nz),Iz=o(function(c="gen-1"){J$=new Map,tz=new Map,ez=[],cz=[Nz],rz=[],nz=new Map,az=0,iz=new Map,sz=!0,lz=c,Z$=Xp(),Mp()},"clear"),Mz=o(c=>{lz=c||"gen-2"},"setGen"),Rz=o(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),Dz=o(function(c,q,Y){let Z=c.text.trim(),re=Y.text;function a(c){let q,Y={boolean:{},number:{},string:{}},V=[];return{nodeList:c.filter(function(c){let Z=typeof c;return c.stmt&&"dir"===c.stmt?(q=c.value,!1):""!==c.trim()&&(Z in Y?!Y[Z].hasOwnProperty(c)&&(Y[Z][c]=!0):!V.includes(c)&&V.push(c))}),dir:q}}c===Y&&/\s/.exec(Y.text)&&(Z=void 0),o(a,"uniq");let{nodeList:ae,dir:se}=a(q.flat());if("gen-1"===lz)for(let c=0;c<ae.length;c++)ae[c]=uz(ae[c]);Z=Z??"subGraph"+az,re=re||"",re=hz(re),az+=1;let oe={id:Z,nodes:ae,title:re.trim(),classes:[],dir:se,labelType:Y.type};return V.info("Adding",oe.id,oe.nodes,oe.dir),oe.nodes=Vz(oe,rz).nodes,rz.push(oe),nz.set(Z,oe),Z},"addSubGraph"),Oz=o(function(c){for(let[q,Y]of rz.entries())if(Y.id===c)return q;return-1},"getPosForId"),Pz=-1,Bz=[],Fz=o(function(c,q){let Y=rz[q].nodes;if((Pz+=1)>2e3)return{result:!1,count:0};if(Bz[Pz]=q,rz[q].id===c)return{result:!0,count:0};let V=0,Z=1;for(;V<Y.length;){let q=Oz(Y[V]);if(q>=0){let Y=Fz(c,q);if(Y.result)return{result:!0,count:Z+Y.count};Z+=Y.count}V+=1}return{result:!1,count:Z}},"indexNodes2"),$z=o(function(c){return Bz[c]},"getDepthFirstPos"),zz=o(function(){Pz=-1,rz.length>0&&Fz("none",rz.length-1)},"indexNodes"),Gz=o(function(){return rz},"getSubGraphs"),Uz=o(()=>!!sz&&(sz=!1,!0),"firstGraph"),qz=o(c=>{let q=c.trim(),Y="arrow_open";switch(q[0]){case"<":Y="arrow_point",q=q.slice(1);break;case"x":Y="arrow_cross",q=q.slice(1);break;case"o":Y="arrow_circle",q=q.slice(1)}let V="normal";return q.includes("=")&&(V="thick"),q.includes(".")&&(V="dotted"),{type:Y,stroke:V}},"destructStartLink"),jz=o((c,q)=>{let Y=q.length,V=0;for(let Z=0;Z<Y;++Z)q[Z]===c&&++V;return V},"countChar"),Yz=o(c=>{let q=c.trim(),Y=q.slice(0,-1),V="arrow_open";switch(q.slice(-1)){case"x":V="arrow_cross",q.startsWith("x")&&(V="double_"+V,Y=Y.slice(1));break;case">":V="arrow_point",q.startsWith("<")&&(V="double_"+V,Y=Y.slice(1));break;case"o":V="arrow_circle",q.startsWith("o")&&(V="double_"+V,Y=Y.slice(1))}let Z="normal",re=Y.length-1;Y.startsWith("=")&&(Z="thick"),Y.startsWith("~")&&(Z="invisible");let ae=jz(".",Y);return ae&&(Z="dotted",re=ae),{type:V,stroke:Z,length:re}},"destructEndLink"),Wz=o((c,q)=>{let Y,V=Yz(c);if(q){if(Y=qz(q),Y.stroke!==V.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===Y.type)Y.type=V.type;else{if(Y.type!==V.type)return{type:"INVALID",stroke:"INVALID"};Y.type="double_"+Y.type}return"double_arrow"===Y.type&&(Y.type="double_arrow_point"),Y.length=V.length,Y}return V},"destructLink"),Hz=o((c,q)=>{for(let Y of c)if(Y.nodes.includes(q))return!0;return!1},"exists"),Vz=o((c,q)=>{let Y=[];return c.nodes.forEach((V,Z)=>{Hz(q,V)||Y.push(c.nodes[Z])}),{nodes:Y}},"makeUniq"),Xz={firstGraph:Uz},Kz=o(c=>{if(c.img)return"imageSquare";if(c.icon)return"circle"===c.form?"iconCircle":"square"===c.form?"iconSquare":"rounded"===c.form?"iconRounded":"icon";switch(c.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return c.type}},"getTypeFromVertex"),Qz=o((c,q)=>c.find(c=>c.id===q),"findNode"),Zz=o(c=>{let q="none",Y="arrow_point";switch(c){case"arrow_point":case"arrow_circle":case"arrow_cross":Y=c;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":q=c.replace("double_",""),Y=q}return{arrowTypeStart:q,arrowTypeEnd:Y}},"destructEdgeType"),Jz=o((c,q,Y,V,Z,re)=>{let ae=Y.get(c.id),se=V.get(c.id)??!1,oe=Qz(q,c.id);if(oe)oe.cssStyles=c.styles,oe.cssCompiledStyles=rL(c.classes),oe.cssClasses=c.classes.join(" ");else{let Y={id:c.id,label:c.text,labelStyle:"",parentId:ae,padding:Z.flowchart?.padding||8,cssStyles:c.styles,cssCompiledStyles:rL(["default","node",...c.classes]),cssClasses:"default "+c.classes.join(" "),dir:c.dir,domId:c.domId,look:re,link:c.link,linkTarget:c.linkTarget,tooltip:Tz(c.id),icon:c.icon,pos:c.pos,img:c.img,assetWidth:c.assetWidth,assetHeight:c.assetHeight,constraint:c.constraint};se?q.push({...Y,isGroup:!0,shape:"rect"}):q.push({...Y,isGroup:!1,shape:Kz(c)})}},"addNodeFromVertex"),o(rL,"getCompiledStyles"),eG=o(()=>{let c=Xp(),q=[],Y=[],V=Gz(),Z=new Map,re=new Map;for(let c=V.length-1;c>=0;c--){let q=V[c];q.nodes.length>0&&re.set(q.id,!0);for(let c of q.nodes)Z.set(c,q.id)}for(let Y=V.length-1;Y>=0;Y--){let re=V[Y];q.push({id:re.id,label:re.title,labelStyle:"",parentId:Z.get(re.id),padding:8,cssCompiledStyles:rL(re.classes),cssClasses:re.classes.join(" "),shape:"rect",dir:re.dir,isGroup:!0,look:c.look})}Sz().forEach(Y=>{Jz(Y,q,Z,re,c,c.look||"classic")});let ae=Az();return ae.forEach((q,V)=>{let{arrowTypeStart:Z,arrowTypeEnd:re}=Zz(q.type),se=[...ae.defaultStyle??[]];q.style&&se.push(...q.style);let oe={id:mM(q.start,q.end,{counter:V,prefix:"L"}),start:q.start,end:q.end,type:q.type??"normal",label:q.text,labelpos:"c",thickness:q.stroke,minlen:q.length,classes:"invisible"===q?.stroke?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:"invisible"===q?.stroke?"none":Z,arrowTypeEnd:"invisible"===q?.stroke?"none":re,arrowheadStyle:"fill: #333",labelStyle:se,style:se,pattern:q.stroke,look:c.look};Y.push(oe)}),{nodes:q,edges:Y,other:{},config:c}},"getData"),tG={defaultConfig:o(()=>Qp.flowchart,"defaultConfig"),setAccTitle:Rp,getAccTitle:Fp,getAccDescription:jp,getData:eG,setAccDescription:qp,addVertex:dz,lookUpDomId:uz,addLink:gz,updateLinkInterpolate:fz,updateLink:mz,addClass:yz,setDirection:vz,setClass:xz,setTooltip:bz,getTooltip:Tz,setClickEvent:_z,setLink:kz,bindFunctions:Ez,getDirection:Cz,getVertices:Sz,getEdges:Az,getClasses:Lz,clear:Iz,setGen:Mz,defaultStyle:Rz,addSubGraph:Dz,getDepthFirstPos:$z,indexNodes:zz,getSubGraphs:Gz,destructLink:Wz,lex:Xz,exists:Hz,makeUniq:Vz,setDiagramTitle:Yp,getDiagramTitle:Wp}}),yG=M(()=>{U_(),rG=o((c,q)=>{let Y;return"sandbox"===q&&(Y=ze("#i"+c)),ze("sandbox"===q?Y.nodes()[0].contentDocument.body:"body").select(`[id="${c}"]`)},"getDiagramElement")}),bG=M(()=>{nG=o(({flowchart:c})=>{let q=c?.subGraphTitleMargin?.top??0,Y=c?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:q,subGraphTitleBottomMargin:Y,subGraphTitleTotalMargin:q+Y}},"getSubGraphTitleMargins")}),wG=M(()=>{hf(),bp(),Ae(),bG(),U_(),hP(),pO(),$O(),gB(),GP(),GO(),aG=o(async(c,q)=>{V.info("Creating subgraph rect for ",q.id,q);let Y=Xp(),{themeVariables:Z,handDrawnSeed:re}=Y,{clusterBkg:ae,clusterBorder:se}=Z,{labelStyles:oe,nodeStyles:he,borderStyles:de,backgroundStyles:pe}=PO(q),ge=c.insert("g").attr("class","cluster "+q.cssClasses).attr("id",q.id).attr("data-look",q.look),me=zd(Y.flowchart.htmlLabels),ve=ge.insert("g").attr("class","cluster-label "),be=await dO(ve,q.label,{style:q.labelStyle,useHtmlLabels:me,isNode:!0}),we=be.getBBox();if(zd(Y.flowchart.htmlLabels)){let c=be.children[0],q=ze(be);we=c.getBoundingClientRect(),q.attr("width",we.width),q.attr("height",we.height)}let Te=q.width<=we.width+q.padding?we.width+q.padding:q.width;q.width<=we.width+q.padding?q.diff=(Te-q.width)/2-q.padding:q.diff=-q.padding;let _e,Ee=q.height,Ce=q.x-Te/2,Se=q.y-Ee/2;if(V.trace("Data ",q,JSON.stringify(q)),"handDrawn"===q.look){let c=cP.svg(ge),Y=BO(q,{roughness:.7,fill:ae,stroke:se,fillWeight:3,seed:re}),Z=c.path($P(Ce,Se,Te,Ee,0),Y);_e=ge.insert(()=>(V.debug("Rough node insert CXC",Z),Z),":first-child"),_e.select("path:nth-child(2)").attr("style",de.join(";")),_e.select("path").attr("style",pe.join(";").replace("fill","stroke"))}else _e=ge.insert("rect",":first-child"),_e.attr("style",he).attr("rx",q.rx).attr("ry",q.ry).attr("x",Ce).attr("y",Se).attr("width",Te).attr("height",Ee);let{subGraphTitleTopMargin:Ae}=nG(Y);if(ve.attr("transform",`translate(${q.x-we.width/2}, ${q.y-q.height/2+Ae})`),oe){let c=ve.select("span");c&&c.attr("style",oe)}let Le=_e.node().getBBox();return q.offsetX=0,q.width=Le.width,q.height=Le.height,q.offsetY=we.height-q.padding/2,q.intersect=function(c){return IO(q,c)},{cluster:ge,labelBBox:we}},"rect"),sG=o((c,q)=>{let Y=c.insert("g").attr("class","note-cluster").attr("id",q.id),V=Y.insert("rect",":first-child"),Z=0*q.padding,re=Z/2;V.attr("rx",q.rx).attr("ry",q.ry).attr("x",q.x-q.width/2-re).attr("y",q.y-q.height/2-re).attr("width",q.width+Z).attr("height",q.height+Z).attr("fill","none");let ae=V.node().getBBox();return q.width=ae.width,q.height=ae.height,q.intersect=function(c){return IO(q,c)},{cluster:Y,labelBBox:{width:0,height:0}}},"noteGroup"),oG=o(async(c,q)=>{let Y=Xp(),{themeVariables:V,handDrawnSeed:Z}=Y,{altBackground:re,compositeBackground:ae,compositeTitleBackground:se,nodeBorder:oe}=V,he=c.insert("g").attr("class",q.cssClasses).attr("id",q.id).attr("data-id",q.id).attr("data-look",q.look),de=he.insert("g",":first-child"),pe=he.insert("g").attr("class","cluster-label"),ge=he.append("rect"),me=pe.node().appendChild(await dB(q.label,q.labelStyle,void 0,!0)),ve=me.getBBox();if(zd(Y.flowchart.htmlLabels)){let c=me.children[0],q=ze(me);ve=c.getBoundingClientRect(),q.attr("width",ve.width),q.attr("height",ve.height)}let be=0*q.padding,we=be/2,Te=(q.width<=ve.width+q.padding?ve.width+q.padding:q.width)+be;q.width<=ve.width+q.padding?q.diff=(Te-q.width)/2-q.padding:q.diff=-q.padding;let _e=q.height+be,Ee=q.height+be-ve.height-6,Ce=q.x-Te/2,Se=q.y-_e/2;q.width=Te;let Ae,Le=q.y-q.height/2-we+ve.height+2;if("handDrawn"===q.look){let c=q.cssClasses.includes("statediagram-cluster-alt"),Y=cP.svg(he),V=q.rx||q.ry?Y.path($P(Ce,Se,Te,_e,10),{roughness:.7,fill:se,fillStyle:"solid",stroke:oe,seed:Z}):Y.rectangle(Ce,Se,Te,_e,{seed:Z});Ae=he.insert(()=>V,":first-child");let de=Y.rectangle(Ce,Le,Te,Ee,{fill:c?re:ae,fillStyle:c?"hachure":"solid",stroke:oe,seed:Z});Ae=he.insert(()=>V,":first-child"),ge=he.insert(()=>de)}else Ae=de.insert("rect",":first-child"),Ae.attr("class","outer").attr("x",Ce).attr("y",Se).attr("width",Te).attr("height",_e).attr("data-look",q.look),ge.attr("class","inner").attr("x",Ce).attr("y",Le).attr("width",Te).attr("height",Ee);pe.attr("transform",`translate(${q.x-ve.width/2}, ${Se+1-(zd(Y.flowchart.htmlLabels)?0:3)})`);let Ne=Ae.node().getBBox();return q.height=Ne.height,q.offsetX=0,q.offsetY=ve.height-q.padding/2,q.labelBBox=ve,q.intersect=function(c){return IO(q,c)},{cluster:he,labelBBox:ve}},"roundedWithTitle"),lG=o(async(c,q)=>{V.info("Creating subgraph rect for ",q.id,q);let Y=Xp(),{themeVariables:Z,handDrawnSeed:re}=Y,{clusterBkg:ae,clusterBorder:se}=Z,{labelStyles:oe,nodeStyles:he,borderStyles:de,backgroundStyles:pe}=PO(q),ge=c.insert("g").attr("class","cluster "+q.cssClasses).attr("id",q.id).attr("data-look",q.look),me=zd(Y.flowchart.htmlLabels),ve=ge.insert("g").attr("class","cluster-label "),be=await dO(ve,q.label,{style:q.labelStyle,useHtmlLabels:me,isNode:!0,width:q.width}),we=be.getBBox();if(zd(Y.flowchart.htmlLabels)){let c=be.children[0],q=ze(be);we=c.getBoundingClientRect(),q.attr("width",we.width),q.attr("height",we.height)}let Te=q.width<=we.width+q.padding?we.width+q.padding:q.width;q.width<=we.width+q.padding?q.diff=(Te-q.width)/2-q.padding:q.diff=-q.padding;let _e,Ee=q.height,Ce=q.x-Te/2,Se=q.y-Ee/2;if(V.trace("Data ",q,JSON.stringify(q)),"handDrawn"===q.look){let c=cP.svg(ge),Y=BO(q,{roughness:.7,fill:ae,stroke:se,fillWeight:4,seed:re}),Z=c.path($P(Ce,Se,Te,Ee,q.rx),Y);_e=ge.insert(()=>(V.debug("Rough node insert CXC",Z),Z),":first-child"),_e.select("path:nth-child(2)").attr("style",de.join(";")),_e.select("path").attr("style",pe.join(";").replace("fill","stroke"))}else _e=ge.insert("rect",":first-child"),_e.attr("style",he).attr("rx",q.rx).attr("ry",q.ry).attr("x",Ce).attr("y",Se).attr("width",Te).attr("height",Ee);let{subGraphTitleTopMargin:Ae}=nG(Y);if(ve.attr("transform",`translate(${q.x-we.width/2}, ${q.y-q.height/2+Ae})`),oe){let c=ve.select("span");c&&c.attr("style",oe)}let Le=_e.node().getBBox();return q.offsetX=0,q.width=Le.width,q.height=Le.height,q.offsetY=we.height-q.padding/2,q.intersect=function(c){return IO(q,c)},{cluster:ge,labelBBox:we}},"kanbanSection"),hG=o((c,q)=>{let Y=Xp(),{themeVariables:V,handDrawnSeed:Z}=Y,{nodeBorder:re}=V,ae=c.insert("g").attr("class",q.cssClasses).attr("id",q.id).attr("data-look",q.look),se=ae.insert("g",":first-child"),oe=0*q.padding,he=q.width+oe;q.diff=-q.padding;let de,pe=q.height+oe,ge=q.x-he/2,me=q.y-pe/2;if(q.width=he,"handDrawn"===q.look){let c=cP.svg(ae).rectangle(ge,me,he,pe,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:re,seed:Z});de=ae.insert(()=>c,":first-child")}else de=se.insert("rect",":first-child"),de.attr("class","divider").attr("x",ge).attr("y",me).attr("width",he).attr("height",pe).attr("data-look",q.look);let ve=de.node().getBBox();return q.height=ve.height,q.offsetX=0,q.offsetY=0,q.intersect=function(c){return IO(q,c)},{cluster:ae,labelBBox:{}}},"divider"),uG={rect:aG,squareRect:aG,roundedWithTitle:oG,noteGroup:sG,divider:hG,kanbanSection:lG},dG=new Map,gG=o(async(c,q)=>{let Y=q.shape||"rect",V=await uG[Y](c,q);return dG.set(q.id,V),V},"insertCluster"),fG=o(()=>{dG=new Map},"clear")});function Q5(c,q){if(void 0===c||void 0===q)return{angle:0,deltaX:0,deltaY:0};c=TG(c),q=TG(q);let[Y,V]=[c.x,c.y],[Z,re]=[q.x,q.y],ae=Z-Y,se=re-V;return{angle:Math.atan(se/ae),deltaX:ae,deltaY:se}}var kG,TG,_G,EG,CG,SG,AG=M(()=>{kG={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4},o(Q5,"calculateDeltaAndAngle"),TG=o(c=>Array.isArray(c)?{x:c[0],y:c[1]}:c,"pointTransformer"),_G=o(c=>({x:o(function(q,Y,V){let Z=0,re=TG(V[0]).x<TG(V[V.length-1]).x?"left":"right";if(0===Y&&Object.hasOwn(kG,c.arrowTypeStart)){let{angle:q,deltaX:Y}=Q5(V[0],V[1]);Z=kG[c.arrowTypeStart]*Math.cos(q)*(Y>=0?1:-1)}else if(Y===V.length-1&&Object.hasOwn(kG,c.arrowTypeEnd)){let{angle:q,deltaX:Y}=Q5(V[V.length-1],V[V.length-2]);Z=kG[c.arrowTypeEnd]*Math.cos(q)*(Y>=0?1:-1)}let ae=Math.abs(TG(q).x-TG(V[V.length-1]).x),se=Math.abs(TG(q).y-TG(V[V.length-1]).y),oe=Math.abs(TG(q).x-TG(V[0]).x),he=Math.abs(TG(q).y-TG(V[0]).y),de=kG[c.arrowTypeStart],pe=kG[c.arrowTypeEnd];if(ae<pe&&ae>0&&se<pe){let c=pe+1-ae;c*="right"===re?-1:1,Z-=c}if(oe<de&&oe>0&&he<de){let c=de+1-oe;c*="right"===re?-1:1,Z+=c}return TG(q).x+Z},"x"),y:o(function(q,Y,V){let Z=0,re=TG(V[0]).y<TG(V[V.length-1]).y?"down":"up";if(0===Y&&Object.hasOwn(kG,c.arrowTypeStart)){let{angle:q,deltaY:Y}=Q5(V[0],V[1]);Z=kG[c.arrowTypeStart]*Math.abs(Math.sin(q))*(Y>=0?1:-1)}else if(Y===V.length-1&&Object.hasOwn(kG,c.arrowTypeEnd)){let{angle:q,deltaY:Y}=Q5(V[V.length-1],V[V.length-2]);Z=kG[c.arrowTypeEnd]*Math.abs(Math.sin(q))*(Y>=0?1:-1)}let ae=Math.abs(TG(q).y-TG(V[V.length-1]).y),se=Math.abs(TG(q).x-TG(V[V.length-1]).x),oe=Math.abs(TG(q).y-TG(V[0]).y),he=Math.abs(TG(q).x-TG(V[0]).x),de=kG[c.arrowTypeStart],pe=kG[c.arrowTypeEnd];if(ae<pe&&ae>0&&se<pe){let c=pe+1-ae;c*="up"===re?-1:1,Z-=c}if(oe<de&&oe>0&&he<de){let c=de+1-oe;c*="up"===re?-1:1,Z+=c}return TG(q).y+Z},"y")}),"getLineFunctionsWithOffset")}),LG=M(()=>{Ae(),EG=o((c,q,Y,V,Z)=>{q.arrowTypeStart&&SG(c,"start",q.arrowTypeStart,Y,V,Z),q.arrowTypeEnd&&SG(c,"end",q.arrowTypeEnd,Y,V,Z)},"addEdgeMarkers"),CG={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},SG=o((c,q,Y,Z,re,ae)=>{let se=CG[Y];if(!se)return void V.warn(`Unknown arrow type: ${Y}`);let oe="start"===q?"Start":"End";c.attr(`marker-${q}`,`url(${Z}#${re}_${ae}-${se}${oe})`)},"addEdgeMarker")});function J5(c,q){Xp().flowchart.htmlLabels&&c&&(c.style.width=9*q.length+"px",c.style.height="12px")}function P9e(c){let q=[],Y=[];for(let V=1;V<c.length-1;V++){let Z=c[V-1],re=c[V],ae=c[V+1];(Z.x===re.x&&re.y===ae.y&&Math.abs(re.x-ae.x)>5&&Math.abs(re.y-Z.y)>5||Z.y===re.y&&re.x===ae.x&&Math.abs(re.x-Z.x)>5&&Math.abs(re.y-ae.y)>5)&&(q.push(re),Y.push(V))}return{cornerPoints:q,cornerPointPositions:Y}}var NG,IG,MG,RG,DG,OG,PG,FG,$G,zG,GG,UG,qG,YG,WG,HG,VG,XG,KG,QG,ZG,sU,oU,lU,cU=M(()=>{hf(),bp(),Ae(),pO(),yM(),AG(),bG(),U_(),hP(),gB(),LG(),NG=new Map,IG=new Map,MG=o(()=>{NG.clear(),IG.clear()},"clear"),RG=o(c=>c?c.reduce((c,q)=>c+";"+q,""):"","getLabelStyles"),DG=o(async(c,q)=>{let Y=zd(Xp().flowchart.htmlLabels),Z=await dO(c,q.label,{style:RG(q.labelStyle),useHtmlLabels:Y,addSvgBackground:!0,isNode:!1});V.info("abc82",q,q.labelType);let re=c.insert("g").attr("class","edgeLabel"),ae=re.insert("g").attr("class","label");ae.node().appendChild(Z);let se,oe=Z.getBBox();if(Y){let c=Z.children[0],q=ze(Z);oe=c.getBoundingClientRect(),q.attr("width",oe.width),q.attr("height",oe.height)}if(ae.attr("transform","translate("+-oe.width/2+", "+-oe.height/2+")"),NG.set(q.id,re),q.width=oe.width,q.height=oe.height,q.startLabelLeft){let Y=await dB(q.startLabelLeft,RG(q.labelStyle)),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),IG.get(q.id)||IG.set(q.id,{}),IG.get(q.id).startLeft=V,J5(se,q.startLabelLeft)}if(q.startLabelRight){let Y=await dB(q.startLabelRight,RG(q.labelStyle)),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=V.node().appendChild(Y),Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),IG.get(q.id)||IG.set(q.id,{}),IG.get(q.id).startRight=V,J5(se,q.startLabelRight)}if(q.endLabelLeft){let Y=await dB(q.endLabelLeft,RG(q.labelStyle)),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),V.node().appendChild(Y),IG.get(q.id)||IG.set(q.id,{}),IG.get(q.id).endLeft=V,J5(se,q.endLabelLeft)}if(q.endLabelRight){let Y=await dB(q.endLabelRight,RG(q.labelStyle)),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),V.node().appendChild(Y),IG.get(q.id)||IG.set(q.id,{}),IG.get(q.id).endRight=V,J5(se,q.endLabelRight)}return Z},"insertEdgeLabel"),o(J5,"setTerminalWidth"),OG=o((c,q)=>{V.debug("Moving label abc88 ",c.id,c.label,NG.get(c.id),q);let Y=q.updatedPath?q.updatedPath:q.originalPath,Z=Xp(),{subGraphTitleTotalMargin:re}=nG(Z);if(c.label){let Z=NG.get(c.id),ae=c.x,se=c.y;if(Y){let Z=hM.calcLabelPosition(Y);V.debug("Moving label "+c.label+" from (",ae,",",se,") to (",Z.x,",",Z.y,") abc88"),q.updatedPath&&(ae=Z.x,se=Z.y)}Z.attr("transform",`translate(${ae}, ${se+re/2})`)}if(c.startLabelLeft){let q=IG.get(c.id).startLeft,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeStart?10:0,"start_left",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}if(c.startLabelRight){let q=IG.get(c.id).startRight,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeStart?10:0,"start_right",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}if(c.endLabelLeft){let q=IG.get(c.id).endLeft,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeEnd?10:0,"end_left",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}if(c.endLabelRight){let q=IG.get(c.id).endRight,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeEnd?10:0,"end_right",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}},"positionEdgeLabel"),PG=o((c,q)=>{let Y=c.x,V=c.y,Z=Math.abs(q.x-Y),re=Math.abs(q.y-V),ae=c.width/2,se=c.height/2;return Z>=ae||re>=se},"outsideNode"),FG=o((c,q,Y)=>{V.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(q)}\n  insidePoint : ${JSON.stringify(Y)}\n  node        : x:${c.x} y:${c.y} w:${c.width} h:${c.height}`);let Z=c.x,re=c.y,ae=Math.abs(Z-Y.x),se=c.width/2,oe=Y.x<q.x?se-ae:se+ae,he=c.height/2,de=Math.abs(q.y-Y.y),pe=Math.abs(q.x-Y.x);if(Math.abs(re-q.y)*se>Math.abs(Z-q.x)*he){let c=Y.y<q.y?q.y-he-re:re-he-q.y;oe=pe*c/de;let Z={x:Y.x<q.x?Y.x+oe:Y.x-pe+oe,y:Y.y<q.y?Y.y+de-c:Y.y-de+c};return 0===oe&&(Z.x=q.x,Z.y=q.y),0===pe&&(Z.x=q.x),0===de&&(Z.y=q.y),V.debug(`abc89 top/bottom calc, Q ${de}, q ${c}, R ${pe}, r ${oe}`,Z),Z}{oe=Y.x<q.x?q.x-se-Z:Z-se-q.x;let c=de*oe/pe,re=Y.x<q.x?Y.x+pe-oe:Y.x-pe+oe,ae=Y.y<q.y?Y.y+c:Y.y-c;return V.debug(`sides calc abc89, Q ${de}, q ${c}, R ${pe}, r ${oe}`,{_x:re,_y:ae}),0===oe&&(re=q.x,ae=q.y),0===pe&&(re=q.x),0===de&&(ae=q.y),{x:re,y:ae}}},"intersection"),$G=o((c,q)=>{V.warn("abc88 cutPathAtIntersect",c,q);let Y=[],Z=c[0],re=!1;return c.forEach(c=>{if(V.info("abc88 checking point",c,q),PG(q,c)||re)V.warn("abc88 outside",c,Z),Z=c,re||Y.push(c);else{let ae=FG(q,Z,c);V.debug("abc88 inside",c,Z,ae),V.debug("abc88 intersection",ae,q);let se=!1;Y.forEach(c=>{se=se||c.x===ae.x&&c.y===ae.y}),Y.some(c=>c.x===ae.x&&c.y===ae.y)?V.warn("abc88 no intersect",ae,Y):Y.push(ae),re=!0}}),V.debug("returning points",Y),Y},"cutPathAtIntersect"),o(P9e,"extractCornerPoints"),zG=o(function(c,q,Y){let V=q.x-c.x,Z=q.y-c.y,re=Y/Math.sqrt(V*V+Z*Z);return{x:q.x-re*V,y:q.y-re*Z}},"findAdjacentPoint"),GG=o(function(c){let{cornerPointPositions:q}=P9e(c),Y=[];for(let Z=0;Z<c.length;Z++)if(q.includes(Z)){let q=c[Z-1],re=c[Z+1],ae=c[Z],se=zG(q,ae,5),oe=zG(re,ae,5),he=oe.x-se.x,de=oe.y-se.y;Y.push(se);let pe=2*Math.sqrt(2),ge={x:ae.x,y:ae.y};if(Math.abs(re.x-q.x)>10&&Math.abs(re.y-q.y)>=10){V.debug("Corner point fixing",Math.abs(re.x-q.x),Math.abs(re.y-q.y));let c=5;ge=ae.x===se.x?{x:he<0?se.x-c+pe:se.x+c-pe,y:de<0?se.y-pe:se.y+pe}:{x:he<0?se.x-pe:se.x+pe,y:de<0?se.y-c+pe:se.y+c-pe}}else V.debug("Corner point skipping fixing",Math.abs(re.x-q.x),Math.abs(re.y-q.y));Y.push(ge,oe)}else Y.push(c[Z]);return Y},"fixCorners"),UG=o(function(c,q,Y,Z,re,ae,se){let{handDrawnSeed:oe}=Xp(),he=q.points,de=!1,pe=re;var ge=ae;ge.intersect&&pe.intersect&&(he=he.slice(1,q.points.length-1),he.unshift(pe.intersect(he[0])),V.debug("Last point APA12",q.start,"--\x3e",q.end,he[he.length-1],ge,ge.intersect(he[he.length-1])),he.push(ge.intersect(he[he.length-1]))),q.toCluster&&(V.info("to cluster abc88",Y.get(q.toCluster)),he=$G(q.points,Y.get(q.toCluster).node),de=!0),q.fromCluster&&(V.debug("from cluster abc88",Y.get(q.fromCluster),JSON.stringify(he,null,2)),he=$G(he.reverse(),Y.get(q.fromCluster).node).reverse(),de=!0);let me=he.filter(c=>!Number.isNaN(c.y));me=GG(me);let ve=Do;q.curve&&(ve=q.curve);let be,{x:we,y:Te}=_G(q),_e=Ka().x(we).y(Te).curve(ve);switch(q.thickness){case"normal":default:be="edge-thickness-normal";break;case"thick":be="edge-thickness-thick";break;case"invisible":be="edge-thickness-invisible"}switch(q.pattern){case"solid":default:be+=" edge-pattern-solid";break;case"dotted":be+=" edge-pattern-dotted";break;case"dashed":be+=" edge-pattern-dashed"}let Ee,Ce=_e(me),Se=Array.isArray(q.style)?q.style:[q.style];if("handDrawn"===q.look){let Y=cP.svg(c);Object.assign([],me),be+=" transition",Ee=ze(Y.path(Ce,{roughness:.3,seed:oe})).select("path").attr("id",q.id).attr("class"," "+be+(q.classes?" "+q.classes:"")).attr("style",Se?Se.reduce((c,q)=>c+";"+q,""):"");let V=Ee.attr("d");Ee.attr("d",V),c.node().appendChild(Ee.node())}else Ee=c.append("path").attr("d",Ce).attr("id",q.id).attr("class"," "+be+(q.classes?" "+q.classes:"")).attr("style",Se?Se.reduce((c,q)=>c+";"+q,""):"");let Ae="";(Xp().flowchart.arrowMarkerAbsolute||Xp().state.arrowMarkerAbsolute)&&(Ae=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ae=Ae.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),V.info("arrowTypeStart",q.arrowTypeStart),V.info("arrowTypeEnd",q.arrowTypeEnd),EG(Ee,q,Ae,se,Z);let Le={};return de&&(Le.updatedPath=he),Le.originalPath=q.points,Le},"insertEdge")}),hU=M(()=>{Ae(),qG=o((c,q,Y,V)=>{q.forEach(q=>{oU[q](c,Y,V)})},"insertMarkers"),YG=o((c,q,Y)=>{V.trace("Making markers for ",Y),c.append("defs").append("marker").attr("id",Y+"_"+q+"-extensionStart").attr("class","marker extension "+q).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-extensionEnd").attr("class","marker extension "+q).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),WG=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-compositionStart").attr("class","marker composition "+q).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-compositionEnd").attr("class","marker composition "+q).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),HG=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-aggregationStart").attr("class","marker aggregation "+q).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-aggregationEnd").attr("class","marker aggregation "+q).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),VG=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-dependencyStart").attr("class","marker dependency "+q).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-dependencyEnd").attr("class","marker dependency "+q).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),XG=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-lollipopStart").attr("class","marker lollipop "+q).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),c.append("defs").append("marker").attr("id",Y+"_"+q+"-lollipopEnd").attr("class","marker lollipop "+q).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),KG=o((c,q,Y)=>{c.append("marker").attr("id",Y+"_"+q+"-pointEnd").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),c.append("marker").attr("id",Y+"_"+q+"-pointStart").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),QG=o((c,q,Y)=>{c.append("marker").attr("id",Y+"_"+q+"-circleEnd").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),c.append("marker").attr("id",Y+"_"+q+"-circleStart").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),ZG=o((c,q,Y)=>{c.append("marker").attr("id",Y+"_"+q+"-crossEnd").attr("class","marker cross "+q).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),c.append("marker").attr("id",Y+"_"+q+"-crossStart").attr("class","marker cross "+q).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),sU=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),oU={extension:YG,composition:WG,aggregation:HG,dependency:VG,lollipop:XG,point:KG,circle:QG,cross:ZG,barb:sU},lU=qG});async function gm(c,q,Y){let V,Z;"rect"===q.shape&&(q.rx&&q.ry?q.shape="roundedRect":q.shape="squareRect");let re=q.shape?eF[q.shape]:void 0;if(!re)throw new Error(`No such shape: ${q.shape}. Please check your syntax.`);if(q.link){let ae;"sandbox"===Y.config.securityLevel?ae="_top":q.linkTarget&&(ae=q.linkTarget||"_blank"),V=c.insert("svg:a").attr("xlink:href",q.link).attr("target",ae??null),Z=await re(V,q,Y)}else Z=await re(c,q,Y),V=Z;return q.tooltip&&Z.attr("title",q.tooltip),uU.set(q.id,V),q.haveCallback&&V.attr("class",V.attr("class")+" clickable"),V}var uU,dU,gU,fU,yU,kU=M(()=>{Ae(),tF(),uU=new Map,o(gm,"insertNode"),dU=o((c,q)=>{uU.set(q.id,c)},"setNodeElem"),gU=o(()=>{uU.clear()},"clear"),fU=o(c=>{let q=uU.get(c.id);V.trace("Transforming node",c.diff,c,"translate("+(c.x-c.width/2-5)+", "+c.width/2+")");let Y=c.diff||0;return c.clusterNode?q.attr("transform","translate("+(c.x+Y-c.width/2)+", "+(c.y-c.height/2-8)+")"):q.attr("transform","translate("+c.x+", "+c.y+")"),Y},"positionNode")}),_U=M(()=>{ki(),bp(),Ae(),wG(),cU(),hU(),kU(),xO(),yM(),yU={common:op,getConfig:bn,insertCluster:gG,insertEdge:UG,insertEdgeLabel:DG,insertMarkers:lU,insertNode:gm,interpolateToCurve:Q_,labelHelper:gO,log:V,positionEdgeLabel:OG}});function K9e(c){return"symbol"==typeof c||nL(c)&&uE(c)==CU}var CU,SU,AU=M(()=>{pE(),iL(),CU="[object Symbol]",o(K9e,"isSymbol"),SU=K9e});function Q9e(c,q){for(var Y=-1,V=null==c?0:c.length,Z=Array(V);++Y<V;)Z[Y]=q(c[Y],Y,c);return Z}var LU,MU=M(()=>{o(Q9e,"arrayMap"),LU=Q9e});function hJ(c){if("string"==typeof c)return c;if(pL(c))return LU(c,hJ)+"";if(SU(c))return BU?BU.call(c):"";var q=c+"";return"0"==q&&1/c==-DU?"-0":q}var DU,OU,BU,zU,GU=M(()=>{X_(),MU(),mL(),AU(),DU=1/0,OU=B_?B_.prototype:void 0,BU=OU?OU.toString:void 0,o(hJ,"baseToString"),zU=hJ});function eLe(c){for(var q=c.length;q--&&UU.test(c.charAt(q)););return q}var UU,qU,jU=M(()=>{UU=/\s/,o(eLe,"trimmedEndIndex"),qU=eLe});function rLe(c){return c&&c.slice(0,qU(c)+1).replace(YU,"")}var YU,WU,HU=M(()=>{jU(),YU=/^\s+/,o(rLe,"baseTrim"),WU=rLe});function oLe(c){if("number"==typeof c)return c;if(SU(c))return VU;if(gE(c)){var q="function"==typeof c.valueOf?c.valueOf():c;c=gE(q)?q+"":q}if("string"!=typeof c)return 0===c?c:+c;c=WU(c);var Y=KU.test(c);return Y||QU.test(c)?ZU(c.slice(2),Y?2:8):XU.test(c)?VU:+c}var VU,XU,KU,QU,ZU,JU,eq=M(()=>{HU(),fE(),AU(),VU=NaN,XU=/^[-+]0x[0-9a-f]+$/i,KU=/^0b[01]+$/i,QU=/^0o[0-7]+$/i,ZU=parseInt,o(oLe,"toNumber"),JU=oLe});function cLe(c){return c?(c=JU(c))===tq||c===-tq?(c<0?-1:1)*rq:c==c?c:0:0===c?c:0}var tq,rq,nq,iq=M(()=>{eq(),tq=1/0,rq=17976931348623157e292,o(cLe,"toFinite"),nq=cLe});function uLe(c){var q=nq(c),Y=q%1;return q==q?Y?q-Y:q:0}var aq,sq,oq,lq=M(()=>{iq(),o(uLe,"toInteger"),aq=uLe}),cq=M(()=>{HE(),V_(),sq=jE(O_,"WeakMap"),oq=sq});function fLe(){}var hq,uq=M(()=>{o(fLe,"noop"),hq=fLe});function dLe(c,q){for(var Y=-1,V=null==c?0:c.length;++Y<V&&!1!==q(c[Y],Y,c););return c}var dq,pq=M(()=>{o(dLe,"arrayEach"),dq=dLe});function pLe(c,q,Y,V){for(var Z=c.length,re=Y+(V?1:-1);V?re--:++re<Z;)if(q(c[re],re,c))return re;return-1}var gq,fq=M(()=>{o(pLe,"baseFindIndex"),gq=pLe});function mLe(c){return c!=c}var mq,yq=M(()=>{o(mLe,"baseIsNaN"),mq=mLe});function gLe(c,q,Y){for(var V=Y-1,Z=c.length;++V<Z;)if(c[V]===q)return V;return-1}var vq,xq=M(()=>{o(gLe,"strictIndexOf"),vq=gLe});function yLe(c,q,Y){return q==q?vq(c,q,Y):gq(c,mq,Y)}var bq,wq=M(()=>{fq(),yq(),xq(),o(yLe,"baseIndexOf"),bq=yLe});function vLe(c,q){return!!(null==c?0:c.length)&&bq(c,q,0)>-1}var kq,Tq,_q,Eq=M(()=>{wq(),o(vLe,"arrayIncludes"),kq=vLe}),Cq=M(()=>{OA(),Tq=IA(Object.keys,Object),_q=Tq});function TLe(c){if(!zA(c))return _q(c);var q=[];for(var Y in Object(c))Aq.call(c,Y)&&"constructor"!=Y&&q.push(Y);return q}var Sq,Aq,Lq,Nq=M(()=>{VA(),Cq(),Sq=Object.prototype,Aq=Sq.hasOwnProperty,o(TLe,"baseKeys"),Lq=TLe});function kLe(c){return bL(c)?LN(c):Lq(c)}var Iq,Mq,Rq,Dq,Oq,Pq=M(()=>{NN(),Nq(),wL(),o(kLe,"keys"),Iq=kLe}),Bq=M(()=>{gN(),mN(),BI(),wL(),VA(),Pq(),Mq=Object.prototype,Rq=Mq.hasOwnProperty,Dq=DI(function(c,q){if(zA(q)||bL(q))fN(q,Iq(q),c);else for(var Y in q)Rq.call(q,Y)&&pN(c,Y,q[Y])}),Oq=Dq});function LLe(c,q){if(pL(c))return!1;var Y=typeof c;return!("number"!=Y&&"symbol"!=Y&&"boolean"!=Y&&null!=c&&!SU(c))||($q.test(c)||!Fq.test(c)||null!=q&&c in Object(q))}var Fq,$q,zq,Gq=M(()=>{mL(),AU(),Fq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$q=/^\w*$/,o(LLe,"isKey"),zq=LLe});function NLe(c){var q=rS(c,function(c){return Y.size===Uq&&Y.clear(),c}),Y=q.cache;return q}var Uq,qq,jq,Yq,Wq,Hq,Vq=M(()=>{nS(),Uq=500,o(NLe,"memoizeCapped"),qq=NLe}),Xq=M(()=>{Vq(),jq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yq=/\\(\\)?/g,Wq=qq(function(c){var q=[];return 46===c.charCodeAt(0)&&q.push(""),c.replace(jq,function(c,Y,V,Z){q.push(V?Z.replace(Yq,"$1"):Y||c)}),q}),Hq=Wq});function OLe(c){return null==c?"":zU(c)}var Kq,Qq=M(()=>{GU(),o(OLe,"toString"),Kq=OLe});function PLe(c,q){return pL(c)?c:zq(c,q)?[c]:Hq(Kq(c))}var Zq,Jq=M(()=>{mL(),Gq(),Xq(),Qq(),o(PLe,"castPath"),Zq=PLe});function FLe(c){if("string"==typeof c||SU(c))return c;var q=c+"";return"0"==q&&1/c==-ej?"-0":q}var ej,tj,rj=M(()=>{AU(),ej=1/0,o(FLe,"toKey"),tj=FLe});function zLe(c,q){for(var Y=0,V=(q=Zq(q,c)).length;null!=c&&Y<V;)c=c[tj(q[Y++])];return Y&&Y==V?c:void 0}var nj,ij=M(()=>{Jq(),rj(),o(zLe,"baseGet"),nj=zLe});function GLe(c,q,Y){var V=null==c?void 0:nj(c,q);return void 0===V?Y:V}var aj,sj=M(()=>{ij(),o(GLe,"get"),aj=GLe});function $Le(c,q){for(var Y=-1,V=q.length,Z=c.length;++Y<V;)c[Z+Y]=q[Y];return c}var oj,lj=M(()=>{o($Le,"arrayPush"),oj=$Le});function VLe(c){return pL(c)||uL(c)||!!(hj&&c&&c[hj])}var hj,pj,yj=M(()=>{X_(),fL(),mL(),hj=B_?B_.isConcatSpreadable:void 0,o(VLe,"isFlattenable"),pj=VLe});function zJ(c,q,Y,V,Z){var re=-1,ae=c.length;for(Y||(Y=pj),Z||(Z=[]);++re<ae;){var se=c[re];q>0&&Y(se)?q>1?zJ(se,q-1,Y,V,Z):oj(Z,se):V||(Z[Z.length]=se)}return Z}var vj,xj=M(()=>{lj(),yj(),o(zJ,"baseFlatten"),vj=zJ});function ULe(c){return(null==c?0:c.length)?vj(c,1):[]}var bj,kj=M(()=>{xj(),o(ULe,"flatten"),bj=ULe});function HLe(c){return CI(fI(c,void 0,bj),c+"")}var Tj,Ej=M(()=>{kj(),mI(),AI(),o(HLe,"flatRest"),Tj=HLe});function WLe(c,q,Y){var V=-1,Z=c.length;q<0&&(q=-q>Z?0:Z+q),(Y=Y>Z?Z:Y)<0&&(Y+=Z),Z=q>Y?0:Y-q>>>0,q>>>=0;for(var re=Array(Z);++V<Z;)re[V]=c[V+q];return re}var Cj,Sj=M(()=>{o(WLe,"baseSlice"),Cj=WLe});function eDe(c){return Aj.test(c)}var Aj,qj,jj=M(()=>{Aj=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),o(eDe,"hasUnicode"),qj=eDe});function tDe(c,q,Y,V){var Z=-1,re=null==c?0:c.length;for(V&&re&&(Y=c[++Z]);++Z<re;)Y=q(Y,c[Z],Z,c);return Y}var Wj,Vj=M(()=>{o(tDe,"arrayReduce"),Wj=tDe});function rDe(c,q){return c&&fN(q,Iq(q),c)}var Qj,Jj=M(()=>{mN(),Pq(),o(rDe,"baseAssign"),Qj=rDe});function nDe(c,q){return c&&fN(q,WN(q),c)}var eY,rY=M(()=>{mN(),HN(),o(nDe,"baseAssignIn"),eY=nDe});function iDe(c,q){for(var Y=-1,V=null==c?0:c.length,Z=0,re=[];++Y<V;){var ae=c[Y];q(ae,Y,c)&&(re[Z++]=ae)}return re}var iY,oY=M(()=>{o(iDe,"arrayFilter"),iY=iDe});function aDe(){return[]}var cY,hY,yY,bY,wY,kY=M(()=>{o(aDe,"stubArray"),cY=aDe}),TY=M(()=>{oY(),kY(),hY=Object.prototype,yY=hY.propertyIsEnumerable,bY=Object.getOwnPropertySymbols,wY=bY?function(c){return null==c?[]:(c=Object(c),iY(bY(c),function(q){return yY.call(c,q)}))}:cY});function cDe(c,q){return fN(c,wY(c),q)}var _Y,EY,CY,SY=M(()=>{mN(),TY(),o(cDe,"copySymbols"),_Y=cDe}),AY=M(()=>{lj(),PA(),TY(),kY(),EY=Object.getOwnPropertySymbols,CY=EY?function(c){for(var q=[];c;)oj(q,wY(c)),c=RA(c);return q}:cY});function fDe(c,q){return fN(c,CY(c),q)}var NY,IY=M(()=>{mN(),AY(),o(fDe,"copySymbolsIn"),NY=fDe});function dDe(c,q,Y){var V=q(c);return pL(c)?V:oj(V,Y(c))}var MY,RY=M(()=>{lj(),mL(),o(dDe,"baseGetAllKeys"),MY=dDe});function pDe(c){return MY(c,Iq,wY)}var DY,OY=M(()=>{RY(),TY(),Pq(),o(pDe,"getAllKeys"),DY=pDe});function mDe(c){return MY(c,WN,CY)}var PY,BY,FY,$Y,zY,GY,UY,qY,jY,YY,WY,HY,VY,XY,KY,QY,ZY,JY,eW,tW=M(()=>{RY(),AY(),HN(),o(mDe,"getAllKeysIn"),PY=mDe}),rW=M(()=>{HE(),V_(),BY=jE(O_,"DataView"),FY=BY}),nW=M(()=>{HE(),V_(),$Y=jE(O_,"Promise"),zY=$Y}),iW=M(()=>{HE(),V_(),GY=jE(O_,"Set"),UY=GY}),aW=M(()=>{rW(),OC(),nW(),iW(),cq(),pE(),IE(),qY="[object Map]",jY="[object Promise]",YY="[object Set]",WY="[object WeakMap]",HY="[object DataView]",VY=NE(FY),XY=NE(MC),KY=NE(zY),QY=NE(UY),ZY=NE(oq),JY=uE,(FY&&JY(new FY(new ArrayBuffer(1)))!=HY||MC&&JY(new MC)!=qY||zY&&JY(zY.resolve())!=jY||UY&&JY(new UY)!=YY||oq&&JY(new oq)!=WY)&&(JY=o(function(c){var q=uE(c),Y="[object Object]"==q?c.constructor:void 0,V=Y?NE(Y):"";if(V)switch(V){case VY:return HY;case XY:return qY;case KY:return jY;case QY:return YY;case ZY:return WY}return q},"getTag")),eW=JY});function ADe(c){var q=c.length,Y=new c.constructor(q);return q&&"string"==typeof c[0]&&oW.call(c,"index")&&(Y.index=c.index,Y.input=c.input),Y}var sW,oW,lW,cW=M(()=>{sW=Object.prototype,oW=sW.hasOwnProperty,o(ADe,"initCloneArray"),lW=ADe});function _De(c,q){var Y=q?QS(c.buffer):c.buffer;return new c.constructor(Y,c.byteOffset,c.byteLength)}var hW,uW=M(()=>{ZS(),o(_De,"cloneDataView"),hW=_De});function DDe(c){var q=new c.constructor(c.source,dW.exec(c));return q.lastIndex=c.lastIndex,q}var dW,gW,fW=M(()=>{dW=/\w*$/,o(DDe,"cloneRegExp"),gW=DDe});function NDe(c){return NW?Object(NW.call(c)):{}}var mW,NW,IW,MW=M(()=>{X_(),mW=B_?B_.prototype:void 0,NW=mW?mW.valueOf:void 0,o(NDe,"cloneSymbol"),IW=NDe});function QDe(c,q,Y){var V=c.constructor;switch(q){case UW:return QS(c);case RW:case DW:return new V(+c);case qW:return hW(c,Y);case jW:case XW:case KW:case QW:case ZW:case eH:case tH:case rH:case nH:return JS(c,Y);case PW:return new V;case BW:case zW:return new V(c);case FW:return gW(c);case $W:return new V;case GW:return IW(c)}}var RW,DW,PW,BW,FW,$W,zW,GW,UW,qW,jW,XW,KW,QW,ZW,eH,tH,rH,nH,iH,aH=M(()=>{ZS(),uW(),fW(),MW(),dA(),RW="[object Boolean]",DW="[object Date]",PW="[object Map]",BW="[object Number]",FW="[object RegExp]",$W="[object Set]",zW="[object String]",GW="[object Symbol]",UW="[object ArrayBuffer]",qW="[object DataView]",jW="[object Float32Array]",XW="[object Float64Array]",KW="[object Int8Array]",QW="[object Int16Array]",ZW="[object Int32Array]",eH="[object Uint8Array]",tH="[object Uint8ClampedArray]",rH="[object Uint16Array]",nH="[object Uint32Array]",o(QDe,"initCloneByTag"),iH=QDe});function JDe(c){return nL(c)&&eW(c)==sH}var sH,lH,cH,hH,uH,dH=M(()=>{aW(),iL(),sH="[object Map]",o(JDe,"baseIsMap"),lH=JDe}),gH=M(()=>{dH(),rN(),nN(),cH=KL&&KL.isMap,hH=cH?jL(cH):lH,uH=hH});function rNe(c){return nL(c)&&eW(c)==fH}var fH,mH,yH,vH,xH,bH=M(()=>{aW(),iL(),fH="[object Set]",o(rNe,"baseIsSet"),mH=rNe}),kH=M(()=>{bH(),rN(),nN(),yH=KL&&KL.isSet,vH=yH?jL(yH):mH,xH=vH});function Cw(c,q,Y,V,Z,re){var ae,se=q&TH,oe=q&_H,he=q&CH;if(Y&&(ae=Z?Y(c,V,Z,re):Y(c)),void 0!==ae)return ae;if(!gE(c))return c;var de=pL(c);if(de){if(ae=lW(c),!se)return gA(c,ae)}else{var pe=eW(c),ge=pe==LH||pe==NH;if(NL(c))return WS(c,se);if(pe==IH||pe==AH||ge&&!Z){if(ae=oe||ge?{}:eL(c),!se)return oe?NY(c,eY(ae,c)):_Y(c,Qj(ae,c))}else{if(!MH[pe])return Z?c:{};ae=iH(c,pe,se)}}re||(re=new wS);var me=re.get(c);if(me)return me;re.set(c,ae),xH(c)?c.forEach(function(V){ae.add(Cw(V,q,Y,V,c,re))}):uH(c)&&c.forEach(function(V,Z){ae.set(Z,Cw(V,q,Y,Z,c,re))});var ve=de?void 0:(he?oe?PY:DY:oe?WN:Iq)(c);return dq(ve||c,function(V,Z){ve&&(V=c[Z=V]),pN(ae,Z,Cw(V,q,Y,Z,c,re))}),ae}var TH,_H,CH,AH,LH,NH,IH,MH,RH,DH=M(()=>{ES(),pq(),gN(),Jj(),rY(),XS(),CA(),SY(),IY(),OY(),tW(),aW(),cW(),aH(),tL(),mL(),ML(),gH(),fE(),kH(),Pq(),HN(),TH=1,_H=2,CH=4,LH="[object Function]",NH="[object GeneratorFunction]",IH="[object Object]",(MH={})[AH="[object Arguments]"]=MH["[object Array]"]=MH["[object ArrayBuffer]"]=MH["[object DataView]"]=MH["[object Boolean]"]=MH["[object Date]"]=MH["[object Float32Array]"]=MH["[object Float64Array]"]=MH["[object Int8Array]"]=MH["[object Int16Array]"]=MH["[object Int32Array]"]=MH["[object Map]"]=MH["[object Number]"]=MH[IH]=MH["[object RegExp]"]=MH["[object Set]"]=MH["[object String]"]=MH["[object Symbol]"]=MH["[object Uint8Array]"]=MH["[object Uint8ClampedArray]"]=MH["[object Uint16Array]"]=MH["[object Uint32Array]"]=!0,MH["[object Error]"]=MH[LH]=MH["[object WeakMap]"]=!1,o(Cw,"baseClone"),RH=Cw});function NNe(c){return RH(c,OH)}var OH,PH,BH=M(()=>{DH(),OH=4,o(NNe,"clone"),PH=NNe});function INe(c){return RH(c,FH|$H)}var FH,$H,zH,GH=M(()=>{DH(),FH=1,$H=4,o(INe,"cloneDeep"),zH=INe});function ONe(c){for(var q=-1,Y=null==c?0:c.length,V=0,Z=[];++q<Y;){var re=c[q];re&&(Z[V++]=re)}return Z}var UH,qH=M(()=>{o(ONe,"compact"),UH=ONe});function BNe(c){return this.__data__.set(c,jH),this}var jH,YH,WH=M(()=>{jH="__lodash_hash_undefined__",o(BNe,"setCacheAdd"),YH=BNe});function FNe(c){return this.__data__.has(c)}var HH,VH=M(()=>{o(FNe,"setCacheHas"),HH=FNe});function _w(c){var q=-1,Y=null==c?0:c.length;for(this.__data__=new JC;++q<Y;)this.add(c[q])}var XH,KH=M(()=>{eS(),WH(),VH(),o(_w,"SetCache"),_w.prototype.add=_w.prototype.push=YH,_w.prototype.has=HH,XH=_w});function zNe(c,q){for(var Y=-1,V=null==c?0:c.length;++Y<V;)if(q(c[Y],Y,c))return!0;return!1}var QH,ZH=M(()=>{o(zNe,"arraySome"),QH=zNe});function GNe(c,q){return c.has(q)}var JH,eV=M(()=>{o(GNe,"cacheHas"),JH=GNe});function UNe(c,q,Y,V,Z,re){var ae=Y&tV,se=c.length,oe=q.length;if(se!=oe&&!(ae&&oe>se))return!1;var he=re.get(c),de=re.get(q);if(he&&de)return he==q&&de==c;var pe=-1,ge=!0,me=Y&nV?new XH:void 0;for(re.set(c,q),re.set(q,c);++pe<se;){var ve=c[pe],be=q[pe];if(V)var we=ae?V(be,ve,pe,q,c,re):V(ve,be,pe,c,q,re);if(void 0!==we){if(we)continue;ge=!1;break}if(me){if(!QH(q,function(c,q){if(!JH(me,q)&&(ve===c||Z(ve,c,Y,V,re)))return me.push(q)})){ge=!1;break}}else if(ve!==be&&!Z(ve,be,Y,V,re)){ge=!1;break}}return re.delete(c),re.delete(q),ge}var tV,nV,iV,oV=M(()=>{KH(),ZH(),eV(),tV=1,nV=2,o(UNe,"equalArrays"),iV=UNe});function HNe(c){var q=-1,Y=Array(c.size);return c.forEach(function(c,V){Y[++q]=[V,c]}),Y}var lV,cV=M(()=>{o(HNe,"mapToArray"),lV=HNe});function WNe(c){var q=-1,Y=Array(c.size);return c.forEach(function(c){Y[++q]=c}),Y}var hV,uV=M(()=>{o(WNe,"setToArray"),hV=WNe});function aRe(c,q,Y,V,Z,re,ae){switch(Y){case _V:if(c.byteLength!=q.byteLength||c.byteOffset!=q.byteOffset)return!1;c=c.buffer,q=q.buffer;case TV:return!(c.byteLength!=q.byteLength||!re(new VS(c),new VS(q)));case gV:case fV:case vV:return fC(+c,+q);case mV:return c.name==q.name&&c.message==q.message;case xV:case wV:return c==q+"";case yV:var se=lV;case bV:var oe=V&dV;if(se||(se=hV),c.size!=q.size&&!oe)return!1;var he=ae.get(c);if(he)return he==q;V|=pV,ae.set(c,q);var de=iV(se(c),se(q),V,Z,re,ae);return ae.delete(c),de;case kV:if(CV)return CV.call(c)==CV.call(q)}return!1}var dV,pV,gV,fV,mV,yV,vV,xV,bV,wV,kV,TV,_V,EV,CV,SV,AV=M(()=>{X_(),KS(),mC(),oV(),cV(),uV(),dV=1,pV=2,gV="[object Boolean]",fV="[object Date]",mV="[object Error]",yV="[object Map]",vV="[object Number]",xV="[object RegExp]",bV="[object Set]",wV="[object String]",kV="[object Symbol]",TV="[object ArrayBuffer]",_V="[object DataView]",EV=B_?B_.prototype:void 0,CV=EV?EV.valueOf:void 0,o(aRe,"equalByTag"),SV=aRe});function cRe(c,q,Y,V,Z,re){var ae=Y&IV,se=DY(c),oe=se.length;if(oe!=DY(q).length&&!ae)return!1;for(var he=oe;he--;){var de=se[he];if(!(ae?de in q:OV.call(q,de)))return!1}var pe=re.get(c),ge=re.get(q);if(pe&&ge)return pe==q&&ge==c;var me=!0;re.set(c,q),re.set(q,c);for(var ve=ae;++he<oe;){var be=c[de=se[he]],we=q[de];if(V)var Te=ae?V(we,be,de,q,c,re):V(be,we,de,c,q,re);if(!(void 0===Te?be===we||Z(be,we,Y,V,re):Te)){me=!1;break}ve||(ve="constructor"==de)}if(me&&!ve){var _e=c.constructor,Ee=q.constructor;_e!=Ee&&"constructor"in c&&"constructor"in q&&!("function"==typeof _e&&_e instanceof _e&&"function"==typeof Ee&&Ee instanceof Ee)&&(me=!1)}return re.delete(c),re.delete(q),me}var IV,MV,OV,PV,BV=M(()=>{OY(),IV=1,MV=Object.prototype,OV=MV.hasOwnProperty,o(cRe,"equalObjects"),PV=cRe});function fRe(c,q,Y,V,Z,re){var ae=pL(c),se=pL(q),oe=ae?zV:eW(c),he=se?zV:eW(q),de=(oe=oe==$V?GV:oe)==GV,pe=(he=he==$V?GV:he)==GV,ge=oe==he;if(ge&&NL(c)){if(!NL(q))return!1;ae=!0,de=!1}if(ge&&!de)return re||(re=new wS),ae||tN(c)?iV(c,q,Y,V,Z,re):SV(c,q,oe,Y,V,Z,re);if(!(Y&FV)){var me=de&&jV.call(c,"__wrapped__"),ve=pe&&jV.call(q,"__wrapped__");if(me||ve){var be=me?c.value():c,we=ve?q.value():q;return re||(re=new wS),Z(be,we,Y,V,re)}}return!!ge&&(re||(re=new wS),PV(c,q,Y,V,Z,re))}var FV,$V,zV,GV,UV,jV,YV,WV=M(()=>{ES(),oV(),AV(),BV(),aW(),mL(),ML(),aN(),FV=1,$V="[object Arguments]",zV="[object Array]",GV="[object Object]",UV=Object.prototype,jV=UV.hasOwnProperty,o(fRe,"baseIsEqualDeep"),YV=fRe});function Qee(c,q,Y,V,Z){return c===q||(null==c||null==q||!nL(c)&&!nL(q)?c!=c&&q!=q:YV(c,q,Y,V,Qee,Z))}var VV,XV=M(()=>{WV(),iL(),o(Qee,"baseIsEqual"),VV=Qee});function mRe(c,q,Y,V){var Z=Y.length,re=Z,ae=!V;if(null==c)return!re;for(c=Object(c);Z--;){var se=Y[Z];if(ae&&se[2]?se[1]!==c[se[0]]:!(se[0]in c))return!1}for(;++Z<re;){var oe=(se=Y[Z])[0],he=c[oe],de=se[1];if(ae&&se[2]){if(void 0===he&&!(oe in c))return!1}else{var pe=new wS;if(V)var ge=V(he,de,oe,c,q,pe);if(!(void 0===ge?VV(de,he,KV|eX,V,pe):ge))return!1}}return!0}var KV,eX,tX,rX=M(()=>{ES(),XV(),KV=1,eX=2,o(mRe,"baseIsMatch"),tX=mRe});function gRe(c){return c==c&&!gE(c)}var nX,iX=M(()=>{fE(),o(gRe,"isStrictComparable"),nX=gRe});function yRe(c){for(var q=Iq(c),Y=q.length;Y--;){var V=q[Y],Z=c[V];q[Y]=[V,Z,nX(Z)]}return q}var aX,sX=M(()=>{iX(),Pq(),o(yRe,"getMatchData"),aX=yRe});function vRe(c,q){return function(Y){return null!=Y&&(Y[c]===q&&(void 0!==q||c in Object(Y)))}}var oX,lX=M(()=>{o(vRe,"matchesStrictComparable"),oX=vRe});function xRe(c){var q=aX(c);return 1==q.length&&q[0][2]?oX(q[0][0],q[0][1]):function(Y){return Y===c||tX(Y,c,q)}}var cX,hX=M(()=>{rX(),sX(),lX(),o(xRe,"baseMatches"),cX=xRe});function bRe(c,q){return null!=c&&q in Object(c)}var uX,dX=M(()=>{o(bRe,"baseHasIn"),uX=bRe});function wRe(c,q,Y){for(var V=-1,Z=(q=Zq(q,c)).length,re=!1;++V<Z;){var ae=tj(q[V]);if(!(re=null!=c&&Y(c,ae)))break;c=c[ae]}return re||++V!=Z?re:!!(Z=null==c?0:c.length)&&vL(Z)&&TN(ae,Z)&&(pL(c)||uL(c))}var pX,gX=M(()=>{Jq(),fL(),mL(),_N(),xL(),rj(),o(wRe,"hasPath"),pX=wRe});function TRe(c,q){return null!=c&&pX(c,q,uX)}var fX,mX=M(()=>{dX(),gX(),o(TRe,"hasIn"),fX=TRe});function SRe(c,q){return zq(c)&&nX(q)?oX(tj(c),q):function(Y){var V=aj(Y,c);return void 0===V&&V===q?fX(Y,c):VV(q,V,yX|xX)}}var yX,xX,bX,wX=M(()=>{XV(),sj(),mX(),Gq(),iX(),lX(),rj(),yX=1,xX=2,o(SRe,"baseMatchesProperty"),bX=SRe});function CRe(c){return function(q){return q?.[c]}}var kX,TX=M(()=>{o(CRe,"baseProperty"),kX=CRe});function ARe(c){return function(q){return nj(q,c)}}var _X,EX=M(()=>{ij(),o(ARe,"basePropertyDeep"),_X=ARe});function _Re(c){return zq(c)?kX(tj(c)):_X(c)}var CX,SX=M(()=>{TX(),EX(),Gq(),rj(),o(_Re,"property"),CX=_Re});function LRe(c){return"function"==typeof c?c:null==c?hI:"object"==typeof c?pL(c)?bX(c[0],c[1]):cX(c):CX(c)}var AX,LX=M(()=>{hX(),wX(),uI(),mL(),SX(),o(LRe,"baseIteratee"),AX=LRe});function DRe(c,q,Y,V){for(var Z=-1,re=null==c?0:c.length;++Z<re;){var ae=c[Z];q(V,ae,Y(ae),c)}return V}var NX,IX=M(()=>{o(DRe,"arrayAggregator"),NX=DRe});function NRe(c,q){return c&&FS(c,q,Iq)}var RX,DX=M(()=>{zS(),Pq(),o(NRe,"baseForOwn"),RX=NRe});function RRe(c,q){return function(Y,V){if(null==Y)return Y;if(!bL(Y))return c(Y,V);for(var Z=Y.length,re=q?Z:-1,ae=Object(Y);(q?re--:++re<Z)&&!1!==V(ae[re],re,ae););return Y}}var OX,PX,BX,FX=M(()=>{wL(),o(RRe,"createBaseEach"),OX=RRe}),$X=M(()=>{DX(),FX(),PX=OX(RX),BX=PX});function IRe(c,q,Y,V){return BX(c,function(c,Z,re){q(V,c,Y(c),re)}),V}var GX,UX=M(()=>{$X(),o(IRe,"baseAggregator"),GX=IRe});function ORe(c,q){return function(Y,V){var Z=pL(Y)?NX:GX,re=q?q():{};return Z(Y,c,AX(V,2),re)}}var qX,YX,WX,HX,VX,QX,JX,tK=M(()=>{IX(),UX(),LX(),mL(),o(ORe,"createAggregator"),qX=ORe}),nK=M(()=>{V_(),YX=o(function(){return O_.Date.now()},"now"),WX=YX}),aK=M(()=>{NI(),mC(),MI(),HN(),HX=Object.prototype,VX=HX.hasOwnProperty,QX=LI(function(c,q){c=Object(c);var Y=-1,V=q.length,Z=V>2?q[2]:void 0;for(Z&&II(q[0],q[1],Z)&&(V=1);++Y<V;)for(var re=q[Y],ae=WN(re),se=-1,oe=ae.length;++se<oe;){var he=ae[se],de=c[he];(void 0===de||fC(de,HX[he])&&!VX.call(c,he))&&(c[he]=re[he])}return c}),JX=QX});function zRe(c,q,Y){for(var V=-1,Z=null==c?0:c.length;++V<Z;)if(Y(q,c[V]))return!0;return!1}var oK,cK=M(()=>{o(zRe,"arrayIncludesWith"),oK=zRe});function $Re(c,q,Y,V){var Z=-1,re=kq,ae=!0,se=c.length,oe=[],he=q.length;if(!se)return oe;Y&&(q=LU(q,jL(Y))),V?(re=oK,ae=!1):q.length>=hK&&(re=JH,ae=!1,q=new XH(q));e:for(;++Z<se;){var de=c[Z],pe=null==Y?de:Y(de);if(de=V||0!==de?de:0,ae&&pe==pe){for(var ge=he;ge--;)if(q[ge]===pe)continue e;oe.push(de)}else re(q,pe,V)||oe.push(de)}return oe}var hK,dK,mK,yK,xK=M(()=>{KH(),Eq(),cK(),MU(),rN(),eV(),hK=200,o($Re,"baseDifference"),dK=$Re}),wK=M(()=>{xK(),xj(),NI(),TL(),mK=LI(function(c,q){return kL(c)?dK(c,vj(q,1,kL,!0)):[]}),yK=mK});function URe(c){var q=null==c?0:c.length;return q?c[q-1]:void 0}var kK,SK=M(()=>{o(URe,"last"),kK=URe});function HRe(c,q,Y){var V=null==c?0:c.length;return V?(q=Y||void 0===q?1:aq(q),Cj(c,q<0?0:q,V)):[]}var AK,LK=M(()=>{Sj(),lq(),o(HRe,"drop"),AK=HRe});function WRe(c,q,Y){var V=null==c?0:c.length;return V?(q=Y||void 0===q?1:aq(q),Cj(c,0,(q=V-q)<0?0:q)):[]}var NK,MK=M(()=>{Sj(),lq(),o(WRe,"dropRight"),NK=WRe});function YRe(c){return"function"==typeof c?c:hI}var OK,BK=M(()=>{uI(),o(YRe,"castFunction"),OK=YRe});function qRe(c,q){return(pL(c)?dq:BX)(c,OK(q))}var $K,zK=M(()=>{pq(),$X(),BK(),mL(),o(qRe,"forEach"),$K=qRe}),UK=M(()=>{zK()});function XRe(c,q){for(var Y=-1,V=null==c?0:c.length;++Y<V;)if(!q(c[Y],Y,c))return!1;return!0}var qK,jK=M(()=>{o(XRe,"arrayEvery"),qK=XRe});function jRe(c,q){var Y=!0;return BX(c,function(c,V,Z){return Y=!!q(c,V,Z)}),Y}var WK,QK=M(()=>{$X(),o(jRe,"baseEvery"),WK=jRe});function KRe(c,q,Y){var V=pL(c)?qK:WK;return Y&&II(c,q,Y)&&(q=void 0),V(c,AX(q,3))}var JK,tQ=M(()=>{jK(),QK(),LX(),mL(),MI(),o(KRe,"every"),JK=KRe});function QRe(c,q){var Y=[];return BX(c,function(c,V,Z){q(c,V,Z)&&Y.push(c)}),Y}var nQ,aQ=M(()=>{$X(),o(QRe,"baseFilter"),nQ=QRe});function ZRe(c,q){return(pL(c)?iY:nQ)(c,AX(q,3))}var oQ,cQ=M(()=>{oY(),aQ(),LX(),mL(),o(ZRe,"filter"),oQ=ZRe});function JRe(c){return function(q,Y,V){var Z=Object(q);if(!bL(q)){var re=AX(Y,3);q=Iq(q),Y=o(function(c){return re(Z[c],c,Z)},"predicate")}var ae=c(q,Y,V);return ae>-1?Z[re?q[ae]:ae]:void 0}}var hQ,dQ=M(()=>{LX(),wL(),Pq(),o(JRe,"createFind"),hQ=JRe});function tMe(c,q,Y){var V=null==c?0:c.length;if(!V)return-1;var Z=null==Y?0:aq(Y);return Z<0&&(Z=mQ(V+Z,0)),gq(c,AX(q,3),Z)}var mQ,yQ,xQ,wQ,kQ=M(()=>{fq(),LX(),lq(),mQ=Math.max,o(tMe,"findIndex"),yQ=tMe}),SQ=M(()=>{dQ(),kQ(),xQ=hQ(yQ),wQ=xQ});function nMe(c){return c&&c.length?c[0]:void 0}var AQ,LQ=M(()=>{o(nMe,"head"),AQ=nMe}),NQ=M(()=>{LQ()});function iMe(c,q){var Y=-1,V=bL(c)?Array(c.length):[];return BX(c,function(c,Z,re){V[++Y]=q(c,Z,re)}),V}var MQ,OQ=M(()=>{$X(),wL(),o(iMe,"baseMap"),MQ=iMe});function aMe(c,q){return(pL(c)?LU:MQ)(c,AX(q,3))}var BQ,$Q=M(()=>{MU(),LX(),OQ(),mL(),o(aMe,"map"),BQ=aMe});function sMe(c,q){return vj(BQ(c,q),1)}var zQ,UQ=M(()=>{xj(),$Q(),o(sMe,"flatMap"),zQ=sMe});function oMe(c,q){return null==c?c:FS(c,OK(q),WN)}var qQ,jQ=M(()=>{zS(),BK(),HN(),o(oMe,"forIn"),qQ=oMe});function lMe(c,q){return c&&RX(c,OK(q))}var WQ,QQ,eZ,nZ,gZ,yZ=M(()=>{DX(),BK(),o(lMe,"forOwn"),WQ=lMe}),vZ=M(()=>{MS(),tK(),QQ=Object.prototype,eZ=QQ.hasOwnProperty,nZ=qX(function(c,q,Y){eZ.call(c,Y)?c[Y].push(q):IS(c,Y,[q])}),gZ=nZ});function fMe(c,q){return c>q}var xZ,bZ=M(()=>{o(fMe,"baseGt"),xZ=fMe});function mMe(c,q){return null!=c&&kZ.call(c,q)}var wZ,kZ,TZ,_Z=M(()=>{wZ=Object.prototype,kZ=wZ.hasOwnProperty,o(mMe,"baseHas"),TZ=mMe});function gMe(c,q){return null!=c&&pX(c,q,TZ)}var EZ,SZ=M(()=>{_Z(),gX(),o(gMe,"has"),EZ=gMe});function vMe(c){return"string"==typeof c||!pL(c)&&nL(c)&&uE(c)==LZ}var LZ,NZ,IZ=M(()=>{pE(),mL(),iL(),LZ="[object String]",o(vMe,"isString"),NZ=vMe});function xMe(c,q){return LU(q,function(q){return c[q]})}var MZ,RZ=M(()=>{MU(),o(xMe,"baseValues"),MZ=xMe});function bMe(c){return null==c?[]:MZ(c,Iq(c))}var DZ,OZ=M(()=>{RZ(),Pq(),o(bMe,"values"),DZ=bMe});function TMe(c,q,Y,V){c=bL(c)?c:DZ(c),Y=Y&&!V?aq(Y):0;var Z=c.length;return Y<0&&(Y=BZ(Z+Y,0)),NZ(c)?Y<=Z&&c.indexOf(q,Y)>-1:!!Z&&bq(c,q,Y)>-1}var BZ,FZ,$Z=M(()=>{wq(),wL(),IZ(),lq(),OZ(),BZ=Math.max,o(TMe,"includes"),FZ=TMe});function EMe(c,q,Y){var V=null==c?0:c.length;if(!V)return-1;var Z=null==Y?0:aq(Y);return Z<0&&(Z=zZ(V+Z,0)),bq(c,q,Z)}var zZ,GZ,UZ=M(()=>{wq(),lq(),zZ=Math.max,o(EMe,"indexOf"),GZ=EMe});function LMe(c){if(null==c)return!0;if(bL(c)&&(pL(c)||"string"==typeof c||"function"==typeof c.splice||NL(c)||tN(c)||uL(c)))return!c.length;var q=eW(c);if(q==qZ||q==jZ)return!c.size;if(zA(c))return!Lq(c).length;for(var Y in c)if(WZ.call(c,Y))return!1;return!0}var qZ,jZ,YZ,WZ,HZ,VZ=M(()=>{Nq(),aW(),fL(),mL(),wL(),ML(),VA(),aN(),qZ="[object Map]",jZ="[object Set]",YZ=Object.prototype,WZ=YZ.hasOwnProperty,o(LMe,"isEmpty"),HZ=LMe});function NMe(c){return nL(c)&&uE(c)==XZ}var XZ,KZ,QZ,ZZ,JZ,eJ=M(()=>{pE(),iL(),XZ="[object RegExp]",o(NMe,"baseIsRegExp"),KZ=NMe}),tJ=M(()=>{eJ(),rN(),nN(),QZ=KL&&KL.isRegExp,ZZ=QZ?jL(QZ):KZ,JZ=ZZ});function MMe(c){return void 0===c}var rJ,nJ=M(()=>{o(MMe,"isUndefined"),rJ=MMe});function IMe(c,q){return c<q}var iJ,aJ=M(()=>{o(IMe,"baseLt"),iJ=IMe});function OMe(c,q){var Y={};return q=AX(q,3),RX(c,function(c,V,Z){IS(Y,V,q(c,V,Z))}),Y}var sJ,oJ=M(()=>{MS(),DX(),LX(),o(OMe,"mapValues"),sJ=OMe});function PMe(c,q,Y){for(var V=-1,Z=c.length;++V<Z;){var re=c[V],ae=q(re);if(null!=ae&&(void 0===se?ae==ae&&!SU(ae):Y(ae,se)))var se=ae,oe=re}return oe}var lJ,cJ=M(()=>{AU(),o(PMe,"baseExtremum"),lJ=PMe});function BMe(c){return c&&c.length?lJ(c,hI,xZ):void 0}var uJ,dJ=M(()=>{cJ(),bZ(),uI(),o(BMe,"max"),uJ=BMe});function FMe(c){return c&&c.length?lJ(c,hI,iJ):void 0}var pJ,gJ=M(()=>{cJ(),aJ(),uI(),o(FMe,"min"),pJ=FMe});function zMe(c,q){return c&&c.length?lJ(c,AX(q,2),iJ):void 0}var fJ,mJ=M(()=>{cJ(),LX(),aJ(),o(zMe,"minBy"),fJ=zMe});function $Me(c){if("function"!=typeof c)throw new TypeError(yJ);return function(){var q=arguments;switch(q.length){case 0:return!c.call(this);case 1:return!c.call(this,q[0]);case 2:return!c.call(this,q[0],q[1]);case 3:return!c.call(this,q[0],q[1],q[2])}return!c.apply(this,q)}}var yJ,vJ,xJ=M(()=>{yJ="Expected a function",o($Me,"negate"),vJ=$Me});function VMe(c,q,Y,V){if(!gE(c))return c;for(var Z=-1,re=(q=Zq(q,c)).length,ae=re-1,se=c;null!=se&&++Z<re;){var oe=tj(q[Z]),he=Y;if("__proto__"===oe||"constructor"===oe||"prototype"===oe)return c;if(Z!=ae){var de=se[oe];void 0===(he=V?V(de,oe,se):void 0)&&(he=gE(de)?de:TN(q[Z+1])?[]:{})}pN(se,oe,he),se=se[oe]}return c}var bJ,wJ=M(()=>{gN(),Jq(),_N(),fE(),rj(),o(VMe,"baseSet"),bJ=VMe});function UMe(c,q,Y){for(var V=-1,Z=q.length,re={};++V<Z;){var ae=q[V],se=nj(c,ae);Y(se,ae)&&bJ(re,Zq(ae,c),se)}return re}var kJ,TJ=M(()=>{ij(),wJ(),Jq(),o(UMe,"basePickBy"),kJ=UMe});function HMe(c,q){if(null==c)return{};var Y=LU(PY(c),function(c){return[c]});return q=AX(q),kJ(c,Y,function(c,Y){return q(c,Y[0])})}var _J,EJ=M(()=>{MU(),LX(),TJ(),tW(),o(HMe,"pickBy"),_J=HMe});function WMe(c,q){var Y=c.length;for(c.sort(q);Y--;)c[Y]=c[Y].value;return c}var CJ,SJ=M(()=>{o(WMe,"baseSortBy"),CJ=WMe});function YMe(c,q){if(c!==q){var Y=void 0!==c,V=null===c,Z=c==c,re=SU(c),ae=void 0!==q,se=null===q,oe=q==q,he=SU(q);if(!se&&!he&&!re&&c>q||re&&ae&&oe&&!se&&!he||V&&ae&&oe||!Y&&oe||!Z)return 1;if(!V&&!re&&!he&&c<q||he&&Y&&Z&&!V&&!re||se&&Y&&Z||!ae&&Z||!oe)return-1}return 0}var AJ,LJ=M(()=>{AU(),o(YMe,"compareAscending"),AJ=YMe});function qMe(c,q,Y){for(var V=-1,Z=c.criteria,re=q.criteria,ae=Z.length,se=Y.length;++V<ae;){var oe=AJ(Z[V],re[V]);if(oe)return V>=se?oe:oe*("desc"==Y[V]?-1:1)}return c.index-q.index}var NJ,IJ=M(()=>{LJ(),o(qMe,"compareMultiple"),NJ=qMe});function XMe(c,q,Y){q=q.length?LU(q,function(c){return pL(c)?function(q){return nj(q,1===c.length?c[0]:c)}:c}):[hI];var V=-1;q=LU(q,jL(AX));var Z=MQ(c,function(c,Y,Z){return{criteria:LU(q,function(q){return q(c)}),index:++V,value:c}});return CJ(Z,function(c,q){return NJ(c,q,Y)})}var MJ,RJ,DJ,OJ=M(()=>{MU(),ij(),LX(),OQ(),SJ(),rN(),IJ(),uI(),mL(),o(XMe,"baseOrderBy"),MJ=XMe}),PJ=M(()=>{TX(),RJ=kX("length"),DJ=RJ});function oIe(c){for(var q=KJ.lastIndex=0;KJ.test(c);)++q;return q}var BJ,FJ,$J,GJ,UJ,qJ,jJ,YJ,WJ,HJ,VJ,XJ,KJ,QJ,ZJ=M(()=>{FJ="["+(BJ="\\ud800-\\udfff")+"]",YJ="(?:"+($J="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]")+"|"+(GJ="\\ud83c[\\udffb-\\udfff]")+")"+"?",WJ="[\\ufe0e\\ufe0f]?",HJ="(?:\\u200d(?:"+[UJ="[^"+BJ+"]",qJ="(?:\\ud83c[\\udde6-\\uddff]){2}",jJ="[\\ud800-\\udbff][\\udc00-\\udfff]"].join("|")+")"+WJ+YJ+")*",VJ=WJ+YJ+HJ,XJ="(?:"+[UJ+$J+"?",$J,qJ,jJ,FJ].join("|")+")",KJ=RegExp(GJ+"(?="+GJ+")|"+XJ+VJ,"g"),o(oIe,"unicodeSize"),QJ=oIe});function lIe(c){return qj(c)?QJ(c):DJ(c)}var JJ,t0=M(()=>{PJ(),jj(),ZJ(),o(lIe,"stringSize"),JJ=lIe});function cIe(c,q){return kJ(c,q,function(q,Y){return fX(c,Y)})}var r0,i0,a0,s0=M(()=>{TJ(),mX(),o(cIe,"basePick"),r0=cIe}),c0=M(()=>{s0(),Ej(),i0=Tj(function(c,q){return null==c?{}:r0(c,q)}),a0=i0});function dIe(c,q,Y,V){for(var Z=-1,re=d0(u0((q-c)/(Y||1)),0),ae=Array(re);re--;)ae[V?re:++Z]=c,c+=Y;return ae}var u0,d0,p0,g0=M(()=>{u0=Math.ceil,d0=Math.max,o(dIe,"baseRange"),p0=dIe});function pIe(c){return function(q,Y,V){return V&&"number"!=typeof V&&II(q,Y,V)&&(Y=V=void 0),q=nq(q),void 0===Y?(Y=q,q=0):Y=nq(Y),V=void 0===V?q<Y?1:-1:nq(V),p0(q,Y,V,c)}}var f0,m0,y0,v0=M(()=>{g0(),MI(),iq(),o(pIe,"createRange"),f0=pIe}),x0=M(()=>{v0(),m0=f0(),y0=m0});function gIe(c,q,Y,V,Z){return Z(c,function(c,Z,re){Y=V?(V=!1,c):q(Y,c,Z,re)}),Y}var b0,w0=M(()=>{o(gIe,"baseReduce"),b0=gIe});function yIe(c,q,Y){var V=pL(c)?Wj:b0,Z=arguments.length<3;return V(c,AX(q,4),Y,Z,BX)}var k0,T0=M(()=>{Vj(),$X(),LX(),w0(),mL(),o(yIe,"reduce"),k0=yIe});function vIe(c,q){return(pL(c)?iY:nQ)(c,vJ(AX(q,3)))}var _0,E0=M(()=>{oY(),aQ(),LX(),mL(),xJ(),o(vIe,"reject"),_0=vIe});function wIe(c){if(null==c)return 0;if(bL(c))return NZ(c)?JJ(c):c.length;var q=eW(c);return q==C0||q==S0?c.size:Lq(c).length}var C0,S0,A0,L0=M(()=>{Nq(),aW(),wL(),IZ(),t0(),C0="[object Map]",S0="[object Set]",o(wIe,"size"),A0=wIe});function TIe(c,q){var Y;return BX(c,function(c,V,Z){return!(Y=q(c,V,Z))}),!!Y}var N0,I0=M(()=>{$X(),o(TIe,"baseSome"),N0=TIe});function kIe(c,q,Y){var V=pL(c)?QH:N0;return Y&&II(c,q,Y)&&(q=void 0),V(c,AX(q,3))}var M0,R0,D0,O0,P0,B0,F0=M(()=>{ZH(),LX(),I0(),mL(),MI(),o(kIe,"some"),M0=kIe}),$0=M(()=>{xj(),OJ(),NI(),MI(),R0=LI(function(c,q){if(null==c)return[];var Y=q.length;return Y>1&&II(c,q[0],q[1])?q=[]:Y>2&&II(q[0],q[1],q[2])&&(q=[q[0]]),MJ(c,vj(q,1),[])}),D0=R0}),z0=M(()=>{iW(),uq(),uV(),O0=1/0,P0=UY&&1/hV(new UY([,-0]))[1]==O0?function(c){return new UY(c)}:hq,B0=P0});function _Ie(c,q,Y){var V=-1,Z=kq,re=c.length,ae=!0,se=[],oe=se;if(Y)ae=!1,Z=oK;else if(re>=G0){var he=q?null:B0(c);if(he)return hV(he);ae=!1,Z=JH,oe=new XH}else oe=q?[]:se;e:for(;++V<re;){var de=c[V],pe=q?q(de):de;if(de=Y||0!==de?de:0,ae&&pe==pe){for(var ge=oe.length;ge--;)if(oe[ge]===pe)continue e;q&&oe.push(pe),se.push(de)}else Z(oe,pe,Y)||(oe!==se&&oe.push(pe),se.push(de))}return se}var G0,U0,q0,j0,Y0=M(()=>{KH(),Eq(),cK(),eV(),z0(),uV(),G0=200,o(_Ie,"baseUniq"),U0=_Ie}),W0=M(()=>{xj(),NI(),Y0(),TL(),q0=LI(function(c){return U0(vj(c,1,kL,!0))}),j0=q0});function DIe(c){return c&&c.length?U0(c):[]}var H0,V0=M(()=>{Y0(),o(DIe,"uniq"),H0=DIe});function NIe(c,q){return c&&c.length?U0(c,AX(q,2)):[]}var X0,Q0=M(()=>{LX(),Y0(),o(NIe,"uniqBy"),X0=NIe});function MIe(c){var q=++Z0;return Kq(c)+q}var Z0,J0,e1=M(()=>{Qq(),Z0=0,o(MIe,"uniqueId"),J0=MIe});function IIe(c,q,Y){for(var V=-1,Z=c.length,re=q.length,ae={};++V<Z;){var se=V<re?q[V]:void 0;Y(ae,c[V],se)}return ae}var t1,r1=M(()=>{o(IIe,"baseZipObject"),t1=IIe});function OIe(c,q){return t1(c||[],q||[],pN)}var n1,i1=M(()=>{gN(),r1(),o(OIe,"zipObject"),n1=OIe}),a1=M(()=>{Bq(),BH(),GH(),qH(),xI(),aK(),wK(),LK(),MK(),UK(),tQ(),cQ(),SQ(),NQ(),UQ(),kj(),zK(),jQ(),yZ(),vZ(),SZ(),uI(),$Z(),UZ(),mL(),VZ(),TE(),fE(),tJ(),IZ(),nJ(),Pq(),SK(),$Q(),oJ(),dJ(),FI(),gJ(),mJ(),uq(),nK(),c0(),EJ(),x0(),T0(),E0(),L0(),F0(),$0(),W0(),V0(),e1(),OZ(),i1()});function one(c,q){c[q]?c[q]++:c[q]=1}function lne(c,q){--c[q]||delete c[q]}function Mv(c,q,Y,V){var Z=""+q,re=""+Y;if(!c&&Z>re){var ae=Z;Z=re,re=ae}return Z+l1+re+l1+(rJ(V)?s1:V)}function BIe(c,q,Y,V){var Z=""+q,re=""+Y;if(!c&&Z>re){var ae=Z;Z=re,re=ae}var se={v:Z,w:re};return V&&(se.name=V),se}function JL(c,q){return Mv(c,q.v,q.w,q.name)}var s1,o1,l1,c1,h1=M(()=>{a1(),s1="\0",o1="\0",l1="",(c1=class{static{o(this,"Graph")}constructor(c={}){this._isDirected=!Object.prototype.hasOwnProperty.call(c,"directed")||c.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(c,"multigraph")&&c.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(c,"compound")&&c.compound,this._label=void 0,this._defaultNodeLabelFn=yI(void 0),this._defaultEdgeLabelFn=yI(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o1]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return bE(c)||(c=yI(c)),this._defaultNodeLabelFn=c,this}nodeCount(){return this._nodeCount}nodes(){return Iq(this._nodes)}sources(){var c=this;return oQ(this.nodes(),function(q){return HZ(c._in[q])})}sinks(){var c=this;return oQ(this.nodes(),function(q){return HZ(c._out[q])})}setNodes(c,q){var Y=arguments,V=this;return $K(c,function(c){Y.length>1?V.setNode(c,q):V.setNode(c)}),this}setNode(c,q){return Object.prototype.hasOwnProperty.call(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=q),this):(this._nodes[c]=arguments.length>1?q:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=o1,this._children[c]={},this._children[o1][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.prototype.hasOwnProperty.call(this._nodes,c)}removeNode(c){if(Object.prototype.hasOwnProperty.call(this._nodes,c)){var q=o(c=>this.removeEdge(this._edgeObjs[c]),"removeEdge");delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],$K(this.children(c),c=>{this.setParent(c)}),delete this._children[c]),$K(Iq(this._in[c]),q),delete this._in[c],delete this._preds[c],$K(Iq(this._out[c]),q),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,q){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(rJ(q))q=o1;else{for(var Y=q+="";!rJ(Y);Y=this.parent(Y))if(Y===c)throw new Error("Setting "+q+" as parent of "+c+" would create a cycle");this.setNode(q)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=q,this._children[q][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var q=this._parent[c];if(q!==o1)return q}}children(c){if(rJ(c)&&(c=o1),this._isCompound){var q=this._children[c];if(q)return Iq(q)}else{if(c===o1)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var q=this._preds[c];if(q)return Iq(q)}successors(c){var q=this._sucs[c];if(q)return Iq(q)}neighbors(c){var q=this.predecessors(c);if(q)return j0(q,this.successors(c))}isLeaf(c){return 0===(this.isDirected()?this.successors(c):this.neighbors(c)).length}filterNodes(c){var q=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});q.setGraph(this.graph());var Y=this;$K(this._nodes,function(Y,V){c(V)&&q.setNode(V,Y)}),$K(this._edgeObjs,function(c){q.hasNode(c.v)&&q.hasNode(c.w)&&q.setEdge(c,Y.edge(c))});var V={};function a(c){var Z=Y.parent(c);return void 0===Z||q.hasNode(Z)?(V[c]=Z,Z):Z in V?V[Z]:a(Z)}return o(a,"findParent"),this._isCompound&&$K(q.nodes(),function(c){q.setParent(c,a(c))}),q}setDefaultEdgeLabel(c){return bE(c)||(c=yI(c)),this._defaultEdgeLabelFn=c,this}edgeCount(){return this._edgeCount}edges(){return DZ(this._edgeObjs)}setPath(c,q){var Y=this,V=arguments;return k0(c,function(c,Z){return V.length>1?Y.setEdge(c,Z,q):Y.setEdge(c,Z),Z}),this}setEdge(){var c,q,Y,V,Z=!1,re=arguments[0];"object"==typeof re&&null!==re&&"v"in re?(c=re.v,q=re.w,Y=re.name,2===arguments.length&&(V=arguments[1],Z=!0)):(c=re,q=arguments[1],Y=arguments[3],arguments.length>2&&(V=arguments[2],Z=!0)),c=""+c,q=""+q,rJ(Y)||(Y=""+Y);var ae=Mv(this._isDirected,c,q,Y);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,ae))return Z&&(this._edgeLabels[ae]=V),this;if(!rJ(Y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(q),this._edgeLabels[ae]=Z?V:this._defaultEdgeLabelFn(c,q,Y);var se=BIe(this._isDirected,c,q,Y);return c=se.v,q=se.w,Object.freeze(se),this._edgeObjs[ae]=se,one(this._preds[q],c),one(this._sucs[c],q),this._in[q][ae]=se,this._out[c][ae]=se,this._edgeCount++,this}edge(c,q,Y){var V=1===arguments.length?JL(this._isDirected,arguments[0]):Mv(this._isDirected,c,q,Y);return this._edgeLabels[V]}hasEdge(c,q,Y){var V=1===arguments.length?JL(this._isDirected,arguments[0]):Mv(this._isDirected,c,q,Y);return Object.prototype.hasOwnProperty.call(this._edgeLabels,V)}removeEdge(c,q,Y){var V=1===arguments.length?JL(this._isDirected,arguments[0]):Mv(this._isDirected,c,q,Y),Z=this._edgeObjs[V];return Z&&(c=Z.v,q=Z.w,delete this._edgeLabels[V],delete this._edgeObjs[V],lne(this._preds[q],c),lne(this._sucs[c],q),delete this._in[q][V],delete this._out[c][V],this._edgeCount--),this}inEdges(c,q){var Y=this._in[c];if(Y){var V=DZ(Y);return q?oQ(V,function(c){return c.v===q}):V}}outEdges(c,q){var Y=this._out[c];if(Y){var V=DZ(Y);return q?oQ(V,function(c){return c.w===q}):V}}nodeEdges(c,q){var Y=this.inEdges(c,q);if(Y)return Y.concat(this.outEdges(c,q))}}).prototype._nodeCount=0,c1.prototype._edgeCount=0,o(one,"incrementOrInitEntry"),o(lne,"decrementOrRemoveEntry"),o(Mv,"edgeArgsToId"),o(BIe,"edgeArgsToObj"),o(JL,"edgeObjToId")}),u1=M(()=>{h1()});function cne(c){c._prev._next=c._next,c._next._prev=c._prev,delete c._next,delete c._prev}function FIe(c,q){if("_next"!==c&&"_prev"!==c)return q}var d1,f1=M(()=>{d1=class{static{o(this,"List")}constructor(){var c={};c._next=c._prev=c,this._sentinel=c}dequeue(){var c=this._sentinel,q=c._prev;if(q!==c)return cne(q),q}enqueue(c){var q=this._sentinel;c._prev&&c._next&&cne(c),c._next=q._next,q._next._prev=c,q._next=c,c._prev=q}toString(){for(var c=[],q=this._sentinel,Y=q._prev;Y!==q;)c.push(JSON.stringify(Y,FIe)),Y=Y._prev;return"["+c.join(", ")+"]"}},o(cne,"unlink"),o(FIe,"filterOutLinks")});function hne(c,q){if(c.nodeCount()<=1)return[];var Y=$Ie(c,q||y1),V=GIe(Y.graph,Y.buckets,Y.zeroIdx);return bj(BQ(V,function(q){return c.outEdges(q.v,q.w)}))}function GIe(c,q,Y){for(var V,Z=[],re=q[q.length-1],ae=q[0];c.nodeCount();){for(;V=ae.dequeue();)eD(c,q,Y,V);for(;V=re.dequeue();)eD(c,q,Y,V);if(c.nodeCount())for(var se=q.length-2;se>0;--se)if(V=q[se].dequeue()){Z=Z.concat(eD(c,q,Y,V,!0));break}}return Z}function eD(c,q,Y,V,Z){var re=Z?[]:void 0;return $K(c.inEdges(V.v),function(V){var ae=c.edge(V),se=c.node(V.v);Z&&re.push({v:V.v,w:V.w}),se.out-=ae,tD(q,Y,se)}),$K(c.outEdges(V.v),function(V){var Z=c.edge(V),re=V.w,ae=c.node(re);ae.in-=Z,tD(q,Y,ae)}),c.removeNode(V.v),re}function $Ie(c,q){var Y=new c1,V=0,Z=0;$K(c.nodes(),function(c){Y.setNode(c,{v:c,in:0,out:0})}),$K(c.edges(),function(c){var re=Y.edge(c.v,c.w)||0,ae=q(c),se=re+ae;Y.setEdge(c.v,c.w,se),Z=Math.max(Z,Y.node(c.v).out+=ae),V=Math.max(V,Y.node(c.w).in+=ae)});var re=y0(Z+V+3).map(function(){return new d1}),ae=V+1;return $K(Y.nodes(),function(c){tD(re,ae,Y.node(c))}),{graph:Y,buckets:re,zeroIdx:ae}}function tD(c,q,Y){Y.out?Y.in?c[Y.out-Y.in+q].enqueue(Y):c[c.length-1].enqueue(Y):c[0].enqueue(Y)}var y1,x1=M(()=>{a1(),u1(),f1(),y1=yI(1),o(hne,"greedyFAS"),o(GIe,"doGreedyFAS"),o(eD,"removeNode"),o($Ie,"buildState"),o(tD,"assignBucket")});function dne(c){var q="greedy"===c.graph().acyclicer?hne(c,r(c)):VIe(c);function r(c){return function(q){return c.edge(q).weight}}$K(q,function(q){var Y=c.edge(q);c.removeEdge(q),Y.forwardName=q.name,Y.reversed=!0,c.setEdge(q.w,q.v,Y,J0("rev"))}),o(r,"weightFn")}function VIe(c){var q=[],Y={},V={};function i(Z){Object.prototype.hasOwnProperty.call(V,Z)||(V[Z]=!0,Y[Z]=!0,$K(c.outEdges(Z),function(c){Object.prototype.hasOwnProperty.call(Y,c.w)?q.push(c):i(c.w)}),delete Y[Z])}return o(i,"dfs"),$K(c.nodes(),i),q}function pne(c){$K(c.edges(),function(q){var Y=c.edge(q);if(Y.reversed){c.removeEdge(q);var V=Y.forwardName;delete Y.reversed,delete Y.forwardName,c.setEdge(q.w,q.v,Y,V)}})}var b1=M(()=>{a1(),x1(),o(dne,"run"),o(VIe,"dfsFAS"),o(pne,"undo")});function Ec(c,q,Y,V){var Z;do{Z=J0(V)}while(c.hasNode(Z));return Y.dummy=q,c.setNode(Z,Y),Z}function gne(c){var q=(new c1).setGraph(c.graph());return $K(c.nodes(),function(Y){q.setNode(Y,c.node(Y))}),$K(c.edges(),function(Y){var V=q.edge(Y.v,Y.w)||{weight:0,minlen:1},Z=c.edge(Y);q.setEdge(Y.v,Y.w,{weight:V.weight+Z.weight,minlen:Math.max(V.minlen,Z.minlen)})}),q}function iT(c){var q=new c1({multigraph:c.isMultigraph()}).setGraph(c.graph());return $K(c.nodes(),function(Y){c.children(Y).length||q.setNode(Y,c.node(Y))}),$K(c.edges(),function(Y){q.setEdge(Y,c.edge(Y))}),q}function nD(c,q){var Y,V,Z=c.x,re=c.y,ae=q.x-Z,se=q.y-re,oe=c.width/2,he=c.height/2;if(!ae&&!se)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(se)*oe>Math.abs(ae)*he?(se<0&&(he=-he),Y=he*ae/se,V=he):(ae<0&&(oe=-oe),Y=oe,V=oe*se/ae),{x:Z+Y,y:re+V}}function Kh(c){var q=BQ(y0(aD(c)+1),function(){return[]});return $K(c.nodes(),function(Y){var V=c.node(Y),Z=V.rank;rJ(Z)||(q[Z][V.order]=Y)}),q}function yne(c){var q=pJ(BQ(c.nodes(),function(q){return c.node(q).rank}));$K(c.nodes(),function(Y){var V=c.node(Y);EZ(V,"rank")&&(V.rank-=q)})}function vne(c){var q=pJ(BQ(c.nodes(),function(q){return c.node(q).rank})),Y=[];$K(c.nodes(),function(V){var Z=c.node(V).rank-q;Y[Z]||(Y[Z]=[]),Y[Z].push(V)});var V=0,Z=c.graph().nodeRankFactor;$K(Y,function(q,Y){rJ(q)&&Y%Z!==0?--V:V&&$K(q,function(q){c.node(q).rank+=V})})}function iD(c,q,Y,V){var Z={width:0,height:0};return arguments.length>=4&&(Z.rank=Y,Z.order=V),Ec(c,"border",Z,q)}function aD(c){return uJ(BQ(c.nodes(),function(q){var Y=c.node(q).rank;if(!rJ(Y))return Y}))}function xne(c,q){var Y={lhs:[],rhs:[]};return $K(c,function(c){q(c)?Y.lhs.push(c):Y.rhs.push(c)}),Y}function bne(c,q){var Y=WX();try{return q()}finally{console.log(c+" time: "+(WX()-Y)+"ms")}}function wne(c,q){return q()}var w1=M(()=>{a1(),u1(),o(Ec,"addDummyNode"),o(gne,"simplify"),o(iT,"asNonCompoundGraph"),o(nD,"intersectRect"),o(Kh,"buildLayerMatrix"),o(yne,"normalizeRanks"),o(vne,"removeEmptyRanks"),o(iD,"addBorderNode"),o(aD,"maxRank"),o(xne,"partition"),o(bne,"time"),o(wne,"notime")});function kne(c){function e(q){var Y=c.children(q),V=c.node(q);if(Y.length&&$K(Y,e),Object.prototype.hasOwnProperty.call(V,"minRank")){V.borderLeft=[],V.borderRight=[];for(var Z=V.minRank,re=V.maxRank+1;Z<re;++Z)Tne(c,"borderLeft","_bl",q,V,Z),Tne(c,"borderRight","_br",q,V,Z)}}o(e,"dfs"),$K(c.children(),e)}function Tne(c,q,Y,V,Z,re){var ae={width:0,height:0,rank:re,borderType:q},se=Z[q][re-1],oe=Ec(c,"border",ae,Y);Z[q][re]=oe,c.setParent(oe,V),se&&c.setEdge(se,oe,{weight:1})}var _1=M(()=>{a1(),w1(),o(kne,"addBorderSegments"),o(Tne,"addBorderNode")});function Cne(c){var q=c.graph().rankdir.toLowerCase();("lr"===q||"rl"===q)&&_ne(c)}function Ane(c){var q=c.graph().rankdir.toLowerCase();("bt"===q||"rl"===q)&&UIe(c),("lr"===q||"rl"===q)&&(HIe(c),_ne(c))}function _ne(c){$K(c.nodes(),function(q){Sne(c.node(q))}),$K(c.edges(),function(q){Sne(c.edge(q))})}function Sne(c){var q=c.width;c.width=c.height,c.height=q}function UIe(c){$K(c.nodes(),function(q){sD(c.node(q))}),$K(c.edges(),function(q){var Y=c.edge(q);$K(Y.points,sD),Object.prototype.hasOwnProperty.call(Y,"y")&&sD(Y)})}function sD(c){c.y=-c.y}function HIe(c){$K(c.nodes(),function(q){oD(c.node(q))}),$K(c.edges(),function(q){var Y=c.edge(q);$K(Y.points,oD),Object.prototype.hasOwnProperty.call(Y,"x")&&oD(Y)})}function oD(c){var q=c.x;c.x=c.y,c.y=q}var C1=M(()=>{a1(),o(Cne,"adjust"),o(Ane,"undo"),o(_ne,"swapWidthHeight"),o(Sne,"swapWidthHeightOne"),o(UIe,"reverseY"),o(sD,"reverseYOne"),o(HIe,"swapXY"),o(oD,"swapXYOne")});function Dne(c){c.graph().dummyChains=[],$K(c.edges(),function(q){YIe(c,q)})}function YIe(c,q){var Y=q.v,V=c.node(Y).rank,Z=q.w,re=c.node(Z).rank,ae=q.name,se=c.edge(q),oe=se.labelRank;if(re!==V+1){c.removeEdge(q);var he,de,pe=void 0;for(de=0,++V;V<re;++de,++V)se.points=[],he=Ec(c,"edge",pe={width:0,height:0,edgeLabel:se,edgeObj:q,rank:V},"_d"),V===oe&&(pe.width=se.width,pe.height=se.height,pe.dummy="edge-label",pe.labelpos=se.labelpos),c.setEdge(Y,he,{weight:se.weight},ae),0===de&&c.graph().dummyChains.push(he),Y=he;c.setEdge(Y,Z,{weight:se.weight},ae)}}function Nne(c){$K(c.graph().dummyChains,function(q){var Y,V=c.node(q),Z=V.edgeLabel;for(c.setEdge(V.edgeObj,Z);V.dummy;)Y=c.successors(q)[0],c.removeNode(q),Z.points.push({x:V.x,y:V.y}),"edge-label"===V.dummy&&(Z.x=V.x,Z.y=V.y,Z.width=V.width,Z.height=V.height),q=Y,V=c.node(q)})}var S1=M(()=>{a1(),w1(),o(Dne,"run"),o(YIe,"normalizeEdge"),o(Nne,"undo")});function Iv(c){var q={};function r(Y){var V=c.node(Y);if(Object.prototype.hasOwnProperty.call(q,Y))return V.rank;q[Y]=!0;var Z=pJ(BQ(c.outEdges(Y),function(q){return r(q.w)-c.edge(q).minlen}));return(Z===Number.POSITIVE_INFINITY||null==Z)&&(Z=0),V.rank=Z}o(r,"dfs"),$K(c.sources(),r)}function Fd(c,q){return c.node(q.w).rank-c.node(q.v).rank-c.edge(q).minlen}var N1=M(()=>{a1(),o(Iv,"longestPath"),o(Fd,"slack")});function sT(c){var q,Y,V=new c1({directed:!1}),Z=c.nodes()[0],re=c.nodeCount();for(V.setNode(Z,{});qIe(V,c)<re;)q=XIe(V,c),Y=V.hasNode(q.v)?Fd(c,q):-Fd(c,q),jIe(V,c,Y);return V}function qIe(c,q){function r(Y){$K(q.nodeEdges(Y),function(V){var Z=V.v,re=Y===Z?V.w:Z;!c.hasNode(re)&&!Fd(q,V)&&(c.setNode(re,{}),c.setEdge(Y,re,{}),r(re))})}return o(r,"dfs"),$K(c.nodes(),r),c.nodeCount()}function XIe(c,q){return fJ(q.edges(),function(Y){if(c.hasNode(Y.v)!==c.hasNode(Y.w))return Fd(q,Y)})}function jIe(c,q,Y){$K(c.nodes(),function(c){q.node(c).rank+=Y})}var I1=M(()=>{a1(),u1(),N1(),o(sT,"feasibleTree"),o(qIe,"tightTree"),o(XIe,"findMinSlackEdge"),o(jIe,"shiftRanks")}),M1=M(()=>{}),R1=M(()=>{}),D1=M(()=>{a1(),R1(),yI(1)}),O1=M(()=>{D1()}),P1=M(()=>{}),B1=M(()=>{P1()}),F1=M(()=>{a1(),yI(1)});function dD(c){var q={},Y={},V=[];function i(Z){if(Object.prototype.hasOwnProperty.call(Y,Z))throw new Ov;Object.prototype.hasOwnProperty.call(q,Z)||(Y[Z]=!0,q[Z]=!0,$K(c.predecessors(Z),i),delete Y[Z],V.push(Z))}if(o(i,"visit"),$K(c.sinks(),i),A0(q)!==c.nodeCount())throw new Ov;return V}function Ov(){}var $1=M(()=>{a1(),dD.CycleException=Ov,o(dD,"topsort"),o(Ov,"CycleException"),Ov.prototype=new Error}),z1=M(()=>{$1()});function oT(c,q,Y){pL(q)||(q=[q]);var V=(c.isDirected()?c.successors:c.neighbors).bind(c),Z=[],re={};return $K(q,function(q){if(!c.hasNode(q))throw new Error("Graph does not have node: "+q);Fne(c,q,"post"===Y,re,V,Z)}),Z}function Fne(c,q,Y,V,Z,re){Object.prototype.hasOwnProperty.call(V,q)||(V[q]=!0,Y||re.push(q),$K(Z(q),function(q){Fne(c,q,Y,V,Z,re)}),Y&&re.push(q))}var G1=M(()=>{a1(),o(oT,"dfs"),o(Fne,"doDfs")});function gD(c,q){return oT(c,q,"post")}var U1=M(()=>{G1(),o(gD,"postorder")});function yD(c,q){return oT(c,q,"pre")}var q1=M(()=>{G1(),o(yD,"preorder")}),j1=M(()=>{R1(),h1()}),W1=M(()=>{M1(),D1(),O1(),B1(),F1(),z1(),U1(),q1(),j1(),P1(),$1()});function Zh(c){Iv(c=gne(c));var q,Y=sT(c);for(xD(Y),vD(Y,c);q=Yne(Y);)Xne(Y,c,q,qne(Y,c,q))}function vD(c,q){var Y=gD(c,c.nodes());Y=Y.slice(0,Y.length-1),$K(Y,function(Y){eOe(c,q,Y)})}function eOe(c,q,Y){var V=c.node(Y).parent;c.edge(Y,V).cutvalue=Hne(c,q,Y)}function Hne(c,q,Y){var V=c.node(Y).parent,Z=!0,re=q.edge(Y,V),ae=0;return re||(Z=!1,re=q.edge(V,Y)),ae=re.weight,$K(q.nodeEdges(Y),function(re){var se=re.v===Y,oe=se?re.w:re.v;if(oe!==V){var he=se===Z,de=q.edge(re).weight;if(ae+=he?de:-de,rOe(c,Y,oe)){var pe=c.edge(Y,oe).cutvalue;ae+=he?-pe:pe}}}),ae}function xD(c,q){arguments.length<2&&(q=c.nodes()[0]),Wne(c,{},1,q)}function Wne(c,q,Y,V,Z){var re=Y,ae=c.node(V);return q[V]=!0,$K(c.neighbors(V),function(Z){Object.prototype.hasOwnProperty.call(q,Z)||(Y=Wne(c,q,Y,Z,V))}),ae.low=re,ae.lim=Y++,Z?ae.parent=Z:delete ae.parent,Y}function Yne(c){return wQ(c.edges(),function(q){return c.edge(q).cutvalue<0})}function qne(c,q,Y){var V=Y.v,Z=Y.w;q.hasEdge(V,Z)||(V=Y.w,Z=Y.v);var re=c.node(V),ae=c.node(Z),se=re,oe=!1;re.lim>ae.lim&&(se=ae,oe=!0);var he=oQ(q.edges(),function(q){return oe===Une(c,c.node(q.v),se)&&oe!==Une(c,c.node(q.w),se)});return fJ(he,function(c){return Fd(q,c)})}function Xne(c,q,Y,V){var Z=Y.v,re=Y.w;c.removeEdge(Z,re),c.setEdge(V.v,V.w,{}),xD(c),vD(c,q),tOe(c,q)}function tOe(c,q){var Y=wQ(c.nodes(),function(c){return!q.node(c).parent}),V=yD(c,Y);V=V.slice(1),$K(V,function(Y){var V=c.node(Y).parent,Z=q.edge(Y,V),re=!1;Z||(Z=q.edge(V,Y),re=!0),q.node(Y).rank=q.node(V).rank+(re?Z.minlen:-Z.minlen)})}function rOe(c,q,Y){return c.hasEdge(q,Y)}function Une(c,q,Y){return Y.low<=q.lim&&q.lim<=Y.lim}var H1=M(()=>{a1(),W1(),w1(),I1(),N1(),Zh.initLowLimValues=xD,Zh.initCutValues=vD,Zh.calcCutValue=Hne,Zh.leaveEdge=Yne,Zh.enterEdge=qne,Zh.exchangeEdges=Xne,o(Zh,"networkSimplex"),o(vD,"initCutValues"),o(eOe,"assignCutValue"),o(Hne,"calcCutValue"),o(xD,"initLowLimValues"),o(Wne,"dfsAssignLowLim"),o(Yne,"leaveEdge"),o(qne,"enterEdge"),o(Xne,"exchangeEdges"),o(tOe,"updateRanks"),o(rOe,"isTreeEdge"),o(Une,"isDescendant")});function bD(c){switch(c.graph().ranker){case"network-simplex":default:Kne(c);break;case"tight-tree":iOe(c);break;case"longest-path":V1(c)}}function iOe(c){Iv(c),sT(c)}function Kne(c){Zh(c)}var V1,X1=M(()=>{I1(),H1(),N1(),o(bD,"rank"),V1=Iv,o(iOe,"tightTreeRanker"),o(Kne,"networkSimplexRanker")});function Qne(c){var q=Ec(c,"root",{},"_root"),Y=aOe(c),V=uJ(DZ(Y))-1,Z=2*V+1;c.graph().nestingRoot=q,$K(c.edges(),function(q){c.edge(q).minlen*=Z});var re=sOe(c)+1;$K(c.children(),function(ae){Zne(c,q,Z,re,V,Y,ae)}),c.graph().nodeRankFactor=Z}function Zne(c,q,Y,V,Z,re,ae){var se=c.children(ae);if(se.length){var oe=iD(c,"_bt"),he=iD(c,"_bb"),de=c.node(ae);c.setParent(oe,ae),de.borderTop=oe,c.setParent(he,ae),de.borderBottom=he,$K(se,function(se){Zne(c,q,Y,V,Z,re,se);var de=c.node(se),pe=de.borderTop?de.borderTop:se,ge=de.borderBottom?de.borderBottom:se,me=de.borderTop?V:2*V,ve=pe!==ge?1:Z-re[ae]+1;c.setEdge(oe,pe,{weight:me,minlen:ve,nestingEdge:!0}),c.setEdge(ge,he,{weight:me,minlen:ve,nestingEdge:!0})}),c.parent(ae)||c.setEdge(q,oe,{weight:0,minlen:Z+re[ae]})}else ae!==q&&c.setEdge(q,ae,{weight:0,minlen:Y})}function aOe(c){var q={};function r(Y,V){var Z=c.children(Y);Z&&Z.length&&$K(Z,function(c){r(c,V+1)}),q[Y]=V}return o(r,"dfs"),$K(c.children(),function(c){r(c,1)}),q}function sOe(c){return k0(c.edges(),function(q,Y){return q+c.edge(Y).weight},0)}function Jne(c){var q=c.graph();c.removeNode(q.nestingRoot),delete q.nestingRoot,$K(c.edges(),function(q){c.edge(q).nestingEdge&&c.removeEdge(q)})}var K1=M(()=>{a1(),w1(),o(Qne,"run"),o(Zne,"dfs"),o(aOe,"treeDepths"),o(sOe,"sumWeights"),o(Jne,"cleanup")});function tie(c,q,Y){var V,Z={};$K(Y,function(Y){for(var re,ae,se=c.parent(Y);se;){if((re=c.parent(se))?(ae=Z[re],Z[re]=se):(ae=V,V=se),ae&&ae!==se)return void q.setEdge(ae,se);se=re}})}var Q1=M(()=>{a1(),o(tie,"addSubgraphConstraints")});function nie(c,q,Y){var V=lOe(c),Z=new c1({compound:!0}).setGraph({root:V}).setDefaultNodeLabel(function(q){return c.node(q)});return $K(c.nodes(),function(re){var ae=c.node(re),se=c.parent(re);(ae.rank===q||ae.minRank<=q&&q<=ae.maxRank)&&(Z.setNode(re),Z.setParent(re,se||V),$K(c[Y](re),function(q){var Y=q.v===re?q.w:q.v,V=Z.edge(Y,re),ae=rJ(V)?0:V.weight;Z.setEdge(Y,re,{weight:c.edge(q).weight+ae})}),Object.prototype.hasOwnProperty.call(ae,"minRank")&&Z.setNode(re,{borderLeft:ae.borderLeft[q],borderRight:ae.borderRight[q]}))}),Z}function lOe(c){for(var q;c.hasNode(q=J0("_root")););return q}var Z1=M(()=>{a1(),u1(),o(nie,"buildLayerGraph"),o(lOe,"createRootNode")});function aie(c,q){for(var Y=0,V=1;V<q.length;++V)Y+=cOe(c,q[V-1],q[V]);return Y}function cOe(c,q,Y){for(var V=n1(Y,BQ(Y,function(c,q){return q})),Z=bj(BQ(q,function(q){return D0(BQ(c.outEdges(q),function(q){return{pos:V[q.w],weight:c.edge(q).weight}}),"pos")})),re=1;re<Y.length;)re<<=1;var ae=2*re-1;re-=1;var se=BQ(new Array(ae),function(){return 0}),oe=0;return $K(Z.forEach(function(c){var q=c.pos+re;se[q]+=c.weight;for(var Y=0;q>0;)q%2&&(Y+=se[q+1]),se[q=q-1>>1]+=c.weight;oe+=c.weight*Y})),oe}var J1=M(()=>{a1(),o(aie,"crossCount"),o(cOe,"twoLayerCrossCount")});function oie(c){var q={},Y=oQ(c.nodes(),function(q){return!c.children(q).length}),V=uJ(BQ(Y,function(q){return c.node(q).rank})),Z=BQ(y0(V+1),function(){return[]});function a(Y){if(!EZ(q,Y)){q[Y]=!0;var V=c.node(Y);Z[V.rank].push(Y),$K(c.successors(Y),a)}}o(a,"dfs");var re=D0(Y,function(q){return c.node(q).rank});return $K(re,a),Z}var i2=M(()=>{a1(),o(oie,"initOrder")});function cie(c,q){return BQ(q,function(q){var Y=c.inEdges(q);if(Y.length){var V=k0(Y,function(q,Y){var V=c.edge(Y),Z=c.node(Y.v);return{sum:q.sum+V.weight*Z.order,weight:q.weight+V.weight}},{sum:0,weight:0});return{v:q,barycenter:V.sum/V.weight,weight:V.weight}}return{v:q}})}var a2=M(()=>{a1(),o(cie,"barycenter")});function hie(c,q){var Y={};return $K(c,function(c,q){var V=Y[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:q};rJ(c.barycenter)||(V.barycenter=c.barycenter,V.weight=c.weight)}),$K(q.edges(),function(c){var q=Y[c.v],V=Y[c.w];!rJ(q)&&!rJ(V)&&(V.indegree++,q.out.push(Y[c.w]))}),uOe(oQ(Y,function(c){return!c.indegree}))}function uOe(c){var q=[];function r(c){return function(q){q.merged||(rJ(q.barycenter)||rJ(c.barycenter)||q.barycenter>=c.barycenter)&&hOe(c,q)}}function n(q){return function(Y){Y.in.push(q),0===--Y.indegree&&c.push(Y)}}for(o(r,"handleIn"),o(n,"handleOut");c.length;){var Y=c.pop();q.push(Y),$K(Y.in.reverse(),r(Y)),$K(Y.out,n(Y))}return BQ(oQ(q,function(c){return!c.merged}),function(c){return a0(c,["vs","i","barycenter","weight"])})}function hOe(c,q){var Y=0,V=0;c.weight&&(Y+=c.barycenter*c.weight,V+=c.weight),q.weight&&(Y+=q.barycenter*q.weight,V+=q.weight),c.vs=q.vs.concat(c.vs),c.barycenter=Y/V,c.weight=V,c.i=Math.min(q.i,c.i),q.merged=!0}var s2=M(()=>{a1(),o(hie,"resolveConflicts"),o(uOe,"doResolveConflicts"),o(hOe,"mergeEntries")});function pie(c,q){var Y=xne(c,function(c){return Object.prototype.hasOwnProperty.call(c,"barycenter")}),V=Y.lhs,Z=D0(Y.rhs,function(c){return-c.i}),re=[],ae=0,se=0,oe=0;V.sort(fOe(!!q)),oe=die(re,Z,oe),$K(V,function(c){oe+=c.vs.length,re.push(c.vs),ae+=c.barycenter*c.weight,se+=c.weight,oe=die(re,Z,oe)});var he={vs:bj(re)};return se&&(he.barycenter=ae/se,he.weight=se),he}function die(c,q,Y){for(var V;q.length&&(V=kK(q)).i<=Y;)q.pop(),c.push(V.vs),Y++;return Y}function fOe(c){return function(q,Y){return q.barycenter<Y.barycenter?-1:q.barycenter>Y.barycenter?1:c?Y.i-q.i:q.i-Y.i}}var l2=M(()=>{a1(),w1(),o(pie,"sort"),o(die,"consumeUnsortable"),o(fOe,"compareWithBias")});function TD(c,q,Y,V){var Z=c.children(q),re=c.node(q),ae=re?re.borderLeft:void 0,se=re?re.borderRight:void 0,oe={};ae&&(Z=oQ(Z,function(c){return c!==ae&&c!==se}));var he=cie(c,Z);$K(he,function(q){if(c.children(q.v).length){var Z=TD(c,q.v,Y,V);oe[q.v]=Z,Object.prototype.hasOwnProperty.call(Z,"barycenter")&&pOe(q,Z)}});var de=hie(he,Y);dOe(de,oe);var pe=pie(de,V);if(ae&&(pe.vs=bj([ae,pe.vs,se]),c.predecessors(ae).length)){var ge=c.node(c.predecessors(ae)[0]),me=c.node(c.predecessors(se)[0]);Object.prototype.hasOwnProperty.call(pe,"barycenter")||(pe.barycenter=0,pe.weight=0),pe.barycenter=(pe.barycenter*pe.weight+ge.order+me.order)/(pe.weight+2),pe.weight+=2}return pe}function dOe(c,q){$K(c,function(c){c.vs=bj(c.vs.map(function(c){return q[c]?q[c].vs:c}))})}function pOe(c,q){rJ(c.barycenter)?(c.barycenter=q.barycenter,c.weight=q.weight):(c.barycenter=(c.barycenter*c.weight+q.barycenter*q.weight)/(c.weight+q.weight),c.weight+=q.weight)}var c2=M(()=>{a1(),a2(),s2(),l2(),o(TD,"sortSubgraph"),o(dOe,"expandSubgraphs"),o(pOe,"mergeBarycenters")});function xie(c){var q=aD(c),Y=yie(c,y0(1,q+1),"inEdges"),V=yie(c,y0(q-1,-1,-1),"outEdges"),Z=oie(c);vie(c,Z);for(var re,ae=Number.POSITIVE_INFINITY,se=0,oe=0;oe<4;++se,++oe){mOe(se%2?Y:V,se%4>=2);var he=aie(c,Z=Kh(c));he<ae&&(oe=0,re=zH(Z),ae=he)}vie(c,re)}function yie(c,q,Y){return BQ(q,function(q){return nie(c,q,Y)})}function mOe(c,q){var Y=new c1;$K(c,function(c){var V=c.graph().root,Z=TD(c,V,Y,q);$K(Z.vs,function(q,Y){c.node(q).order=Y}),tie(c,Y,Z.vs)})}function vie(c,q){$K(q,function(q){$K(q,function(q,Y){c.node(q).order=Y})})}var u2=M(()=>{a1(),u1(),w1(),Q1(),Z1(),J1(),i2(),c2(),o(xie,"order"),o(yie,"buildLayerGraphs"),o(mOe,"sweepLayerGraphs"),o(vie,"assignOrder")});function wie(c){var q=yOe(c);$K(c.graph().dummyChains,function(Y){for(var V=c.node(Y),Z=V.edgeObj,re=gOe(c,q,Z.v,Z.w),ae=re.path,se=re.lca,oe=0,he=ae[oe],de=!0;Y!==Z.w;){if(V=c.node(Y),de){for(;(he=ae[oe])!==se&&c.node(he).maxRank<V.rank;)oe++;he===se&&(de=!1)}if(!de){for(;oe<ae.length-1&&c.node(he=ae[oe+1]).minRank<=V.rank;)oe++;he=ae[oe]}c.setParent(Y,he),Y=c.successors(Y)[0]}})}function gOe(c,q,Y,V){var Z,re,ae=[],se=[],oe=Math.min(q[Y].low,q[V].low),he=Math.max(q[Y].lim,q[V].lim);Z=Y;do{Z=c.parent(Z),ae.push(Z)}while(Z&&(q[Z].low>oe||he>q[Z].lim));for(re=Z,Z=V;(Z=c.parent(Z))!==re;)se.push(Z);return{path:ae.concat(se.reverse()),lca:re}}function yOe(c){var q={},Y=0;function n(V){var Z=Y;$K(c.children(V),n),q[V]={low:Z,lim:Y++}}return o(n,"dfs"),$K(c.children(),n),q}var d2=M(()=>{a1(),o(wie,"parentDummyChains"),o(gOe,"findPath"),o(yOe,"postorder")});function vOe(c,q){var Y={};function n(q,V){var Z=0,re=0,ae=q.length,se=kK(V);return $K(V,function(q,oe){var he=bOe(c,q),de=he?c.node(he).order:ae;(he||q===se)&&($K(V.slice(re,oe+1),function(q){$K(c.predecessors(q),function(V){var re=c.node(V),ae=re.order;(ae<Z||de<ae)&&(!re.dummy||!c.node(q).dummy)&&kie(Y,V,q)})}),re=oe+1,Z=de)}),V}return o(n,"visitLayer"),k0(q,n),Y}function xOe(c,q){var Y={};function n(q,V,Z,re,ae){var se;$K(y0(V,Z),function(V){se=q[V],c.node(se).dummy&&$K(c.predecessors(se),function(q){var V=c.node(q);V.dummy&&(V.order<re||V.order>ae)&&kie(Y,q,se)})})}function i(q,Y){var V,Z=-1,re=0;return $K(Y,function(ae,se){if("border"===c.node(ae).dummy){var oe=c.predecessors(ae);oe.length&&(V=c.node(oe[0]).order,n(Y,re,se,Z,V),re=se,Z=V)}n(Y,re,Y.length,V,q.length)}),Y}return o(n,"scan"),o(i,"visitLayer"),k0(q,i),Y}function bOe(c,q){if(c.node(q).dummy)return wQ(c.predecessors(q),function(q){return c.node(q).dummy})}function kie(c,q,Y){if(q>Y){var V=q;q=Y,Y=V}var Z=c[q];Z||(c[q]=Z={}),Z[Y]=!0}function wOe(c,q,Y){if(q>Y){var V=q;q=Y,Y=V}return!!c[q]&&Object.prototype.hasOwnProperty.call(c[q],Y)}function TOe(c,q,Y,V){var Z={},re={},ae={};return $K(q,function(c){$K(c,function(c,q){Z[c]=c,re[c]=c,ae[c]=q})}),$K(q,function(c){var q=-1;$K(c,function(c){var se=V(c);if(se.length)for(var oe=((se=D0(se,function(c){return ae[c]})).length-1)/2,he=Math.floor(oe),de=Math.ceil(oe);he<=de;++he){var pe=se[he];re[c]===c&&q<ae[pe]&&!wOe(Y,c,pe)&&(re[pe]=c,re[c]=Z[c]=Z[pe],q=ae[pe])}})}),{root:Z,align:re}}function kOe(c,q,Y,V,Z){var re={},ae=EOe(c,q,Y,Z),se=Z?"borderLeft":"borderRight";function u(c,q){for(var Y=ae.nodes(),V=Y.pop(),Z={};V;)Z[V]?c(V):(Z[V]=!0,Y.push(V),Y=Y.concat(q(V))),V=Y.pop()}function h(c){re[c]=ae.inEdges(c).reduce(function(c,q){return Math.max(c,re[q.v]+ae.edge(q))},0)}function f(q){var Y=ae.outEdges(q).reduce(function(c,q){return Math.min(c,re[q.w]-ae.edge(q))},Number.POSITIVE_INFINITY),V=c.node(q);Y!==Number.POSITIVE_INFINITY&&V.borderType!==se&&(re[q]=Math.max(re[q],Y))}return o(u,"iterate"),o(h,"pass1"),o(f,"pass2"),u(h,ae.predecessors.bind(ae)),u(f,ae.successors.bind(ae)),$K(V,function(c){re[c]=re[Y[c]]}),re}function EOe(c,q,Y,V){var Z=new c1,re=c.graph(),ae=_Oe(re.nodesep,re.edgesep,V);return $K(q,function(q){var V;$K(q,function(q){var re=Y[q];if(Z.setNode(re),V){var se=Y[V],oe=Z.edge(se,re);Z.setEdge(se,re,Math.max(ae(c,q,V),oe||0))}V=q})}),Z}function SOe(c,q){return fJ(DZ(q),function(q){var Y=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY;return qQ(q,function(q,Z){var re=LOe(c,Z)/2;Y=Math.max(q+re,Y),V=Math.min(q-re,V)}),Y-V})}function COe(c,q){var Y=DZ(q),V=pJ(Y),Z=uJ(Y);$K(["u","d"],function(Y){$K(["l","r"],function(re){var ae,se=Y+re,oe=c[se];if(oe!==q){var he=DZ(oe);(ae="l"===re?V-pJ(he):Z-uJ(he))&&(c[se]=sJ(oe,function(c){return c+ae}))}})})}function AOe(c,q){return sJ(c.ul,function(Y,V){if(q)return c[q.toLowerCase()][V];var Z=D0(BQ(c,V));return(Z[1]+Z[2])/2})}function Eie(c){var q,Y=Kh(c),V=PI(vOe(c,Y),xOe(c,Y)),Z={};$K(["u","d"],function(re){q="u"===re?Y:DZ(Y).reverse(),$K(["l","r"],function(Y){"r"===Y&&(q=BQ(q,function(c){return DZ(c).reverse()}));var ae=("u"===re?c.predecessors:c.successors).bind(c),se=TOe(0,q,V,ae),oe=kOe(c,q,se.root,se.align,"r"===Y);"r"===Y&&(oe=sJ(oe,function(c){return-c})),Z[re+Y]=oe})});var re=SOe(c,Z);return COe(Z,re),AOe(Z,c.graph().align)}function _Oe(c,q,Y){return function(V,Z,re){var ae,se=V.node(Z),oe=V.node(re),he=0;if(he+=se.width/2,Object.prototype.hasOwnProperty.call(se,"labelpos"))switch(se.labelpos.toLowerCase()){case"l":ae=-se.width/2;break;case"r":ae=se.width/2}if(ae&&(he+=Y?ae:-ae),ae=0,he+=(se.dummy?q:c)/2,he+=(oe.dummy?q:c)/2,he+=oe.width/2,Object.prototype.hasOwnProperty.call(oe,"labelpos"))switch(oe.labelpos.toLowerCase()){case"l":ae=oe.width/2;break;case"r":ae=-oe.width/2}return ae&&(he+=Y?ae:-ae),ae=0,he}}function LOe(c,q){return c.node(q).width}var p2=M(()=>{a1(),u1(),w1(),o(vOe,"findType1Conflicts"),o(xOe,"findType2Conflicts"),o(bOe,"findOtherInnerSegmentNode"),o(kie,"addConflict"),o(wOe,"hasConflict"),o(TOe,"verticalAlignment"),o(kOe,"horizontalCompaction"),o(EOe,"buildBlockGraph"),o(SOe,"findSmallestWidthAlignment"),o(COe,"alignCoordinates"),o(AOe,"balance"),o(Eie,"positionX"),o(_Oe,"sep"),o(LOe,"width")});function Cie(c){DOe(c=iT(c)),WQ(Eie(c),function(q,Y){c.node(Y).x=q})}function DOe(c){var q=Kh(c),Y=c.graph().ranksep,V=0;$K(q,function(q){var Z=uJ(BQ(q,function(q){return c.node(q).height}));$K(q,function(q){c.node(q).y=V+Z/2}),V+=Z+Y})}var g2=M(()=>{a1(),w1(),p2(),o(Cie,"position"),o(DOe,"positionY")});function Du(c,q){var Y=q&&q.debugTiming?bne:wne;Y("layout",()=>{var q=Y("  buildLayoutGraph",()=>$Oe(c));Y("  runLayout",()=>NOe(q,Y)),Y("  updateInputGraph",()=>ROe(c,q))})}function NOe(c,q){q("    makeSpaceForEdgeLabels",()=>VOe(c)),q("    removeSelfEdges",()=>QOe(c)),q("    acyclic",()=>dne(c)),q("    nestingGraph.run",()=>Qne(c)),q("    rank",()=>bD(iT(c))),q("    injectEdgeLabelProxies",()=>UOe(c)),q("    removeEmptyRanks",()=>vne(c)),q("    nestingGraph.cleanup",()=>Jne(c)),q("    normalizeRanks",()=>yne(c)),q("    assignRankMinMax",()=>HOe(c)),q("    removeEdgeLabelProxies",()=>WOe(c)),q("    normalize.run",()=>Dne(c)),q("    parentDummyChains",()=>wie(c)),q("    addBorderSegments",()=>kne(c)),q("    order",()=>xie(c)),q("    insertSelfEdges",()=>ZOe(c)),q("    adjustCoordinateSystem",()=>Cne(c)),q("    position",()=>Cie(c)),q("    positionSelfEdges",()=>JOe(c)),q("    removeBorderNodes",()=>KOe(c)),q("    normalize.undo",()=>Nne(c)),q("    fixupEdgeLabelCoords",()=>XOe(c)),q("    undoCoordinateSystem",()=>Ane(c)),q("    translateGraph",()=>YOe(c)),q("    assignNodeIntersects",()=>qOe(c)),q("    reversePoints",()=>jOe(c)),q("    acyclic.undo",()=>pne(c))}function ROe(c,q){$K(c.nodes(),function(Y){var V=c.node(Y),Z=q.node(Y);V&&(V.x=Z.x,V.y=Z.y,q.children(Y).length&&(V.width=Z.width,V.height=Z.height))}),$K(c.edges(),function(Y){var V=c.edge(Y),Z=q.edge(Y);V.points=Z.points,Object.prototype.hasOwnProperty.call(Z,"x")&&(V.x=Z.x,V.y=Z.y)}),c.graph().width=q.graph().width,c.graph().height=q.graph().height}function $Oe(c){var q=new c1({multigraph:!0,compound:!0}),Y=ED(c.graph());return q.setGraph(PI({},m2,kD(Y,f2),a0(Y,y2))),$K(c.nodes(),function(Y){var V=ED(c.node(Y));q.setNode(Y,JX(kD(V,x2),b2)),q.setParent(Y,c.parent(Y))}),$K(c.edges(),function(Y){var V=ED(c.edge(Y));q.setEdge(Y,PI({},k2,kD(V,w2),a0(V,T2)))}),q}function VOe(c){var q=c.graph();q.ranksep/=2,$K(c.edges(),function(Y){var V=c.edge(Y);V.minlen*=2,"c"!==V.labelpos.toLowerCase()&&("TB"===q.rankdir||"BT"===q.rankdir?V.width+=V.labeloffset:V.height+=V.labeloffset)})}function UOe(c){$K(c.edges(),function(q){var Y=c.edge(q);if(Y.width&&Y.height){var V=c.node(q.v),Z={rank:(c.node(q.w).rank-V.rank)/2+V.rank,e:q};Ec(c,"edge-proxy",Z,"_ep")}})}function HOe(c){var q=0;$K(c.nodes(),function(Y){var V=c.node(Y);V.borderTop&&(V.minRank=c.node(V.borderTop).rank,V.maxRank=c.node(V.borderBottom).rank,q=uJ(q,V.maxRank))}),c.graph().maxRank=q}function WOe(c){$K(c.nodes(),function(q){var Y=c.node(q);"edge-proxy"===Y.dummy&&(c.edge(Y.e).labelRank=Y.rank,c.removeNode(q))})}function YOe(c){var q=Number.POSITIVE_INFINITY,Y=0,V=Number.POSITIVE_INFINITY,Z=0,re=c.graph(),ae=re.marginx||0,se=re.marginy||0;function u(c){var re=c.x,ae=c.y,se=c.width,oe=c.height;q=Math.min(q,re-se/2),Y=Math.max(Y,re+se/2),V=Math.min(V,ae-oe/2),Z=Math.max(Z,ae+oe/2)}o(u,"getExtremes"),$K(c.nodes(),function(q){u(c.node(q))}),$K(c.edges(),function(q){var Y=c.edge(q);Object.prototype.hasOwnProperty.call(Y,"x")&&u(Y)}),q-=ae,V-=se,$K(c.nodes(),function(Y){var Z=c.node(Y);Z.x-=q,Z.y-=V}),$K(c.edges(),function(Y){var Z=c.edge(Y);$K(Z.points,function(c){c.x-=q,c.y-=V}),Object.prototype.hasOwnProperty.call(Z,"x")&&(Z.x-=q),Object.prototype.hasOwnProperty.call(Z,"y")&&(Z.y-=V)}),re.width=Y-q+ae,re.height=Z-V+se}function qOe(c){$K(c.edges(),function(q){var Y,V,Z=c.edge(q),re=c.node(q.v),ae=c.node(q.w);Z.points?(Y=Z.points[0],V=Z.points[Z.points.length-1]):(Z.points=[],Y=ae,V=re),Z.points.unshift(nD(re,Y)),Z.points.push(nD(ae,V))})}function XOe(c){$K(c.edges(),function(q){var Y=c.edge(q);if(Object.prototype.hasOwnProperty.call(Y,"x"))switch(("l"===Y.labelpos||"r"===Y.labelpos)&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset}})}function jOe(c){$K(c.edges(),function(q){var Y=c.edge(q);Y.reversed&&Y.points.reverse()})}function KOe(c){$K(c.nodes(),function(q){if(c.children(q).length){var Y=c.node(q),V=c.node(Y.borderTop),Z=c.node(Y.borderBottom),re=c.node(kK(Y.borderLeft)),ae=c.node(kK(Y.borderRight));Y.width=Math.abs(ae.x-re.x),Y.height=Math.abs(Z.y-V.y),Y.x=re.x+Y.width/2,Y.y=V.y+Y.height/2}}),$K(c.nodes(),function(q){"border"===c.node(q).dummy&&c.removeNode(q)})}function QOe(c){$K(c.edges(),function(q){if(q.v===q.w){var Y=c.node(q.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:q,label:c.edge(q)}),c.removeEdge(q)}})}function ZOe(c){var q=Kh(c);$K(q,function(q){var Y=0;$K(q,function(q,V){var Z=c.node(q);Z.order=V+Y,$K(Z.selfEdges,function(q){Ec(c,"selfedge",{width:q.label.width,height:q.label.height,rank:Z.rank,order:V+ ++Y,e:q.e,label:q.label},"_se")}),delete Z.selfEdges})})}function JOe(c){$K(c.nodes(),function(q){var Y=c.node(q);if("selfedge"===Y.dummy){var V=c.node(Y.e.v),Z=V.x+V.width/2,re=V.y,ae=Y.x-Z,se=V.height/2;c.setEdge(Y.e,Y.label),c.removeNode(q),Y.label.points=[{x:Z+2*ae/3,y:re-se},{x:Z+5*ae/6,y:re-se},{x:Z+ae,y:re},{x:Z+5*ae/6,y:re+se},{x:Z+2*ae/3,y:re+se}],Y.label.x=Y.x,Y.label.y=Y.y}})}function kD(c,q){return sJ(a0(c,q),Number)}function ED(c){var q={};return $K(c,function(c,Y){q[Y.toLowerCase()]=c}),q}var f2,m2,y2,x2,b2,w2,k2,T2,_2=M(()=>{a1(),u1(),_1(),C1(),b1(),S1(),X1(),K1(),u2(),d2(),g2(),w1(),o(Du,"layout"),o(NOe,"runLayout"),o(ROe,"updateInputGraph"),f2=["nodesep","edgesep","ranksep","marginx","marginy"],m2={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},y2=["acyclicer","ranker","rankdir","align"],x2=["width","height"],b2={width:0,height:0},w2=["minlen","weight","width","height","labeloffset"],k2={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T2=["labelpos"],o($Oe,"buildLayoutGraph"),o(VOe,"makeSpaceForEdgeLabels"),o(UOe,"injectEdgeLabelProxies"),o(HOe,"assignRankMinMax"),o(WOe,"removeEdgeLabelProxies"),o(YOe,"translateGraph"),o(qOe,"assignNodeIntersects"),o(XOe,"fixupEdgeLabelCoords"),o(jOe,"reversePointsForReversedEdges"),o(KOe,"removeBorderNodes"),o(QOe,"removeSelfEdges"),o(ZOe,"insertSelfEdges"),o(JOe,"positionSelfEdges"),o(kD,"selectNumberAttrs"),o(ED,"canonicalize")}),E2=M(()=>{b1(),_2(),S1(),X1()});function Ho(c){var q={options:{directed:c.isDirected(),multigraph:c.isMultigraph(),compound:c.isCompound()},nodes:ePe(c),edges:tPe(c)};return rJ(c.graph())||(q.value=PH(c.graph())),q}function ePe(c){return BQ(c.nodes(),function(q){var Y=c.node(q),V=c.parent(q),Z={v:q};return rJ(Y)||(Z.value=Y),rJ(V)||(Z.parent=V),Z})}function tPe(c){return BQ(c.edges(),function(q){var Y=c.edge(q),V={v:q.v,w:q.w};return rJ(q.name)||(V.name=q.name),rJ(Y)||(V.value=Y),V})}var C2,S2,A2,L2,N2,I2,M2,R2,D2,O2,P2,B2,F2,$2,z2,G2=M(()=>{a1(),h1(),o(Ho,"write"),o(ePe,"writeNodes"),o(tPe,"writeEdges")}),U2=M(()=>{Ae(),u1(),G2(),C2=new Map,S2=new Map,A2=new Map,L2=o(()=>{S2.clear(),A2.clear(),C2.clear()},"clear"),N2=o((c,q)=>{let Y=S2.get(q)||[];return V.trace("In isDescendant",q," ",c," = ",Y.includes(c)),Y.includes(c)},"isDescendant"),I2=o((c,q)=>{let Y=S2.get(q)||[];return V.info("Descendants of ",q," is ",Y),V.info("Edge is ",c),c.v!==q&&c.w!==q&&(Y?Y.includes(c.v)||N2(c.v,q)||N2(c.w,q)||Y.includes(c.w):(V.debug("Tilt, ",q,",not in descendants"),!1))},"edgeInCluster"),M2=o((c,q,Y,Z)=>{V.warn("Copying children of ",c,"root",Z,"data",q.node(c),Z);let re=q.children(c)||[];c!==Z&&re.push(c),V.warn("Copying (nodes) clusterId",c,"nodes",re),re.forEach(re=>{if(q.children(re).length>0)M2(re,q,Y,Z);else{let ae=q.node(re);V.info("cp ",re," to ",Z," with parent ",c),Y.setNode(re,ae),Z!==q.parent(re)&&(V.warn("Setting parent",re,q.parent(re)),Y.setParent(re,q.parent(re))),c!==Z&&re!==c?(V.debug("Setting parent",re,c),Y.setParent(re,c)):(V.info("In copy ",c,"root",Z,"data",q.node(c),Z),V.debug("Not Setting parent for node=",re,"cluster!==rootId",c!==Z,"node!==clusterId",re!==c));let se=q.edges(re);V.debug("Copying Edges",se),se.forEach(re=>{V.info("Edge",re);let ae=q.edge(re.v,re.w,re.name);V.info("Edge data",ae,Z);try{I2(re,Z)?(V.info("Copying as ",re.v,re.w,ae,re.name),Y.setEdge(re.v,re.w,ae,re.name),V.info("newGraph edges ",Y.edges(),Y.edge(Y.edges()[0]))):V.info("Skipping copy of edge ",re.v,"--\x3e",re.w," rootId: ",Z," clusterId:",c)}catch(c){V.error(c)}})}V.debug("Removing node",re),q.removeNode(re)})},"copy"),R2=o((c,q)=>{let Y=q.children(c),V=[...Y];for(let Z of Y)A2.set(Z,c),V=[...V,...R2(Z,q)];return V},"extractDescendants"),D2=o((c,q,Y)=>{let V=c.edges().filter(c=>c.v===q||c.w===q),Z=c.edges().filter(c=>c.v===Y||c.w===Y),re=V.map(c=>({v:c.v===q?Y:c.v,w:c.w===q?q:c.w})),ae=Z.map(c=>({v:c.v,w:c.w}));return re.filter(c=>ae.some(q=>c.v===q.v&&c.w===q.w))},"findCommonEdges"),O2=o((c,q,Y)=>{let Z,re=q.children(c);if(V.trace("Searching children of id ",c,re),re.length<1)return c;for(let c of re){let V=O2(c,q,Y),re=D2(q,Y,V);if(V){if(!(re.length>0))return V;Z=V}}return Z},"findNonClusterChild"),P2=o(c=>C2.has(c)&&C2.get(c).externalConnections&&C2.has(c)?C2.get(c).id:c,"getAnchorId"),B2=o((c,q)=>{if(!c||q>10)V.debug("Opting out, no graph ");else{V.debug("Opting in, graph "),c.nodes().forEach(function(q){c.children(q).length>0&&(V.warn("Cluster identified",q," Replacement id in edges: ",O2(q,c,q)),S2.set(q,R2(q,c)),C2.set(q,{id:O2(q,c,q),clusterData:c.node(q)}))}),c.nodes().forEach(function(q){let Y=c.children(q),Z=c.edges();Y.length>0?(V.debug("Cluster identified",q,S2),Z.forEach(c=>{N2(c.v,q)^N2(c.w,q)&&(V.warn("Edge: ",c," leaves cluster ",q),V.warn("Descendants of XXX ",q,": ",S2.get(q)),C2.get(q).externalConnections=!0)})):V.debug("Not a cluster ",q,S2)});for(let q of C2.keys()){let Y=C2.get(q).id,V=c.parent(Y);V!==q&&C2.has(V)&&!C2.get(V).externalConnections&&(C2.get(q).id=V)}c.edges().forEach(function(q){let Y=c.edge(q);V.warn("Edge "+q.v+" -> "+q.w+": "+JSON.stringify(q)),V.warn("Edge "+q.v+" -> "+q.w+": "+JSON.stringify(c.edge(q)));let Z=q.v,re=q.w;if(V.warn("Fix XXX",C2,"ids:",q.v,q.w,"Translating: ",C2.get(q.v)," --- ",C2.get(q.w)),C2.get(q.v)||C2.get(q.w)){if(V.warn("Fixing and trying - removing XXX",q.v,q.w,q.name),Z=P2(q.v),re=P2(q.w),c.removeEdge(q.v,q.w,q.name),Z!==q.v){let V=c.parent(Z);C2.get(V).externalConnections=!0,Y.fromCluster=q.v}if(re!==q.w){let V=c.parent(re);C2.get(V).externalConnections=!0,Y.toCluster=q.w}V.warn("Fix Replacing with XXX",Z,re,q.name),c.setEdge(Z,re,Y,q.name)}}),V.warn("Adjusted Graph",Ho(c)),F2(c,0),V.trace(C2)}},"adjustClustersAndEdges"),F2=o((c,q)=>{if(V.warn("extractor - ",q,Ho(c),c.children("D")),q>10)return void V.error("Bailing out");let Y=c.nodes(),Z=!1;for(let q of Y){let Y=c.children(q);Z=Z||Y.length>0}if(Z){V.debug("Nodes = ",Y,q);for(let Z of Y)if(V.debug("Extracting node",Z,C2,C2.has(Z)&&!C2.get(Z).externalConnections,!c.parent(Z),c.node(Z),c.children("D")," Depth ",q),C2.has(Z))if(!C2.get(Z).externalConnections&&c.children(Z)&&c.children(Z).length>0){V.warn("Cluster without external connections, without a parent and with children",Z,q);let Y="TB"===c.graph().rankdir?"LR":"TB";C2.get(Z)?.clusterData?.dir&&(Y=C2.get(Z).clusterData.dir,V.warn("Fixing dir",C2.get(Z).clusterData.dir,Y));let re=new c1({multigraph:!0,compound:!0}).setGraph({rankdir:Y,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});V.warn("Old graph before copy",Ho(c)),M2(Z,c,re,Z),c.setNode(Z,{clusterNode:!0,id:Z,clusterData:C2.get(Z).clusterData,label:C2.get(Z).label,graph:re}),V.warn("New graph after copy node: (",Z,")",Ho(re)),V.debug("Old graph after copy",Ho(c))}else V.warn("Cluster ** ",Z," **not meeting the criteria !externalConnections:",!C2.get(Z).externalConnections," no parent: ",!c.parent(Z)," children ",c.children(Z)&&c.children(Z).length>0,c.children("D"),q),V.debug(C2);else V.debug("Not a cluster",Z,q);Y=c.nodes(),V.warn("New list of nodes",Y);for(let Z of Y){let Y=c.node(Z);V.warn(" Now next level",Z,Y),Y?.clusterNode&&F2(Y.graph,q+1)}}else V.debug("Done, no node has children",c.nodes())},"extractor"),$2=o((c,q)=>{if(0===q.length)return[];let Y=Object.assign([],q);return q.forEach(q=>{let V=c.children(q),Z=$2(c,V);Y=[...Y,...Z]}),Y},"sorter"),z2=o(c=>$2(c,c.children()),"sortNodesByHierarchy")}),q2={};vr(q2,{render:()=>Y2});var j2,Y2,W2,H2,V2,X2,K2,Q2,Z2,J2,e4,t4,r4,i4,a4,s4,o4,l4=M(()=>{E2(),G2(),u1(),hU(),xO(),U2(),kU(),wG(),cU(),Ae(),bG(),hf(),j2=o(async(c,q,Y,Z,re,ae)=>{V.warn("Graph in recursive render:XAX",Ho(q),re);let se=q.graph().rankdir;V.trace("Dir in recursive render - dir:",se);let oe=c.insert("g").attr("class","root");q.nodes()?V.info("Recursive render XXX",q.nodes()):V.info("No nodes found for",q),q.edges().length>0&&V.info("Recursive edges",q.edge(q.edges()[0]));let he=oe.insert("g").attr("class","clusters"),de=oe.insert("g").attr("class","edgePaths"),pe=oe.insert("g").attr("class","edgeLabels"),ge=oe.insert("g").attr("class","nodes");await Promise.all(q.nodes().map(async function(c){let oe=q.node(c);if(void 0!==re){let Y=JSON.parse(JSON.stringify(re.clusterData));V.trace("Setting data for parent cluster XXX\n Node.id = ",c,"\n data=",Y.height,"\nParent cluster",re.height),q.setNode(re.id,Y),q.parent(c)||(V.trace("Setting parent",c,re.id),q.setParent(c,re.id,Y))}if(V.info("(Insert) Node XXX"+c+": "+JSON.stringify(q.node(c))),oe?.clusterNode){V.info("Cluster identified XBX",c,oe.width,q.node(c));let{ranksep:re,nodesep:se}=q.graph();oe.graph.setGraph({...oe.graph.graph(),ranksep:re+25,nodesep:se});let he=await j2(ge,oe.graph,Y,Z,q.node(c),ae),de=he.elem;yO(oe,de),oe.diff=he.diff||0,V.info("New compound node after recursive render XAX",c,"width",oe.width,"height",oe.height),dU(de,oe)}else q.children(c).length>0?(V.trace("Cluster - the non recursive path XBX",c,oe.id,oe,oe.width,"Graph:",q),V.trace(O2(oe.id,q)),C2.set(oe.id,{id:O2(oe.id,q),node:oe})):(V.trace("Node - the non recursive path XAX",c,ge,q.node(c),se),await gm(ge,q.node(c),{config:ae,dir:se}))})),await o(async()=>{let c=q.edges().map(async function(c){let Y=q.edge(c.v,c.w,c.name);V.info("Edge "+c.v+" -> "+c.w+": "+JSON.stringify(c)),V.info("Edge "+c.v+" -> "+c.w+": ",c," ",JSON.stringify(q.edge(c))),V.info("Fix",C2,"ids:",c.v,c.w,"Translating: ",C2.get(c.v),C2.get(c.w)),await DG(pe,Y)});await Promise.all(c)},"processEdges")(),V.info("Graph before layout:",JSON.stringify(Ho(q))),V.info("############################################# XXX"),V.info("###                Layout                 ### XXX"),V.info("############################################# XXX"),Du(q),V.info("Graph after layout:",JSON.stringify(Ho(q)));let me=0,{subGraphTitleTotalMargin:ve}=nG(ae);return await Promise.all(z2(q).map(async function(c){let Y=q.node(c);if(V.info("Position XBX => "+c+": ("+Y.x,","+Y.y,") width: ",Y.width," height: ",Y.height),Y?.clusterNode)Y.y+=ve,V.info("A tainted cluster node XBX1",c,Y.id,Y.width,Y.height,Y.x,Y.y,q.parent(c)),C2.get(Y.id).node=Y,fU(Y);else if(q.children(c).length>0){V.info("A pure cluster node XBX1",c,Y.id,Y.x,Y.y,Y.width,Y.height,q.parent(c)),Y.height+=ve,q.node(Y.parentId);let Z=Y?.padding/2||0,re=Y?.labelBBox?.height||0,ae=re-Z||0;V.debug("OffsetY",ae,"labelHeight",re,"halfPadding",Z),await gG(he,Y),C2.get(Y.id).node=Y}else{let c=q.node(Y.parentId);Y.y+=ve/2,V.info("A regular node XBX1 - using the padding",Y.id,"parent",Y.parentId,Y.width,Y.height,Y.x,Y.y,"offsetY",Y.offsetY,"parent",c,c?.offsetY,Y),fU(Y)}})),q.edges().forEach(function(c){let re=q.edge(c);V.info("Edge "+c.v+" -> "+c.w+": "+JSON.stringify(re),re),re.points.forEach(c=>c.y+=ve/2);let ae=q.node(c.v);var se=q.node(c.w);let oe=UG(de,re,C2,Y,ae,se,Z);OG(re,oe)}),q.nodes().forEach(function(c){let Y=q.node(c);V.info(c,Y.type,Y.diff),Y.isGroup&&(me=Y.diff)}),V.warn("Returning from recursive render XAX",oe,me),{elem:oe,diff:me}},"recursiveRender"),Y2=o(async(c,q)=>{let Y=new c1({multigraph:!0,compound:!0}).setGraph({rankdir:c.direction,nodesep:c.config?.nodeSpacing||c.config?.flowchart?.nodeSpacing||c.nodeSpacing,ranksep:c.config?.rankSpacing||c.config?.flowchart?.rankSpacing||c.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),Z=q.select("g");lU(Z,c.markers,c.type,c.diagramId),gU(),MG(),fG(),L2(),c.nodes.forEach(c=>{Y.setNode(c.id,{...c}),c.parentId&&Y.setParent(c.id,c.parentId)}),V.debug("Edges:",c.edges),c.edges.forEach(c=>{if(c.start===c.end){let q=c.start,V=q+"---"+q+"---1",Z=q+"---"+q+"---2",re=Y.node(q);Y.setNode(V,{domId:V,id:V,parentId:re.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),Y.setParent(V,re.parentId),Y.setNode(Z,{domId:Z,id:Z,parentId:re.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),Y.setParent(Z,re.parentId);let ae=structuredClone(c),se=structuredClone(c),oe=structuredClone(c);ae.label="",ae.arrowTypeEnd="none",ae.id=q+"-cyclic-special-1",se.arrowTypeEnd="none",se.id=q+"-cyclic-special-mid",oe.label="",re.isGroup&&(ae.fromCluster=q,oe.toCluster=q),oe.id=q+"-cyclic-special-2",Y.setEdge(q,V,ae,q+"-cyclic-special-0"),Y.setEdge(V,Z,se,q+"-cyclic-special-1"),Y.setEdge(Z,q,oe,q+"-cyc<lic-special-2")}else Y.setEdge(c.start,c.end,{...c},c.id)}),V.warn("Graph at first:",JSON.stringify(Ho(Y))),B2(Y),V.warn("Graph after XAX:",JSON.stringify(Ho(Y)));let re=Xp();await j2(Z,Y,c.type,c.diagramId,void 0,re)},"render")}),c4=M(()=>{_U(),Ae(),W2={},H2=o(c=>{for(let q of c)W2[q.name]=q},"registerLayoutLoaders"),o(()=>{H2([{name:"dagre",loader:o(async()=>await Promise.resolve().then(()=>(l4(),q2)),"loader")}])},"registerDefaultLayoutLoaders")(),V2=o(async(c,q)=>{if(!(c.layoutAlgorithm in W2))throw new Error(`Unknown layout algorithm: ${c.layoutAlgorithm}`);let Y=W2[c.layoutAlgorithm];return(await Y.loader()).render(c,q,yU,{algorithm:Y.algorithm})},"render"),X2=o((c="",{fallback:q="dagre"}={})=>{if(c in W2)return c;if(q in W2)return V.warn(`Layout algorithm ${c} is not registered. Using ${q} as fallback.`),q;throw new Error(`Both layout algorithms ${c} and ${q} are not registered.`)},"getRegisteredLayoutAlgorithm")}),h4=M(()=>{kp(),Ae(),K2=o((c,q,Y,Z)=>{c.attr("class",Y);let{width:re,height:ae,x:se,y:oe}=Q2(c,q);hp(c,ae,re,Z);let he=Z2(se,oe,re,ae,q);c.attr("viewBox",he),V.debug(`viewBox configured: ${he} with padding: ${q}`)},"setupViewPortForSVG"),Q2=o((c,q)=>{let Y=c.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:Y.width+2*q,height:Y.height+2*q,x:Y.x,y:Y.y}},"calculateDimensionsWithPadding"),Z2=o((c,q,Y,V,Z)=>`${c-Z} ${q-Z} ${Y} ${V}`,"createViewBox")}),u4=M(()=>{U_(),hf(),Ae(),yG(),c4(),h4(),yM(),mG(),J2=o(function(c,q){return q.db.getClasses()},"getClasses"),e4=o(async function(c,q,Y,Z){V.info("REF0:"),V.info("Drawing state diagram (v2)",q);let re,{securityLevel:ae,flowchart:se,layout:oe}=Xp();"sandbox"===ae&&(re=ze("#i"+q));let he="sandbox"===ae?re.nodes()[0].contentDocument:document;V.debug("Before getData: ");let de=Z.db.getData();V.debug("Data: ",de);let pe=rG(q,ae),ge=Cz();de.type=Z.type,de.layoutAlgorithm=X2(oe),"dagre"===de.layoutAlgorithm&&"elk"===oe&&V.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),de.direction=ge,de.nodeSpacing=se?.nodeSpacing||50,de.rankSpacing=se?.rankSpacing||50,de.markers=["point","circle","cross"],de.diagramId=q,V.debug("REF1:",de),await V2(de,pe);let me=de.config.flowchart?.diagramPadding??8;hM.insertTitle(pe,"flowchartTitleText",se?.titleTopMargin||0,Z.db.getDiagramTitle()),K2(pe,me,"flowchart",se?.useMaxWidth||!1);for(let c of de.nodes){let Y=ze(`#${q} [id="${c.id}"]`);if(!Y||!c.link)continue;let V=he.createElementNS("http://www.w3.org/2000/svg","a");V.setAttributeNS("http://www.w3.org/2000/svg","class",c.cssClasses),V.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===ae?V.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):c.linkTarget&&V.setAttributeNS("http://www.w3.org/2000/svg","target",c.linkTarget);let Z=Y.insert(function(){return V},":first-child"),re=Y.select(".label-container");re&&Z.append(function(){return re.node()});let se=Y.select(".label");se&&Z.append(function(){return se.node()})}},"draw"),t4={getClasses:J2,draw:e4}}),d4=M(()=>{(r4=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,4],Y=[1,3],V=[1,5],Z=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],re=[2,2],ae=[1,13],se=[1,14],oe=[1,15],he=[1,16],de=[1,23],pe=[1,25],ge=[1,26],me=[1,27],ve=[1,49],be=[1,48],we=[1,29],Te=[1,30],_e=[1,31],Ee=[1,32],Ce=[1,33],Se=[1,44],Ae=[1,46],Le=[1,42],Ne=[1,47],Ie=[1,43],Me=[1,50],Re=[1,45],Oe=[1,51],Be=[1,52],$e=[1,34],Ue=[1,35],qe=[1,36],je=[1,37],We=[1,57],He=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],Ve=[1,61],Ke=[1,60],Qe=[1,62],Ze=[8,9,11,75,77],Je=[1,77],et=[1,90],tt=[1,95],rt=[1,94],nt=[1,91],it=[1,87],at=[1,93],st=[1,89],ot=[1,96],lt=[1,92],ht=[1,97],ut=[1,88],pt=[8,9,10,11,40,75,77],gt=[8,9,10,11,40,46,75,77],ft=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],mt=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],xt=[44,60,88,101,104,105,108,110,113,114,115],bt=[1,123],wt=[1,122],kt=[1,130],_t=[1,144],St=[1,145],At=[1,146],Lt=[1,147],Nt=[1,132],It=[1,134],Mt=[1,138],Rt=[1,139],Dt=[1,140],Ot=[1,141],Pt=[1,142],Bt=[1,143],Ft=[1,148],$t=[1,149],zt=[1,128],Gt=[1,129],Ut=[1,136],qt=[1,131],jt=[1,135],Yt=[1,133],Ht=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],Vt=[1,151],Xt=[1,153],Kt=[8,9,11],Zt=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],Jt=[1,173],er=[1,169],tr=[1,170],rr=[1,174],ir=[1,171],sr=[1,172],lr=[77,115,118],cr=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],hr=[10,105],ur=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],dr=[1,242],pr=[1,240],gr=[1,244],fr=[1,238],mr=[1,239],xr=[1,241],br=[1,243],wr=[1,245],kr=[1,263],Tr=[8,9,11,105],_r=[8,9,10,11,60,83,104,105,108,109,110,111],Cr={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 2:case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 3:(!Array.isArray(re[se])||re[se].length>0)&&re[se-1].push(re[se]),this.$=re[se-1];break;case 4:case 181:case 44:case 54:case 76:case 179:this.$=re[se];break;case 11:V.setDirection("TB"),this.$="TB";break;case 12:V.setDirection(re[se-1]),this.$=re[se-1];break;case 27:this.$=re[se-1].nodes;break;case 33:this.$=V.addSubGraph(re[se-6],re[se-1],re[se-4]);break;case 34:this.$=V.addSubGraph(re[se-3],re[se-1],re[se-3]);break;case 35:this.$=V.addSubGraph(void 0,re[se-1],void 0);break;case 37:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 38:case 39:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 43:case 131:this.$=re[se-1]+re[se];break;case 45:V.addVertex(re[se-1][0],void 0,void 0,void 0,void 0,void 0,void 0,re[se]),V.addLink(re[se-3].stmt,re[se-1],re[se-2]),this.$={stmt:re[se-1],nodes:re[se-1].concat(re[se-3].nodes)};break;case 46:V.addLink(re[se-2].stmt,re[se],re[se-1]),this.$={stmt:re[se],nodes:re[se].concat(re[se-2].nodes)};break;case 47:V.addLink(re[se-3].stmt,re[se-1],re[se-2]),this.$={stmt:re[se-1],nodes:re[se-1].concat(re[se-3].nodes)};break;case 48:this.$={stmt:re[se-1],nodes:re[se-1]};break;case 49:V.addVertex(re[se-1][0],void 0,void 0,void 0,void 0,void 0,void 0,re[se]),this.$={stmt:re[se-1],nodes:re[se-1],shapeData:re[se]};break;case 50:this.$={stmt:re[se],nodes:re[se]};break;case 51:case 126:case 128:this.$=[re[se]];break;case 52:V.addVertex(re[se-5][0],void 0,void 0,void 0,void 0,void 0,void 0,re[se-4]),this.$=re[se-5].concat(re[se]);break;case 53:this.$=re[se-4].concat(re[se]);break;case 55:this.$=re[se-2],V.setClass(re[se-2],re[se]);break;case 56:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"square");break;case 57:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"doublecircle");break;case 58:this.$=re[se-5],V.addVertex(re[se-5],re[se-2],"circle");break;case 59:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"ellipse");break;case 60:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"stadium");break;case 61:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"subroutine");break;case 62:this.$=re[se-7],V.addVertex(re[se-7],re[se-1],"rect",void 0,void 0,void 0,Object.fromEntries([[re[se-5],re[se-3]]]));break;case 63:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"cylinder");break;case 64:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"round");break;case 65:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"diamond");break;case 66:this.$=re[se-5],V.addVertex(re[se-5],re[se-2],"hexagon");break;case 67:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"odd");break;case 68:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"trapezoid");break;case 69:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"inv_trapezoid");break;case 70:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"lean_right");break;case 71:this.$=re[se-3],V.addVertex(re[se-3],re[se-1],"lean_left");break;case 72:this.$=re[se],V.addVertex(re[se]);break;case 73:re[se-1].text=re[se],this.$=re[se-1];break;case 74:case 75:re[se-2].text=re[se-1],this.$=re[se-2];break;case 77:var oe=V.destructLink(re[se],re[se-2]);this.$={type:oe.type,stroke:oe.stroke,length:oe.length,text:re[se-1]};break;case 78:case 84:case 99:case 101:this.$={text:re[se],type:"text"};break;case 79:case 85:case 100:this.$={text:re[se-1].text+""+re[se],type:re[se-1].type};break;case 80:case 86:this.$={text:re[se],type:"string"};break;case 81:case 87:case 102:this.$={text:re[se],type:"markdown"};break;case 82:oe=V.destructLink(re[se]);this.$={type:oe.type,stroke:oe.stroke,length:oe.length};break;case 83:this.$=re[se-1];break;case 103:this.$=re[se-4],V.addClass(re[se-2],re[se]);break;case 104:this.$=re[se-4],V.setClass(re[se-2],re[se]);break;case 105:case 113:this.$=re[se-1],V.setClickEvent(re[se-1],re[se]);break;case 106:case 114:this.$=re[se-3],V.setClickEvent(re[se-3],re[se-2]),V.setTooltip(re[se-3],re[se]);break;case 107:this.$=re[se-2],V.setClickEvent(re[se-2],re[se-1],re[se]);break;case 108:this.$=re[se-4],V.setClickEvent(re[se-4],re[se-3],re[se-2]),V.setTooltip(re[se-4],re[se]);break;case 109:this.$=re[se-2],V.setLink(re[se-2],re[se]);break;case 110:this.$=re[se-4],V.setLink(re[se-4],re[se-2]),V.setTooltip(re[se-4],re[se]);break;case 111:this.$=re[se-4],V.setLink(re[se-4],re[se-2],re[se]);break;case 112:this.$=re[se-6],V.setLink(re[se-6],re[se-4],re[se]),V.setTooltip(re[se-6],re[se-2]);break;case 115:this.$=re[se-1],V.setLink(re[se-1],re[se]);break;case 116:this.$=re[se-3],V.setLink(re[se-3],re[se-2]),V.setTooltip(re[se-3],re[se]);break;case 117:this.$=re[se-3],V.setLink(re[se-3],re[se-2],re[se]);break;case 118:this.$=re[se-5],V.setLink(re[se-5],re[se-4],re[se]),V.setTooltip(re[se-5],re[se-2]);break;case 119:this.$=re[se-4],V.addVertex(re[se-2],void 0,void 0,re[se]);break;case 120:this.$=re[se-4],V.updateLink([re[se-2]],re[se]);break;case 121:this.$=re[se-4],V.updateLink(re[se-2],re[se]);break;case 122:this.$=re[se-8],V.updateLinkInterpolate([re[se-6]],re[se-2]),V.updateLink([re[se-6]],re[se]);break;case 123:this.$=re[se-8],V.updateLinkInterpolate(re[se-6],re[se-2]),V.updateLink(re[se-6],re[se]);break;case 124:this.$=re[se-6],V.updateLinkInterpolate([re[se-4]],re[se]);break;case 125:this.$=re[se-6],V.updateLinkInterpolate(re[se-4],re[se]);break;case 127:case 129:re[se-2].push(re[se]),this.$=re[se-2];break;case 180:case 182:this.$=re[se-1]+""+re[se];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"}}},"anonymous"),table:[{3:1,4:2,9:q,10:Y,12:V},{1:[3]},c(Z,re,{5:6}),{4:7,9:q,10:Y,12:V},{4:8,9:q,10:Y,12:V},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:ae,9:se,10:oe,11:he,20:17,22:18,23:19,24:20,25:21,26:22,27:de,33:24,34:pe,36:ge,38:me,42:28,43:38,44:ve,45:39,47:40,60:be,83:we,84:Te,85:_e,86:Ee,87:Ce,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be,120:$e,121:Ue,122:qe,123:je},c(Z,[2,9]),c(Z,[2,10]),c(Z,[2,11]),{8:[1,54],9:[1,55],10:We,15:53,18:56},c(He,[2,3]),c(He,[2,4]),c(He,[2,5]),c(He,[2,6]),c(He,[2,7]),c(He,[2,8]),{8:Ve,9:Ke,11:Qe,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:Ve,9:Ke,11:Qe,21:66},{8:Ve,9:Ke,11:Qe,21:67},{8:Ve,9:Ke,11:Qe,21:68},{8:Ve,9:Ke,11:Qe,21:69},{8:Ve,9:Ke,11:Qe,21:70},{8:Ve,9:Ke,10:[1,71],11:Qe,21:72},c(He,[2,36]),{35:[1,73]},{37:[1,74]},c(He,[2,39]),c(Ze,[2,50],{18:75,39:76,10:We,40:Je}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:et,44:tt,60:rt,79:[1,85],88:nt,94:[1,82],96:[1,83],100:84,104:it,105:at,108:st,110:ot,113:lt,114:ht,115:ut,119:86},c(He,[2,183]),c(He,[2,184]),c(He,[2,185]),c(He,[2,186]),c(pt,[2,51]),c(pt,[2,54],{46:[1,98]}),c(gt,[2,72],{112:111,29:[1,99],44:ve,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:be,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,113:Re,114:Oe,115:Be}),c(ft,[2,179]),c(ft,[2,140]),c(ft,[2,141]),c(ft,[2,142]),c(ft,[2,143]),c(ft,[2,144]),c(ft,[2,145]),c(ft,[2,146]),c(ft,[2,147]),c(ft,[2,148]),c(ft,[2,149]),c(ft,[2,150]),c(Z,[2,12]),c(Z,[2,18]),c(Z,[2,19]),{9:[1,112]},c(mt,[2,26],{18:113,10:We}),c(He,[2,27]),{42:114,43:38,44:ve,45:39,47:40,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},c(He,[2,40]),c(He,[2,41]),c(He,[2,42]),c(xt,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:bt,118:wt},c([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),c(He,[2,28]),c(He,[2,29]),c(He,[2,30]),c(He,[2,31]),c(He,[2,32]),{10:kt,12:_t,14:St,27:At,28:124,32:Lt,44:Nt,60:It,75:Mt,79:[1,126],80:[1,127],82:137,83:Rt,84:Dt,85:Ot,86:Pt,87:Bt,88:Ft,89:$t,90:125,104:zt,108:Gt,110:Ut,113:qt,114:jt,115:Yt},c(Ht,re,{5:150}),c(He,[2,37]),c(He,[2,38]),c(Ze,[2,48],{44:Vt}),c(Ze,[2,49],{18:152,10:We,40:Xt}),c(pt,[2,44]),{44:ve,47:154,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},{101:[1,155],102:156,104:[1,157]},{44:ve,47:158,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},{44:ve,47:159,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},c(Kt,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},c(Kt,[2,113],{119:164,10:[1,163],14:et,44:tt,60:rt,88:nt,104:it,105:at,108:st,110:ot,113:lt,114:ht,115:ut}),c(Kt,[2,115],{10:[1,165]}),c(Zt,[2,181]),c(Zt,[2,168]),c(Zt,[2,169]),c(Zt,[2,170]),c(Zt,[2,171]),c(Zt,[2,172]),c(Zt,[2,173]),c(Zt,[2,174]),c(Zt,[2,175]),c(Zt,[2,176]),c(Zt,[2,177]),c(Zt,[2,178]),{44:ve,47:166,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},{30:167,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:175,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:177,50:[1,176],67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:178,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:179,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:180,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{108:[1,181]},{30:182,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:183,65:[1,184],67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:185,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:186,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{30:187,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},c(ft,[2,180]),c(Z,[2,20]),c(mt,[2,25]),c(Ze,[2,46],{39:188,18:189,10:We,40:Je}),c(xt,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{77:[1,193],78:194,115:bt,118:wt},c(lr,[2,78]),c(lr,[2,80]),c(lr,[2,81]),c(lr,[2,166]),c(lr,[2,167]),{8:Ve,9:Ke,10:kt,11:Qe,12:_t,14:St,21:196,27:At,29:[1,195],32:Lt,44:Nt,60:It,75:Mt,82:137,83:Rt,84:Dt,85:Ot,86:Pt,87:Bt,88:Ft,89:$t,90:197,104:zt,108:Gt,110:Ut,113:qt,114:jt,115:Yt},c(cr,[2,99]),c(cr,[2,101]),c(cr,[2,102]),c(cr,[2,155]),c(cr,[2,156]),c(cr,[2,157]),c(cr,[2,158]),c(cr,[2,159]),c(cr,[2,160]),c(cr,[2,161]),c(cr,[2,162]),c(cr,[2,163]),c(cr,[2,164]),c(cr,[2,165]),c(cr,[2,88]),c(cr,[2,89]),c(cr,[2,90]),c(cr,[2,91]),c(cr,[2,92]),c(cr,[2,93]),c(cr,[2,94]),c(cr,[2,95]),c(cr,[2,96]),c(cr,[2,97]),c(cr,[2,98]),{6:11,7:12,8:ae,9:se,10:oe,11:he,20:17,22:18,23:19,24:20,25:21,26:22,27:de,32:[1,198],33:24,34:pe,36:ge,38:me,42:28,43:38,44:ve,45:39,47:40,60:be,83:we,84:Te,85:_e,86:Ee,87:Ce,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be,120:$e,121:Ue,122:qe,123:je},{10:We,18:199},{44:[1,200]},c(pt,[2,43]),{10:[1,201],44:ve,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:111,113:Re,114:Oe,115:Be},{10:[1,202]},{10:[1,203],105:[1,204]},c(hr,[2,126]),{10:[1,205],44:ve,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:111,113:Re,114:Oe,115:Be},{10:[1,206],44:ve,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:111,113:Re,114:Oe,115:Be},{79:[1,207]},c(Kt,[2,107],{10:[1,208]}),c(Kt,[2,109],{10:[1,209]}),{79:[1,210]},c(Zt,[2,182]),{79:[1,211],97:[1,212]},c(pt,[2,55],{112:111,44:ve,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,113:Re,114:Oe,115:Be}),{31:[1,213],67:Jt,81:214,115:rr,116:ir,117:sr},c(ur,[2,84]),c(ur,[2,86]),c(ur,[2,87]),c(ur,[2,151]),c(ur,[2,152]),c(ur,[2,153]),c(ur,[2,154]),{49:[1,215],67:Jt,81:214,115:rr,116:ir,117:sr},{30:216,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{51:[1,217],67:Jt,81:214,115:rr,116:ir,117:sr},{53:[1,218],67:Jt,81:214,115:rr,116:ir,117:sr},{55:[1,219],67:Jt,81:214,115:rr,116:ir,117:sr},{57:[1,220],67:Jt,81:214,115:rr,116:ir,117:sr},{60:[1,221]},{64:[1,222],67:Jt,81:214,115:rr,116:ir,117:sr},{66:[1,223],67:Jt,81:214,115:rr,116:ir,117:sr},{30:224,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},{31:[1,225],67:Jt,81:214,115:rr,116:ir,117:sr},{67:Jt,69:[1,226],71:[1,227],81:214,115:rr,116:ir,117:sr},{67:Jt,69:[1,229],71:[1,228],81:214,115:rr,116:ir,117:sr},c(Ze,[2,45],{18:152,10:We,40:Xt}),c(Ze,[2,47],{44:Vt}),c(xt,[2,75]),c(xt,[2,74]),{62:[1,230],67:Jt,81:214,115:rr,116:ir,117:sr},c(xt,[2,77]),c(lr,[2,79]),{30:231,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},c(Ht,re,{5:232}),c(cr,[2,100]),c(He,[2,35]),{43:233,44:ve,45:39,47:40,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},{10:We,18:234},{10:dr,60:pr,83:gr,91:235,104:fr,106:236,107:237,108:mr,109:xr,110:br,111:wr},{10:dr,60:pr,83:gr,91:246,103:[1,247],104:fr,106:236,107:237,108:mr,109:xr,110:br,111:wr},{10:dr,60:pr,83:gr,91:248,103:[1,249],104:fr,106:236,107:237,108:mr,109:xr,110:br,111:wr},{104:[1,250]},{10:dr,60:pr,83:gr,91:251,104:fr,106:236,107:237,108:mr,109:xr,110:br,111:wr},{44:ve,47:252,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},c(Kt,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},c(Kt,[2,114]),c(Kt,[2,116],{10:[1,256]}),c(Kt,[2,117]),c(gt,[2,56]),c(ur,[2,85]),c(gt,[2,57]),{51:[1,257],67:Jt,81:214,115:rr,116:ir,117:sr},c(gt,[2,64]),c(gt,[2,59]),c(gt,[2,60]),c(gt,[2,61]),{108:[1,258]},c(gt,[2,63]),c(gt,[2,65]),{66:[1,259],67:Jt,81:214,115:rr,116:ir,117:sr},c(gt,[2,67]),c(gt,[2,68]),c(gt,[2,70]),c(gt,[2,69]),c(gt,[2,71]),c([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:Jt,81:214,115:rr,116:ir,117:sr},{6:11,7:12,8:ae,9:se,10:oe,11:he,20:17,22:18,23:19,24:20,25:21,26:22,27:de,32:[1,261],33:24,34:pe,36:ge,38:me,42:28,43:38,44:ve,45:39,47:40,60:be,83:we,84:Te,85:_e,86:Ee,87:Ce,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be,120:$e,121:Ue,122:qe,123:je},c(pt,[2,53]),{43:262,44:ve,45:39,47:40,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be},c(Kt,[2,119],{105:kr}),c(Tr,[2,128],{107:264,10:dr,60:pr,83:gr,104:fr,108:mr,109:xr,110:br,111:wr}),c(_r,[2,130]),c(_r,[2,132]),c(_r,[2,133]),c(_r,[2,134]),c(_r,[2,135]),c(_r,[2,136]),c(_r,[2,137]),c(_r,[2,138]),c(_r,[2,139]),c(Kt,[2,120],{105:kr}),{10:[1,265]},c(Kt,[2,121],{105:kr}),{10:[1,266]},c(hr,[2,127]),c(Kt,[2,103],{105:kr}),c(Kt,[2,104],{112:111,44:ve,60:be,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,113:Re,114:Oe,115:Be}),c(Kt,[2,108]),c(Kt,[2,110],{10:[1,267]}),c(Kt,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:Ve,9:Ke,11:Qe,21:272},c(He,[2,34]),c(pt,[2,52]),{10:dr,60:pr,83:gr,104:fr,106:273,107:237,108:mr,109:xr,110:br,111:wr},c(_r,[2,131]),{14:et,44:tt,60:rt,88:nt,100:274,104:it,105:at,108:st,110:ot,113:lt,114:ht,115:ut,119:86},{14:et,44:tt,60:rt,88:nt,100:275,104:it,105:at,108:st,110:ot,113:lt,114:ht,115:ut,119:86},{97:[1,276]},c(Kt,[2,118]),c(gt,[2,58]),{30:277,67:Jt,79:er,80:tr,81:168,115:rr,116:ir,117:sr},c(gt,[2,66]),c(Ht,re,{5:278}),c(Tr,[2,129],{107:264,10:dr,60:pr,83:gr,104:fr,108:mr,109:xr,110:br,111:wr}),c(Kt,[2,124],{119:164,10:[1,279],14:et,44:tt,60:rt,88:nt,104:it,105:at,108:st,110:ot,113:lt,114:ht,115:ut}),c(Kt,[2,125],{119:164,10:[1,280],14:et,44:tt,60:rt,88:nt,104:it,105:at,108:st,110:ot,113:lt,114:ht,115:ut}),c(Kt,[2,112]),{31:[1,281],67:Jt,81:214,115:rr,116:ir,117:sr},{6:11,7:12,8:ae,9:se,10:oe,11:he,20:17,22:18,23:19,24:20,25:21,26:22,27:de,32:[1,282],33:24,34:pe,36:ge,38:me,42:28,43:38,44:ve,45:39,47:40,60:be,83:we,84:Te,85:_e,86:Ee,87:Ce,88:Se,101:Ae,104:Le,105:Ne,108:Ie,110:Me,112:41,113:Re,114:Oe,115:Be,120:$e,121:Ue,122:qe,123:je},{10:dr,60:pr,83:gr,91:283,104:fr,106:236,107:237,108:mr,109:xr,110:br,111:wr},{10:dr,60:pr,83:gr,91:284,104:fr,106:236,107:237,108:mr,109:xr,110:br,111:wr},c(gt,[2,62]),c(He,[2,33]),c(Kt,[2,122],{105:kr}),c(Kt,[2,123],{105:kr})],defaultActions:{},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function lxe(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function Sat(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(lxe,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=lxe()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Sr={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(c,q,Y,V){switch(Y){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:case 12:case 14:case 17:case 20:case 23:case 33:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),q.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:let Y=/\n\s*/g;return q.yytext=q.yytext.replace(Y,"<br/>"),40;case 11:return 40;case 13:this.begin("callbackname");break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 18:return 95;case 19:return"MD_STR";case 21:this.begin("md_string");break;case 22:return"STR";case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 34:return 87;case 35:case 36:case 37:return c.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:case 41:case 42:case 43:return 97;case 44:return this.popState(),13;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:case 101:return 110;case 61:return 46;case 62:return 60;case 63:case 102:return 44;case 64:return 8;case 65:return 105;case 66:case 100:return 114;case 67:case 70:case 73:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:case 72:case 75:return 118;case 71:return this.pushState("thickEdgeText"),75;case 74:return this.pushState("dottedEdgeText"),75;case 76:return 77;case 77:return this.popState(),53;case 78:case 114:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};function Ir(){this.yy={}}return Cr.lexer=Sr,o(Ir,"Parser"),Ir.prototype=Cr,Cr.Parser=Ir,new Ir}()).parser=r4,i4=r4}),p4=M(()=>{hi(),a4=o((c,q)=>{let Y=dr,V=Y(c,"r"),Z=Y(c,"g"),re=Y(c,"b");return hr(V,Z,re,q)},"fade"),s4=o(c=>`.label {\n    font-family: ${c.fontFamily};\n    color: ${c.nodeTextColor||c.textColor};\n  }\n  .cluster-label text {\n    fill: ${c.titleColor};\n  }\n  .cluster-label span {\n    color: ${c.titleColor};\n  }\n  .cluster-label span p {\n    background-color: transparent;\n  }\n\n  .label text,span {\n    fill: ${c.nodeTextColor||c.textColor};\n    color: ${c.nodeTextColor||c.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${c.mainBkg};\n    stroke: ${c.nodeBorder};\n    stroke-width: 1px;\n  }\n  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .katex path {\n    fill: #000;\n    stroke: #000;\n    stroke-width: 1px;\n  }\n\n  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n\n  .root .anchor path {\n    fill: ${c.lineColor} !important;\n    stroke-width: 0;\n    stroke: ${c.lineColor};\n  }\n\n  .arrowheadPath {\n    fill: ${c.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${c.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${c.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${c.edgeLabelBackground};\n    p {\n      background-color: ${c.edgeLabelBackground};\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${c.edgeLabelBackground};\n      fill: ${c.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${a4(c.edgeLabelBackground,.5)};\n    // background-color:\n  }\n\n  .cluster rect {\n    fill: ${c.clusterBkg};\n    stroke: ${c.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${c.titleColor};\n  }\n\n  .cluster span {\n    color: ${c.titleColor};\n  }\n  /* .cluster div {\n    color: ${c.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${c.fontFamily};\n    font-size: 12px;\n    background: ${c.tertiaryColor};\n    border: 1px solid ${c.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${c.textColor};\n  }\n\n  rect.text {\n    fill: none;\n    stroke-width: 0;\n  }\n\n  .icon-shape, .image-shape {\n    background-color: ${c.edgeLabelBackground};\n    p {\n      background-color: ${c.edgeLabelBackground};\n      padding: 2px;\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${c.edgeLabelBackground};\n      fill: ${c.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n`,"getStyles"),o4=s4}),g4={};vr(g4,{diagram:()=>f4});var f4,m4,y4,v4,b4,k4,T4,E4,C4,S4,A4,I4,M4,P4,B4,F4,q4,j4,W4=M(()=>{hf(),mG(),u4(),d4(),p4(),f4={parser:i4,db:tG,renderer:t4,styles:o4,init:o(c=>{c.flowchart||(c.flowchart={}),c.layout&&Kp({layout:c.layout}),c.flowchart.arrowMarkerAbsolute=c.arrowMarkerAbsolute,Kp({flowchart:{arrowMarkerAbsolute:c.arrowMarkerAbsolute}}),tG.clear(),tG.setGen("gen-2")},"init")}}),H4=M(()=>{(m4=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[6,8,10,20,22,24,26,27,28],Y=[1,10],V=[1,11],Z=[1,12],re=[1,13],ae=[1,14],se=[1,15],oe=[1,21],he=[1,22],de=[1,23],pe=[1,24],ge=[1,25],me=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],ve=[1,34],be=[27,28,46,47],we=[41,42,43,44,45],Te=[17,34],_e=[1,54],Ee=[1,53],Ce=[17,34,36,38],Se={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 1:break;case 2:case 6:case 7:this.$=[];break;case 3:re[se-1].push(re[se]),this.$=re[se-1];break;case 4:case 5:case 19:case 43:case 27:case 28:case 31:this.$=re[se];break;case 8:V.addEntity(re[se-4]),V.addEntity(re[se-2]),V.addRelationship(re[se-4],re[se],re[se-2],re[se-3]);break;case 9:V.addEntity(re[se-3]),V.addAttributes(re[se-3],re[se-1]);break;case 10:V.addEntity(re[se-2]);break;case 11:V.addEntity(re[se]);break;case 12:V.addEntity(re[se-6],re[se-4]),V.addAttributes(re[se-6],re[se-1]);break;case 13:V.addEntity(re[se-5],re[se-3]);break;case 14:V.addEntity(re[se-3],re[se-1]);break;case 15:case 16:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 17:case 18:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 20:case 41:case 42:case 32:this.$=re[se].replace(/"/g,"");break;case 21:case 29:this.$=[re[se]];break;case 22:re[se].push(re[se-1]),this.$=re[se];break;case 23:this.$={attributeType:re[se-1],attributeName:re[se]};break;case 24:this.$={attributeType:re[se-2],attributeName:re[se-1],attributeKeyTypeList:re[se]};break;case 25:this.$={attributeType:re[se-2],attributeName:re[se-1],attributeComment:re[se]};break;case 26:this.$={attributeType:re[se-3],attributeName:re[se-2],attributeKeyTypeList:re[se-1],attributeComment:re[se]};break;case 30:re[se-2].push(re[se]),this.$=re[se-2];break;case 33:this.$={cardA:re[se],relType:re[se-1],cardB:re[se-2]};break;case 34:this.$=V.Cardinality.ZERO_OR_ONE;break;case 35:this.$=V.Cardinality.ZERO_OR_MORE;break;case 36:this.$=V.Cardinality.ONE_OR_MORE;break;case 37:this.$=V.Cardinality.ONLY_ONE;break;case 38:this.$=V.Cardinality.MD_PARENT;break;case 39:this.$=V.Identification.NON_IDENTIFYING;break;case 40:this.$=V.Identification.IDENTIFYING}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},c(q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:Y,22:V,24:Z,26:re,27:ae,28:se},c(q,[2,7],{1:[2,1]}),c(q,[2,3]),{9:16,11:9,20:Y,22:V,24:Z,26:re,27:ae,28:se},c(q,[2,5]),c(q,[2,6]),c(q,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:oe,42:he,43:de,44:pe,45:ge}),{21:[1,26]},{23:[1,27]},{25:[1,28]},c(q,[2,18]),c(me,[2,19]),c(me,[2,20]),c(q,[2,4]),{11:29,27:ae,28:se},{16:30,17:[1,31],29:32,30:33,34:ve},{11:35,27:ae,28:se},{40:36,46:[1,37],47:[1,38]},c(be,[2,34]),c(be,[2,35]),c(be,[2,36]),c(be,[2,37]),c(be,[2,38]),c(q,[2,15]),c(q,[2,16]),c(q,[2,17]),{13:[1,39]},{17:[1,40]},c(q,[2,10]),{16:41,17:[2,21],29:32,30:33,34:ve},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:oe,42:he,43:de,44:pe,45:ge},c(we,[2,39]),c(we,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},c(q,[2,9]),{17:[2,22]},c(Te,[2,23],{32:50,33:51,35:52,37:_e,38:Ee}),c([17,34,37,38],[2,28]),c(q,[2,14],{15:[1,55]}),c([27,28],[2,33]),c(q,[2,8]),c(q,[2,41]),c(q,[2,42]),c(q,[2,43]),c(Te,[2,24],{33:56,36:[1,57],38:Ee}),c(Te,[2,25]),c(Ce,[2,29]),c(Te,[2,32]),c(Ce,[2,31]),{16:58,17:[1,59],29:32,30:33,34:ve},c(Te,[2,26]),{35:60,37:_e},{17:[1,61]},c(q,[2,13]),c(Ce,[2,30]),c(q,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function H(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function J(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(H,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=H()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Ae={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:case 15:case 20:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 16:return 37;case 17:case 18:return 34;case 19:return 38;case 21:return this.popState(),17;case 22:case 54:return q.yytext[0];case 23:return 18;case 24:return 19;case 25:case 29:case 30:case 43:return 41;case 26:case 27:case 28:case 36:case 38:case 45:return 43;case 31:case 32:case 33:case 34:case 35:case 37:case 44:return 42;case 39:case 40:case 41:case 42:return 44;case 46:return 45;case 47:case 50:case 51:case 52:return 46;case 48:case 49:return 47;case 53:return 27;case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};function L(){this.yy={}}return Se.lexer=Ae,o(L,"Parser"),L.prototype=Se,Se.Parser=L,new L}()).parser=m4,y4=m4}),V4=M(()=>{Ae(),hf(),cf(),v4=new Map,b4=[],k4={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},T4={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},E4=o(function(c,q=void 0){return v4.has(c)?!v4.get(c).alias&&q&&(v4.get(c).alias=q,V.info(`Add alias '${q}' to entity '${c}'`)):(v4.set(c,{attributes:[],alias:q}),V.info("Added new entity :",c)),v4.get(c)},"addEntity"),C4=o(()=>v4,"getEntities"),S4=o(function(c,q){let Y,Z=E4(c);for(Y=q.length-1;Y>=0;Y--)Z.attributes.push(q[Y]),V.debug("Added attribute ",q[Y].attributeName)},"addAttributes"),A4=o(function(c,q,Y,Z){let re={entityA:c,roleA:q,entityB:Y,relSpec:Z};b4.push(re),V.debug("Added new relationship :",re)},"addRelationship"),I4=o(()=>b4,"getRelationships"),M4=o(function(){v4=new Map,b4=[],Mp()},"clear"),P4={Cardinality:k4,Identification:T4,getConfig:o(()=>Xp().er,"getConfig"),addEntity:E4,addAttributes:S4,getEntities:C4,addRelationship:A4,getRelationships:I4,clear:M4,setAccTitle:Rp,getAccTitle:Fp,setAccDescription:qp,getAccDescription:jp,setDiagramTitle:Yp,getDiagramTitle:Wp}}),K4=M(()=>{B4={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},F4=o(function(c,q){let Y;c.append("defs").append("marker").attr("id",B4.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",B4.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",B4.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),c.append("defs").append("marker").attr("id",B4.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),Y=c.append("defs").append("marker").attr("id",B4.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),Y.append("circle").attr("stroke",q.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),Y.append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M9,0 L9,18"),Y=c.append("defs").append("marker").attr("id",B4.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),Y.append("circle").attr("stroke",q.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),Y.append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M21,0 L21,18"),c.append("defs").append("marker").attr("id",B4.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),c.append("defs").append("marker").attr("id",B4.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),Y=c.append("defs").append("marker").attr("id",B4.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),Y.append("circle").attr("stroke",q.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),Y.append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),Y=c.append("defs").append("marker").attr("id",B4.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),Y.append("circle").attr("stroke",q.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),Y.append("path").attr("stroke",q.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),q4={ERMarkers:B4,insertMarkers:F4}}),Q4=M(()=>{j4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function APe(c){return"string"==typeof c&&j4.test(c)}var Z4,e5=M(()=>{Q4(),o(APe,"validate"),Z4=APe});function cae(c,q=0){return t5[c[q+0]]+t5[c[q+1]]+t5[c[q+2]]+t5[c[q+3]]+"-"+t5[c[q+4]]+t5[c[q+5]]+"-"+t5[c[q+6]]+t5[c[q+7]]+"-"+t5[c[q+8]]+t5[c[q+9]]+"-"+t5[c[q+10]]+t5[c[q+11]]+t5[c[q+12]]+t5[c[q+13]]+t5[c[q+14]]+t5[c[q+15]]}var t5,r5=M(()=>{t5=[];for(let c=0;c<256;++c)t5.push((c+256).toString(16).slice(1));o(cae,"unsafeStringify")});function _Pe(c){if(!Z4(c))throw TypeError("Invalid UUID");let q,Y=new Uint8Array(16);return Y[0]=(q=parseInt(c.slice(0,8),16))>>>24,Y[1]=q>>>16&255,Y[2]=q>>>8&255,Y[3]=255&q,Y[4]=(q=parseInt(c.slice(9,13),16))>>>8,Y[5]=255&q,Y[6]=(q=parseInt(c.slice(14,18),16))>>>8,Y[7]=255&q,Y[8]=(q=parseInt(c.slice(19,23),16))>>>8,Y[9]=255&q,Y[10]=(q=parseInt(c.slice(24,36),16))/1099511627776&255,Y[11]=q/4294967296&255,Y[12]=q>>>24&255,Y[13]=q>>>16&255,Y[14]=q>>>8&255,Y[15]=255&q,Y}var n5,i5=M(()=>{e5(),o(_Pe,"parse"),n5=_Pe});function LPe(c){c=unescape(encodeURIComponent(c));let q=[];for(let Y=0;Y<c.length;++Y)q.push(c.charCodeAt(Y));return q}function DD(c,q,Y){function n(c,V,Z,re){var ae;if("string"==typeof c&&(c=LPe(c)),"string"==typeof V&&(V=n5(V)),16!==(null===(ae=V)||void 0===ae?void 0:ae.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let se=new Uint8Array(16+c.length);if(se.set(V),se.set(c,V.length),se=Y(se),se[6]=15&se[6]|q,se[8]=63&se[8]|128,Z){re=re||0;for(let c=0;c<16;++c)Z[re+c]=se[c];return Z}return cae(se)}o(n,"generateUUID");try{n.name=c}catch{}return n.DNS=a5,n.URL=s5,n}var a5,s5,o5=M(()=>{r5(),i5(),o(LPe,"stringToBytes"),a5="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s5="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o(DD,"v35")});function RPe(c,q,Y,V){switch(c){case 0:return q&Y^~q&V;case 1:case 3:return q^Y^V;case 2:return q&Y^q&V^Y&V}}function ND(c,q){return c<<q|c>>>32-q}function MPe(c){let q=[1518500249,1859775393,2400959708,3395469782],Y=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof c){let q=unescape(encodeURIComponent(c));c=[];for(let Y=0;Y<q.length;++Y)c.push(q.charCodeAt(Y))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);let V=c.length/4+2,Z=Math.ceil(V/16),re=new Array(Z);for(let q=0;q<Z;++q){let Y=new Uint32Array(16);for(let V=0;V<16;++V)Y[V]=c[64*q+4*V]<<24|c[64*q+4*V+1]<<16|c[64*q+4*V+2]<<8|c[64*q+4*V+3];re[q]=Y}re[Z-1][14]=8*(c.length-1)/Math.pow(2,32),re[Z-1][14]=Math.floor(re[Z-1][14]),re[Z-1][15]=8*(c.length-1)&4294967295;for(let c=0;c<Z;++c){let V=new Uint32Array(80);for(let q=0;q<16;++q)V[q]=re[c][q];for(let c=16;c<80;++c)V[c]=ND(V[c-3]^V[c-8]^V[c-14]^V[c-16],1);let Z=Y[0],ae=Y[1],se=Y[2],oe=Y[3],he=Y[4];for(let c=0;c<80;++c){let Y=Math.floor(c/20),re=ND(Z,5)+RPe(Y,ae,se,oe)+he+q[Y]+V[c]>>>0;he=oe,oe=se,se=ND(ae,30)>>>0,ae=Z,Z=re}Y[0]=Y[0]+Z>>>0,Y[1]=Y[1]+ae>>>0,Y[2]=Y[2]+se>>>0,Y[3]=Y[3]+oe>>>0,Y[4]=Y[4]+he>>>0}return[Y[0]>>24&255,Y[0]>>16&255,Y[0]>>8&255,255&Y[0],Y[1]>>24&255,Y[1]>>16&255,Y[1]>>8&255,255&Y[1],Y[2]>>24&255,Y[2]>>16&255,Y[2]>>8&255,255&Y[2],Y[3]>>24&255,Y[3]>>16&255,Y[3]>>8&255,255&Y[3],Y[4]>>24&255,Y[4]>>16&255,Y[4]>>8&255,255&Y[4]]}var l5,c5,h5,u5=M(()=>{o(RPe,"f"),o(ND,"ROTL"),o(MPe,"sha1"),l5=MPe}),p5=M(()=>{o5(),u5(),c5=DD("v5",80,l5),h5=c5}),g5=M(()=>{p5()});function HPe(c="",q=""){let Y=c.replace(f5,"");return`${xae(q)}${xae(Y)}${h5(c,P5)}`}function xae(c=""){return c.length>0?`${c}-`:""}var f5,m5,y5,v5,x5,b5,w5,T5,E5,S5,A5,I5,P5,B5,z5,U5,q5=M(()=>{u1(),U_(),E2(),hf(),Ae(),yM(),K4(),kp(),bp(),g5(),f5=/[^\dA-Za-z](\W)*/g,m5={},y5=new Map,v5=o(function(c){let q=Object.keys(c);for(let Y of q)m5[Y]=c[Y]},"setConf"),x5=o((c,q,Y)=>{let V=m5.entityPadding/3,Z=m5.entityPadding/3,re=.85*m5.fontSize,ae=q.node().getBBox(),se=[],oe=!1,he=!1,de=0,pe=0,ge=0,me=0,ve=ae.height+2*V,be=1;Y.forEach(c=>{void 0!==c.attributeKeyTypeList&&c.attributeKeyTypeList.length>0&&(oe=!0),void 0!==c.attributeComment&&(he=!0)}),Y.forEach(Y=>{let Z=`${q.node().id}-attr-${be}`,ae=0,we=Wd(Y.attributeType),Te=c.append("text").classed("er entityLabel",!0).attr("id",`${Z}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Xp().fontFamily).style("font-size",re+"px").text(we),_e=c.append("text").classed("er entityLabel",!0).attr("id",`${Z}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Xp().fontFamily).style("font-size",re+"px").text(Y.attributeName),Ee={};Ee.tn=Te,Ee.nn=_e;let Ce=Te.node().getBBox(),Se=_e.node().getBBox();if(de=Math.max(de,Ce.width),pe=Math.max(pe,Se.width),ae=Math.max(Ce.height,Se.height),oe){let q=void 0!==Y.attributeKeyTypeList?Y.attributeKeyTypeList.join(","):"",V=c.append("text").classed("er entityLabel",!0).attr("id",`${Z}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Xp().fontFamily).style("font-size",re+"px").text(q);Ee.kn=V;let se=V.node().getBBox();ge=Math.max(ge,se.width),ae=Math.max(ae,se.height)}if(he){let q=c.append("text").classed("er entityLabel",!0).attr("id",`${Z}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Xp().fontFamily).style("font-size",re+"px").text(Y.attributeComment||"");Ee.cn=q;let V=q.node().getBBox();me=Math.max(me,V.width),ae=Math.max(ae,V.height)}Ee.height=ae,se.push(Ee),ve+=ae+2*V,be+=1});let we=4;oe&&(we+=2),he&&(we+=2);let Te=de+pe+ge+me,_e={width:Math.max(m5.minEntityWidth,Math.max(ae.width+2*m5.entityPadding,Te+Z*we)),height:Y.length>0?ve:Math.max(m5.minEntityHeight,ae.height+2*m5.entityPadding)};if(Y.length>0){let Y=Math.max(0,(_e.width-Te-Z*we)/(we/2));q.attr("transform","translate("+_e.width/2+","+(V+ae.height/2)+")");let re=ae.height+2*V,ve="attributeBoxOdd";se.forEach(q=>{let ae=re+V+q.height/2;q.tn.attr("transform","translate("+Z+","+ae+")");let se=c.insert("rect","#"+q.tn.node().id).classed(`er ${ve}`,!0).attr("x",0).attr("y",re).attr("width",de+2*Z+Y).attr("height",q.height+2*V),be=parseFloat(se.attr("x"))+parseFloat(se.attr("width"));q.nn.attr("transform","translate("+(be+Z)+","+ae+")");let we=c.insert("rect","#"+q.nn.node().id).classed(`er ${ve}`,!0).attr("x",be).attr("y",re).attr("width",pe+2*Z+Y).attr("height",q.height+2*V),Te=parseFloat(we.attr("x"))+parseFloat(we.attr("width"));if(oe){q.kn.attr("transform","translate("+(Te+Z)+","+ae+")");let se=c.insert("rect","#"+q.kn.node().id).classed(`er ${ve}`,!0).attr("x",Te).attr("y",re).attr("width",ge+2*Z+Y).attr("height",q.height+2*V);Te=parseFloat(se.attr("x"))+parseFloat(se.attr("width"))}he&&(q.cn.attr("transform","translate("+(Te+Z)+","+ae+")"),c.insert("rect","#"+q.cn.node().id).classed(`er ${ve}`,"true").attr("x",Te).attr("y",re).attr("width",me+2*Z+Y).attr("height",q.height+2*V)),re+=q.height+2*V,ve="attributeBoxOdd"===ve?"attributeBoxEven":"attributeBoxOdd"})}else _e.height=Math.max(m5.minEntityHeight,ve),q.attr("transform","translate("+_e.width/2+","+_e.height/2+")");return _e},"drawAttributes"),b5=o(function(c,q,Y){let V;return[...q.keys()].forEach(function(Z){let re=HPe(Z,"entity");y5.set(Z,re);let ae=c.append("g").attr("id",re);V=void 0===V?re:V;let se="text-"+re,oe=ae.append("text").classed("er entityLabel",!0).attr("id",se).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Xp().fontFamily).style("font-size",m5.fontSize+"px").text(q.get(Z).alias??Z),{width:he,height:de}=x5(ae,oe,q.get(Z).attributes),pe=ae.insert("rect","#"+se).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",he).attr("height",de).node().getBBox();Y.setNode(re,{width:pe.width,height:pe.height,shape:"rect",id:re})}),V},"drawEntities"),w5=o(function(c,q){q.nodes().forEach(function(Y){void 0!==Y&&void 0!==q.node(Y)&&c.select("#"+Y).attr("transform","translate("+(q.node(Y).x-q.node(Y).width/2)+","+(q.node(Y).y-q.node(Y).height/2)+" )")})},"adjustEntities"),T5=o(function(c){return(c.entityA+c.roleA+c.entityB).replace(/\s/g,"")},"getEdgeName"),E5=o(function(c,q){return c.forEach(function(c){q.setEdge(y5.get(c.entityA),y5.get(c.entityB),{relationship:c},T5(c))}),c},"addRelationships"),S5=0,A5=o(function(c,q,Y,V,Z){S5++;let re=Y.edge(y5.get(q.entityA),y5.get(q.entityB),T5(q)),ae=Ka().x(function(c){return c.x}).y(function(c){return c.y}).curve(Do),se=c.insert("path","#"+V).classed("er relationshipLine",!0).attr("d",ae(re.points)).style("stroke",m5.stroke).style("fill","none");q.relSpec.relType===Z.db.Identification.NON_IDENTIFYING&&se.attr("stroke-dasharray","8,8");let oe="";switch(m5.arrowMarkerAbsolute&&(oe=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,oe=oe.replace(/\(/g,"\\("),oe=oe.replace(/\)/g,"\\)")),q.relSpec.cardA){case Z.db.Cardinality.ZERO_OR_ONE:se.attr("marker-end","url("+oe+"#"+q4.ERMarkers.ZERO_OR_ONE_END+")");break;case Z.db.Cardinality.ZERO_OR_MORE:se.attr("marker-end","url("+oe+"#"+q4.ERMarkers.ZERO_OR_MORE_END+")");break;case Z.db.Cardinality.ONE_OR_MORE:se.attr("marker-end","url("+oe+"#"+q4.ERMarkers.ONE_OR_MORE_END+")");break;case Z.db.Cardinality.ONLY_ONE:se.attr("marker-end","url("+oe+"#"+q4.ERMarkers.ONLY_ONE_END+")");break;case Z.db.Cardinality.MD_PARENT:se.attr("marker-end","url("+oe+"#"+q4.ERMarkers.MD_PARENT_END+")")}switch(q.relSpec.cardB){case Z.db.Cardinality.ZERO_OR_ONE:se.attr("marker-start","url("+oe+"#"+q4.ERMarkers.ZERO_OR_ONE_START+")");break;case Z.db.Cardinality.ZERO_OR_MORE:se.attr("marker-start","url("+oe+"#"+q4.ERMarkers.ZERO_OR_MORE_START+")");break;case Z.db.Cardinality.ONE_OR_MORE:se.attr("marker-start","url("+oe+"#"+q4.ERMarkers.ONE_OR_MORE_START+")");break;case Z.db.Cardinality.ONLY_ONE:se.attr("marker-start","url("+oe+"#"+q4.ERMarkers.ONLY_ONE_START+")");break;case Z.db.Cardinality.MD_PARENT:se.attr("marker-start","url("+oe+"#"+q4.ERMarkers.MD_PARENT_START+")")}let he=se.node().getTotalLength(),de=se.node().getPointAtLength(.5*he),pe="rel"+S5,ge=q.roleA.split(/<br ?\/>/g),me=c.append("text").classed("er relationshipLabel",!0).attr("id",pe).attr("x",de.x).attr("y",de.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Xp().fontFamily).style("font-size",m5.fontSize+"px");if(1==ge.length)me.text(q.roleA);else{let c=.5*-(ge.length-1);ge.forEach((q,Y)=>{me.append("tspan").attr("x",de.x).attr("dy",`${0===Y?c:1}em`).text(q)})}let ve=me.node().getBBox();c.insert("rect","#"+pe).classed("er relationshipLabelBox",!0).attr("x",de.x-ve.width/2).attr("y",de.y-ve.height/2).attr("width",ve.width).attr("height",ve.height)},"drawRelationshipFromLayout"),I5=o(function(c,q,Y,Z){m5=Xp().er,V.info("Drawing ER diagram");let re,ae=Xp().securityLevel;"sandbox"===ae&&(re=ze("#i"+q));let se,oe=ze("sandbox"===ae?re.nodes()[0].contentDocument.body:"body").select(`[id='${q}']`);q4.insertMarkers(oe,m5),se=new c1({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:m5.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let he=b5(oe,Z.db.getEntities(),se),de=E5(Z.db.getRelationships(),se);Du(se),w5(oe,se),de.forEach(function(c){A5(oe,c,se,he,Z)});let pe=m5.diagramPadding;hM.insertTitle(oe,"entityTitleText",m5.titleTopMargin,Z.db.getDiagramTitle());let ge=oe.node().getBBox(),me=ge.width+2*pe,ve=ge.height+2*pe;hp(oe,ve,me,m5.useMaxWidth),oe.attr("viewBox",`${ge.x-pe} ${ge.y-pe} ${me} ${ve}`)},"draw"),P5="28e9f9db-3c8d-5aa5-9faf-44286ae5937c",o(HPe,"generateId"),o(xae,"strWithHyphen"),B5={setConf:v5,draw:I5}}),j5=M(()=>{z5=o(c=>`\n  .entityBox {\n    fill: ${c.mainBkg};\n    stroke: ${c.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${c.attributeBackgroundColorOdd};\n    stroke: ${c.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${c.attributeBackgroundColorEven};\n    stroke: ${c.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${c.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${c.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${c.lineColor};\n    }\n\n  .entityTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${c.textColor};\n  }    \n  #MD_PARENT_START {\n    fill: #f5f5f5 !important;\n    stroke: ${c.lineColor} !important;\n    stroke-width: 1;\n  }\n  #MD_PARENT_END {\n    fill: #f5f5f5 !important;\n    stroke: ${c.lineColor} !important;\n    stroke-width: 1;\n  }\n  \n`,"getStyles"),U5=z5}),Y5={};vr(Y5,{diagram:()=>W5});var W5,H5=M(()=>{H4(),V4(),q5(),j5(),W5={parser:y4,db:P4,renderer:B5,styles:U5}});function ei(c){return"object"==typeof c&&null!==c&&"string"==typeof c.$type}function ma(c){return"object"==typeof c&&null!==c&&"string"==typeof c.$refText}function MD(c){return"object"==typeof c&&null!==c&&"string"==typeof c.name&&"string"==typeof c.type&&"string"==typeof c.path}function Vd(c){return"object"==typeof c&&null!==c&&ei(c.container)&&ma(c.reference)&&"string"==typeof c.message}function io(c){return"object"==typeof c&&null!==c&&Array.isArray(c.content)}function Jh(c){return"object"==typeof c&&null!==c&&"object"==typeof c.tokenType}function Gv(c){return io(c)&&"string"==typeof c.fullText}var V5,X5=M(()=>{o(ei,"isAstNode"),o(ma,"isReference"),o(MD,"isAstNodeDescription"),o(Vd,"isLinkingError"),V5=class{static{o(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(c,q){return ei(c)&&this.isSubtype(c.$type,q)}isSubtype(c,q){if(c===q)return!0;let Y=this.subtypes[c];Y||(Y=this.subtypes[c]={});let V=Y[q];if(void 0!==V)return V;{let V=this.computeIsSubtype(c,q);return Y[q]=V,V}}getAllSubTypes(c){let q=this.allSubtypes[c];if(q)return q;{let q=this.getAllTypes(),Y=[];for(let V of q)this.isSubtype(V,c)&&Y.push(V);return this.allSubtypes[c]=Y,Y}}},o(io,"isCompositeCstNode"),o(Jh,"isLeafCstNode"),o(Gv,"isRootCstNode")});function KPe(c){return"string"==typeof c?c:typeof c>"u"?"undefined":"function"==typeof c.toString?c.toString():Object.prototype.toString.call(c)}function dT(c){return!!c&&"function"==typeof c[Symbol.iterator]}function tn(...c){if(1===c.length){let q=c[0];if(q instanceof K5)return q;if(dT(q))return new K5(()=>q[Symbol.iterator](),c=>c.next());if("number"==typeof q.length)return new K5(()=>({index:0}),c=>c.index<q.length?{done:!1,value:q[c.index++]}:e3)}return c.length>1?new K5(()=>({collIndex:0,arrIndex:0}),q=>{do{if(q.iterator){let c=q.iterator.next();if(!c.done)return c;q.iterator=void 0}if(q.array){if(q.arrIndex<q.array.length)return{done:!1,value:q.array[q.arrIndex++]};q.array=void 0,q.arrIndex=0}if(q.collIndex<c.length){let Y=c[q.collIndex++];dT(Y)?q.iterator=Y[Symbol.iterator]():Y&&"number"==typeof Y.length&&(q.array=Y)}}while(q.iterator||q.array||q.collIndex<c.length);return e3}):Z5}var K5,Z5,e3,t3,r3,n3=M(()=>{K5=class t{static{o(this,"StreamImpl")}constructor(c,q){this.startFn=c,this.nextFn=q}iterator(){let c={state:this.startFn(),next:o(()=>this.nextFn(c.state),"next"),[Symbol.iterator]:()=>c};return c}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let c=this.iterator(),q=0,Y=c.next();for(;!Y.done;)q++,Y=c.next();return q}toArray(){let c,q=[],Y=this.iterator();do{c=Y.next(),void 0!==c.value&&q.push(c.value)}while(!c.done);return q}toSet(){return new Set(this)}toMap(c,q){let Y=this.map(Y=>[c?c(Y):Y,q?q(Y):Y]);return new Map(Y)}toString(){return this.join()}concat(c){let q=c[Symbol.iterator]();return new t(()=>({first:this.startFn(),firstDone:!1}),c=>{let Y;if(!c.firstDone){do{if(Y=this.nextFn(c.first),!Y.done)return Y}while(!Y.done);c.firstDone=!0}do{if(Y=q.next(),!Y.done)return Y}while(!Y.done);return e3})}join(c=","){let q,Y=this.iterator(),V="",Z=!1;do{q=Y.next(),q.done||(Z&&(V+=c),V+=KPe(q.value)),Z=!0}while(!q.done);return V}indexOf(c,q=0){let Y=this.iterator(),V=0,Z=Y.next();for(;!Z.done;){if(V>=q&&Z.value===c)return V;Z=Y.next(),V++}return-1}every(c){let q=this.iterator(),Y=q.next();for(;!Y.done;){if(!c(Y.value))return!1;Y=q.next()}return!0}some(c){let q=this.iterator(),Y=q.next();for(;!Y.done;){if(c(Y.value))return!0;Y=q.next()}return!1}forEach(c){let q=this.iterator(),Y=0,V=q.next();for(;!V.done;)c(V.value,Y),V=q.next(),Y++}map(c){return new t(this.startFn,q=>{let{done:Y,value:V}=this.nextFn(q);return Y?e3:{done:!1,value:c(V)}})}filter(c){return new t(this.startFn,q=>{let Y;do{if(Y=this.nextFn(q),!Y.done&&c(Y.value))return Y}while(!Y.done);return e3})}nonNullable(){return this.filter(c=>null!=c)}reduce(c,q){let Y=this.iterator(),V=q,Z=Y.next();for(;!Z.done;)V=void 0===V?Z.value:c(V,Z.value),Z=Y.next();return V}reduceRight(c,q){return this.recursiveReduce(this.iterator(),c,q)}recursiveReduce(c,q,Y){let V=c.next();if(V.done)return Y;let Z=this.recursiveReduce(c,q,Y);return void 0===Z?V.value:q(Z,V.value)}find(c){let q=this.iterator(),Y=q.next();for(;!Y.done;){if(c(Y.value))return Y.value;Y=q.next()}}findIndex(c){let q=this.iterator(),Y=0,V=q.next();for(;!V.done;){if(c(V.value))return Y;V=q.next(),Y++}return-1}includes(c){let q=this.iterator(),Y=q.next();for(;!Y.done;){if(Y.value===c)return!0;Y=q.next()}return!1}flatMap(c){return new t(()=>({this:this.startFn()}),q=>{do{if(q.iterator){let c=q.iterator.next();if(!c.done)return c;q.iterator=void 0}let{done:Y,value:V}=this.nextFn(q.this);if(!Y){let Y=c(V);if(!dT(Y))return{done:!1,value:Y};q.iterator=Y[Symbol.iterator]()}}while(q.iterator);return e3})}flat(c){if(void 0===c&&(c=1),c<=0)return this;let q=c>1?this.flat(c-1):this;return new t(()=>({this:q.startFn()}),c=>{do{if(c.iterator){let q=c.iterator.next();if(!q.done)return q;c.iterator=void 0}let{done:Y,value:V}=q.nextFn(c.this);if(!Y){if(!dT(V))return{done:!1,value:V};c.iterator=V[Symbol.iterator]()}}while(c.iterator);return e3})}head(){let c=this.iterator().next();if(!c.done)return c.value}tail(c=1){return new t(()=>{let q=this.startFn();for(let Y=0;Y<c;Y++)if(this.nextFn(q).done)return q;return q},this.nextFn)}limit(c){return new t(()=>({size:0,state:this.startFn()}),q=>(q.size++,q.size>c?e3:this.nextFn(q.state)))}distinct(c){let q=new Set;return this.filter(Y=>{let V=c?c(Y):Y;return!q.has(V)&&(q.add(V),!0)})}exclude(c,q){let Y=new Set;for(let V of c){let c=q?q(V):V;Y.add(c)}return this.filter(c=>{let V=q?q(c):c;return!Y.has(V)})}},o(KPe,"toString"),o(dT,"isIterable"),Z5=new K5(()=>{},()=>e3),e3=Object.freeze({done:!0,value:void 0}),o(tn,"stream"),t3=class extends K5{static{o(this,"TreeStreamImpl")}constructor(c,q,Y){super(()=>({iterators:Y?.includeRoot?[[c][Symbol.iterator]()]:[q(c)[Symbol.iterator]()],pruned:!1}),c=>{for(c.pruned&&(c.iterators.pop(),c.pruned=!1);c.iterators.length>0;){let Y=c.iterators[c.iterators.length-1].next();if(!Y.done)return c.iterators.push(q(Y.value)[Symbol.iterator]()),Y;c.iterators.pop()}return e3})}iterator(){let c={state:this.startFn(),next:o(()=>this.nextFn(c.state),"next"),prune:o(()=>{c.state.pruned=!0},"prune"),[Symbol.iterator]:()=>c};return c}},function(c){function e(c){return c.reduce((c,q)=>c+q,0)}function r(c){return c.reduce((c,q)=>c*q,0)}function n(c){return c.reduce((c,q)=>Math.min(c,q))}function i(c){return c.reduce((c,q)=>Math.max(c,q))}o(e,"sum"),c.sum=e,o(r,"product"),c.product=r,o(n,"min"),c.min=n,o(i,"max"),c.max=i}(r3||(r3={}))}),s3={};function Ud(c){return new t3(c,c=>io(c)?c.content:[],{includeRoot:!0})}function QPe(c){return Ud(c).filter(Jh)}function OD(c,q){for(;c.container;)if((c=c.container)===q)return!0;return!1}function $m(c){return{start:{character:c.startColumn-1,line:c.startLine-1},end:{character:c.endColumn,line:c.endLine-1}}}function Hd(c){if(!c)return;let{offset:q,end:Y,range:V}=c;return{range:V,offset:q,end:Y,length:Y-q}}function Dae(c,q){if(c.end.line<q.start.line||c.end.line===q.start.line&&c.end.character<c.start.character)return h3.Before;if(c.start.line>q.end.line||c.start.line===q.end.line&&c.start.character>q.end.character)return h3.After;let Y=c.start.line>q.start.line||c.start.line===q.start.line&&c.start.character>=q.start.character,V=c.end.line<q.end.line||c.end.line===q.end.line&&c.end.character<=q.end.character;return Y&&V?h3.Inside:Y?h3.OverlapBack:h3.OverlapFront}function PD(c,q){return Dae(c,q)>h3.After}function ZPe(c,q,Y=u3){if(c){if(q>0){let V=q-c.offset,Z=c.text.charAt(V);Y.test(Z)||q--}return FD(c,q)}}function BD(c,q){if(c){let Y=Mae(c,!0);if(Y&&ID(Y,q))return Y;if(Gv(c)){let Y=c.content.findIndex(c=>!c.hidden);for(let V=Y-1;V>=0;V--){let Y=c.content[V];if(ID(Y,q))return Y}}}}function ID(c,q){return Jh(c)&&q.includes(c.tokenType.name)}function FD(c,q){if(Jh(c))return c;if(io(c)){let Y=Rae(c,q,!1);if(Y)return FD(Y,q)}}function Nae(c,q){if(Jh(c))return c;if(io(c)){let Y=Rae(c,q,!0);if(Y)return Nae(Y,q)}}function Rae(c,q,Y){let V,Z=0,re=c.content.length-1;for(;Z<=re;){let ae=Math.floor((Z+re)/2),se=c.content[ae];if(se.offset<=q&&se.end>q)return se;se.end<=q?(V=Y?se:void 0,Z=ae+1):re=ae-1}return V}function Mae(c,q=!0){for(;c.container;){let Y=c.container,V=Y.content.indexOf(c);for(;V>0;){V--;let c=Y.content[V];if(q||!c.hidden)return c}c=Y}}function JPe(c,q=!0){for(;c.container;){let Y=c.container,V=Y.content.indexOf(c),Z=Y.content.length-1;for(;V<Z;){V++;let c=Y.content[V];if(q||!c.hidden)return c}c=Y}}function eBe(c){if(0===c.range.start.character)return c;let q,Y=c.range.start.line,V=c;for(;c.container;){let Z=c.container,re=q??Z.content.indexOf(c);if(0===re?(c=Z,q=void 0):(q=re-1,c=Z.content[q]),c.range.start.line!==Y)break;V=c}return V}function tBe(c,q){let Y=rBe(c,q);return Y?Y.parent.content.slice(Y.a+1,Y.b):[]}function rBe(c,q){let Y,V=Lae(c),Z=Lae(q);for(let c=0;c<V.length&&c<Z.length;c++){let q=V[c],re=Z[c];if(q.parent!==re.parent)break;Y={parent:q.parent,a:q.index,b:re.index}}return Y}function Lae(c){let q=[];for(;c.container;){let Y=c.container,V=Y.content.indexOf(c);q.push({parent:Y,index:V}),c=Y}return q.reverse()}vr(s3,{DefaultNameRegexp:()=>u3,RangeComparison:()=>h3,compareRange:()=>Dae,findCommentNode:()=>BD,findDeclarationNodeAtOffset:()=>ZPe,findLeafNodeAtOffset:()=>FD,findLeafNodeBeforeOffset:()=>Nae,flattenCst:()=>QPe,getInteriorNodes:()=>tBe,getNextNode:()=>JPe,getPreviousNode:()=>Mae,getStartlineNode:()=>eBe,inRange:()=>PD,isChildNode:()=>OD,isCommentNode:()=>ID,streamCst:()=>Ud,toDocumentSegment:()=>Hd,tokenToRange:()=>$m});var h3,u3,f3=M(()=>{var c;X5(),n3(),o(Ud,"streamCst"),o(QPe,"flattenCst"),o(OD,"isChildNode"),o($m,"tokenToRange"),o(Hd,"toDocumentSegment"),(c=h3||(h3={}))[c.Before=0]="Before",c[c.After=1]="After",c[c.OverlapFront=2]="OverlapFront",c[c.OverlapBack=3]="OverlapBack",c[c.Inside=4]="Inside",o(Dae,"compareRange"),o(PD,"inRange"),u3=/^[\w\p{L}]$/u,o(ZPe,"findDeclarationNodeAtOffset"),o(BD,"findCommentNode"),o(ID,"isCommentNode"),o(FD,"findLeafNodeAtOffset"),o(Nae,"findLeafNodeBeforeOffset"),o(Rae,"binarySearch"),o(Mae,"getPreviousNode"),o(JPe,"getNextNode"),o(eBe,"getStartlineNode"),o(tBe,"getInteriorNodes"),o(rBe,"getCommonParent"),o(Lae,"getParentChain")});function ef(c){throw new Error("Error! The input value was not handled.")}var y3,v3=M(()=>{y3=class extends Error{static{o(this,"ErrorWithLocation")}constructor(c,q){super(c?`${q} at ${c.range.start.line}:${c.range.start.character}`:q)}},o(ef,"assertUnreachable")}),x3={};function iBe(c){return L6.isInstance(c,w3)}function aBe(c){return L6.isInstance(c,k3)}function sBe(c){return L6.isInstance(c,T3)}function oBe(c){return Iae(c)||"current"===c||"entry"===c||"extends"===c||"false"===c||"fragment"===c||"grammar"===c||"hidden"===c||"import"===c||"interface"===c||"returns"===c||"terminal"===c||"true"===c||"type"===c||"infer"===c||"infers"===c||"with"===c||"string"==typeof c&&/\^?[_a-zA-Z][\w_]*/.test(c)}function Iae(c){return"string"===c||"number"===c||"boolean"===c||"Date"===c||"bigint"===c}function lBe(c){return L6.isInstance(c,_3)}function cBe(c){return L6.isInstance(c,E3)}function Hv(c){return L6.isInstance(c,S3)}function uBe(c){return L6.isInstance(c,A3)}function UD(c){return L6.isInstance(c,L3)}function WD(c){return L6.isInstance(c,M3)}function qD(c){return L6.isInstance(c,z3)}function jD(c){return L6.isInstance(c,q3)}function hBe(c){return L6.isInstance(c,j3)}function fBe(c){return L6.isInstance(c,Y3)}function bT(c){return L6.isInstance(c,W3)}function wT(c){return L6.isInstance(c,X3)}function dBe(c){return L6.isInstance(c,K3)}function eN(c){return L6.isInstance(c,Q3)}function pBe(c){return L6.isInstance(c,Z3)}function mBe(c){return L6.isInstance(c,J3)}function iN(c){return L6.isInstance(c,t6)}function Ma(c){return L6.isInstance(c,r6)}function oN(c){return L6.isInstance(c,n6)}function lN(c){return L6.isInstance(c,i6)}function TT(c){return L6.isInstance(c,a6)}function gBe(c){return L6.isInstance(c,s6)}function qo(c){return L6.isInstance(c,o6)}function Wv(c){return L6.isInstance(c,l6)}function yBe(c){return L6.isInstance(c,c6)}function dN(c){return L6.isInstance(c,h6)}function Ru(c){return L6.isInstance(c,u6)}function kT(c){return L6.isInstance(c,d6)}function Il(c){return L6.isInstance(c,p6)}function vN(c){return L6.isInstance(c,g6)}function Yd(c){return L6.isInstance(c,f6)}function wN(c){return L6.isInstance(c,m6)}function tf(c){return L6.isInstance(c,y6)}function Xo(c){return L6.isInstance(c,v6)}function SN(c){return L6.isInstance(c,x6)}function AN(c){return L6.isInstance(c,b6)}function Ol(c){return L6.isInstance(c,w6)}function DN(c){return L6.isInstance(c,k6)}function RN(c){return L6.isInstance(c,T6)}function ET(c){return L6.isInstance(c,_6)}function ST(c){return L6.isInstance(c,E6)}function PN(c){return L6.isInstance(c,C6)}function FN(c){return L6.isInstance(c,S6)}vr(x3,{AbstractElement:()=>S3,AbstractRule:()=>w3,AbstractType:()=>k3,Action:()=>u6,Alternatives:()=>d6,ArrayLiteral:()=>A3,ArrayType:()=>L3,Assignment:()=>p6,BooleanLiteral:()=>M3,CharacterRange:()=>g6,Condition:()=>T3,Conjunction:()=>z3,CrossReference:()=>f6,Disjunction:()=>q3,EndOfFile:()=>m6,Grammar:()=>j3,GrammarImport:()=>Y3,Group:()=>y6,InferredType:()=>W3,Interface:()=>X3,Keyword:()=>v6,LangiumGrammarAstReflection:()=>A6,LangiumGrammarTerminals:()=>b3,NamedArgument:()=>K3,NegatedToken:()=>x6,Negation:()=>Q3,NumberLiteral:()=>Z3,Parameter:()=>J3,ParameterReference:()=>t6,ParserRule:()=>r6,ReferenceType:()=>n6,RegexToken:()=>b6,ReturnType:()=>i6,RuleCall:()=>w6,SimpleType:()=>a6,StringLiteral:()=>s6,TerminalAlternatives:()=>k6,TerminalGroup:()=>T6,TerminalRule:()=>o6,TerminalRuleCall:()=>_6,Type:()=>l6,TypeAttribute:()=>c6,TypeDefinition:()=>_3,UnionType:()=>h6,UnorderedGroup:()=>E6,UntilToken:()=>C6,ValueLiteral:()=>E3,Wildcard:()=>S6,isAbstractElement:()=>Hv,isAbstractRule:()=>iBe,isAbstractType:()=>aBe,isAction:()=>Ru,isAlternatives:()=>kT,isArrayLiteral:()=>uBe,isArrayType:()=>UD,isAssignment:()=>Il,isBooleanLiteral:()=>WD,isCharacterRange:()=>vN,isCondition:()=>sBe,isConjunction:()=>qD,isCrossReference:()=>Yd,isDisjunction:()=>jD,isEndOfFile:()=>wN,isFeatureName:()=>oBe,isGrammar:()=>hBe,isGrammarImport:()=>fBe,isGroup:()=>tf,isInferredType:()=>bT,isInterface:()=>wT,isKeyword:()=>Xo,isNamedArgument:()=>dBe,isNegatedToken:()=>SN,isNegation:()=>eN,isNumberLiteral:()=>pBe,isParameter:()=>mBe,isParameterReference:()=>iN,isParserRule:()=>Ma,isPrimitiveType:()=>Iae,isReferenceType:()=>oN,isRegexToken:()=>AN,isReturnType:()=>lN,isRuleCall:()=>Ol,isSimpleType:()=>TT,isStringLiteral:()=>gBe,isTerminalAlternatives:()=>DN,isTerminalGroup:()=>RN,isTerminalRule:()=>qo,isTerminalRuleCall:()=>ET,isType:()=>Wv,isTypeAttribute:()=>yBe,isTypeDefinition:()=>lBe,isUnionType:()=>dN,isUnorderedGroup:()=>ST,isUntilToken:()=>PN,isValueLiteral:()=>cBe,isWildcard:()=>FN,reflection:()=>L6});var b3,w3,k3,T3,_3,E3,S3,A3,L3,M3,z3,q3,j3,Y3,W3,X3,K3,Q3,Z3,J3,t6,r6,n6,i6,a6,s6,o6,l6,c6,h6,u6,d6,p6,g6,f6,m6,y6,v6,x6,b6,w6,k6,T6,_6,E6,C6,S6,A6,L6,N6=M(()=>{X5(),b3={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},w3="AbstractRule",o(iBe,"isAbstractRule"),k3="AbstractType",o(aBe,"isAbstractType"),T3="Condition",o(sBe,"isCondition"),o(oBe,"isFeatureName"),o(Iae,"isPrimitiveType"),_3="TypeDefinition",o(lBe,"isTypeDefinition"),E3="ValueLiteral",o(cBe,"isValueLiteral"),S3="AbstractElement",o(Hv,"isAbstractElement"),A3="ArrayLiteral",o(uBe,"isArrayLiteral"),L3="ArrayType",o(UD,"isArrayType"),M3="BooleanLiteral",o(WD,"isBooleanLiteral"),z3="Conjunction",o(qD,"isConjunction"),q3="Disjunction",o(jD,"isDisjunction"),j3="Grammar",o(hBe,"isGrammar"),Y3="GrammarImport",o(fBe,"isGrammarImport"),W3="InferredType",o(bT,"isInferredType"),X3="Interface",o(wT,"isInterface"),K3="NamedArgument",o(dBe,"isNamedArgument"),Q3="Negation",o(eN,"isNegation"),Z3="NumberLiteral",o(pBe,"isNumberLiteral"),J3="Parameter",o(mBe,"isParameter"),t6="ParameterReference",o(iN,"isParameterReference"),r6="ParserRule",o(Ma,"isParserRule"),n6="ReferenceType",o(oN,"isReferenceType"),i6="ReturnType",o(lN,"isReturnType"),a6="SimpleType",o(TT,"isSimpleType"),s6="StringLiteral",o(gBe,"isStringLiteral"),o6="TerminalRule",o(qo,"isTerminalRule"),l6="Type",o(Wv,"isType"),c6="TypeAttribute",o(yBe,"isTypeAttribute"),h6="UnionType",o(dN,"isUnionType"),u6="Action",o(Ru,"isAction"),d6="Alternatives",o(kT,"isAlternatives"),p6="Assignment",o(Il,"isAssignment"),g6="CharacterRange",o(vN,"isCharacterRange"),f6="CrossReference",o(Yd,"isCrossReference"),m6="EndOfFile",o(wN,"isEndOfFile"),y6="Group",o(tf,"isGroup"),v6="Keyword",o(Xo,"isKeyword"),x6="NegatedToken",o(SN,"isNegatedToken"),b6="RegexToken",o(AN,"isRegexToken"),w6="RuleCall",o(Ol,"isRuleCall"),k6="TerminalAlternatives",o(DN,"isTerminalAlternatives"),T6="TerminalGroup",o(RN,"isTerminalGroup"),_6="TerminalRuleCall",o(ET,"isTerminalRuleCall"),E6="UnorderedGroup",o(ST,"isUnorderedGroup"),C6="UntilToken",o(PN,"isUntilToken"),S6="Wildcard",o(FN,"isWildcard"),A6=class extends V5{static{o(this,"LangiumGrammarAstReflection")}getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(c,q){switch(c){case u6:case d6:case p6:case g6:case f6:case m6:case y6:case v6:case x6:case b6:case w6:case k6:case T6:case _6:case E6:case C6:case S6:return this.isSubtype(S3,q);case A3:case Z3:case s6:return this.isSubtype(E3,q);case L3:case n6:case a6:case h6:return this.isSubtype(_3,q);case M3:return this.isSubtype(T3,q)||this.isSubtype(E3,q);case z3:case q3:case Q3:case t6:return this.isSubtype(T3,q);case W3:case X3:case l6:return this.isSubtype(k3,q);case r6:return this.isSubtype(w3,q)||this.isSubtype(k3,q);case o6:return this.isSubtype(w3,q);default:return!1}}getReferenceType(c){let q=`${c.container.$type}:${c.property}`;switch(q){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return k3;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return w3;case"Grammar:usedGrammars":return j3;case"NamedArgument:parameter":case"ParameterReference:parameter":return J3;case"TerminalRuleCall:rule":return o6;default:throw new Error(`${q} is not a valid reference id.`)}}getTypeMetaData(c){switch(c){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:c,properties:[]}}}},L6=new A6}),I6={};function CT(c){for(let[q,Y]of Object.entries(c))q.startsWith("$")||(Array.isArray(Y)?Y.forEach((Y,V)=>{ei(Y)&&(Y.$container=c,Y.$containerProperty=q,Y.$containerIndex=V)}):ei(Y)&&(Y.$container=c,Y.$containerProperty=q))}function qd(c,q){let Y=c;for(;Y;){if(q(Y))return Y;Y=Y.$container}}function vBe(c,q){let Y=c;for(;Y;){if(q(Y))return!0;Y=Y.$container}return!1}function Fi(c){let q=zae(c).$document;if(!q)throw new Error("AST node has no document.");return q}function zae(c){for(;c.$container;)c=c.$container;return c}function qv(c,q){if(!c)throw new Error("Node must be an AstNode.");let Y=q?.range;return new K5(()=>({keys:Object.keys(c),keyIndex:0,arrayIndex:0}),q=>{for(;q.keyIndex<q.keys.length;){let V=q.keys[q.keyIndex];if(!V.startsWith("$")){let Z=c[V];if(ei(Z)){if(q.keyIndex++,zN(Z,Y))return{done:!1,value:Z}}else if(Array.isArray(Z)){for(;q.arrayIndex<Z.length;){let c=Z[q.arrayIndex++];if(ei(c)&&zN(c,Y))return{done:!1,value:c}}q.arrayIndex=0}}q.keyIndex++}return e3})}function _c(c,q){if(!c)throw new Error("Root node must be an AstNode.");return new t3(c,c=>qv(c,q))}function jo(c,q){if(!c)throw new Error("Root node must be an AstNode.");return q?.range&&!zN(c,q.range)?new t3(c,()=>[]):new t3(c,c=>qv(c,q),{includeRoot:!0})}function zN(c,q){var Y;if(!q)return!0;let V=null===(Y=c.$cstNode)||void 0===Y?void 0:Y.range;return!!V&&PD(V,q)}function Um(c){return new K5(()=>({keys:Object.keys(c),keyIndex:0,arrayIndex:0}),q=>{for(;q.keyIndex<q.keys.length;){let Y=q.keys[q.keyIndex];if(!Y.startsWith("$")){let V=c[Y];if(ma(V))return q.keyIndex++,{done:!1,value:{reference:V,container:c,property:Y}};if(Array.isArray(V)){for(;q.arrayIndex<V.length;){let Z=q.arrayIndex++,re=V[Z];if(ma(re))return{done:!1,value:{reference:re,container:c,property:Y,index:Z}}}q.arrayIndex=0}}q.keyIndex++}return e3})}function xBe(c,q=Fi(c).parseResult.value){let Y=[];return jo(q).forEach(q=>{Um(q).forEach(q=>{q.reference.ref===c&&Y.push(q.reference)})}),tn(Y)}function $N(c,q){let Y=c.getTypeMetaData(q.$type),V=q;for(let c of Y.properties)void 0!==c.defaultValue&&void 0===V[c.name]&&(V[c.name]=Gae(c.defaultValue))}function Gae(c){return Array.isArray(c)?[...c.map(Gae)]:c}function GN(c,q){let Y={$type:c.$type};for(let[V,Z]of Object.entries(c))if(!V.startsWith("$"))if(ei(Z))Y[V]=GN(Z,q);else if(ma(Z))Y[V]=q(Y,V,Z.$refNode,Z.$refText);else if(Array.isArray(Z)){let c=[];for(let re of Z)ei(re)?c.push(GN(re,q)):ma(re)?c.push(q(Y,V,re.$refNode,re.$refText)):c.push(re);Y[V]=c}else Y[V]=Z;return CT(Y),Y}vr(I6,{assignMandatoryProperties:()=>$N,copyAstNode:()=>GN,findLocalReferences:()=>xBe,findRootNode:()=>zae,getContainerOfType:()=>qd,getDocument:()=>Fi,hasContainerOfType:()=>vBe,linkContentToContainer:()=>CT,streamAllContents:()=>_c,streamAst:()=>jo,streamContents:()=>qv,streamReferences:()=>Um});var M6=M(()=>{X5(),n3(),f3(),o(CT,"linkContentToContainer"),o(qd,"getContainerOfType"),o(vBe,"hasContainerOfType"),o(Fi,"getDocument"),o(zae,"findRootNode"),o(qv,"streamContents"),o(_c,"streamAllContents"),o(jo,"streamAst"),o(zN,"isAstNodeInRange"),o(Um,"streamReferences"),o(xBe,"findLocalReferences"),o($N,"assignMandatoryProperties"),o(Gae,"copyDefaultValue"),o(GN,"copyAstNode")});function ar(c){return c.charCodeAt(0)}function _T(c,q){Array.isArray(c)?c.forEach(function(c){q.push(c)}):q.push(c)}function Hm(c,q){if(!0===c[q])throw"duplicate flag "+q;c[q];c[q]=!0}function Xd(c){if(void 0===c)throw Error("Internal Error - Should never get here!");return!0}function Xv(){throw Error("Internal Error - Should never get here!")}function VN(c){return"Character"===c.type}var R6,F6,$6,z6,U6,W6,H6,V6,K6=M(()=>{o(ar,"cc"),o(_T,"insertToSet"),o(Hm,"addFlag"),o(Xd,"ASSERT_EXISTS"),o(Xv,"ASSERT_NEVER_REACH_HERE"),o(VN,"isCharacter")}),Q6=M(()=>{K6(),R6=[];for(let c=ar("0");c<=ar("9");c++)R6.push(c);F6=[ar("_")].concat(R6);for(let c=ar("a");c<=ar("z");c++)F6.push(c);for(let c=ar("A");c<=ar("Z");c++)F6.push(c);$6=[ar(" "),ar("\f"),ar("\n"),ar("\r"),ar("\t"),ar("\v"),ar("\t"),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar(" "),ar("\u2028"),ar("\u2029"),ar(" "),ar(" "),ar("　"),ar("\ufeff")]}),Z6=M(()=>{K6(),Q6(),z6=/[0-9a-fA-F]/,U6=/[0-9]/,W6=/[1-9]/,H6=class{static{o(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(c){this.idx=c.idx,this.input=c.input,this.groupIdx=c.groupIdx}pattern(c){this.idx=0,this.input=c,this.groupIdx=0,this.consumeChar("/");let q=this.disjunction();this.consumeChar("/");let Y={type:"Flags",loc:{begin:this.idx,end:c.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Hm(Y,"global");break;case"i":Hm(Y,"ignoreCase");break;case"m":Hm(Y,"multiLine");break;case"u":Hm(Y,"unicode");break;case"y":Hm(Y,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:Y,value:q,loc:this.loc(0)}}disjunction(){let c=[],q=this.idx;for(c.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),c.push(this.alternative());return{type:"Disjunction",value:c,loc:this.loc(q)}}alternative(){let c=[],q=this.idx;for(;this.isTerm();)c.push(this.term());return{type:"Alternative",value:c,loc:this.loc(q)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let c=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(c)};case"$":return{type:"EndAnchor",loc:this.loc(c)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(c)};case"B":return{type:"NonWordBoundary",loc:this.loc(c)}}throw Error("Invalid Assertion Escape");case"(":let q;switch(this.consumeChar("?"),this.popChar()){case"=":q="Lookahead";break;case"!":q="NegativeLookahead"}Xd(q);let Y=this.disjunction();return this.consumeChar(")"),{type:q,value:Y,loc:this.loc(c)}}return Xv()}quantifier(c=!1){let q,Y=this.idx;switch(this.popChar()){case"*":q={atLeast:0,atMost:1/0};break;case"+":q={atLeast:1,atMost:1/0};break;case"?":q={atLeast:0,atMost:1};break;case"{":let Y=this.integerIncludingZero();switch(this.popChar()){case"}":q={atLeast:Y,atMost:Y};break;case",":let c;this.isDigit()?(c=this.integerIncludingZero(),q={atLeast:Y,atMost:c}):q={atLeast:Y,atMost:1/0},this.consumeChar("}")}if(!0===c&&void 0===q)return;Xd(q)}if((!0!==c||void 0!==q)&&Xd(q))return"?"===this.peekChar(0)?(this.consumeChar("?"),q.greedy=!1):q.greedy=!0,q.type="Quantifier",q.loc=this.loc(Y),q}atom(){let c,q=this.idx;switch(this.peekChar()){case".":c=this.dotAll();break;case"\\":c=this.atomEscape();break;case"[":c=this.characterClass();break;case"(":c=this.group()}return void 0===c&&this.isPatternCharacter()&&(c=this.patternCharacter()),Xd(c)?(c.loc=this.loc(q),this.isQuantifier()&&(c.quantifier=this.quantifier()),c):Xv()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[ar("\n"),ar("\r"),ar("\u2028"),ar("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let c,q=!1;switch(this.popChar()){case"d":c=R6;break;case"D":c=R6,q=!0;break;case"s":c=$6;break;case"S":c=$6,q=!0;break;case"w":c=F6;break;case"W":c=F6,q=!0}return Xd(c)?{type:"Set",value:c,complement:q}:Xv()}controlEscapeAtom(){let c;switch(this.popChar()){case"f":c=ar("\f");break;case"n":c=ar("\n");break;case"r":c=ar("\r");break;case"t":c=ar("\t");break;case"v":c=ar("\v")}return Xd(c)?{type:"Character",value:c}:Xv()}controlLetterEscapeAtom(){this.consumeChar("c");let c=this.popChar();if(!1===/[a-zA-Z]/.test(c))throw Error("Invalid ");return{type:"Character",value:c.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:ar("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:ar(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:ar(this.popChar())}}}characterClass(){let c=[],q=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),q=!0);this.isClassAtom();){let q=this.classAtom();q.type;if(VN(q)&&this.isRangeDash()){this.consumeChar("-");let Y=this.classAtom();Y.type;if(VN(Y)){if(Y.value<q.value)throw Error("Range out of order in character class");c.push({from:q.value,to:Y.value})}else _T(q.value,c),c.push(ar("-")),_T(Y.value,c)}else _T(q.value,c)}return this.consumeChar("]"),{type:"Set",complement:q,value:c}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:ar("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let c=!0;if("?"===(this.consumeChar("("),this.peekChar(0)))this.consumeChar("?"),this.consumeChar(":"),c=!1;else this.groupIdx++;let q=this.disjunction();this.consumeChar(")");let Y={type:"Group",capturing:c,value:q};return c&&(Y.idx=this.groupIdx),Y}positiveInteger(){let c=this.popChar();if(!1===W6.test(c))throw Error("Expecting a positive integer");for(;U6.test(this.peekChar(0));)c+=this.popChar();return parseInt(c,10)}integerIncludingZero(){let c=this.popChar();if(!1===U6.test(c))throw Error("Expecting an integer");for(;U6.test(this.peekChar(0));)c+=this.popChar();return parseInt(c,10)}patternCharacter(){let c=this.popChar();switch(c){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:ar(c)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return U6.test(this.peekChar(0))}isClassAtom(c=0){switch(this.peekChar(c)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){let c=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(c)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(c){let q="";for(let Y=0;Y<c;Y++){let c=this.popChar();if(!1===z6.test(c))throw Error("Expecting a HexDecimal digits");q+=c}return{type:"Character",value:parseInt(q,16)}}peekChar(c=0){return this.input[this.idx+c]}popChar(){let c=this.peekChar(0);return this.consumeChar(void 0),c}consumeChar(c){if(void 0!==c&&this.input[this.idx]!==c)throw Error("Expected: '"+c+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(c){return{begin:c,end:this.idx}}}}),e7=M(()=>{V6=class{static{o(this,"BaseRegExpVisitor")}visitChildren(c){for(let q in c){let Y=c[q];c.hasOwnProperty(q)&&(void 0!==Y.type?this.visit(Y):Array.isArray(Y)&&Y.forEach(c=>{this.visit(c)},this))}}visit(c){switch(c.type){case"Pattern":this.visitPattern(c);break;case"Flags":this.visitFlags(c);break;case"Disjunction":this.visitDisjunction(c);break;case"Alternative":this.visitAlternative(c);break;case"StartAnchor":this.visitStartAnchor(c);break;case"EndAnchor":this.visitEndAnchor(c);break;case"WordBoundary":this.visitWordBoundary(c);break;case"NonWordBoundary":this.visitNonWordBoundary(c);break;case"Lookahead":this.visitLookahead(c);break;case"NegativeLookahead":this.visitNegativeLookahead(c);break;case"Character":this.visitCharacter(c);break;case"Set":this.visitSet(c);break;case"Group":this.visitGroup(c);break;case"GroupBackReference":this.visitGroupBackReference(c);break;case"Quantifier":this.visitQuantifier(c)}this.visitChildren(c)}visitPattern(c){}visitFlags(c){}visitDisjunction(c){}visitAlternative(c){}visitStartAnchor(c){}visitEndAnchor(c){}visitWordBoundary(c){}visitNonWordBoundary(c){}visitLookahead(c){}visitNegativeLookahead(c){}visitCharacter(c){}visitSet(c){}visitGroup(c){}visitGroupBackReference(c){}visitQuantifier(c){}}}),t7=M(()=>{Z6(),e7()}),r7={};function TBe(c){try{"string"!=typeof c&&(c=c.source),c=`/${c}/`;let q=i7.pattern(c),Y=[];for(let V of q.value.value)s7.reset(c),s7.visit(V),Y.push({start:s7.startRegexp,end:s7.endRegex});return Y}catch{return[]}}function qN(c){try{return"string"==typeof c&&(c=new RegExp(c)),c=c.toString(),s7.reset(c),s7.visit(i7.pattern(c)),s7.multiline}catch{return!1}}function DT(c){return("string"==typeof c?new RegExp(c):c).test(" ")}function Qd(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function XN(c){return Array.prototype.map.call(c,c=>/\w/.test(c)?`[${c.toLowerCase()}${c.toUpperCase()}]`:Qd(c)).join("")}function jN(c,q){let Y=Wae(c),V=q.match(Y);return!!V&&V[0].length>0}function Wae(c){"string"==typeof c&&(c=new RegExp(c));let q=c,Y=c.source,V=0;function i(){let c,Z="";function l(c){Z+=Y.substr(V,c),V+=c}function u(c){Z+="(?:"+Y.substr(V,c)+"|$)",V+=c}for(o(l,"appendRaw"),o(u,"appendOptional");V<Y.length;)switch(Y[V]){case"\\":switch(Y[V+1]){case"c":u(3);break;case"x":u(4);break;case"u":q.unicode?"{"===Y[V+2]?u(Y.indexOf("}",V)-V+1):u(6):u(2);break;case"p":case"P":q.unicode?u(Y.indexOf("}",V)-V+1):u(2);break;case"k":u(Y.indexOf(">",V)-V+1);break;default:u(2)}break;case"[":c=/\[(?:\\.|.)*?\]/g,c.lastIndex=V,c=c.exec(Y)||[],u(c[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":l(1);break;case"{":c=/\{\d+,?\d*\}/g,c.lastIndex=V,c=c.exec(Y),c?l(c[0].length):u(1);break;case"(":if("?"===Y[V+1])switch(Y[V+2]){case":":Z+="(?:",V+=3,Z+=i()+"|$)";break;case"=":Z+="(?=",V+=3,Z+=i()+")";break;case"!":c=V,V+=3,i(),Z+=Y.substr(c,V-c);break;case"<":switch(Y[V+3]){case"=":case"!":c=V,V+=4,i(),Z+=Y.substr(c,V-c);break;default:l(Y.indexOf(">",V)-V+1),Z+=i()+"|$)"}}else l(1),Z+=i()+"|$)";break;case")":return++V,Z;default:u(1)}return Z}return o(i,"process"),new RegExp(i(),c.flags)}vr(r7,{NEWLINE_REGEXP:()=>n7,escapeRegExp:()=>Qd,getCaseInsensitivePattern:()=>XN,getTerminalParts:()=>TBe,isMultilineComment:()=>qN,isWhitespace:()=>DT,partialMatches:()=>jN,partialRegExp:()=>Wae});var n7,i7,a7,s7,o7=M(()=>{t7(),n7=/\r?\n/gm,i7=new H6,a7=class extends V6{static{o(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(c){this.multiline=!1,this.regex=c,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(c){c.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(c){let q=String.fromCharCode(c.value);if(!this.multiline&&"\n"===q&&(this.multiline=!0),c.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let c=Qd(q);this.endRegexpStack.push(c),this.isStarting&&(this.startRegexp+=c)}}visitSet(c){if(!this.multiline){let q=this.regex.substring(c.loc.begin,c.loc.end),Y=new RegExp(q);this.multiline=!!"\n".match(Y)}if(c.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let q=this.regex.substring(c.loc.begin,c.loc.end);this.endRegexpStack.push(q),this.isStarting&&(this.startRegexp+=q)}}visitChildren(c){"Group"===c.type&&c.quantifier||super.visitChildren(c)}},s7=new a7,o(TBe,"getTerminalParts"),o(qN,"isMultilineComment"),o(DT,"isWhitespace"),o(Qd,"escapeRegExp"),o(XN,"getCaseInsensitivePattern"),o(jN,"partialMatches"),o(Wae,"partialRegExp")}),l7={};function Yae(c){return c.rules.find(c=>Ma(c)&&c.entry)}function qae(c){return c.rules.filter(c=>qo(c)&&c.hidden)}function Zv(c,q){let Y=new Set,V=Yae(c);if(!V)return new Set(c.rules);let Z=[V].concat(qae(c));for(let c of Z)Xae(c,Y,q);let re=new Set;for(let q of c.rules)(Y.has(q.name)||qo(q)&&q.hidden)&&re.add(q);return re}function Xae(c,q,Y){q.add(c.name),_c(c).forEach(c=>{if(Ol(c)||Y&&ET(c)){let V=c.rule.ref;V&&!q.has(V.name)&&Xae(V,q,Y)}})}function ZN(c){if(c.terminal)return c.terminal;if(c.type.ref){let q=RT(c.type.ref);return q?.terminal}}function JN(c){return c.hidden&&!Ym(c).test(" ")}function eR(c,q){return c&&q?tR(c,q,c.astNode,!0):[]}function Jv(c,q,Y){if(!c||!q)return;let V=tR(c,q,c.astNode,!0);return 0!==V.length?V[Y=void 0!==Y?Math.max(0,Math.min(Y,V.length-1)):0]:void 0}function tR(c,q,Y,V){if(!V){let Y=qd(c.grammarSource,Il);if(Y&&Y.feature===q)return[c]}return io(c)&&c.astNode===Y?c.content.flatMap(c=>tR(c,q,Y,!1)):[]}function kBe(c,q){return c?nR(c,q,c?.astNode):[]}function rR(c,q,Y){if(!c)return;let V=nR(c,q,c?.astNode);return 0!==V.length?V[Y=void 0!==Y?Math.max(0,Math.min(Y,V.length-1)):0]:void 0}function nR(c,q,Y){if(c.astNode!==Y)return[];if(Xo(c.grammarSource)&&c.grammarSource.value===q)return[c];let V,Z=Ud(c).iterator(),re=[];do{if(V=Z.next(),!V.done){let c=V.value;c.astNode===Y?Xo(c.grammarSource)&&c.grammarSource.value===q&&re.push(c):Z.prune()}}while(!V.done);return re}function iR(c){var q;let Y=c.astNode;for(;Y===(null===(q=c.container)||void 0===q?void 0:q.astNode);){let q=qd(c.grammarSource,Il);if(q)return q;c=c.container}}function RT(c){let q=c;return bT(q)&&(Ru(q.$container)?q=q.$container.$container:Ma(q.$container)?q=q.$container:ef(q.$container)),jae(c,q,new Map)}function jae(c,q,Y){var V;function i(q,V){let Z;return qd(q,Il)||(Z=jae(V,V,Y)),Y.set(c,Z),Z}if(o(i,"go"),Y.has(c))return Y.get(c);Y.set(c,void 0);for(let Z of _c(q)){if(Il(Z)&&"name"===Z.feature.toLowerCase())return Y.set(c,Z),Z;if(Ol(Z)&&Ma(Z.rule.ref))return i(Z,Z.rule.ref);if(TT(Z)&&null!==(V=Z.typeRef)&&void 0!==V&&V.ref)return i(Z,Z.typeRef.ref)}}function Kae(c){let q=c.$container;if(tf(q)){let Y=q.elements;for(let q=Y.indexOf(c)-1;q>=0;q--){let c=Y[q];if(Ru(c))return c;{let c=_c(Y[q]).find(Ru);if(c)return c}}}if(Hv(q))return Kae(q)}function EBe(c,q){return"?"===c||"*"===c||tf(q)&&!!q.guardCondition}function SBe(c){return"*"===c||"+"===c}function CBe(c){return"+="===c}function e2(c){return Qae(c,new Set)}function Qae(c,q){if(q.has(c))return!0;q.add(c);for(let Y of _c(c))if(Ol(Y)){if(!Y.rule.ref||Ma(Y.rule.ref)&&!Qae(Y.rule.ref,q))return!1}else{if(Il(Y))return!1;if(Ru(Y))return!1}return!!c.definition}function ABe(c){return QN(c.type,new Set)}function QN(c,q){if(q.has(c))return!0;if(q.add(c),UD(c))return!1;if(oN(c))return!1;if(dN(c))return c.types.every(c=>QN(c,q));if(TT(c)){if(void 0!==c.primitiveType)return!0;if(void 0!==c.stringType)return!0;if(void 0!==c.typeRef){let Y=c.typeRef.ref;return!!Wv(Y)&&QN(Y.type,q)}return!1}return!1}function aR(c){if(c.inferredType)return c.inferredType.name;if(c.dataType)return c.dataType;if(c.returnType){let q=c.returnType.ref;if(q){if(Ma(q))return q.name;if(wT(q)||Wv(q))return q.name}}}function Zd(c){var q;if(Ma(c))return e2(c)?c.name:null!==(q=aR(c))&&void 0!==q?q:c.name;if(wT(c)||Wv(c)||lN(c))return c.name;if(Ru(c)){let q=Zae(c);if(q)return q}else if(bT(c))return c.name;throw new Error("Cannot get name of Unknown Type")}function Zae(c){var q;return c.inferredType?c.inferredType.name:null!==(q=c.type)&&void 0!==q&&q.ref?Zd(c.type.ref):void 0}function sR(c){var q,Y,V;return qo(c)?null!==(Y=null===(q=c.type)||void 0===q?void 0:q.name)&&void 0!==Y?Y:"string":e2(c)?c.name:null!==(V=aR(c))&&void 0!==V?V:c.name}function Ym(c){let q={s:!1,i:!1,u:!1},Y=qm(c.definition,q),V=Object.entries(q).filter(([,c])=>c).map(([c])=>c).join("");return new RegExp(Y,V)}function qm(c,q){if(DN(c))return _Be(c);if(RN(c))return LBe(c);if(vN(c))return RBe(c);if(ET(c)){let q=c.rule.ref;if(!q)throw new Error("Missing rule reference.");return Mu(qm(q.definition),{cardinality:c.cardinality,lookahead:c.lookahead})}if(SN(c))return NBe(c);if(PN(c))return DBe(c);if(AN(c)){let Y=c.regex.lastIndexOf("/"),V=c.regex.substring(1,Y),Z=c.regex.substring(Y+1);return q&&(q.i=Z.includes("i"),q.s=Z.includes("s"),q.u=Z.includes("u")),Mu(V,{cardinality:c.cardinality,lookahead:c.lookahead,wrap:!1})}if(FN(c))return Mu(c7,{cardinality:c.cardinality,lookahead:c.lookahead});throw new Error(`Invalid terminal element: ${c?.$type}`)}function _Be(c){return Mu(c.elements.map(c=>qm(c)).join("|"),{cardinality:c.cardinality,lookahead:c.lookahead})}function LBe(c){return Mu(c.elements.map(c=>qm(c)).join(""),{cardinality:c.cardinality,lookahead:c.lookahead})}function DBe(c){return Mu(`${c7}*?${qm(c.terminal)}`,{cardinality:c.cardinality,lookahead:c.lookahead})}function NBe(c){return Mu(`(?!${qm(c.terminal)})${c7}*?`,{cardinality:c.cardinality,lookahead:c.lookahead})}function RBe(c){return c.right?Mu(`[${KN(c.left)}-${KN(c.right)}]`,{cardinality:c.cardinality,lookahead:c.lookahead,wrap:!1}):Mu(KN(c.left),{cardinality:c.cardinality,lookahead:c.lookahead,wrap:!1})}function KN(c){return Qd(c.value)}function Mu(c,q){var Y;return(!1!==q.wrap||q.lookahead)&&(c=`(${null!==(Y=q.lookahead)&&void 0!==Y?Y:""}${c})`),q.cardinality?`${c}${q.cardinality}`:c}vr(l7,{findAssignment:()=>iR,findNameAssignment:()=>RT,findNodeForKeyword:()=>rR,findNodeForProperty:()=>Jv,findNodesForKeyword:()=>kBe,findNodesForKeywordInternal:()=>nR,findNodesForProperty:()=>eR,getActionAtElement:()=>Kae,getActionType:()=>Zae,getAllReachableRules:()=>Zv,getCrossReferenceTerminal:()=>ZN,getEntryRule:()=>Yae,getExplicitRuleType:()=>aR,getHiddenRules:()=>qae,getRuleType:()=>sR,getTypeName:()=>Zd,isArrayCardinality:()=>SBe,isArrayOperator:()=>CBe,isCommentTerminal:()=>JN,isDataType:()=>ABe,isDataTypeRule:()=>e2,isOptionalCardinality:()=>EBe,terminalRegex:()=>Ym});var c7,h7=M(()=>{v3(),N6(),X5(),M6(),f3(),o7(),o(Yae,"getEntryRule"),o(qae,"getHiddenRules"),o(Zv,"getAllReachableRules"),o(Xae,"ruleDfs"),o(ZN,"getCrossReferenceTerminal"),o(JN,"isCommentTerminal"),o(eR,"findNodesForProperty"),o(Jv,"findNodeForProperty"),o(tR,"findNodesForPropertyInternal"),o(kBe,"findNodesForKeyword"),o(rR,"findNodeForKeyword"),o(nR,"findNodesForKeywordInternal"),o(iR,"findAssignment"),o(RT,"findNameAssignment"),o(jae,"findNameAssignmentInternal"),o(Kae,"getActionAtElement"),o(EBe,"isOptionalCardinality"),o(SBe,"isArrayCardinality"),o(CBe,"isArrayOperator"),o(e2,"isDataTypeRule"),o(Qae,"isDataTypeRuleInternal"),o(ABe,"isDataType"),o(QN,"isDataTypeInternal"),o(aR,"getExplicitRuleType"),o(Zd,"getTypeName"),o(Zae,"getActionType"),o(sR,"getRuleType"),o(Ym,"terminalRegex"),c7=/[\s\S]/.source,o(qm,"abstractElementToRegex"),o(_Be,"terminalAlternativesToRegex"),o(LBe,"terminalGroupToRegex"),o(DBe,"untilTokenToRegex"),o(NBe,"negateTokenToRegex"),o(RBe,"characterRangeToRegex"),o(KN,"keywordToRegex"),o(Mu,"withCardinality")});function lR(c){let q=[],Y=c.Grammar;for(let c of Y.rules)qo(c)&&JN(c)&&qN(Ym(c))&&q.push(c.name);return{multilineCommentRules:q,nameRegexp:u3}}var d7=M(()=>{f3(),h7(),o7(),N6(),o(lR,"createGrammarConfig")}),g7=M(()=>{});function Xm(c){console&&console.error&&console.error(`Error: ${c}`)}function t2(c){console&&console.warn&&console.warn(`Warning: ${c}`)}var m7=M(()=>{o(Xm,"PRINT_ERROR"),o(t2,"PRINT_WARNING")});function r2(c){let q=(new Date).getTime(),Y=c();return{time:(new Date).getTime()-q,value:Y}}var x7=M(()=>{o(r2,"timer")});function n2(c){function e(){}o(e,"FakeConstructor"),e.prototype=c;let q=new e;function n(){return typeof q.bar}return o(n,"fakeAccess"),n(),n(),c}var b7=M(()=>{o(n2,"toFastProperties")}),w7=M(()=>{m7(),x7(),b7()});function MBe(c){return IBe(c)?c.LABEL:c.name}function IBe(c){return NZ(c.LABEL)&&""!==c.LABEL}function IT(c){return BQ(c,Km)}function Km(c){function e(c){return BQ(c,Km)}if(o(e,"convertDefinition"),c instanceof T7){let q={type:"NonTerminal",name:c.nonTerminalName,idx:c.idx};return NZ(c.label)&&(q.label=c.label),q}if(c instanceof N7)return{type:"Alternative",definition:e(c.definition)};if(c instanceof M7)return{type:"Option",idx:c.idx,definition:e(c.definition)};if(c instanceof X7)return{type:"RepetitionMandatory",idx:c.idx,definition:e(c.definition)};if(c instanceof K7)return{type:"RepetitionMandatoryWithSeparator",idx:c.idx,separator:Km(new f8({terminalType:c.separator})),definition:e(c.definition)};if(c instanceof h8)return{type:"RepetitionWithSeparator",idx:c.idx,separator:Km(new f8({terminalType:c.separator})),definition:e(c.definition)};if(c instanceof l8)return{type:"Repetition",idx:c.idx,definition:e(c.definition)};if(c instanceof d8)return{type:"Alternation",idx:c.idx,definition:e(c.definition)};if(c instanceof f8){let q={type:"Terminal",name:c.terminalType.name,label:MBe(c.terminalType),idx:c.idx};NZ(c.label)&&(q.terminalLabel=c.label);let Y=c.terminalType.PATTERN;return c.terminalType.PATTERN&&(q.pattern=JZ(Y)?Y.source:Y),q}if(c instanceof C7)return{type:"Rule",name:c.name,orgText:c.orgText,definition:e(c.definition)};throw Error("non exhaustive match")}var k7,T7,C7,N7,M7,X7,K7,l8,h8,d8,f8,y8,x8=M(()=>{a1(),o(MBe,"tokenLabel"),o(IBe,"hasTokenLabel"),k7=class{static{o(this,"AbstractProduction")}get definition(){return this._definition}set definition(c){this._definition=c}constructor(c){this._definition=c}accept(c){c.visit(this),$K(this.definition,q=>{q.accept(c)})}},T7=class extends k7{static{o(this,"NonTerminal")}constructor(c){super([]),this.idx=1,Oq(this,_J(c,c=>void 0!==c))}set definition(c){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(c){c.visit(this)}},C7=class extends k7{static{o(this,"Rule")}constructor(c){super(c.definition),this.orgText="",Oq(this,_J(c,c=>void 0!==c))}},N7=class extends k7{static{o(this,"Alternative")}constructor(c){super(c.definition),this.ignoreAmbiguities=!1,Oq(this,_J(c,c=>void 0!==c))}},M7=class extends k7{static{o(this,"Option")}constructor(c){super(c.definition),this.idx=1,Oq(this,_J(c,c=>void 0!==c))}},X7=class extends k7{static{o(this,"RepetitionMandatory")}constructor(c){super(c.definition),this.idx=1,Oq(this,_J(c,c=>void 0!==c))}},K7=class extends k7{static{o(this,"RepetitionMandatoryWithSeparator")}constructor(c){super(c.definition),this.idx=1,Oq(this,_J(c,c=>void 0!==c))}},l8=class extends k7{static{o(this,"Repetition")}constructor(c){super(c.definition),this.idx=1,Oq(this,_J(c,c=>void 0!==c))}},h8=class extends k7{static{o(this,"RepetitionWithSeparator")}constructor(c){super(c.definition),this.idx=1,Oq(this,_J(c,c=>void 0!==c))}},d8=class extends k7{static{o(this,"Alternation")}get definition(){return this._definition}set definition(c){this._definition=c}constructor(c){super(c.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Oq(this,_J(c,c=>void 0!==c))}},f8=class{static{o(this,"Terminal")}constructor(c){this.idx=1,Oq(this,_J(c,c=>void 0!==c))}accept(c){c.visit(this)}},o(IT,"serializeGrammar"),o(Km,"serializeProduction")}),w8=M(()=>{x8(),y8=class{static{o(this,"GAstVisitor")}visit(c){let q=c;switch(q.constructor){case T7:return this.visitNonTerminal(q);case N7:return this.visitAlternative(q);case M7:return this.visitOption(q);case X7:return this.visitRepetitionMandatory(q);case K7:return this.visitRepetitionMandatoryWithSeparator(q);case h8:return this.visitRepetitionWithSeparator(q);case l8:return this.visitRepetition(q);case d8:return this.visitAlternation(q);case f8:return this.visitTerminal(q);case C7:return this.visitRule(q);default:throw Error("non exhaustive match")}}visitNonTerminal(c){}visitAlternative(c){}visitOption(c){}visitRepetition(c){}visitRepetitionMandatory(c){}visitRepetitionMandatoryWithSeparator(c){}visitRepetitionWithSeparator(c){}visitAlternation(c){}visitTerminal(c){}visitRule(c){}}});function hR(c){return c instanceof N7||c instanceof M7||c instanceof l8||c instanceof X7||c instanceof K7||c instanceof h8||c instanceof f8||c instanceof C7}function Jd(c,q=[]){return c instanceof M7||c instanceof l8||c instanceof h8||(c instanceof d8?M0(c.definition,c=>Jd(c,q)):!(c instanceof T7&&FZ(q,c))&&(c instanceof k7&&(c instanceof T7&&q.push(c),JK(c.definition,c=>Jd(c,q)))))}function fR(c){return c instanceof d8}function Ms(c){if(c instanceof T7)return"SUBRULE";if(c instanceof M7)return"OPTION";if(c instanceof d8)return"OR";if(c instanceof X7)return"AT_LEAST_ONE";if(c instanceof K7)return"AT_LEAST_ONE_SEP";if(c instanceof h8)return"MANY_SEP";if(c instanceof l8)return"MANY";if(c instanceof f8)return"CONSUME";throw Error("non exhaustive match")}var T8=M(()=>{a1(),x8(),o(hR,"isSequenceProd"),o(Jd,"isOptionalProd"),o(fR,"isBranchingProd"),o(Ms,"getProductionDslName")}),C8=M(()=>{x8(),w8(),T8()});function ise(c,q,Y){return[new M7({definition:[new f8({terminalType:c.separator})].concat(c.definition)})].concat(q,Y)}var S8,A8=M(()=>{a1(),C8(),S8=class{static{o(this,"RestWalker")}walk(c,q=[]){$K(c.definition,(Y,V)=>{let Z=AK(c.definition,V+1);if(Y instanceof T7)this.walkProdRef(Y,Z,q);else if(Y instanceof f8)this.walkTerminal(Y,Z,q);else if(Y instanceof N7)this.walkFlat(Y,Z,q);else if(Y instanceof M7)this.walkOption(Y,Z,q);else if(Y instanceof X7)this.walkAtLeastOne(Y,Z,q);else if(Y instanceof K7)this.walkAtLeastOneSep(Y,Z,q);else if(Y instanceof h8)this.walkManySep(Y,Z,q);else if(Y instanceof l8)this.walkMany(Y,Z,q);else{if(!(Y instanceof d8))throw Error("non exhaustive match");this.walkOr(Y,Z,q)}})}walkTerminal(c,q,Y){}walkProdRef(c,q,Y){}walkFlat(c,q,Y){let V=q.concat(Y);this.walk(c,V)}walkOption(c,q,Y){let V=q.concat(Y);this.walk(c,V)}walkAtLeastOne(c,q,Y){let V=[new M7({definition:c.definition})].concat(q,Y);this.walk(c,V)}walkAtLeastOneSep(c,q,Y){let V=ise(c,q,Y);this.walk(c,V)}walkMany(c,q,Y){let V=[new M7({definition:c.definition})].concat(q,Y);this.walk(c,V)}walkManySep(c,q,Y){let V=ise(c,q,Y);this.walk(c,V)}walkOr(c,q,Y){let V=q.concat(Y);$K(c.definition,c=>{let q=new N7({definition:[c]});this.walk(q,V)})}},o(ise,"restForRepetitionWithSeparator")});function e0(c){if(c instanceof T7)return e0(c.referencedRule);if(c instanceof f8)return BBe(c);if(hR(c))return OBe(c);if(fR(c))return PBe(c);throw Error("non exhaustive match")}function OBe(c){let q,Y=[],V=c.definition,Z=0,re=V.length>Z,ae=!0;for(;re&&ae;)q=V[Z],ae=Jd(q),Y=Y.concat(e0(q)),Z+=1,re=V.length>Z;return H0(Y)}function PBe(c){let q=BQ(c.definition,c=>e0(c));return H0(bj(q))}function BBe(c){return[c.terminalType]}var N8,I8=M(()=>{a1(),C8(),o(e0,"first"),o(OBe,"firstForSequence"),o(PBe,"firstForBranching"),o(BBe,"firstForTerminal")}),O8=M(()=>{N8="_~IN~_"});function ase(c){let q={};return $K(c,c=>{let Y=new P8(c).startWalking();Oq(q,Y)}),q}function FBe(c,q){return c.name+q+N8}var P8,B8=M(()=>{A8(),I8(),a1(),O8(),C8(),P8=class extends S8{static{o(this,"ResyncFollowsWalker")}constructor(c){super(),this.topProd=c,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(c,q,Y){}walkProdRef(c,q,Y){let V=FBe(c.referencedRule,c.idx)+this.topProd.name,Z=q.concat(Y),re=e0(new N7({definition:Z}));this.follows[V]=re}},o(ase,"computeAllProdsFollows"),o(FBe,"buildBetweenProdsFollowPrefix")});function Qm(c){let q=c.toString();if(F8.hasOwnProperty(q))return F8[q];{let c=$8.pattern(q);return F8[q]=c,c}}function ose(){F8={}}var F8,$8,z8=M(()=>{t7(),F8={},$8=new H6,o(Qm,"getRegExpAst"),o(ose,"clearRegExpParserCache")});function use(c,q=!1){try{let q=Qm(c);return gR(q.value,{},q.flags.ignoreCase)}catch(Y){if(Y.message===G8)q&&t2(`${U8}\tUnable to optimize: < ${c.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let Y="";q&&(Y="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Xm(`${U8}\n\tFailed parsing: < ${c.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+Y)}}return[]}function gR(c,q,Y){switch(c.type){case"Disjunction":for(let V=0;V<c.value.length;V++)gR(c.value[V],q,Y);break;case"Alternative":let V=c.value;for(let c=0;c<V.length;c++){let Z=V[c];switch(Z.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let re=Z;switch(re.type){case"Character":GT(re.value,q,Y);break;case"Set":if(!0===re.complement)throw Error(G8);$K(re.value,c=>{if("number"==typeof c)GT(c,q,Y);else{let V=c;if(!0===Y)for(let c=V.from;c<=V.to;c++)GT(c,q,Y);else{for(let c=V.from;c<=V.to&&c<n9;c++)GT(c,q,Y);if(V.to>=n9){let c=V.from>=n9?V.from:n9,Y=V.to,Z=Dc(c),re=Dc(Y);for(let c=Z;c<=re;c++)q[c]=c}}}});break;case"Group":gR(re.value,q,Y);break;default:throw Error("Non Exhaustive Match")}let ae=void 0!==re.quantifier&&0===re.quantifier.atLeast;if("Group"===re.type&&!1===yR(re)||"Group"!==re.type&&!1===ae)break}break;default:throw Error("non exhaustive match!")}return DZ(q)}function GT(c,q,Y){let V=Dc(c);q[V]=V,!0===Y&&GBe(c,q)}function GBe(c,q){let Y=String.fromCharCode(c),V=Y.toUpperCase();if(V!==Y){let c=Dc(V.charCodeAt(0));q[c]=c}else{let c=Y.toLowerCase();if(c!==Y){let Y=Dc(c.charCodeAt(0));q[Y]=Y}}}function lse(c,q){return wQ(c.value,c=>{if("number"==typeof c)return FZ(q,c);{let Y=c;return void 0!==wQ(q,c=>Y.from<=c&&c<=Y.to)}})}function yR(c){let q=c.quantifier;return!(!q||0!==q.atLeast)||!!c.value&&(pL(c.value)?JK(c.value,yR):yR(c.value))}function $T(c,q){if(q instanceof RegExp){let Y=Qm(q),V=new W8(c);return V.visit(Y),V.found}return void 0!==wQ(q,q=>FZ(c,q.charCodeAt(0)))}var G8,U8,W8,H8=M(()=>{t7(),a1(),w7(),z8(),s9(),G8="Complement Sets are not supported for first char optimization",U8='Unable to use "first char" lexer optimizations:\n',o(use,"getOptimizedStartCodesIndices"),o(gR,"firstCharOptimizedIndices"),o(GT,"addOptimizedIdxToResult"),o(GBe,"handleIgnoreCase"),o(lse,"findCode"),o(yR,"isWholeOptional"),W8=class extends V6{static{o(this,"CharCodeFinder")}constructor(c){super(),this.targetCharCodes=c,this.found=!1}visitChildren(c){if(!0!==this.found){switch(c.type){case"Lookahead":return void this.visitLookahead(c);case"NegativeLookahead":return void this.visitNegativeLookahead(c)}super.visitChildren(c)}}visitCharacter(c){FZ(this.targetCharCodes,c.value)&&(this.found=!0)}visitSet(c){c.complement?void 0===lse(c,this.targetCharCodes)&&(this.found=!0):void 0!==lse(c,this.targetCharCodes)&&(this.found=!0)}},o($T,"canMatchCharCode")});function pse(c,q){let Y,V=(q=JX(q,{useSticky:J8,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:o((c,q)=>q(),"tracer")})).tracer;V("initCharCodeToOptimizedIndexMap",()=>{iFe()}),V("Reject Lexer.NA",()=>{Y=_0(c,c=>c[V8]===p9.NA)});let Z,re,ae,se,oe,he,de,pe,ge,me,ve,be=!1;V("Transform Patterns",()=>{be=!1,Z=BQ(Y,c=>{let Y=c[V8];if(JZ(Y)){let c=Y.source;return 1!==c.length||"^"===c||"$"===c||"."===c||Y.ignoreCase?2!==c.length||"\\"!==c[0]||FZ(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],c[1])?q.useSticky?dse(Y):fse(Y):c[1]:c}if(bE(Y))return be=!0,{exec:Y};if("object"==typeof Y)return be=!0,Y;if("string"==typeof Y){if(1===Y.length)return Y;{let c=Y.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),V=new RegExp(c);return q.useSticky?dse(V):fse(V)}}throw Error("non exhaustive match")})}),V("misc mapping",()=>{re=BQ(Y,c=>c.tokenTypeIdx),ae=BQ(Y,c=>{let q=c.GROUP;if(q!==p9.SKIPPED){if(NZ(q))return q;if(rJ(q))return!1;throw Error("non exhaustive match")}}),se=BQ(Y,c=>{let q=c.LONGER_ALT;if(q)return pL(q)?BQ(q,c=>GZ(Y,c)):[GZ(Y,q)]}),oe=BQ(Y,c=>c.PUSH_MODE),he=BQ(Y,c=>EZ(c,"POP_MODE"))}),V("Line Terminator Handling",()=>{let c=Tse(q.lineTerminatorCharacters);de=BQ(Y,c=>!1),"onlyOffset"!==q.positionTracking&&(de=BQ(Y,q=>EZ(q,"LINE_BREAKS")?!!q.LINE_BREAKS:!1===wse(q,c)&&$T(c,q.PATTERN)))}),V("Misc Mapping #2",()=>{pe=BQ(Y,xse),ge=BQ(Z,rFe),me=k0(Y,(c,q)=>{let Y=q.GROUP;return NZ(Y)&&Y!==p9.SKIPPED&&(c[Y]=[]),c},{}),ve=BQ(Z,(c,q)=>({pattern:Z[q],longerAlt:se[q],canLineTerminator:de[q],isCustom:pe[q],short:ge[q],group:ae[q],push:oe[q],pop:he[q],tokenTypeIdx:re[q],tokenType:Y[q]}))});let we=!0,Te=[];return q.safeMode||V("First Char Optimization",()=>{Te=k0(Y,(c,Y,V)=>{if("string"==typeof Y.PATTERN){let q=Dc(Y.PATTERN.charCodeAt(0));bR(c,q,ve[V])}else if(pL(Y.START_CHARS_HINT)){let q;$K(Y.START_CHARS_HINT,Y=>{let Z=Dc("string"==typeof Y?Y.charCodeAt(0):Y);q!==Z&&(q=Z,bR(c,Z,ve[V]))})}else if(JZ(Y.PATTERN))if(Y.PATTERN.unicode)we=!1,q.ensureOptimizations&&Xm(`${U8}\tUnable to analyze < ${Y.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let Z=use(Y.PATTERN,q.ensureOptimizations);HZ(Z)&&(we=!1),$K(Z,q=>{bR(c,q,ve[V])})}else q.ensureOptimizations&&Xm(`${U8}\tTokenType: <${Y.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),we=!1;return c},[])}),{emptyGroups:me,patternIdxToConfig:ve,charCodeToPatternIdxToConfig:Te,hasCustom:be,canBeOptimized:we}}function mse(c,q){let Y=[],V=VBe(c);Y=Y.concat(V.errors);let Z=UBe(V.valid),re=Z.valid;return Y=Y.concat(Z.errors),Y=Y.concat($Be(re)),Y=Y.concat(QBe(re)),Y=Y.concat(ZBe(re,q)),Y=Y.concat(JBe(re)),Y}function $Be(c){let q=[],Y=oQ(c,c=>JZ(c[V8]));return q=q.concat(WBe(Y)),q=q.concat(XBe(Y)),q=q.concat(jBe(Y)),q=q.concat(KBe(Y)),q=q.concat(YBe(Y)),q}function VBe(c){let q=oQ(c,c=>!EZ(c,V8));return{errors:BQ(q,c=>({message:"Token Type: ->"+c.name+"<- missing static 'PATTERN' property",type:h9.MISSING_PATTERN,tokenTypes:[c]})),valid:yK(c,q)}}function UBe(c){let q=oQ(c,c=>{let q=c[V8];return!(JZ(q)||bE(q)||EZ(q,"exec")||NZ(q))});return{errors:BQ(q,c=>({message:"Token Type: ->"+c.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:h9.INVALID_PATTERN,tokenTypes:[c]})),valid:yK(c,q)}}function WBe(c){class e extends V6{static{o(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(c){this.found=!0}}let q=oQ(c,c=>{let q=c.PATTERN;try{let c=Qm(q),Y=new e;return Y.visit(c),Y.found}catch{return e9.test(q.source)}});return BQ(q,c=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+c.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:h9.EOI_ANCHOR_FOUND,tokenTypes:[c]}))}function YBe(c){let q=oQ(c,c=>c.PATTERN.test(""));return BQ(q,c=>({message:"Token Type: ->"+c.name+"<- static 'PATTERN' must not match an empty string",type:h9.EMPTY_MATCH_PATTERN,tokenTypes:[c]}))}function XBe(c){class e extends V6{static{o(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(c){this.found=!0}}let q=oQ(c,c=>{let q=c.PATTERN;try{let c=Qm(q),Y=new e;return Y.visit(c),Y.found}catch{return t9.test(q.source)}});return BQ(q,c=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+c.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:h9.SOI_ANCHOR_FOUND,tokenTypes:[c]}))}function jBe(c){let q=oQ(c,c=>{let q=c[V8];return q instanceof RegExp&&(q.multiline||q.global)});return BQ(q,c=>({message:"Token Type: ->"+c.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:h9.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[c]}))}function KBe(c){let q=[],Y=BQ(c,Y=>k0(c,(c,V)=>(Y.PATTERN.source===V.PATTERN.source&&!FZ(q,V)&&V.PATTERN!==p9.NA&&(q.push(V),c.push(V)),c),[]));Y=UH(Y);let V=oQ(Y,c=>c.length>1);return BQ(V,c=>{let q=BQ(c,c=>c.name);return{message:`The same RegExp pattern ->${AQ(c).PATTERN}<-has been used in all of the following Token Types: ${q.join(", ")} <-`,type:h9.DUPLICATE_PATTERNS_FOUND,tokenTypes:c}})}function QBe(c){let q=oQ(c,c=>{if(!EZ(c,"GROUP"))return!1;let q=c.GROUP;return q!==p9.SKIPPED&&q!==p9.NA&&!NZ(q)});return BQ(q,c=>({message:"Token Type: ->"+c.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:h9.INVALID_GROUP_TYPE_FOUND,tokenTypes:[c]}))}function ZBe(c,q){let Y=oQ(c,c=>void 0!==c.PUSH_MODE&&!FZ(q,c.PUSH_MODE));return BQ(Y,c=>({message:`Token Type: ->${c.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${c.PUSH_MODE}<-which does not exist`,type:h9.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[c]}))}function JBe(c){let q=[],Y=k0(c,(c,q,Y)=>{let V=q.PATTERN;return V===p9.NA||(NZ(V)?c.push({str:V,idx:Y,tokenType:q}):JZ(V)&&tFe(V)&&c.push({str:V.source,idx:Y,tokenType:q})),c},[]);return $K(c,(c,V)=>{$K(Y,({str:Y,idx:Z,tokenType:re})=>{if(V<Z&&eFe(Y,c.PATTERN)){let Y=`Token: ->${re.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${c.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;q.push({message:Y,type:h9.UNREACHABLE_PATTERN,tokenTypes:[c,re]})}})}),q}function eFe(c,q){if(JZ(q)){let Y=q.exec(c);return null!==Y&&0===Y.index}if(bE(q))return q(c,0,[],{});if(EZ(q,"exec"))return q.exec(c,0,[],{});if("string"==typeof q)return q===c;throw Error("non exhaustive match")}function tFe(c){return void 0===wQ([".","\\","[","]","|","^","$","(",")","?","*","+","{"],q=>-1!==c.source.indexOf(q))}function fse(c){let q=c.ignoreCase?"i":"";return new RegExp(`^(?:${c.source})`,q)}function dse(c){let q=c.ignoreCase?"iy":"y";return new RegExp(`${c.source}`,q)}function gse(c,q,Y){let V=[];return EZ(c,K8)||V.push({message:"A MultiMode Lexer cannot be initialized without a <"+K8+"> property in its definition\n",type:h9.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),EZ(c,Z8)||V.push({message:"A MultiMode Lexer cannot be initialized without a <"+Z8+"> property in its definition\n",type:h9.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),EZ(c,Z8)&&EZ(c,K8)&&!EZ(c.modes,c.defaultMode)&&V.push({message:`A MultiMode Lexer cannot be initialized with a ${K8}: <${c.defaultMode}>which does not exist\n`,type:h9.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),EZ(c,Z8)&&$K(c.modes,(c,q)=>{$K(c,(Y,Z)=>{if(rJ(Y))V.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${q}> at index: <${Z}>\n`,type:h9.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(EZ(Y,"LONGER_ALT")){let Z=pL(Y.LONGER_ALT)?Y.LONGER_ALT:[Y.LONGER_ALT];$K(Z,Z=>{!rJ(Z)&&!FZ(c,Z)&&V.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${Z.name}> on token <${Y.name}> outside of mode <${q}>\n`,type:h9.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),V}function yse(c,q,Y){let V=[],Z=!1,re=UH(bj(DZ(c.modes))),ae=_0(re,c=>c[V8]===p9.NA),se=Tse(Y);return q&&$K(ae,c=>{let q=wse(c,se);if(!1!==q){let Y={message:nFe(c,q),type:q.issue,tokenType:c};V.push(Y)}else EZ(c,"LINE_BREAKS")?!0===c.LINE_BREAKS&&(Z=!0):$T(se,c.PATTERN)&&(Z=!0)}),q&&!Z&&V.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:h9.NO_LINE_BREAKS_FLAGS}),V}function vse(c){let q={},Y=Iq(c);return $K(Y,Y=>{let V=c[Y];if(!pL(V))throw Error("non exhaustive match");q[Y]=[]}),q}function xse(c){let q=c.PATTERN;if(JZ(q))return!1;if(bE(q))return!0;if(EZ(q,"exec"))return!0;if(NZ(q))return!1;throw Error("non exhaustive match")}function rFe(c){return!(!NZ(c)||1!==c.length)&&c.charCodeAt(0)}function wse(c,q){if(EZ(c,"LINE_BREAKS"))return!1;if(JZ(c.PATTERN)){try{$T(q,c.PATTERN)}catch(c){return{issue:h9.IDENTIFY_TERMINATOR,errMsg:c.message}}return!1}if(NZ(c.PATTERN))return!1;if(xse(c))return{issue:h9.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function nFe(c,q){if(q.issue===h9.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${c.name}> Token Type\n\t Root cause: ${q.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(q.issue===h9.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${c.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Tse(c){return BQ(c,c=>NZ(c)?c.charCodeAt(0):c)}function bR(c,q,Y){void 0===c[q]?c[q]=[Y]:c[q].push(Y)}function Dc(c){return c<n9?c:a9[c]}function iFe(){if(HZ(a9)){a9=new Array(65536);for(let c=0;c<65536;c++)a9[c]=c>255?255+~~(c/255):c}}var V8,K8,Z8,J8,e9,t9,r9,n9,a9,s9=M(()=>{t7(),b9(),a1(),w7(),H8(),z8(),V8="PATTERN",K8="defaultMode",Z8="modes",J8="boolean"==typeof new RegExp("(?:)").sticky,o(pse,"analyzeTokenTypes"),o(mse,"validatePatterns"),o($Be,"validateRegExpPattern"),o(VBe,"findMissingPatterns"),o(UBe,"findInvalidPatterns"),e9=/[^\\][$]/,o(WBe,"findEndOfInputAnchor"),o(YBe,"findEmptyMatchRegExps"),t9=/[^\\[][\^]|^\^/,o(XBe,"findStartOfInputAnchor"),o(jBe,"findUnsupportedFlags"),o(KBe,"findDuplicatePatterns"),o(QBe,"findInvalidGroupType"),o(ZBe,"findModesThatDoNotExist"),o(JBe,"findUnreachablePatterns"),o(eFe,"testTokenType"),o(tFe,"noMetaChar"),o(fse,"addStartOfInput"),o(dse,"addStickyFlag"),o(gse,"performRuntimeChecks"),o(yse,"performWarningRuntimeChecks"),o(vse,"cloneEmptyGroups"),o(xse,"isCustomPattern"),o(rFe,"isShortPattern"),r9={test:o(function(c){let q=c.length;for(let Y=this.lastIndex;Y<q;Y++){let q=c.charCodeAt(Y);if(10===q)return this.lastIndex=Y+1,!0;if(13===q)return 10===c.charCodeAt(Y+1)?this.lastIndex=Y+2:this.lastIndex=Y+1,!0}return!1},"test"),lastIndex:0},o(wse,"checkLineBreaksIssues"),o(nFe,"buildLineBreakIssueMessage"),o(Tse,"getCharCodes"),o(bR,"addToMapOfArrays"),n9=256,a9=[],o(Dc,"charCodeToOptimizedIndex"),o(iFe,"initCharCodeToOptimizedIndexMap")});function Ou(c,q){let Y=c.tokenTypeIdx;return Y===q.tokenTypeIdx||!0===q.isParent&&!0===q.categoryMatchesMap[Y]}function eg(c,q){return c.tokenTypeIdx===q.tokenTypeIdx}function Pu(c){let q=aFe(c);sFe(q),lFe(q),oFe(q),$K(q,c=>{c.isParent=c.categoryMatches.length>0})}function aFe(c){let q=PH(c),Y=c,V=!0;for(;V;){Y=UH(bj(BQ(Y,c=>c.CATEGORIES)));let c=yK(Y,q);q=q.concat(c),HZ(c)?V=!1:Y=c}return q}function sFe(c){$K(c,c=>{TR(c)||(l9[o9]=c,c.tokenTypeIdx=o9++),Ese(c)&&!pL(c.CATEGORIES)&&(c.CATEGORIES=[c.CATEGORIES]),Ese(c)||(c.CATEGORIES=[]),cFe(c)||(c.categoryMatches=[]),uFe(c)||(c.categoryMatchesMap={})})}function oFe(c){$K(c,c=>{c.categoryMatches=[],$K(c.categoryMatchesMap,(q,Y)=>{c.categoryMatches.push(l9[Y].tokenTypeIdx)})})}function lFe(c){$K(c,c=>{Cse([],c)})}function Cse(c,q){$K(c,c=>{q.categoryMatchesMap[c.tokenTypeIdx]=!0}),$K(q.CATEGORIES,Y=>{let V=c.concat(q);FZ(V,Y)||Cse(V,Y)})}function TR(c){return EZ(c,"tokenTypeIdx")}function Ese(c){return EZ(c,"CATEGORIES")}function cFe(c){return EZ(c,"categoryMatches")}function uFe(c){return EZ(c,"categoryMatchesMap")}function Ase(c){return EZ(c,"tokenTypeIdx")}var o9,l9,c9,h9,d9,p9,f9=M(()=>{a1(),o(Ou,"tokenStructuredMatcher"),o(eg,"tokenStructuredMatcherNoCategories"),o9=1,l9={},o(Pu,"augmentTokenTypes"),o(aFe,"expandCategories"),o(sFe,"assignTokenDefaultProps"),o(oFe,"assignCategoriesTokensProp"),o(lFe,"assignCategoriesMapProp"),o(Cse,"singleAssignCategoriesToksMap"),o(TR,"hasShortKeyProperty"),o(Ese,"hasCategoriesProperty"),o(cFe,"hasExtendingTokensTypesProperty"),o(uFe,"hasExtendingTokensTypesMapProperty"),o(Ase,"isTokenType")}),m9=M(()=>{c9={buildUnableToPopLexerModeMessage:c=>`Unable to pop Lexer Mode after encountering Token ->${c.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(c,q,Y,V,Z)=>`unexpected character: ->${c.charAt(q)}<- at offset: ${q}, skipped ${Y} characters.`}}),b9=M(()=>{var c;s9(),a1(),w7(),f9(),m9(),z8(),(c=h9||(h9={}))[c.MISSING_PATTERN=0]="MISSING_PATTERN",c[c.INVALID_PATTERN=1]="INVALID_PATTERN",c[c.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",c[c.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",c[c.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",c[c.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",c[c.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",c[c.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",c[c.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",c[c.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",c[c.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",c[c.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",c[c.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",c[c.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",c[c.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",c[c.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",c[c.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",c[c.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE",d9={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:c9,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0},Object.freeze(d9),(p9=class{static{o(this,"Lexer")}constructor(c,q=d9){if(this.lexerDefinition=c,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(c,q)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;let Y=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${Y}--\x3e <${c}>`);let{time:V,value:Z}=r2(q),re=V>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&re(`${Y}<-- <${c}> time: ${V}ms`),this.traceInitIndent--,Z}return q()},"boolean"==typeof q)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Oq({},d9,q);let Y=this.config.traceInitPerf;!0===Y?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof Y&&(this.traceInitMaxIdent=Y,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let Y,V=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===d9.lineTerminatorsPattern)this.config.lineTerminatorsPattern=r9;else if(this.config.lineTerminatorCharacters===d9.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(q.safeMode&&q.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),pL(c)?Y={modes:{defaultMode:PH(c)},defaultMode:K8}:(V=!1,Y=PH(c))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(gse(Y,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(yse(Y,this.trackStartLines,this.config.lineTerminatorCharacters))})),Y.modes=Y.modes?Y.modes:{},$K(Y.modes,(c,q)=>{Y.modes[q]=_0(c,c=>rJ(c))});let Z=Iq(Y.modes);if($K(Y.modes,(c,Y)=>{this.TRACE_INIT(`Mode: <${Y}> processing`,()=>{if(this.modes.push(Y),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(mse(c,Z))}),HZ(this.lexerDefinitionErrors)){let V;Pu(c),this.TRACE_INIT("analyzeTokenTypes",()=>{V=pse(c,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:q.positionTracking,ensureOptimizations:q.ensureOptimizations,safeMode:q.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[Y]=V.patternIdxToConfig,this.charCodeToPatternIdxToConfig[Y]=V.charCodeToPatternIdxToConfig,this.emptyGroups=Oq({},this.emptyGroups,V.emptyGroups),this.hasCustom=V.hasCustom||this.hasCustom,this.canModeBeOptimized[Y]=V.canBeOptimized}})}),this.defaultMode=Y.defaultMode,!HZ(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let c=BQ(this.lexerDefinitionErrors,c=>c.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}$K(this.lexerDefinitionWarning,c=>{t2(c.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(J8?(this.chopInput=hI,this.match=this.matchWithTest):(this.updateLastIndex=hq,this.match=this.matchWithExec),V&&(this.handleModes=hq),!1===this.trackStartLines&&(this.computeNewColumn=hI),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=hq),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let c=k0(this.canModeBeOptimized,(c,q,Y)=>(!1===q&&c.push(Y),c),[]);if(q.ensureOptimizations&&!HZ(c))throw Error(`Lexer Modes: < ${c.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{ose()}),this.TRACE_INIT("toFastProperties",()=>{n2(this)})})}tokenize(c,q=this.defaultMode){if(!HZ(this.lexerDefinitionErrors)){let c=BQ(this.lexerDefinitionErrors,c=>c.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+c)}return this.tokenizeInternal(c,q)}tokenizeInternal(c,q){let Y,V,Z,re,ae,se,oe,he,de,pe,ge,me,ve,be,we,Te,_e=c,Ee=_e.length,Ce=0,Se=0,Ae=this.hasCustom?0:Math.floor(c.length/10),Le=new Array(Ae),Ne=[],Ie=this.trackStartLines?1:void 0,Me=this.trackStartLines?1:void 0,Re=vse(this.emptyGroups),Oe=this.trackStartLines,Be=this.config.lineTerminatorsPattern,$e=0,Ue=[],qe=[],je=[],We=[];function z(){return Ue}function W(c){let q=Dc(c),Y=qe[q];return void 0===Y?We:Y}Object.freeze(We),o(z,"getPossiblePatternsSlow"),o(W,"getPossiblePatternsOptimized");let He=o(c=>{if(1===je.length&&void 0===c.tokenType.PUSH_MODE){let q=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(c);Ne.push({offset:c.startOffset,line:c.startLine,column:c.startColumn,length:c.image.length,message:q})}else{je.pop();let c=kK(je);Ue=this.patternIdxToConfig[c],qe=this.charCodeToPatternIdxToConfig[c],$e=Ue.length;let q=this.canModeBeOptimized[c]&&!1===this.config.safeMode;Te=qe&&q?W:z}},"pop_mode");function K(c){je.push(c),qe=this.charCodeToPatternIdxToConfig[c],Ue=this.patternIdxToConfig[c],$e=Ue.length,$e=Ue.length;let q=this.canModeBeOptimized[c]&&!1===this.config.safeMode;Te=qe&&q?W:z}o(K,"push_mode"),K.call(this,q);let Ve,Ke=this.config.recoveryEnabled;for(;Ce<Ee;){se=null;let q=_e.charCodeAt(Ce),Ae=Te(q),qe=Ae.length;for(Y=0;Y<qe;Y++){Ve=Ae[Y];let V=Ve.pattern;oe=null;let de=Ve.short;if(!1!==de?q===de&&(se=V):!0===Ve.isCustom?(we=V.exec(_e,Ce,Le,Re),null!==we?(se=we[0],void 0!==we.payload&&(oe=we.payload)):se=null):(this.updateLastIndex(V,Ce),se=this.match(V,c,Ce)),null!==se){if(ae=Ve.longerAlt,void 0!==ae){let q=ae.length;for(Z=0;Z<q;Z++){let q=Ue[ae[Z]],Y=q.pattern;if(he=null,!0===q.isCustom?(we=Y.exec(_e,Ce,Le,Re),null!==we?(re=we[0],void 0!==we.payload&&(he=we.payload)):re=null):(this.updateLastIndex(Y,Ce),re=this.match(Y,c,Ce)),re&&re.length>se.length){se=re,oe=he,Ve=q;break}}}break}}if(null!==se){if(de=se.length,pe=Ve.group,void 0!==pe&&(ge=Ve.tokenTypeIdx,me=this.createTokenInstance(se,Ce,ge,Ve.tokenType,Ie,Me,de),this.handlePayload(me,oe),!1===pe?Se=this.addToken(Le,Se,me):Re[pe].push(me)),c=this.chopInput(c,de),Ce+=de,Me=this.computeNewColumn(Me,de),!0===Oe&&!0===Ve.canLineTerminator){let c,q,Y=0;Be.lastIndex=0;do{c=Be.test(se),!0===c&&(q=Be.lastIndex-1,Y++)}while(!0===c);0!==Y&&(Ie+=Y,Me=de-q,this.updateTokenEndLineColumnLocation(me,pe,q,Y,Ie,Me,de))}this.handleModes(Ve,He,K,me)}else{let q=Ce,Y=Ie,Z=Me,re=!1===Ke;for(;!1===re&&Ce<Ee;)for(c=this.chopInput(c,1),Ce++,V=0;V<$e;V++){let q=Ue[V],Y=q.pattern,Z=q.short;if(!1!==Z?_e.charCodeAt(Ce)===Z&&(re=!0):!0===q.isCustom?re=null!==Y.exec(_e,Ce,Le,Re):(this.updateLastIndex(Y,Ce),re=null!==Y.exec(c)),!0===re)break}if(ve=Ce-q,Me=this.computeNewColumn(Me,ve),be=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(_e,q,ve,Y,Z),Ne.push({offset:q,line:Y,column:Z,length:ve,message:be}),!1===Ke)break}}return this.hasCustom||(Le.length=Se),{tokens:Le,groups:Re,errors:Ne}}handleModes(c,q,Y,V){if(!0===c.pop){let Z=c.push;q(V),void 0!==Z&&Y.call(this,Z)}else void 0!==c.push&&Y.call(this,c.push)}chopInput(c,q){return c.substring(q)}updateLastIndex(c,q){c.lastIndex=q}updateTokenEndLineColumnLocation(c,q,Y,V,Z,re,ae){let se,oe;void 0!==q&&(se=Y===ae-1,oe=se?-1:0,1===V&&!0===se||(c.endLine=Z+oe,c.endColumn=re-1-oe))}computeNewColumn(c,q){return c+q}createOffsetOnlyToken(c,q,Y,V){return{image:c,startOffset:q,tokenTypeIdx:Y,tokenType:V}}createStartOnlyToken(c,q,Y,V,Z,re){return{image:c,startOffset:q,startLine:Z,startColumn:re,tokenTypeIdx:Y,tokenType:V}}createFullToken(c,q,Y,V,Z,re,ae){return{image:c,startOffset:q,endOffset:q+ae-1,startLine:Z,endLine:Z,startColumn:re,endColumn:re+ae-1,tokenTypeIdx:Y,tokenType:V}}addTokenUsingPush(c,q,Y){return c.push(Y),q}addTokenUsingMemberAccess(c,q,Y){return c[q]=Y,++q}handlePayloadNoCustom(c,q){}handlePayloadWithCustom(c,q){null!==q&&(c.payload=q)}matchWithTest(c,q,Y){return!0===c.test(q)?q.substring(Y,c.lastIndex):null}matchWithExec(c,q){let Y=c.exec(q);return null!==Y?Y[0]:null}}).SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",p9.NA=/NOT_APPLICABLE/});function Bu(c){return SR(c)?c.LABEL:c.name}function SR(c){return NZ(c.LABEL)&&""!==c.LABEL}function HT(c){return fFe(c)}function fFe(c){let q=c.pattern,Y={};if(Y.name=c.name,rJ(q)||(Y.PATTERN=q),EZ(c,w9))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return EZ(c,k9)&&(Y.CATEGORIES=c[k9]),Pu([Y]),EZ(c,_9)&&(Y.LABEL=c[_9]),EZ(c,A9)&&(Y.GROUP=c[A9]),EZ(c,N9)&&(Y.POP_MODE=c[N9]),EZ(c,L9)&&(Y.PUSH_MODE=c[L9]),EZ(c,R9)&&(Y.LONGER_ALT=c[R9]),EZ(c,D9)&&(Y.LINE_BREAKS=c[D9]),EZ(c,P9)&&(Y.START_CHARS_HINT=c[P9]),Y}function n0(c,q,Y,V,Z,re,ae,se){return{image:q,startOffset:Y,endOffset:V,startLine:Z,endLine:re,startColumn:ae,endColumn:se,tokenTypeIdx:c.tokenTypeIdx,tokenType:c}}function o2(c,q){return Ou(c,q)}var w9,k9,_9,A9,L9,N9,R9,D9,P9,B9,z9,G9,U9,q9=M(()=>{a1(),b9(),f9(),o(Bu,"tokenLabel"),o(SR,"hasTokenLabel"),w9="parent",k9="categories",_9="label",A9="group",L9="push_mode",N9="pop_mode",R9="longer_alt",D9="line_breaks",P9="start_chars_hint",o(HT,"createToken"),o(fFe,"createTokenInternal"),Pu([B9=HT({name:"EOF",pattern:p9.NA})]),o(n0,"createTokenInstance"),o(o2,"tokenMatcher")}),j9=M(()=>{q9(),a1(),C8(),z9={buildMismatchTokenMessage:({expected:c,actual:q,previous:Y,ruleName:V})=>`Expecting ${SR(c)?`--\x3e ${Bu(c)} <--`:`token of type --\x3e ${c.name} <--`} but found --\x3e '${q.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:c,ruleName:q})=>"Redundant input, expecting EOF but found: "+c.image,buildNoViableAltMessage({expectedPathsPerAlt:c,actual:q,previous:Y,customUserDescription:V,ruleName:Z}){let re="Expecting: ",ae="\nbut found: '"+AQ(q).image+"'";if(V)return re+V+ae;{let q=k0(c,(c,q)=>c.concat(q),[]),Y=BQ(q,c=>`[${BQ(c,c=>Bu(c)).join(", ")}]`);return re+`one of these possible Token sequences:\n${BQ(Y,(c,q)=>`  ${q+1}. ${c}`).join("\n")}`+ae}},buildEarlyExitMessage({expectedIterationPaths:c,actual:q,customUserDescription:Y,ruleName:V}){let Z="Expecting: ",re="\nbut found: '"+AQ(q).image+"'";if(Y)return Z+Y+re;return Z+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${BQ(c,c=>`[${BQ(c,c=>Bu(c)).join(",")}]`).join(" ,")}>`+re}},Object.freeze(z9),G9={buildRuleNotFoundError:(c,q)=>"Invalid grammar, reference to a rule which is not defined: ->"+q.nonTerminalName+"<-\ninside top level rule: ->"+c.name+"<-"},U9={buildDuplicateFoundError(c,q){function r(c){return c instanceof f8?c.terminalType.name:c instanceof T7?c.nonTerminalName:""}o(r,"getExtraProductionArgument");let Y=c.name,V=AQ(q),Z=V.idx,re=Ms(V),ae=r(V),se=`->${re}${Z>0?Z:""}<- ${ae?`with argument: ->${ae}<-`:""}\n                  appears more than once (${q.length} times) in the top level rule: ->${Y}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return se=se.replace(/[ \t]+/g," "),se=se.replace(/\s\s+/g,"\n"),se},buildNamespaceConflictError:c=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${c.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(c){let q=BQ(c.prefixPath,c=>Bu(c)).join(", "),Y=0===c.alternation.idx?"":c.alternation.idx;return`Ambiguous alternatives: <${c.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${Y}> inside <${c.topLevelRule.name}> Rule,\n<${q}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(c){let q=BQ(c.prefixPath,c=>Bu(c)).join(", "),Y=0===c.alternation.idx?"":c.alternation.idx,V=`Ambiguous Alternatives Detected: <${c.ambiguityIndices.join(" ,")}> in <OR${Y}> inside <${c.topLevelRule.name}> Rule,\n<${q}> may appears as a prefix path in all these alternatives.\n`;return V+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",V},buildEmptyRepetitionError(c){let q=Ms(c.repetition);return 0!==c.repetition.idx&&(q+=c.repetition.idx),`The repetition <${q}> within Rule <${c.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:c=>"deprecated",buildEmptyAlternationError:c=>`Ambiguous empty alternative: <${c.emptyChoiceIdx+1}> in <OR${c.alternation.idx}> inside <${c.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:c=>`An Alternation cannot have more than 256 alternatives:\n<OR${c.alternation.idx}> inside <${c.topLevelRule.name}> Rule.\n has ${c.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(c){let q=c.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${q}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${q} --\x3e ${BQ(c.leftRecursionPath,c=>c.name).concat([q]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:c=>"deprecated",buildDuplicateRuleNameError(c){let q;return q=c.topLevelRule instanceof C7?c.topLevelRule.name:c.topLevelRule,`Duplicate definition, rule: ->${q}<- is already defined in the grammar: ->${c.grammarName}<-`}}});function Bse(c,q){let Y=new W9(c,q);return Y.resolveRefs(),Y.errors}var W9,Z9=M(()=>{wte(),a1(),C8(),o(Bse,"resolveGrammar"),W9=class extends y8{static{o(this,"GastRefResolverVisitor")}constructor(c,q){super(),this.nameToTopRule=c,this.errMsgProvider=q,this.errors=[]}resolveRefs(){$K(DZ(this.nameToTopRule),c=>{this.currTopLevel=c,c.accept(this)})}visitNonTerminal(c){let q=this.nameToTopRule[c.nonTerminalName];if(q)c.referencedRule=q;else{let q=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,c);this.errors.push({message:q,type:vte.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:c.nonTerminalName})}}}});function XT(c,q,Y=[]){Y=PH(Y);let V=[],Z=0;function a(q){return q.concat(AK(c,Z+1))}function s(c){let Z=XT(a(c),q,Y);return V.concat(Z)}for(o(a,"remainingPathWith"),o(s,"getAlternativesForProd");Y.length<q&&Z<c.length;){let q=c[Z];if(q instanceof N7)return s(q.definition);if(q instanceof T7)return s(q.definition);if(q instanceof M7)V=s(q.definition);else{if(q instanceof X7){return s(q.definition.concat([new l8({definition:q.definition})]))}if(q instanceof K7){return s([new N7({definition:q.definition}),new l8({definition:[new f8({terminalType:q.separator})].concat(q.definition)})])}if(q instanceof h8){let c=q.definition.concat([new l8({definition:[new f8({terminalType:q.separator})].concat(q.definition)})]);V=s(c)}else if(q instanceof l8){let c=q.definition.concat([new l8({definition:q.definition})]);V=s(c)}else{if(q instanceof d8)return $K(q.definition,c=>{!1===HZ(c.definition)&&(V=s(c.definition))}),V;if(!(q instanceof f8))throw Error("non exhaustive match");Y.push(q.terminalType)}}Z++}return V.push({partialPath:Y,suffixDef:AK(c,Z)}),V}function jT(c,q,Y,V){let Z="EXIT_NONE_TERMINAL",re=[Z],ae="EXIT_ALTERNATIVE",se=!1,oe=q.length,he=oe-V-1,de=[],pe=[];for(pe.push({idx:-1,def:c,ruleStack:[],occurrenceStack:[]});!HZ(pe);){let c=pe.pop();if(c===ae){se&&kK(pe).idx<=he&&pe.pop();continue}let V=c.def,ge=c.idx,me=c.ruleStack,ve=c.occurrenceStack;if(HZ(V))continue;let be=V[0];if(be===Z){let c={idx:ge,def:AK(V),ruleStack:NK(me),occurrenceStack:NK(ve)};pe.push(c)}else if(be instanceof f8)if(ge<oe-1){let c=ge+1;if(Y(q[c],be.terminalType)){let q={idx:c,def:AK(V),ruleStack:me,occurrenceStack:ve};pe.push(q)}}else{if(ge!==oe-1)throw Error("non exhaustive match");de.push({nextTokenType:be.terminalType,nextTokenOccurrence:be.idx,ruleStack:me,occurrenceStack:ve}),se=!0}else if(be instanceof T7){let c=PH(me);c.push(be.nonTerminalName);let q=PH(ve);q.push(be.idx);let Y={idx:ge,def:be.definition.concat(re,AK(V)),ruleStack:c,occurrenceStack:q};pe.push(Y)}else if(be instanceof M7){let c={idx:ge,def:AK(V),ruleStack:me,occurrenceStack:ve};pe.push(c),pe.push(ae);let q={idx:ge,def:be.definition.concat(AK(V)),ruleStack:me,occurrenceStack:ve};pe.push(q)}else if(be instanceof X7){let c=new l8({definition:be.definition,idx:be.idx}),q={idx:ge,def:be.definition.concat([c],AK(V)),ruleStack:me,occurrenceStack:ve};pe.push(q)}else if(be instanceof K7){let c=new f8({terminalType:be.separator}),q=new l8({definition:[c].concat(be.definition),idx:be.idx}),Y={idx:ge,def:be.definition.concat([q],AK(V)),ruleStack:me,occurrenceStack:ve};pe.push(Y)}else if(be instanceof h8){let c={idx:ge,def:AK(V),ruleStack:me,occurrenceStack:ve};pe.push(c),pe.push(ae);let q=new f8({terminalType:be.separator}),Y=new l8({definition:[q].concat(be.definition),idx:be.idx}),Z={idx:ge,def:be.definition.concat([Y],AK(V)),ruleStack:me,occurrenceStack:ve};pe.push(Z)}else if(be instanceof l8){let c={idx:ge,def:AK(V),ruleStack:me,occurrenceStack:ve};pe.push(c),pe.push(ae);let q=new l8({definition:be.definition,idx:be.idx}),Y={idx:ge,def:be.definition.concat([q],AK(V)),ruleStack:me,occurrenceStack:ve};pe.push(Y)}else if(be instanceof d8)for(let c=be.definition.length-1;c>=0;c--){let q={idx:ge,def:be.definition[c].definition.concat(AK(V)),ruleStack:me,occurrenceStack:ve};pe.push(q),pe.push(ae)}else if(be instanceof N7)pe.push({idx:ge,def:be.definition.concat(AK(V)),ruleStack:me,occurrenceStack:ve});else{if(!(be instanceof C7))throw Error("non exhaustive match");pe.push(dFe(be,ge,me,ve))}}return de}function dFe(c,q,Y,V){let Z=PH(Y);Z.push(c.name);let re=PH(V);return re.push(1),{idx:q,def:c.definition,ruleStack:Z,occurrenceStack:re}}var eee,tee,ree,nee,iee,aee,see,oee=M(()=>{a1(),I8(),A8(),C8(),eee=class extends S8{static{o(this,"AbstractNextPossibleTokensWalker")}constructor(c,q){super(),this.topProd=c,this.path=q,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=PH(this.path.ruleStack).reverse(),this.occurrenceStack=PH(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(c,q=[]){this.found||super.walk(c,q)}walkProdRef(c,q,Y){if(c.referencedRule.name===this.nextProductionName&&c.idx===this.nextProductionOccurrence){let V=q.concat(Y);this.updateExpectedNext(),this.walk(c.referencedRule,V)}}updateExpectedNext(){HZ(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},tee=class extends eee{static{o(this,"NextAfterTokenWalker")}constructor(c,q){super(c,q),this.path=q,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(c,q,Y){if(this.isAtEndOfPath&&c.terminalType.name===this.nextTerminalName&&c.idx===this.nextTerminalOccurrence&&!this.found){let c=q.concat(Y),V=new N7({definition:c});this.possibleTokTypes=e0(V),this.found=!0}}},ree=class extends S8{static{o(this,"AbstractNextTerminalAfterProductionWalker")}constructor(c,q){super(),this.topRule=c,this.occurrence=q,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},nee=class extends ree{static{o(this,"NextTerminalAfterManyWalker")}walkMany(c,q,Y){if(c.idx===this.occurrence){let c=AQ(q.concat(Y));this.result.isEndOfRule=void 0===c,c instanceof f8&&(this.result.token=c.terminalType,this.result.occurrence=c.idx)}else super.walkMany(c,q,Y)}},iee=class extends ree{static{o(this,"NextTerminalAfterManySepWalker")}walkManySep(c,q,Y){if(c.idx===this.occurrence){let c=AQ(q.concat(Y));this.result.isEndOfRule=void 0===c,c instanceof f8&&(this.result.token=c.terminalType,this.result.occurrence=c.idx)}else super.walkManySep(c,q,Y)}},aee=class extends ree{static{o(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(c,q,Y){if(c.idx===this.occurrence){let c=AQ(q.concat(Y));this.result.isEndOfRule=void 0===c,c instanceof f8&&(this.result.token=c.terminalType,this.result.occurrence=c.idx)}else super.walkAtLeastOne(c,q,Y)}},see=class extends ree{static{o(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(c,q,Y){if(c.idx===this.occurrence){let c=AQ(q.concat(Y));this.result.isEndOfRule=void 0===c,c instanceof f8&&(this.result.token=c.terminalType,this.result.occurrence=c.idx)}else super.walkAtLeastOneSep(c,q,Y)}},o(XT,"possiblePathsFrom"),o(jT,"nextPossibleTokensAfter"),o(dFe,"expandTopLevelRule")});function h2(c){if(c instanceof M7||"Option"===c)return lee.OPTION;if(c instanceof l8||"Repetition"===c)return lee.REPETITION;if(c instanceof X7||"RepetitionMandatory"===c)return lee.REPETITION_MANDATORY;if(c instanceof K7||"RepetitionMandatoryWithSeparator"===c)return lee.REPETITION_MANDATORY_WITH_SEPARATOR;if(c instanceof h8||"RepetitionWithSeparator"===c)return lee.REPETITION_WITH_SEPARATOR;if(c instanceof d8||"Alternation"===c)return lee.ALTERNATION;throw Error("non exhaustive match")}function QT(c){let{occurrence:q,rule:Y,prodType:V,maxLookahead:Z}=c,re=h2(V);return re===lee.ALTERNATION?ng(q,Y,Z):ig(q,Y,re,Z)}function Gse(c,q,Y,V,Z,re){let ae=ng(c,q,Y);return re(ae,V,Yse(ae)?eg:Ou,Z)}function $se(c,q,Y,V,Z,re){let ae=ig(c,q,Z,Y),se=Yse(ae)?eg:Ou;return re(ae[0],se,V)}function Vse(c,q,Y,V){let Z=c.length,re=JK(c,c=>JK(c,c=>1===c.length));if(q)return function(q){let V=BQ(q,c=>c.GATE);for(let q=0;q<Z;q++){let Z=c[q],re=Z.length,ae=V[q];if(void 0===ae||!1!==ae.call(this))e:for(let c=0;c<re;c++){let V=Z[c],re=V.length;for(let c=0;c<re;c++){let q=this.LA(c+1);if(!1===Y(q,V[c]))continue e}return q}}};if(re&&!V){let q=BQ(c,c=>bj(c)),Y=k0(q,(c,q,Y)=>($K(q,q=>{EZ(c,q.tokenTypeIdx)||(c[q.tokenTypeIdx]=Y),$K(q.categoryMatches,q=>{EZ(c,q)||(c[q]=Y)})}),c),{});return function(){let c=this.LA(1);return Y[c.tokenTypeIdx]}}return function(){for(let q=0;q<Z;q++){let V=c[q],Z=V.length;e:for(let c=0;c<Z;c++){let Z=V[c],re=Z.length;for(let c=0;c<re;c++){let q=this.LA(c+1);if(!1===Y(q,Z[c]))continue e}return q}}}}function Use(c,q,Y){let V=JK(c,c=>1===c.length),Z=c.length;if(V&&!Y){let q=bj(c);if(1===q.length&&HZ(q[0].categoryMatches)){let c=q[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===c}}{let c=k0(q,(c,q,Y)=>(c[q.tokenTypeIdx]=!0,$K(q.categoryMatches,q=>{c[q]=!0}),c),[]);return function(){let q=this.LA(1);return!0===c[q.tokenTypeIdx]}}}return function(){e:for(let Y=0;Y<Z;Y++){let V=c[Y],Z=V.length;for(let c=0;c<Z;c++){let Y=this.LA(c+1);if(!1===q(Y,V[c]))continue e}return!0}return!1}}function zse(c){let q=new Array(c);for(let Y=0;Y<c;Y++)q[Y]=[];return q}function _R(c){let q=[""];for(let Y=0;Y<c.length;Y++){let V=c[Y],Z=[];for(let c=0;c<q.length;c++){let Y=q[c];Z.push(Y+"_"+V.tokenTypeIdx);for(let c=0;c<V.categoryMatches.length;c++){let q="_"+V.categoryMatches[c];Z.push(Y+q)}}q=Z}return q}function pFe(c,q,Y){for(let V=0;V<c.length;V++){if(V===Y)continue;let Z=c[V];for(let c=0;c<q.length;c++){if(!0===Z[q[c]])return!1}}return!0}function Hse(c,q){let Y=BQ(c,c=>XT([c],1)),V=zse(Y.length),Z=BQ(Y,c=>{let q={};return $K(c,c=>{let Y=_R(c.partialPath);$K(Y,c=>{q[c]=!0})}),q}),re=Y;for(let c=1;c<=q;c++){let Y=re;re=zse(Y.length);for(let ae=0;ae<Y.length;ae++){let se=Y[ae];for(let Y=0;Y<se.length;Y++){let oe=se[Y].partialPath,he=se[Y].suffixDef,de=_R(oe);if(pFe(Z,de,ae)||HZ(he)||oe.length===q){let c=V[ae];if(!1===ZT(c,oe)){c.push(oe);for(let c=0;c<de.length;c++){let q=de[c];Z[ae][q]=!0}}}else{let q=XT(he,c+1,oe);re[ae]=re[ae].concat(q),$K(q,c=>{let q=_R(c.partialPath);$K(q,c=>{Z[ae][c]=!0})})}}}}return V}function ng(c,q,Y,V){let Z=new hee(c,lee.ALTERNATION,V);return q.accept(Z),Hse(Z.result,Y)}function ig(c,q,Y,V){let Z=new hee(c,Y);q.accept(Z);let re=Z.result,ae=new cee(q,c,Y).startWalking();return Hse([new N7({definition:re}),new N7({definition:ae})],V)}function ZT(c,q){e:for(let Y=0;Y<c.length;Y++){let V=c[Y];if(V.length===q.length){for(let c=0;c<V.length;c++){let Y=q[c],Z=V[c];if(!1==(Y===Z||void 0!==Z.categoryMatchesMap[Y.tokenTypeIdx]))continue e}return!0}}return!1}function Wse(c,q){return c.length<q.length&&JK(c,(c,Y)=>{let V=q[Y];return c===V||V.categoryMatchesMap[c.tokenTypeIdx]})}function Yse(c){return JK(c,c=>JK(c,c=>JK(c,c=>HZ(c.categoryMatches))))}var lee,cee,hee,uee=M(()=>{var c;a1(),oee(),A8(),f9(),C8(),(c=lee||(lee={}))[c.OPTION=0]="OPTION",c[c.REPETITION=1]="REPETITION",c[c.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",c[c.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",c[c.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",c[c.ALTERNATION=5]="ALTERNATION",o(h2,"getProdType"),o(QT,"getLookaheadPaths"),o(Gse,"buildLookaheadFuncForOr"),o($se,"buildLookaheadFuncForOptionalProd"),o(Vse,"buildAlternativesLookAheadFunc"),o(Use,"buildSingleAlternativeLookaheadFunction"),cee=class extends S8{static{o(this,"RestDefinitionFinderWalker")}constructor(c,q,Y){super(),this.topProd=c,this.targetOccurrence=q,this.targetProdType=Y}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(c,q,Y,V){return c.idx===this.targetOccurrence&&this.targetProdType===q&&(this.restDef=Y.concat(V),!0)}walkOption(c,q,Y){this.checkIsTarget(c,lee.OPTION,q,Y)||super.walkOption(c,q,Y)}walkAtLeastOne(c,q,Y){this.checkIsTarget(c,lee.REPETITION_MANDATORY,q,Y)||super.walkOption(c,q,Y)}walkAtLeastOneSep(c,q,Y){this.checkIsTarget(c,lee.REPETITION_MANDATORY_WITH_SEPARATOR,q,Y)||super.walkOption(c,q,Y)}walkMany(c,q,Y){this.checkIsTarget(c,lee.REPETITION,q,Y)||super.walkOption(c,q,Y)}walkManySep(c,q,Y){this.checkIsTarget(c,lee.REPETITION_WITH_SEPARATOR,q,Y)||super.walkOption(c,q,Y)}},hee=class extends y8{static{o(this,"InsideDefinitionFinderVisitor")}constructor(c,q,Y){super(),this.targetOccurrence=c,this.targetProdType=q,this.targetRef=Y,this.result=[]}checkIsTarget(c,q){c.idx===this.targetOccurrence&&this.targetProdType===q&&(void 0===this.targetRef||c===this.targetRef)&&(this.result=c.definition)}visitOption(c){this.checkIsTarget(c,lee.OPTION)}visitRepetition(c){this.checkIsTarget(c,lee.REPETITION)}visitRepetitionMandatory(c){this.checkIsTarget(c,lee.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(c){this.checkIsTarget(c,lee.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(c){this.checkIsTarget(c,lee.REPETITION_WITH_SEPARATOR)}visitAlternation(c){this.checkIsTarget(c,lee.ALTERNATION)}},o(zse,"initializeArrayOfArrays"),o(_R,"pathToHashKeys"),o(pFe,"isUniquePrefixHash"),o(Hse,"lookAheadSequenceFromAlternatives"),o(ng,"getLookaheadPathsForOr"),o(ig,"getLookaheadPathsForOptionalProd"),o(ZT,"containsPath"),o(Wse,"isStrictPrefixOfPath"),o(Yse,"areTokenCategoriesNotUsed")});function qse(c){let q=c.lookaheadStrategy.validate({rules:c.rules,tokenTypes:c.tokenTypes,grammarName:c.grammarName});return BQ(q,c=>Object.assign({type:vte.CUSTOM_LOOKAHEAD_VALIDATION},c))}function Xse(c,q,Y,V){let Z=zQ(c,c=>mFe(c,Y)),re=wFe(c,q,Y),ae=zQ(c,c=>vFe(c,Y)),se=zQ(c,q=>yFe(q,c,V,Y));return Z.concat(re,ae,se)}function mFe(c,q){let Y=new dee;c.accept(Y);let V=Y.allProductions,Z=gZ(V,gFe),re=_J(Z,c=>c.length>1);return BQ(DZ(re),Y=>{let V=AQ(Y),Z=q.buildDuplicateFoundError(c,Y),re=Ms(V),ae={message:Z,type:vte.DUPLICATE_PRODUCTIONS,ruleName:c.name,dslName:re,occurrence:V.idx},se=jse(V);return se&&(ae.parameter=se),ae})}function gFe(c){return`${Ms(c)}_#_${c.idx}_#_${jse(c)}`}function jse(c){return c instanceof f8?c.terminalType.name:c instanceof T7?c.nonTerminalName:""}function yFe(c,q,Y,V){let Z=[];if(k0(q,(q,Y)=>Y.name===c.name?q+1:q,0)>1){let q=V.buildDuplicateRuleNameError({topLevelRule:c,grammarName:Y});Z.push({message:q,type:vte.DUPLICATE_RULE_NAME,ruleName:c.name})}return Z}function Kse(c,q,Y){let V,Z=[];return FZ(q,c)||(V=`Invalid rule override, rule: ->${c}<- cannot be overridden in the grammar: ->${Y}<-as it is not defined in any of the super grammars `,Z.push({message:V,type:vte.INVALID_RULE_OVERRIDE,ruleName:c})),Z}function RR(c,q,Y,V=[]){let Z=[],re=JT(q.definition);if(HZ(re))return[];{let q=c.name;FZ(re,c)&&Z.push({message:Y.buildLeftRecursionError({topLevelRule:c,leftRecursionPath:V}),type:vte.LEFT_RECURSION,ruleName:q});let ae=yK(re,V.concat([c])),se=zQ(ae,q=>{let Z=PH(V);return Z.push(q),RR(c,q,Y,Z)});return Z.concat(se)}}function JT(c){let q=[];if(HZ(c))return q;let Y=AQ(c);if(Y instanceof T7)q.push(Y.referencedRule);else if(Y instanceof N7||Y instanceof M7||Y instanceof X7||Y instanceof K7||Y instanceof h8||Y instanceof l8)q=q.concat(JT(Y.definition));else if(Y instanceof d8)q=bj(BQ(Y.definition,c=>JT(c.definition)));else if(!(Y instanceof f8))throw Error("non exhaustive match");let V=Jd(Y),Z=c.length>1;if(V&&Z){let Y=AK(c);return q.concat(JT(Y))}return q}function Qse(c,q){let Y=new pee;c.accept(Y);let V=Y.alternations;return zQ(V,Y=>{let V=NK(Y.definition);return zQ(V,(V,Z)=>{let re=jT([V],[],Ou,1);return HZ(re)?[{message:q.buildEmptyAlternationError({topLevelRule:c,alternation:Y,emptyChoiceIdx:Z}),type:vte.NONE_LAST_EMPTY_ALT,ruleName:c.name,occurrence:Y.idx,alternative:Z+1}]:[]})})}function Zse(c,q,Y){let V=new pee;c.accept(V);let Z=V.alternations;return Z=_0(Z,c=>!0===c.ignoreAmbiguities),zQ(Z,V=>{let Z=V.idx,re=V.maxLookahead||q,ae=ng(Z,c,re,V),se=xFe(ae,V,c,Y),oe=bFe(ae,V,c,Y);return se.concat(oe)})}function vFe(c,q){let Y=new pee;c.accept(Y);let V=Y.alternations;return zQ(V,Y=>Y.definition.length>255?[{message:q.buildTooManyAlternativesError({topLevelRule:c,alternation:Y}),type:vte.TOO_MANY_ALTS,ruleName:c.name,occurrence:Y.idx}]:[])}function Jse(c,q,Y){let V=[];return $K(c,c=>{let Z=new gee;c.accept(Z);let re=Z.allProductions;$K(re,Z=>{let re=h2(Z),ae=Z.maxLookahead||q,se=ig(Z.idx,c,re,ae)[0];if(HZ(bj(se))){let q=Y.buildEmptyRepetitionError({topLevelRule:c,repetition:Z});V.push({message:q,type:vte.NO_NON_EMPTY_LOOKAHEAD,ruleName:c.name})}})}),V}function xFe(c,q,Y,V){let Z=[],re=k0(c,(Y,V,re)=>(!0===q.definition[re].ignoreAmbiguities||$K(V,V=>{let ae=[re];$K(c,(c,Y)=>{re!==Y&&ZT(c,V)&&!0!==q.definition[Y].ignoreAmbiguities&&ae.push(Y)}),ae.length>1&&!ZT(Z,V)&&(Z.push(V),Y.push({alts:ae,path:V}))}),Y),[]);return BQ(re,c=>{let Z=BQ(c.alts,c=>c+1);return{message:V.buildAlternationAmbiguityError({topLevelRule:Y,alternation:q,ambiguityIndices:Z,prefixPath:c.path}),type:vte.AMBIGUOUS_ALTS,ruleName:Y.name,occurrence:q.idx,alternatives:c.alts}})}function bFe(c,q,Y,V){let Z=k0(c,(c,q,Y)=>{let V=BQ(q,c=>({idx:Y,path:c}));return c.concat(V)},[]);return UH(zQ(Z,c=>{if(!0===q.definition[c.idx].ignoreAmbiguities)return[];let re=c.idx,ae=c.path,se=oQ(Z,c=>!0!==q.definition[c.idx].ignoreAmbiguities&&c.idx<re&&Wse(c.path,ae));return BQ(se,c=>{let Z=[c.idx+1,re+1],ae=0===q.idx?"":q.idx;return{message:V.buildAlternationPrefixAmbiguityError({topLevelRule:Y,alternation:q,ambiguityIndices:Z,prefixPath:c.path}),type:vte.AMBIGUOUS_PREFIX_ALTS,ruleName:Y.name,occurrence:ae,alternatives:Z}})}))}function wFe(c,q,Y){let V=[],Z=BQ(q,c=>c.name);return $K(c,c=>{let q=c.name;if(FZ(Z,q)){let Z=Y.buildNamespaceConflictError(c);V.push({message:Z,type:vte.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:q})}}),V}var dee,pee,gee,fee=M(()=>{a1(),wte(),C8(),uee(),oee(),f9(),o(qse,"validateLookahead"),o(Xse,"validateGrammar"),o(mFe,"validateDuplicateProductions"),o(gFe,"identifyProductionForDuplicates"),o(jse,"getExtraProductionArgument"),dee=class extends y8{static{o(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(c){this.allProductions.push(c)}visitOption(c){this.allProductions.push(c)}visitRepetitionWithSeparator(c){this.allProductions.push(c)}visitRepetitionMandatory(c){this.allProductions.push(c)}visitRepetitionMandatoryWithSeparator(c){this.allProductions.push(c)}visitRepetition(c){this.allProductions.push(c)}visitAlternation(c){this.allProductions.push(c)}visitTerminal(c){this.allProductions.push(c)}},o(yFe,"validateRuleDoesNotAlreadyExist"),o(Kse,"validateRuleIsOverridden"),o(RR,"validateNoLeftRecursion"),o(JT,"getFirstNoneTerminal"),pee=class extends y8{static{o(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(c){this.alternations.push(c)}},o(Qse,"validateEmptyOrAlternative"),o(Zse,"validateAmbiguousAlternationAlternatives"),gee=class extends y8{static{o(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(c){this.allProductions.push(c)}visitRepetitionMandatory(c){this.allProductions.push(c)}visitRepetitionMandatoryWithSeparator(c){this.allProductions.push(c)}visitRepetition(c){this.allProductions.push(c)}},o(vFe,"validateTooManyAlts"),o(Jse,"validateSomeNonEmptyLookaheadPath"),o(xFe,"checkAlternativesAmbiguities"),o(bFe,"checkPrefixAlternativesAmbiguities"),o(wFe,"checkTerminalAndNoneTerminalsNameSpace")});function eoe(c){let q=JX(c,{errMsgProvider:G9}),Y={};return $K(c.rules,c=>{Y[c.name]=c}),Bse(Y,q.errMsgProvider)}function toe(c){return Xse((c=JX(c,{errMsgProvider:U9})).rules,c.tokenTypes,c.errMsgProvider,c.grammarName)}var mee=M(()=>{a1(),Z9(),fee(),j9(),o(eoe,"resolveGrammar"),o(toe,"validateGrammar")});function rf(c){return FZ(wee,c.name)}var yee,vee,xee,bee,wee,kee,Tee,_ee,Eee,Cee,See=M(()=>{a1(),wee=[yee="MismatchedTokenException",vee="NoViableAltException",xee="EarlyExitException",bee="NotAllInputParsedException"],Object.freeze(wee),o(rf,"isRecognitionException"),kee=class extends Error{static{o(this,"RecognitionException")}constructor(c,q){super(c),this.token=q,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Tee=class extends kee{static{o(this,"MismatchedTokenException")}constructor(c,q,Y){super(c,q),this.previousToken=Y,this.name=yee}},_ee=class extends kee{static{o(this,"NoViableAltException")}constructor(c,q,Y){super(c,q),this.previousToken=Y,this.name=vee}},Eee=class extends kee{static{o(this,"NotAllInputParsedException")}constructor(c,q){super(c,q),this.name=bee}},Cee=class extends kee{static{o(this,"EarlyExitException")}constructor(c,q,Y){super(c,q),this.previousToken=Y,this.name=xee}}});function TFe(c,q,Y,V,Z,re,ae){let se=this.getKeyForAutomaticLookahead(V,Z),oe=this.firstAfterRepMap[se];if(void 0===oe){let c=this.getCurrRuleFullName();oe=new re(this.getGAstProductions()[c],Z).startWalking(),this.firstAfterRepMap[se]=oe}let he=oe.token,de=oe.occurrence,pe=oe.isEndOfRule;1===this.RULE_STACK.length&&pe&&void 0===he&&(he=B9,de=1),void 0!==he&&void 0!==de&&this.shouldInRepetitionRecoveryBeTried(he,de,ae)&&this.tryInRepetitionRecovery(c,q,Y,he)}var Aee,Lee,Nee,Iee,Mee=M(()=>{q9(),a1(),See(),O8(),wte(),Aee={},Lee="InRuleRecoveryException",Nee=class extends Error{static{o(this,"InRuleRecoveryException")}constructor(c){super(c),this.name=Lee}},Iee=class{static{o(this,"Recoverable")}initRecoverable(c){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=EZ(c,"recoveryEnabled")?c.recoveryEnabled:mte.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=TFe)}getTokenToInsert(c){let q=n0(c,"",NaN,NaN,NaN,NaN,NaN,NaN);return q.isInsertedInRecovery=!0,q}canTokenTypeBeInsertedInRecovery(c){return!0}canTokenTypeBeDeletedInRecovery(c){return!0}tryInRepetitionRecovery(c,q,Y,V){let Z=this.findReSyncTokenType(),re=this.exportLexerState(),ae=[],se=!1,oe=this.LA(1),he=this.LA(1),de=o(()=>{let c=this.LA(0),q=this.errorMessageProvider.buildMismatchTokenMessage({expected:V,actual:oe,previous:c,ruleName:this.getCurrRuleFullName()}),Y=new Tee(q,oe,this.LA(0));Y.resyncedTokens=NK(ae),this.SAVE_ERROR(Y)},"generateErrorMessage");for(;!se;){if(this.tokenMatcher(he,V))return void de();if(Y.call(this))return de(),void c.apply(this,q);this.tokenMatcher(he,Z)?se=!0:(he=this.SKIP_TOKEN(),this.addToResyncTokens(he,ae))}this.importLexerState(re)}shouldInRepetitionRecoveryBeTried(c,q,Y){return!(!1===Y||this.tokenMatcher(this.LA(1),c)||this.isBackTracking()||this.canPerformInRuleRecovery(c,this.getFollowsForInRuleRecovery(c,q)))}getFollowsForInRuleRecovery(c,q){let Y=this.getCurrentGrammarPath(c,q);return this.getNextPossibleTokenTypes(Y)}tryInRuleRecovery(c,q){if(this.canRecoverWithSingleTokenInsertion(c,q))return this.getTokenToInsert(c);if(this.canRecoverWithSingleTokenDeletion(c)){let c=this.SKIP_TOKEN();return this.consumeToken(),c}throw new Nee("sad sad panda")}canPerformInRuleRecovery(c,q){return this.canRecoverWithSingleTokenInsertion(c,q)||this.canRecoverWithSingleTokenDeletion(c)}canRecoverWithSingleTokenInsertion(c,q){if(!this.canTokenTypeBeInsertedInRecovery(c)||HZ(q))return!1;let Y=this.LA(1);return void 0!==wQ(q,c=>this.tokenMatcher(Y,c))}canRecoverWithSingleTokenDeletion(c){return!!this.canTokenTypeBeDeletedInRecovery(c)&&this.tokenMatcher(this.LA(2),c)}isInCurrentRuleReSyncSet(c){let q=this.getCurrFollowKey(),Y=this.getFollowSetFromFollowKey(q);return FZ(Y,c)}findReSyncTokenType(){let c=this.flattenFollowSet(),q=this.LA(1),Y=2;for(;;){let V=wQ(c,c=>o2(q,c));if(void 0!==V)return V;q=this.LA(Y),Y++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return Aee;let c=this.getLastExplicitRuleShortName(),q=this.getLastExplicitRuleOccurrenceIndex(),Y=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(c),idxInCallingRule:q,inRule:this.shortRuleNameToFullName(Y)}}buildFullFollowKeyStack(){let c=this.RULE_STACK,q=this.RULE_OCCURRENCE_STACK;return BQ(c,(Y,V)=>0===V?Aee:{ruleName:this.shortRuleNameToFullName(Y),idxInCallingRule:q[V],inRule:this.shortRuleNameToFullName(c[V-1])})}flattenFollowSet(){let c=BQ(this.buildFullFollowKeyStack(),c=>this.getFollowSetFromFollowKey(c));return bj(c)}getFollowSetFromFollowKey(c){if(c===Aee)return[B9];let q=c.ruleName+c.idxInCallingRule+N8+c.inRule;return this.resyncFollows[q]}addToResyncTokens(c,q){return this.tokenMatcher(c,B9)||q.push(c),q}reSyncTo(c){let q=[],Y=this.LA(1);for(;!1===this.tokenMatcher(Y,c);)Y=this.SKIP_TOKEN(),this.addToResyncTokens(Y,q);return NK(q)}attemptInRepetitionRecovery(c,q,Y,V,Z,re,ae){}getCurrentGrammarPath(c,q){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:PH(this.RULE_OCCURRENCE_STACK),lastTok:c,lastTokOccurrence:q}}getHumanReadableRuleStack(){return BQ(this.RULE_STACK,c=>this.shortRuleNameToFullName(c))}},o(TFe,"attemptInRepetitionRecovery")});function tk(c,q,Y){return Y|q|c}var Ree,Dee=M(()=>{o(tk,"getKeyForAutomaticLookahead")}),Oee=M(()=>{a1(),j9(),wte(),fee(),uee(),Ree=class{static{o(this,"LLkLookaheadStrategy")}constructor(c){var q;this.maxLookahead=null!==(q=c?.maxLookahead)&&void 0!==q?q:mte.maxLookahead}validate(c){let q=this.validateNoLeftRecursion(c.rules);if(HZ(q)){let Y=this.validateEmptyOrAlternatives(c.rules),V=this.validateAmbiguousAlternationAlternatives(c.rules,this.maxLookahead),Z=this.validateSomeNonEmptyLookaheadPath(c.rules,this.maxLookahead);return[...q,...Y,...V,...Z]}return q}validateNoLeftRecursion(c){return zQ(c,c=>RR(c,c,U9))}validateEmptyOrAlternatives(c){return zQ(c,c=>Qse(c,U9))}validateAmbiguousAlternationAlternatives(c,q){return zQ(c,c=>Zse(c,q,U9))}validateSomeNonEmptyLookaheadPath(c,q){return Jse(c,q,U9)}buildLookaheadForAlternation(c){return Gse(c.prodOccurrence,c.rule,c.maxLookahead,c.hasPredicates,c.dynamicTokensEnabled,Vse)}buildLookaheadForOptional(c){return $se(c.prodOccurrence,c.rule,c.maxLookahead,c.dynamicTokensEnabled,h2(c.prodType),Use)}}});function kFe(c){Fee.reset(),c.accept(Fee);let q=Fee.dslMethods;return Fee.reset(),q}var Pee,Bee,Fee,$ee=M(()=>{a1(),wte(),Dee(),C8(),Oee(),Pee=class{static{o(this,"LooksAhead")}initLooksAhead(c){this.dynamicTokensEnabled=EZ(c,"dynamicTokensEnabled")?c.dynamicTokensEnabled:mte.dynamicTokensEnabled,this.maxLookahead=EZ(c,"maxLookahead")?c.maxLookahead:mte.maxLookahead,this.lookaheadStrategy=EZ(c,"lookaheadStrategy")?c.lookaheadStrategy:new Ree({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(c){$K(c,c=>{this.TRACE_INIT(`${c.name} Rule Lookahead`,()=>{let{alternation:q,repetition:Y,option:V,repetitionMandatory:Z,repetitionMandatoryWithSeparator:re,repetitionWithSeparator:ae}=kFe(c);$K(q,q=>{let Y=0===q.idx?"":q.idx;this.TRACE_INIT(`${Ms(q)}${Y}`,()=>{let Y=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:q.idx,rule:c,maxLookahead:q.maxLookahead||this.maxLookahead,hasPredicates:q.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),V=tk(this.fullRuleNameToShort[c.name],256,q.idx);this.setLaFuncCache(V,Y)})}),$K(Y,q=>{this.computeLookaheadFunc(c,q.idx,768,"Repetition",q.maxLookahead,Ms(q))}),$K(V,q=>{this.computeLookaheadFunc(c,q.idx,512,"Option",q.maxLookahead,Ms(q))}),$K(Z,q=>{this.computeLookaheadFunc(c,q.idx,1024,"RepetitionMandatory",q.maxLookahead,Ms(q))}),$K(re,q=>{this.computeLookaheadFunc(c,q.idx,1536,"RepetitionMandatoryWithSeparator",q.maxLookahead,Ms(q))}),$K(ae,q=>{this.computeLookaheadFunc(c,q.idx,1280,"RepetitionWithSeparator",q.maxLookahead,Ms(q))})})})}computeLookaheadFunc(c,q,Y,V,Z,re){this.TRACE_INIT(`${re}${0===q?"":q}`,()=>{let re=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:q,rule:c,maxLookahead:Z||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:V}),ae=tk(this.fullRuleNameToShort[c.name],Y,q);this.setLaFuncCache(ae,re)})}getKeyForAutomaticLookahead(c,q){return tk(this.getLastExplicitRuleShortName(),c,q)}getLaFuncFromCache(c){return this.lookAheadFuncsCache.get(c)}setLaFuncCache(c,q){this.lookAheadFuncsCache.set(c,q)}},Bee=class extends y8{static{o(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(c){this.dslMethods.option.push(c)}visitRepetitionWithSeparator(c){this.dslMethods.repetitionWithSeparator.push(c)}visitRepetitionMandatory(c){this.dslMethods.repetitionMandatory.push(c)}visitRepetitionMandatoryWithSeparator(c){this.dslMethods.repetitionMandatoryWithSeparator.push(c)}visitRepetition(c){this.dslMethods.repetition.push(c)}visitAlternation(c){this.dslMethods.alternation.push(c)}},Fee=new Bee,o(kFe,"collectMethods")});function $R(c,q){!0===isNaN(c.startOffset)?(c.startOffset=q.startOffset,c.endOffset=q.endOffset):c.endOffset<q.endOffset&&(c.endOffset=q.endOffset)}function VR(c,q){!0===isNaN(c.startOffset)?(c.startOffset=q.startOffset,c.startColumn=q.startColumn,c.startLine=q.startLine,c.endOffset=q.endOffset,c.endColumn=q.endColumn,c.endLine=q.endLine):c.endOffset<q.endOffset&&(c.endOffset=q.endOffset,c.endColumn=q.endColumn,c.endLine=q.endLine)}function coe(c,q,Y){void 0===c.children[Y]?c.children[Y]=[q]:c.children[Y].push(q)}function uoe(c,q,Y){void 0===c.children[q]?c.children[q]=[Y]:c.children[q].push(Y)}var zee=M(()=>{o($R,"setNodeLocationOnlyOffset"),o(VR,"setNodeLocationFull"),o(coe,"addTerminalToCst"),o(uoe,"addNoneTerminalToCst")});function UR(c,q){Object.defineProperty(c,Gee,{enumerable:!1,configurable:!0,writable:!1,value:q})}var Gee,Uee=M(()=>{Gee="name",o(UR,"defineNameProp")});function SFe(c,q){let Y=Iq(c),V=Y.length;for(let Z=0;Z<V;Z++){let V=c[Y[Z]],re=V.length;for(let c=0;c<re;c++){let Y=V[c];void 0===Y.tokenTypeIdx&&this[Y.name](Y.children,q)}}}function doe(c,q){let Y=o(function(){},"derivedConstructor");UR(Y,c+"BaseSemantics");let V={visit:o(function(c,q){if(pL(c)&&(c=c[0]),!rJ(c))return this[c.name](c.children,q)},"visit"),validateVisitor:o(function(){let c=CFe(this,q);if(!HZ(c)){let q=BQ(c,c=>c.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${q.join("\n\n").replace(/\n/g,"\n\t")}`)}},"validateVisitor")};return Y.prototype=V,Y.prototype.constructor=Y,Y._RULE_NAMES=q,Y}function poe(c,q,Y){let V=o(function(){},"derivedConstructor");UR(V,c+"BaseSemanticsWithDefaults");let Z=Object.create(Y.prototype);return $K(q,c=>{Z[c]=SFe}),V.prototype=Z,V.prototype.constructor=V,V}function CFe(c,q){return AFe(c,q)}function AFe(c,q){let Y=oQ(q,q=>!1===bE(c[q])),V=BQ(Y,q=>({msg:`Missing visitor method: <${q}> on ${c.constructor.name} CST Visitor.`,type:qee.MISSING_METHOD,methodName:q}));return UH(V)}var qee,jee,Yee,Wee,Hee,Vee,Xee,Kee=M(()=>{var c;a1(),Uee(),o(SFe,"defaultVisit"),o(doe,"createBaseSemanticVisitorConstructor"),o(poe,"createBaseVisitorConstructorWithDefaults"),(c=qee||(qee={}))[c.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",c[c.MISSING_METHOD=1]="MISSING_METHOD",o(CFe,"validateVisitor"),o(AFe,"validateMissingCstMethods")}),Zee=M(()=>{zee(),a1(),Kee(),wte(),jee=class{static{o(this,"TreeBuilder")}initTreeBuilder(c){if(this.CST_STACK=[],this.outputCst=c.outputCst,this.nodeLocationTracking=EZ(c,"nodeLocationTracking")?c.nodeLocationTracking:mte.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=VR,this.setNodeLocationFromNode=VR,this.cstPostRule=hq,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=hq,this.setNodeLocationFromNode=hq,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=$R,this.setNodeLocationFromNode=$R,this.cstPostRule=hq,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=hq,this.setNodeLocationFromNode=hq,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${c.nodeLocationTracking}"`);this.setNodeLocationFromToken=hq,this.setNodeLocationFromNode=hq,this.cstPostRule=hq,this.setInitialNodeLocation=hq}else this.cstInvocationStateUpdate=hq,this.cstFinallyStateUpdate=hq,this.cstPostTerminal=hq,this.cstPostNonTerminal=hq,this.cstPostRule=hq}setInitialNodeLocationOnlyOffsetRecovery(c){c.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(c){c.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(c){c.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(c){let q=this.LA(1);c.location={startOffset:q.startOffset,startLine:q.startLine,startColumn:q.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(c){let q={name:c,children:Object.create(null)};this.setInitialNodeLocation(q),this.CST_STACK.push(q)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(c){let q=this.LA(0),Y=c.location;Y.startOffset<=q.startOffset?(Y.endOffset=q.endOffset,Y.endLine=q.endLine,Y.endColumn=q.endColumn):(Y.startOffset=NaN,Y.startLine=NaN,Y.startColumn=NaN)}cstPostRuleOnlyOffset(c){let q=this.LA(0),Y=c.location;Y.startOffset<=q.startOffset?Y.endOffset=q.endOffset:Y.startOffset=NaN}cstPostTerminal(c,q){let Y=this.CST_STACK[this.CST_STACK.length-1];coe(Y,q,c),this.setNodeLocationFromToken(Y.location,q)}cstPostNonTerminal(c,q){let Y=this.CST_STACK[this.CST_STACK.length-1];uoe(Y,q,c),this.setNodeLocationFromNode(Y.location,c.location)}getBaseCstVisitorConstructor(){if(rJ(this.baseCstVisitorConstructor)){let c=doe(this.className,Iq(this.gastProductionsCache));return this.baseCstVisitorConstructor=c,c}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(rJ(this.baseCstVisitorWithDefaultsConstructor)){let c=poe(this.className,Iq(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=c,c}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let c=this.RULE_STACK;return c[c.length-1]}getPreviousExplicitRuleShortName(){let c=this.RULE_STACK;return c[c.length-2]}getLastExplicitRuleOccurrenceIndex(){let c=this.RULE_OCCURRENCE_STACK;return c[c.length-1]}}}),Jee=M(()=>{wte(),Yee=class{static{o(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(c){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=c,this.tokVectorLength=c.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):fte}LA(c){let q=this.currIdx+c;return q<0||this.tokVectorLength<=q?fte:this.tokVector[q]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(c){this.currIdx=c}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}}),ete=M(()=>{a1(),See(),wte(),j9(),fee(),C8(),Wee=class{static{o(this,"RecognizerApi")}ACTION(c){return c.call(this)}consume(c,q,Y){return this.consumeInternal(q,c,Y)}subrule(c,q,Y){return this.subruleInternal(q,c,Y)}option(c,q){return this.optionInternal(q,c)}or(c,q){return this.orInternal(q,c)}many(c,q){return this.manyInternal(c,q)}atLeastOne(c,q){return this.atLeastOneInternal(c,q)}CONSUME(c,q){return this.consumeInternal(c,0,q)}CONSUME1(c,q){return this.consumeInternal(c,1,q)}CONSUME2(c,q){return this.consumeInternal(c,2,q)}CONSUME3(c,q){return this.consumeInternal(c,3,q)}CONSUME4(c,q){return this.consumeInternal(c,4,q)}CONSUME5(c,q){return this.consumeInternal(c,5,q)}CONSUME6(c,q){return this.consumeInternal(c,6,q)}CONSUME7(c,q){return this.consumeInternal(c,7,q)}CONSUME8(c,q){return this.consumeInternal(c,8,q)}CONSUME9(c,q){return this.consumeInternal(c,9,q)}SUBRULE(c,q){return this.subruleInternal(c,0,q)}SUBRULE1(c,q){return this.subruleInternal(c,1,q)}SUBRULE2(c,q){return this.subruleInternal(c,2,q)}SUBRULE3(c,q){return this.subruleInternal(c,3,q)}SUBRULE4(c,q){return this.subruleInternal(c,4,q)}SUBRULE5(c,q){return this.subruleInternal(c,5,q)}SUBRULE6(c,q){return this.subruleInternal(c,6,q)}SUBRULE7(c,q){return this.subruleInternal(c,7,q)}SUBRULE8(c,q){return this.subruleInternal(c,8,q)}SUBRULE9(c,q){return this.subruleInternal(c,9,q)}OPTION(c){return this.optionInternal(c,0)}OPTION1(c){return this.optionInternal(c,1)}OPTION2(c){return this.optionInternal(c,2)}OPTION3(c){return this.optionInternal(c,3)}OPTION4(c){return this.optionInternal(c,4)}OPTION5(c){return this.optionInternal(c,5)}OPTION6(c){return this.optionInternal(c,6)}OPTION7(c){return this.optionInternal(c,7)}OPTION8(c){return this.optionInternal(c,8)}OPTION9(c){return this.optionInternal(c,9)}OR(c){return this.orInternal(c,0)}OR1(c){return this.orInternal(c,1)}OR2(c){return this.orInternal(c,2)}OR3(c){return this.orInternal(c,3)}OR4(c){return this.orInternal(c,4)}OR5(c){return this.orInternal(c,5)}OR6(c){return this.orInternal(c,6)}OR7(c){return this.orInternal(c,7)}OR8(c){return this.orInternal(c,8)}OR9(c){return this.orInternal(c,9)}MANY(c){this.manyInternal(0,c)}MANY1(c){this.manyInternal(1,c)}MANY2(c){this.manyInternal(2,c)}MANY3(c){this.manyInternal(3,c)}MANY4(c){this.manyInternal(4,c)}MANY5(c){this.manyInternal(5,c)}MANY6(c){this.manyInternal(6,c)}MANY7(c){this.manyInternal(7,c)}MANY8(c){this.manyInternal(8,c)}MANY9(c){this.manyInternal(9,c)}MANY_SEP(c){this.manySepFirstInternal(0,c)}MANY_SEP1(c){this.manySepFirstInternal(1,c)}MANY_SEP2(c){this.manySepFirstInternal(2,c)}MANY_SEP3(c){this.manySepFirstInternal(3,c)}MANY_SEP4(c){this.manySepFirstInternal(4,c)}MANY_SEP5(c){this.manySepFirstInternal(5,c)}MANY_SEP6(c){this.manySepFirstInternal(6,c)}MANY_SEP7(c){this.manySepFirstInternal(7,c)}MANY_SEP8(c){this.manySepFirstInternal(8,c)}MANY_SEP9(c){this.manySepFirstInternal(9,c)}AT_LEAST_ONE(c){this.atLeastOneInternal(0,c)}AT_LEAST_ONE1(c){return this.atLeastOneInternal(1,c)}AT_LEAST_ONE2(c){this.atLeastOneInternal(2,c)}AT_LEAST_ONE3(c){this.atLeastOneInternal(3,c)}AT_LEAST_ONE4(c){this.atLeastOneInternal(4,c)}AT_LEAST_ONE5(c){this.atLeastOneInternal(5,c)}AT_LEAST_ONE6(c){this.atLeastOneInternal(6,c)}AT_LEAST_ONE7(c){this.atLeastOneInternal(7,c)}AT_LEAST_ONE8(c){this.atLeastOneInternal(8,c)}AT_LEAST_ONE9(c){this.atLeastOneInternal(9,c)}AT_LEAST_ONE_SEP(c){this.atLeastOneSepFirstInternal(0,c)}AT_LEAST_ONE_SEP1(c){this.atLeastOneSepFirstInternal(1,c)}AT_LEAST_ONE_SEP2(c){this.atLeastOneSepFirstInternal(2,c)}AT_LEAST_ONE_SEP3(c){this.atLeastOneSepFirstInternal(3,c)}AT_LEAST_ONE_SEP4(c){this.atLeastOneSepFirstInternal(4,c)}AT_LEAST_ONE_SEP5(c){this.atLeastOneSepFirstInternal(5,c)}AT_LEAST_ONE_SEP6(c){this.atLeastOneSepFirstInternal(6,c)}AT_LEAST_ONE_SEP7(c){this.atLeastOneSepFirstInternal(7,c)}AT_LEAST_ONE_SEP8(c){this.atLeastOneSepFirstInternal(8,c)}AT_LEAST_ONE_SEP9(c){this.atLeastOneSepFirstInternal(9,c)}RULE(c,q,Y=yte){if(FZ(this.definedRulesNames,c)){let q={message:U9.buildDuplicateRuleNameError({topLevelRule:c,grammarName:this.className}),type:vte.DUPLICATE_RULE_NAME,ruleName:c};this.definitionErrors.push(q)}this.definedRulesNames.push(c);let V=this.defineRule(c,q,Y);return this[c]=V,V}OVERRIDE_RULE(c,q,Y=yte){let V=Kse(c,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(V);let Z=this.defineRule(c,q,Y);return this[c]=Z,Z}BACKTRACK(c,q){return function(){this.isBackTrackingStack.push(1);let Y=this.saveRecogState();try{return c.apply(this,q),!0}catch(c){if(rf(c))return!1;throw c}finally{this.reloadRecogState(Y),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return IT(DZ(this.gastProductionsCache))}}}),tte=M(()=>{a1(),Dee(),See(),uee(),oee(),wte(),Mee(),q9(),f9(),Hee=class{static{o(this,"RecognizerEngine")}initRecognizerEngine(c,q){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=eg,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},EZ(q,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(pL(c)){if(HZ(c))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof c[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(pL(c))this.tokensMap=k0(c,(c,q)=>(c[q.name]=q,c),{});else if(EZ(c,"modes")&&JK(bj(DZ(c.modes)),Ase)){let q=bj(DZ(c.modes)),Y=H0(q);this.tokensMap=k0(Y,(c,q)=>(c[q.name]=q,c),{})}else{if(!gE(c))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=PH(c)}this.tokensMap.EOF=B9;let Y=EZ(c,"modes")?bj(DZ(c.modes)):DZ(c),V=JK(Y,c=>HZ(c.categoryMatches));this.tokenMatcher=V?eg:Ou,Pu(DZ(this.tokensMap))}defineRule(c,q,Y){if(this.selfAnalysisDone)throw Error(`Grammar rule <${c}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let V,Z=EZ(Y,"resyncEnabled")?Y.resyncEnabled:yte.resyncEnabled,re=EZ(Y,"recoveryValueFunc")?Y.recoveryValueFunc:yte.recoveryValueFunc,ae=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[ae]=c,this.fullRuleNameToShort[c]=ae,V=!0===this.outputCst?o(function(...Y){try{this.ruleInvocationStateUpdate(ae,c,this.subruleIdx),q.apply(this,Y);let V=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(V),V}catch(c){return this.invokeRuleCatch(c,Z,re)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):o(function(...Y){try{return this.ruleInvocationStateUpdate(ae,c,this.subruleIdx),q.apply(this,Y)}catch(c){return this.invokeRuleCatch(c,Z,re)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(V,{ruleName:c,originalGrammarAction:q})}invokeRuleCatch(c,q,Y){let V=1===this.RULE_STACK.length,Z=q&&!this.isBackTracking()&&this.recoveryEnabled;if(rf(c)){let q=c;if(Z){let V=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(V)){if(q.resyncedTokens=this.reSyncTo(V),this.outputCst){let c=this.CST_STACK[this.CST_STACK.length-1];return c.recoveredNode=!0,c}return Y(c)}if(this.outputCst){let c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=!0,q.partialCstResult=c}throw q}if(V)return this.moveToTerminatedState(),Y(c);throw q}throw c}optionInternal(c,q){let Y=this.getKeyForAutomaticLookahead(512,q);return this.optionInternalLogic(c,q,Y)}optionInternalLogic(c,q,Y){let V,Z=this.getLaFuncFromCache(Y);if("function"!=typeof c){V=c.DEF;let q=c.GATE;if(void 0!==q){let c=Z;Z=o(()=>q.call(this)&&c.call(this),"lookAheadFunc")}}else V=c;if(!0===Z.call(this))return V.call(this)}atLeastOneInternal(c,q){let Y=this.getKeyForAutomaticLookahead(1024,c);return this.atLeastOneInternalLogic(c,q,Y)}atLeastOneInternalLogic(c,q,Y){let V,Z=this.getLaFuncFromCache(Y);if("function"!=typeof q){V=q.DEF;let c=q.GATE;if(void 0!==c){let q=Z;Z=o(()=>c.call(this)&&q.call(this),"lookAheadFunc")}}else V=q;if(!0!==Z.call(this))throw this.raiseEarlyExitException(c,lee.REPETITION_MANDATORY,q.ERR_MSG);{let c=this.doSingleRepetition(V);for(;!0===Z.call(this)&&!0===c;)c=this.doSingleRepetition(V)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[c,q],Z,1024,c,aee)}atLeastOneSepFirstInternal(c,q){let Y=this.getKeyForAutomaticLookahead(1536,c);this.atLeastOneSepFirstInternalLogic(c,q,Y)}atLeastOneSepFirstInternalLogic(c,q,Y){let V=q.DEF,Z=q.SEP;if(!0!==this.getLaFuncFromCache(Y).call(this))throw this.raiseEarlyExitException(c,lee.REPETITION_MANDATORY_WITH_SEPARATOR,q.ERR_MSG);{V.call(this);let q=o(()=>this.tokenMatcher(this.LA(1),Z),"separatorLookAheadFunc");for(;!0===this.tokenMatcher(this.LA(1),Z);)this.CONSUME(Z),V.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[c,Z,q,V,see],q,1536,c,see)}}manyInternal(c,q){let Y=this.getKeyForAutomaticLookahead(768,c);return this.manyInternalLogic(c,q,Y)}manyInternalLogic(c,q,Y){let V,Z=this.getLaFuncFromCache(Y);if("function"!=typeof q){V=q.DEF;let c=q.GATE;if(void 0!==c){let q=Z;Z=o(()=>c.call(this)&&q.call(this),"lookaheadFunction")}}else V=q;let re=!0;for(;!0===Z.call(this)&&!0===re;)re=this.doSingleRepetition(V);this.attemptInRepetitionRecovery(this.manyInternal,[c,q],Z,768,c,nee,re)}manySepFirstInternal(c,q){let Y=this.getKeyForAutomaticLookahead(1280,c);this.manySepFirstInternalLogic(c,q,Y)}manySepFirstInternalLogic(c,q,Y){let V=q.DEF,Z=q.SEP;if(!0===this.getLaFuncFromCache(Y).call(this)){V.call(this);let q=o(()=>this.tokenMatcher(this.LA(1),Z),"separatorLookAheadFunc");for(;!0===this.tokenMatcher(this.LA(1),Z);)this.CONSUME(Z),V.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[c,Z,q,V,iee],q,1280,c,iee)}}repetitionSepSecondInternal(c,q,Y,V,Z){for(;Y();)this.CONSUME(q),V.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[c,q,Y,V,Z],Y,1536,c,Z)}doSingleRepetition(c){let q=this.getLexerPosition();return c.call(this),this.getLexerPosition()>q}orInternal(c,q){let Y=this.getKeyForAutomaticLookahead(256,q),V=pL(c)?c:c.DEF,Z=this.getLaFuncFromCache(Y).call(this,V);if(void 0!==Z)return V[Z].ALT.call(this);this.raiseNoAltException(q,c.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){let c=this.LA(1),q=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:c,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Eee(q,c))}}subruleInternal(c,q,Y){let V;try{let Z=void 0!==Y?Y.ARGS:void 0;return this.subruleIdx=q,V=c.apply(this,Z),this.cstPostNonTerminal(V,void 0!==Y&&void 0!==Y.LABEL?Y.LABEL:c.ruleName),V}catch(q){throw this.subruleInternalError(q,Y,c.ruleName)}}subruleInternalError(c,q,Y){throw rf(c)&&void 0!==c.partialCstResult&&(this.cstPostNonTerminal(c.partialCstResult,void 0!==q&&void 0!==q.LABEL?q.LABEL:Y),delete c.partialCstResult),c}consumeInternal(c,q,Y){let V;try{let q=this.LA(1);!0===this.tokenMatcher(q,c)?(this.consumeToken(),V=q):this.consumeInternalError(c,q,Y)}catch(Y){V=this.consumeInternalRecovery(c,q,Y)}return this.cstPostTerminal(void 0!==Y&&void 0!==Y.LABEL?Y.LABEL:c.name,V),V}consumeInternalError(c,q,Y){let V,Z=this.LA(0);throw V=void 0!==Y&&Y.ERR_MSG?Y.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:c,actual:q,previous:Z,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Tee(V,q,Z))}consumeInternalRecovery(c,q,Y){if(!this.recoveryEnabled||"MismatchedTokenException"!==Y.name||this.isBackTracking())throw Y;{let V=this.getFollowsForInRuleRecovery(c,q);try{return this.tryInRuleRecovery(c,V)}catch(c){throw c.name===Lee?Y:c}}}saveRecogState(){let c=this.errors,q=PH(this.RULE_STACK);return{errors:c,lexerState:this.exportLexerState(),RULE_STACK:q,CST_STACK:this.CST_STACK}}reloadRecogState(c){this.errors=c.errors,this.importLexerState(c.lexerState),this.RULE_STACK=c.RULE_STACK}ruleInvocationStateUpdate(c,q,Y){this.RULE_OCCURRENCE_STACK.push(Y),this.RULE_STACK.push(c),this.cstInvocationStateUpdate(q)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){let c=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[c]}shortRuleNameToFullName(c){return this.shortRuleNameToFull[c]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),B9)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}}),rte=M(()=>{See(),a1(),uee(),wte(),Vee=class{static{o(this,"ErrorHandler")}initErrorHandler(c){this._errors=[],this.errorMessageProvider=EZ(c,"errorMessageProvider")?c.errorMessageProvider:mte.errorMessageProvider}SAVE_ERROR(c){if(rf(c))return c.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:PH(this.RULE_OCCURRENCE_STACK)},this._errors.push(c),c;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return PH(this._errors)}set errors(c){this._errors=c}raiseEarlyExitException(c,q,Y){let V=this.getCurrRuleFullName(),Z=ig(c,this.getGAstProductions()[V],q,this.maxLookahead)[0],re=[];for(let c=1;c<=this.maxLookahead;c++)re.push(this.LA(c));let ae=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:Z,actual:re,previous:this.LA(0),customUserDescription:Y,ruleName:V});throw this.SAVE_ERROR(new Cee(ae,this.LA(1),this.LA(0)))}raiseNoAltException(c,q){let Y=this.getCurrRuleFullName(),V=ng(c,this.getGAstProductions()[Y],this.maxLookahead),Z=[];for(let c=1;c<=this.maxLookahead;c++)Z.push(this.LA(c));let re=this.LA(0),ae=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:V,actual:Z,previous:re,customUserDescription:q,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new _ee(ae,this.LA(1),re))}}}),nte=M(()=>{oee(),a1(),Xee=class{static{o(this,"ContentAssist")}initContentAssist(){}computeContentAssist(c,q){let Y=this.gastProductionsCache[c];if(rJ(Y))throw Error(`Rule ->${c}<- does not exist in this grammar.`);return jT([Y],q,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(c){let q=AQ(c.ruleStack),Y=this.getGAstProductions()[q];return new tee(Y,c).startWalking()}}});function v2(c,q,Y,V=!1){mk(Y);let Z=kK(this.recordingProdStack),re=bE(q)?q:q.DEF,ae=new c({definition:[],idx:Y});return V&&(ae.separator=q.SEP),EZ(q,"MAX_LOOKAHEAD")&&(ae.maxLookahead=q.MAX_LOOKAHEAD),this.recordingProdStack.push(ae),re.call(this),Z.definition.push(ae),this.recordingProdStack.pop(),ite}function DFe(c,q){mk(q);let Y=kK(this.recordingProdStack),V=!1===pL(c),Z=!1===V?c:c.DEF,re=new d8({definition:[],idx:q,ignoreAmbiguities:V&&!0===c.IGNORE_AMBIGUITIES});EZ(c,"MAX_LOOKAHEAD")&&(re.maxLookahead=c.MAX_LOOKAHEAD);let ae=M0(Z,c=>bE(c.GATE));return re.hasPredicates=ae,Y.definition.push(re),$K(Z,c=>{let q=new N7({definition:[]});re.definition.push(q),EZ(c,"IGNORE_AMBIGUITIES")?q.ignoreAmbiguities=c.IGNORE_AMBIGUITIES:EZ(c,"GATE")&&(q.ignoreAmbiguities=!0),this.recordingProdStack.push(q),c.ALT.call(this),this.recordingProdStack.pop()}),ite}function Eoe(c){return 0===c?"":`${c}`}function mk(c){if(c<0||c>ste){let q=new Error(`Invalid DSL Method idx value: <${c}>\n\tIdx value must be a none negative value smaller than ${ste+1}`);throw q.KNOWN_RECORDER_ERROR=!0,q}}var ite,ate,ste,ote,lte,cte,hte,ute,dte=M(()=>{a1(),C8(),b9(),f9(),q9(),wte(),Dee(),ite={description:"This Object indicates the Parser is during Recording Phase"},Object.freeze(ite),ate=!0,ste=Math.pow(2,8)-1,Pu([ote=HT({name:"RECORDING_PHASE_TOKEN",pattern:p9.NA})]),lte=n0(ote,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1),Object.freeze(lte),cte={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},hte=class{static{o(this,"GastRecorder")}initGastRecorder(c){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let c=0;c<10;c++){let q=c>0?c:"";this[`CONSUME${q}`]=function(q,Y){return this.consumeInternalRecord(q,c,Y)},this[`SUBRULE${q}`]=function(q,Y){return this.subruleInternalRecord(q,c,Y)},this[`OPTION${q}`]=function(q){return this.optionInternalRecord(q,c)},this[`OR${q}`]=function(q){return this.orInternalRecord(q,c)},this[`MANY${q}`]=function(q){this.manyInternalRecord(c,q)},this[`MANY_SEP${q}`]=function(q){this.manySepFirstInternalRecord(c,q)},this[`AT_LEAST_ONE${q}`]=function(q){this.atLeastOneInternalRecord(c,q)},this[`AT_LEAST_ONE_SEP${q}`]=function(q){this.atLeastOneSepFirstInternalRecord(c,q)}}this.consume=function(c,q,Y){return this.consumeInternalRecord(q,c,Y)},this.subrule=function(c,q,Y){return this.subruleInternalRecord(q,c,Y)},this.option=function(c,q){return this.optionInternalRecord(q,c)},this.or=function(c,q){return this.orInternalRecord(q,c)},this.many=function(c,q){this.manyInternalRecord(c,q)},this.atLeastOne=function(c,q){this.atLeastOneInternalRecord(c,q)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let c=this;for(let q=0;q<10;q++){let Y=q>0?q:"";delete c[`CONSUME${Y}`],delete c[`SUBRULE${Y}`],delete c[`OPTION${Y}`],delete c[`OR${Y}`],delete c[`MANY${Y}`],delete c[`MANY_SEP${Y}`],delete c[`AT_LEAST_ONE${Y}`],delete c[`AT_LEAST_ONE_SEP${Y}`]}delete c.consume,delete c.subrule,delete c.option,delete c.or,delete c.many,delete c.atLeastOne,delete c.ACTION,delete c.BACKTRACK,delete c.LA})}ACTION_RECORD(c){}BACKTRACK_RECORD(c,q){return()=>!0}LA_RECORD(c){return fte}topLevelRuleRecord(c,q){try{let Y=new C7({definition:[],name:c});return Y.name=c,this.recordingProdStack.push(Y),q.call(this),this.recordingProdStack.pop(),Y}catch(c){if(!0!==c.KNOWN_RECORDER_ERROR)try{c.message=c.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw c}throw c}}optionInternalRecord(c,q){return v2.call(this,M7,c,q)}atLeastOneInternalRecord(c,q){v2.call(this,X7,q,c)}atLeastOneSepFirstInternalRecord(c,q){v2.call(this,K7,q,c,ate)}manyInternalRecord(c,q){v2.call(this,l8,q,c)}manySepFirstInternalRecord(c,q){v2.call(this,h8,q,c,ate)}orInternalRecord(c,q){return DFe.call(this,c,q)}subruleInternalRecord(c,q,Y){if(mk(q),!c||!1===EZ(c,"ruleName")){let Y=new Error(`<SUBRULE${Eoe(q)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(c)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw Y.KNOWN_RECORDER_ERROR=!0,Y}let V=kK(this.recordingProdStack),Z=c.ruleName,re=new T7({idx:q,nonTerminalName:Z,label:Y?.LABEL,referencedRule:void 0});return V.definition.push(re),this.outputCst?cte:ite}consumeInternalRecord(c,q,Y){if(mk(q),!TR(c)){let Y=new Error(`<CONSUME${Eoe(q)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(c)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw Y.KNOWN_RECORDER_ERROR=!0,Y}let V=kK(this.recordingProdStack),Z=new f8({idx:q,terminalType:c,label:Y?.LABEL});return V.definition.push(Z),lte}},o(v2,"recordProd"),o(DFe,"recordOrProd"),o(Eoe,"getIdxSuffix"),o(mk,"assertMethodIdxIsValid")}),pte=M(()=>{a1(),w7(),wte(),ute=class{static{o(this,"PerformanceTracer")}initPerformanceTracer(c){if(EZ(c,"traceInitPerf")){let q=c.traceInitPerf,Y="number"==typeof q;this.traceInitMaxIdent=Y?q:1/0,this.traceInitPerf=Y?q>0:q}else this.traceInitMaxIdent=0,this.traceInitPerf=mte.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(c,q){if(!0===this.traceInitPerf){this.traceInitIndent++;let Y=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${Y}--\x3e <${c}>`);let{time:V,value:Z}=r2(q),re=V>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&re(`${Y}<-- <${c}> time: ${V}ms`),this.traceInitIndent--,Z}return q()}}});function Loe(c,q){q.forEach(q=>{let Y=q.prototype;Object.getOwnPropertyNames(Y).forEach(V=>{if("constructor"===V)return;let Z=Object.getOwnPropertyDescriptor(Y,V);Z&&(Z.get||Z.set)?Object.defineProperty(c.prototype,V,Z):c.prototype[V]=q.prototype[V]})})}var gte=M(()=>{o(Loe,"applyMixins")});function vk(c=void 0){return function(){return c}}var fte,mte,yte,vte,xte,bte,wte=M(()=>{var c;a1(),w7(),B8(),q9(),j9(),mee(),Mee(),$ee(),Zee(),Jee(),ete(),tte(),rte(),nte(),dte(),pte(),gte(),fee(),fte=n0(B9,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(fte),mte=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:z9,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),yte=Object.freeze({recoveryValueFunc:o(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),(c=vte||(vte={}))[c.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",c[c.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",c[c.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",c[c.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",c[c.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",c[c.LEFT_RECURSION=5]="LEFT_RECURSION",c[c.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",c[c.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",c[c.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",c[c.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",c[c.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",c[c.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",c[c.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",c[c.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",o(vk,"EMPTY_ALT"),xte=class t{static{o(this,"Parser")}static performSelfAnalysis(c){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let c;this.selfAnalysisDone=!0;let q=this.className;this.TRACE_INIT("toFastProps",()=>{n2(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),$K(this.definedRulesNames,c=>{let q,Y=this[c].originalGrammarAction;this.TRACE_INIT(`${c} Rule`,()=>{q=this.topLevelRuleRecord(c,Y)}),this.gastProductionsCache[c]=q})}finally{this.disableRecording()}});let Y=[];if(this.TRACE_INIT("Grammar Resolving",()=>{Y=eoe({rules:DZ(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(Y)}),this.TRACE_INIT("Grammar Validations",()=>{if(HZ(Y)&&!1===this.skipValidations){let c=toe({rules:DZ(this.gastProductionsCache),tokenTypes:DZ(this.tokensMap),errMsgProvider:U9,grammarName:q}),Y=qse({lookaheadStrategy:this.lookaheadStrategy,rules:DZ(this.gastProductionsCache),tokenTypes:DZ(this.tokensMap),grammarName:q});this.definitionErrors=this.definitionErrors.concat(c,Y)}}),HZ(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let c=ase(DZ(this.gastProductionsCache));this.resyncFollows=c}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var c,q;null===(q=(c=this.lookaheadStrategy).initialize)||void 0===q||q.call(c,{rules:DZ(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(DZ(this.gastProductionsCache))})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!HZ(this.definitionErrors))throw c=BQ(this.definitionErrors,c=>c.message),new Error(`Parser Definition Errors detected:\n ${c.join("\n-------------------------------\n")}`)})}constructor(c,q){this.definitionErrors=[],this.selfAnalysisDone=!1;let Y=this;if(Y.initErrorHandler(q),Y.initLexerAdapter(),Y.initLooksAhead(q),Y.initRecognizerEngine(c,q),Y.initRecoverable(q),Y.initTreeBuilder(q),Y.initContentAssist(),Y.initGastRecorder(q),Y.initPerformanceTracer(q),EZ(q,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=EZ(q,"skipValidations")?q.skipValidations:mte.skipValidations}},xte.DEFER_DEFINITION_ERRORS_HANDLING=!1,Loe(xte,[Iee,Pee,jee,Yee,Hee,Wee,Vee,Xee,hte,ute]),bte=class extends xte{static{o(this,"EmbeddedActionsParser")}constructor(c,q=mte){let Y=PH(q);Y.outputCst=!1,super(c,Y)}}}),kte=M(()=>{C8()}),Tte=M(()=>{}),_te=M(()=>{kte(),Tte()}),Ete=M(()=>{g7()}),Cte=M(()=>{g7(),wte(),b9(),q9(),uee(),Oee(),j9(),See(),m9(),C8(),C8(),_te(),Ete()});function o0(c,q,Y){return`${c.name}_${q}_${Y}`}function Foe(c){let q={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};BFe(q,c);let Y=c.length;for(let V=0;V<Y;V++){let Y=c[V],Z=l0(q,Y,Y);void 0!==Z&&XFe(q,Y,Z)}return q}function BFe(c,q){let Y=q.length;for(let V=0;V<Y;V++){let Y=q[V],Z=na(c,Y,void 0,{type:Ate}),re=na(c,Y,void 0,{type:Ite});Z.stop=re,c.ruleToStartState.set(Y,Z),c.ruleToStopState.set(Y,re)}}function zoe(c,q,Y){return Y instanceof f8?YR(c,q,Y.terminalType,Y):Y instanceof T7?qFe(c,q,Y):Y instanceof d8?VFe(c,q,Y):Y instanceof M7?UFe(c,q,Y):Y instanceof l8?FFe(c,q,Y):Y instanceof h8?zFe(c,q,Y):Y instanceof X7?GFe(c,q,Y):Y instanceof K7?$Fe(c,q,Y):l0(c,q,Y)}function FFe(c,q,Y){let V=na(c,q,Y,{type:Nte});return af(c,V),$oe(c,q,Y,dg(c,q,V,Y,l0(c,q,Y)))}function zFe(c,q,Y){let V=na(c,q,Y,{type:Nte});return af(c,V),$oe(c,q,Y,dg(c,q,V,Y,l0(c,q,Y)),YR(c,q,Y.separator,Y))}function GFe(c,q,Y){let V=na(c,q,Y,{type:Lte});return af(c,V),Goe(c,q,Y,dg(c,q,V,Y,l0(c,q,Y)))}function $Fe(c,q,Y){let V=na(c,q,Y,{type:Lte});return af(c,V),Goe(c,q,Y,dg(c,q,V,Y,l0(c,q,Y)),YR(c,q,Y.separator,Y))}function VFe(c,q,Y){let V=na(c,q,Y,{type:Ste});af(c,V);let Z=BQ(Y.definition,Y=>zoe(c,q,Y));return dg(c,q,V,Y,...Z)}function UFe(c,q,Y){let V=na(c,q,Y,{type:Ste});return af(c,V),HFe(c,q,Y,dg(c,q,V,Y,l0(c,q,Y)))}function l0(c,q,Y){let V=oQ(BQ(Y.definition,Y=>zoe(c,q,Y)),c=>void 0!==c);return 1===V.length?V[0]:0===V.length?void 0:YFe(c,V)}function Goe(c,q,Y,V,Z){let re=V.left,ae=V.right,se=na(c,q,Y,{type:Ote});af(c,se);let oe=na(c,q,Y,{type:Pte});return re.loopback=se,oe.loopback=se,c.decisionMap[o0(q,Z?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",Y.idx)]=se,Ai(ae,se),void 0===Z?(Ai(se,re),Ai(se,oe)):(Ai(se,oe),Ai(se,Z.left),Ai(Z.right,re)),{left:re,right:oe}}function $oe(c,q,Y,V,Z){let re=V.left,ae=V.right,se=na(c,q,Y,{type:Dte});af(c,se);let oe=na(c,q,Y,{type:Pte}),he=na(c,q,Y,{type:Rte});return se.loopback=he,oe.loopback=he,Ai(se,re),Ai(se,oe),Ai(ae,he),void 0!==Z?(Ai(he,oe),Ai(he,Z.left),Ai(Z.right,re)):Ai(he,se),c.decisionMap[o0(q,Z?"RepetitionWithSeparator":"Repetition",Y.idx)]=se,{left:se,right:oe}}function HFe(c,q,Y,V){let Z=V.left;return Ai(Z,V.right),c.decisionMap[o0(q,"Option",Y.idx)]=Z,V}function af(c,q){return c.decisionStates.push(q),q.decision=c.decisionStates.length-1,q.decision}function dg(c,q,Y,V,...Z){let re=na(c,q,V,{type:Mte,start:Y});Y.end=re;for(let c of Z)void 0!==c?(Ai(Y,c.left),Ai(c.right,re)):Ai(Y,re);let ae={left:Y,right:re};return c.decisionMap[o0(q,WFe(V),V.idx)]=Y,ae}function WFe(c){if(c instanceof d8)return"Alternation";if(c instanceof M7)return"Option";if(c instanceof l8)return"Repetition";if(c instanceof h8)return"RepetitionWithSeparator";if(c instanceof X7)return"RepetitionMandatory";if(c instanceof K7)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function YFe(c,q){let Y=q.length;for(let V=0;V<Y-1;V++){let Y,Z=q[V];1===Z.left.transitions.length&&(Y=Z.left.transitions[0]);let re=Y instanceof zte,ae=Y,se=q[V+1].left;Z.left.type===Ste&&Z.right.type===Ste&&void 0!==Y&&(re&&ae.followState===Z.right||Y.target===Z.right)?(re?ae.followState=se:Y.target=se,jFe(c,Z.right)):Ai(Z.right,se)}let V=q[0],Z=q[Y-1];return{left:V.left,right:Z.right}}function YR(c,q,Y,V){let Z=na(c,q,V,{type:Ste}),re=na(c,q,V,{type:Ste});return qR(Z,new Fte(re,Y)),{left:Z,right:re}}function qFe(c,q,Y){let V=Y.referencedRule,Z=c.ruleToStartState.get(V),re=na(c,q,Y,{type:Ste}),ae=na(c,q,Y,{type:Ste});return qR(re,new zte(Z,V,ae)),{left:re,right:ae}}function XFe(c,q,Y){let V=c.ruleToStartState.get(q);Ai(V,Y.left);let Z=c.ruleToStopState.get(q);return Ai(Y.right,Z),{left:V,right:Z}}function Ai(c,q){qR(c,new $te(q))}function na(c,q,Y,V){let Z=Object.assign({atn:c,production:Y,epsilonOnlyTransitions:!1,rule:q,transitions:[],nextTokenWithinRule:[],stateNumber:c.states.length},V);return c.states.push(Z),Z}function qR(c,q){0===c.transitions.length&&(c.epsilonOnlyTransitions=q.isEpsilon()),c.transitions.push(q)}function jFe(c,q){c.states.splice(c.states.indexOf(q),1)}var Ste,Ate,Lte,Nte,Ite,Mte,Rte,Dte,Ote,Pte,Bte,Fte,$te,zte,Gte=M(()=>{$Q(),cQ(),Cte(),o(o0,"buildATNKey"),Ste=1,Ate=2,Lte=4,Nte=5,Ite=7,Mte=8,Rte=9,Dte=10,Ote=11,Pte=12,Bte=class{static{o(this,"AbstractTransition")}constructor(c){this.target=c}isEpsilon(){return!1}},Fte=class extends Bte{static{o(this,"AtomTransition")}constructor(c,q){super(c),this.tokenType=q}},$te=class extends Bte{static{o(this,"EpsilonTransition")}constructor(c){super(c)}isEpsilon(){return!0}},zte=class extends Bte{static{o(this,"RuleTransition")}constructor(c,q,Y){super(c),this.rule=q,this.followState=Y}isEpsilon(){return!0}},o(Foe,"createATN"),o(BFe,"createRuleStartAndStopATNStates"),o(zoe,"atom"),o(FFe,"repetition"),o(zFe,"repetitionSep"),o(GFe,"repetitionMandatory"),o($Fe,"repetitionMandatorySep"),o(VFe,"alternation"),o(UFe,"option"),o(l0,"block"),o(Goe,"plus"),o($oe,"star"),o(HFe,"optional"),o(af,"defineDecisionState"),o(dg,"makeAlts"),o(WFe,"getProdType"),o(YFe,"makeBlock"),o(YR,"tokenRef"),o(qFe,"ruleRef"),o(XFe,"buildRuleHandle"),o(Ai,"epsilon"),o(na,"newState"),o(qR,"addTransition"),o(jFe,"removeState")});function XR(c,q=!0){return`${q?`a${c.alt}`:""}s${c.state.stateNumber}:${c.stack.map(c=>c.stateNumber.toString()).join("_")}`}var Ute,qte,jte=M(()=>{$Q(),Ute={},qte=class{static{o(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(c){let q=XR(c);q in this.map||(this.map[q]=this.configs.length,this.configs.push(c))}get elements(){return this.configs}get alts(){return BQ(this.configs,c=>c.alt)}get key(){let c="";for(let q in this.map)c+=q+":";return c}},o(XR,"getATNConfigKey")});function KFe(c,q){let Y={};return V=>{let Z=V.toString(),re=Y[Z];return void 0!==re||(re={atnStartState:c,decision:q,states:{}},Y[Z]=re),re}}function Woe(c,q=!0){let Y=new Set;for(let V of c){let c=new Set;for(let Z of V){if(void 0===Z){if(q)break;return!1}let V=[Z.tokenTypeIdx].concat(Z.categoryMatches);for(let q of V)if(Y.has(q)){if(!c.has(q))return!1}else Y.add(q),c.add(q)}}return!0}function QFe(c){let q=c.decisionStates.length,Y=Array(q);for(let V=0;V<q;V++)Y[V]=KFe(c.decisionStates[V],V);return Y}function jR(c,q,Y,V){let Z=c[q](Y),re=Z.start;if(void 0===re){re=Xoe(Z,qoe(lze(Z.atnStartState))),Z.start=re}return ZFe.apply(this,[Z,re,Y,V])}function ZFe(c,q,Y,V){let Z=q,re=1,ae=[],se=this.LA(re++);for(;;){let q=ize(Z,se);if(void 0===q&&(q=JFe.apply(this,[c,Z,se,re,Y,V])),q===Ute)return nze(ae,Z,se);if(!0===q.isAcceptState)return q.prediction;Z=q,ae.push(se),se=this.LA(re++)}}function JFe(c,q,Y,V,Z,re){let ae=aze(q.configs,Y,Z);if(0===ae.size)return Yoe(c,q,Y,Ute),Ute;let se=qoe(ae),oe=oze(ae,Z);if(void 0!==oe)se.isAcceptState=!0,se.prediction=oe,se.configs.uniqueAlt=oe;else if(fze(ae)){let q=pJ(ae.alts);se.isAcceptState=!0,se.prediction=q,se.configs.uniqueAlt=q,eze.apply(this,[c,V,ae.alts,re])}return se=Yoe(c,q,Y,se),se}function eze(c,q,Y,V){let Z=[];for(let c=1;c<=q;c++)Z.push(this.LA(c).tokenType);let re=c.atnStartState;V(tze({topLevelRule:re.rule,ambiguityIndices:Y,production:re.production,prefixPath:Z}))}function tze(c){let q=BQ(c.prefixPath,c=>Bu(c)).join(", "),Y=0===c.production.idx?"":c.production.idx,V=`Ambiguous Alternatives Detected: <${c.ambiguityIndices.join(", ")}> in <${rze(c.production)}${Y}> inside <${c.topLevelRule.name}> Rule,\n<${q}> may appears as a prefix path in all these alternatives.\n`;return V+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",V}function rze(c){if(c instanceof T7)return"SUBRULE";if(c instanceof M7)return"OPTION";if(c instanceof d8)return"OR";if(c instanceof X7)return"AT_LEAST_ONE";if(c instanceof K7)return"AT_LEAST_ONE_SEP";if(c instanceof h8)return"MANY_SEP";if(c instanceof l8)return"MANY";if(c instanceof f8)return"CONSUME";throw Error("non exhaustive match")}function nze(c,q,Y){let V=zQ(q.configs.elements,c=>c.state.transitions);return{actualToken:Y,possibleTokenTypes:X0(V.filter(c=>c instanceof Fte).map(c=>c.tokenType),c=>c.tokenTypeIdx),tokenPath:c}}function ize(c,q){return c.edges[q.tokenTypeIdx]}function aze(c,q,Y){let V,Z=new qte,re=[];for(let V of c.elements){if(!1===Y.is(V.alt))continue;if(V.state.type===Ite){re.push(V);continue}let c=V.state.transitions.length;for(let Y=0;Y<c;Y++){let c=sze(V.state.transitions[Y],q);void 0!==c&&Z.add({state:c,alt:V.alt,stack:V.stack})}}if(0===re.length&&1===Z.size&&(V=Z),void 0===V){V=new qte;for(let c of Z.elements)bk(c,V)}if(re.length>0&&!uze(V))for(let c of re)V.add(c);return V}function sze(c,q){if(c instanceof Fte&&o2(q,c.tokenType))return c.target}function oze(c,q){let Y;for(let V of c.elements)if(!0===q.is(V.alt))if(void 0===Y)Y=V.alt;else if(Y!==V.alt)return;return Y}function qoe(c){return{configs:c,edges:{},isAcceptState:!1,prediction:-1}}function Yoe(c,q,Y,V){return V=Xoe(c,V),q.edges[Y.tokenTypeIdx]=V,V}function Xoe(c,q){if(q===Ute)return q;let Y=q.configs.key,V=c.states[Y];return void 0!==V?V:(q.configs.finalize(),c.states[Y]=q,q)}function lze(c){let q=new qte,Y=c.transitions.length;for(let V=0;V<Y;V++){bk({state:c.transitions[V].target,alt:V,stack:[]},q)}return q}function bk(c,q){let Y=c.state;if(Y.type===Ite){if(c.stack.length>0){let Y=[...c.stack];bk({state:Y.pop(),alt:c.alt,stack:Y},q)}else q.add(c);return}Y.epsilonOnlyTransitions||q.add(c);let V=Y.transitions.length;for(let Z=0;Z<V;Z++){let V=cze(c,Y.transitions[Z]);void 0!==V&&bk(V,q)}}function cze(c,q){if(q instanceof $te)return{state:q.target,alt:c.alt,stack:c.stack};if(q instanceof zte){let Y=[...c.stack,q.followState];return{state:q.target,alt:c.alt,stack:Y}}}function uze(c){for(let q of c.elements)if(q.state.type===Ite)return!0;return!1}function hze(c){for(let q of c.elements)if(q.state.type!==Ite)return!1;return!0}function fze(c){if(hze(c))return!0;let q=dze(c.elements);return pze(q)&&!mze(q)}function dze(c){let q=new Map;for(let Y of c){let c=XR(Y,!1),V=q.get(c);void 0===V&&(V={},q.set(c,V)),V[Y.alt]=!0}return q}function pze(c){for(let q of Array.from(c.values()))if(Object.keys(q).length>1)return!0;return!1}function mze(c){for(let q of Array.from(c.values()))if(1===Object.keys(q).length)return!0;return!1}var Yte,Wte,Hte,Vte,Xte,Kte,Qte,Zte,Jte,ere,tre,rre,nre,ire,are,sre,ore,lre,cre,hre,ure,dre,pre,gre,fre,mre,yre,vre,xre,bre,wre,kre,Tre,_re,Ere,Cre,Sre,Are,Lre,Nre,Ire,Mre,Rre,Dre,Ore,Pre,Bre,Fre,$re,zre,Gre,Ure,qre,jre,Yre,Wre,Hre,Vre,Xre,Kre,Qre,Zre,Jre,ene,tne,rne,nne,ine,ane,sne,une,fne,mne,Ene,Lne,Ine,Mne,Rne,One,Pne,Bne,$ne,zne,Gne,jne,Vne,eie,rie,iie,sie,lie=M(()=>{Cte(),Gte(),jte(),gJ(),UQ(),Q0(),$Q(),kj(),zK(),VZ(),T0(),o(KFe,"createDFACache"),Yte=class{static{o(this,"PredicateSet")}constructor(){this.predicates=[]}is(c){return c>=this.predicates.length||this.predicates[c]}set(c,q){this.predicates[c]=q}toString(){let c="",q=this.predicates.length;for(let Y=0;Y<q;Y++)c+=!0===this.predicates[Y]?"1":"0";return c}},Wte=new Yte,Hte=class extends Ree{static{o(this,"LLStarLookaheadStrategy")}constructor(c){var q;super(),this.logging=null!==(q=c?.logging)&&void 0!==q?q:c=>console.log(c)}initialize(c){this.atn=Foe(c.rules),this.dfas=QFe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(c){let{prodOccurrence:q,rule:Y,hasPredicates:V,dynamicTokensEnabled:Z}=c,re=this.dfas,ae=this.logging,se=o0(Y,"Alternation",q),oe=this.atn.decisionMap[se].decision,he=BQ(QT({maxLookahead:1,occurrence:q,prodType:"Alternation",rule:Y}),c=>BQ(c,c=>c[0]));if(Woe(he,!1)&&!Z){let c=k0(he,(c,q,Y)=>($K(q,q=>{q&&(c[q.tokenTypeIdx]=Y,$K(q.categoryMatches,q=>{c[q]=Y}))}),c),{});return V?function(q){var Y;let V=this.LA(1),Z=c[V.tokenTypeIdx];if(void 0!==q&&void 0!==Z){let c=null===(Y=q[Z])||void 0===Y?void 0:Y.GATE;if(void 0!==c&&!1===c.call(this))return}return Z}:function(){let q=this.LA(1);return c[q.tokenTypeIdx]}}return V?function(c){let q=new Yte,Y=void 0===c?0:c.length;for(let V=0;V<Y;V++){let Y=c?.[V].GATE;q.set(V,void 0===Y||Y.call(this))}let V=jR.call(this,re,oe,q,ae);return"number"==typeof V?V:void 0}:function(){let c=jR.call(this,re,oe,Wte,ae);return"number"==typeof c?c:void 0}}buildLookaheadForOptional(c){let{prodOccurrence:q,rule:Y,prodType:V,dynamicTokensEnabled:Z}=c,re=this.dfas,ae=this.logging,se=o0(Y,V,q),oe=this.atn.decisionMap[se].decision,he=BQ(QT({maxLookahead:1,occurrence:q,prodType:V,rule:Y}),c=>BQ(c,c=>c[0]));if(Woe(he)&&he[0][0]&&!Z){let c=he[0],q=bj(c);if(1===q.length&&HZ(q[0].categoryMatches)){let c=q[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===c}}{let c=k0(q,(c,q)=>(void 0!==q&&(c[q.tokenTypeIdx]=!0,$K(q.categoryMatches,q=>{c[q]=!0})),c),{});return function(){let q=this.LA(1);return!0===c[q.tokenTypeIdx]}}}return function(){let c=jR.call(this,re,oe,Wte,ae);return"object"!=typeof c&&0===c}}},o(Woe,"isLL1Sequence"),o(QFe,"initATNSimulator"),o(jR,"adaptivePredict"),o(ZFe,"performLookahead"),o(JFe,"computeLookaheadTarget"),o(eze,"reportLookaheadAmbiguity"),o(tze,"buildAmbiguityError"),o(rze,"getProductionDslName"),o(nze,"buildAdaptivePredictError"),o(ize,"getExistingTargetState"),o(aze,"computeReachSet"),o(sze,"getReachableTarget"),o(oze,"getUniqueAlt"),o(qoe,"newDFAState"),o(Yoe,"addDFAEdge"),o(Xoe,"addDFAState"),o(lze,"computeStartState"),o(bk,"closure"),o(cze,"getEpsilonTarget"),o(uze,"hasConfigInRuleStopState"),o(hze,"allConfigsInRuleStopStates"),o(fze,"hasConflictTerminatingPrediction"),o(dze,"getConflictingAltSets"),o(pze,"hasConflictingAltSet"),o(mze,"hasStateAssociatedWithOneAlt")}),uie=M(()=>{lie()}),gie=M(()=>{var c;!function(c){function e(c){return"string"==typeof c}o(e,"is"),c.is=e}(Vte||(Vte={})),function(c){function e(c){return"string"==typeof c}o(e,"is"),c.is=e}(Xte||(Xte={})),function(c){function e(q){return"number"==typeof q&&c.MIN_VALUE<=q&&q<=c.MAX_VALUE}c.MIN_VALUE=-2147483648,c.MAX_VALUE=2147483647,o(e,"is"),c.is=e}(Kte||(Kte={})),function(c){function e(q){return"number"==typeof q&&c.MIN_VALUE<=q&&q<=c.MAX_VALUE}c.MIN_VALUE=0,c.MAX_VALUE=2147483647,o(e,"is"),c.is=e}(Qte||(Qte={})),function(c){function e(c,q){return c===Number.MAX_VALUE&&(c=Qte.MAX_VALUE),q===Number.MAX_VALUE&&(q=Qte.MAX_VALUE),{line:c,character:q}}function r(c){let q=c;return Gne.objectLiteral(q)&&Gne.uinteger(q.line)&&Gne.uinteger(q.character)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Zte||(Zte={})),function(c){function e(c,q,Y,V){if(Gne.uinteger(c)&&Gne.uinteger(q)&&Gne.uinteger(Y)&&Gne.uinteger(V))return{start:Zte.create(c,q),end:Zte.create(Y,V)};if(Zte.is(c)&&Zte.is(q))return{start:c,end:q};throw new Error(`Range#create called with invalid arguments[${c}, ${q}, ${Y}, ${V}]`)}function r(c){let q=c;return Gne.objectLiteral(q)&&Zte.is(q.start)&&Zte.is(q.end)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Jte||(Jte={})),function(c){function e(c,q){return{uri:c,range:q}}function r(c){let q=c;return Gne.objectLiteral(q)&&Jte.is(q.range)&&(Gne.string(q.uri)||Gne.undefined(q.uri))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ere||(ere={})),function(c){function e(c,q,Y,V){return{targetUri:c,targetRange:q,targetSelectionRange:Y,originSelectionRange:V}}function r(c){let q=c;return Gne.objectLiteral(q)&&Jte.is(q.targetRange)&&Gne.string(q.targetUri)&&Jte.is(q.targetSelectionRange)&&(Jte.is(q.originSelectionRange)||Gne.undefined(q.originSelectionRange))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(tre||(tre={})),function(c){function e(c,q,Y,V){return{red:c,green:q,blue:Y,alpha:V}}function r(c){let q=c;return Gne.objectLiteral(q)&&Gne.numberRange(q.red,0,1)&&Gne.numberRange(q.green,0,1)&&Gne.numberRange(q.blue,0,1)&&Gne.numberRange(q.alpha,0,1)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(rre||(rre={})),function(c){function e(c,q){return{range:c,color:q}}function r(c){let q=c;return Gne.objectLiteral(q)&&Jte.is(q.range)&&rre.is(q.color)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(nre||(nre={})),function(c){function e(c,q,Y){return{label:c,textEdit:q,additionalTextEdits:Y}}function r(c){let q=c;return Gne.objectLiteral(q)&&Gne.string(q.label)&&(Gne.undefined(q.textEdit)||pre.is(q))&&(Gne.undefined(q.additionalTextEdits)||Gne.typedArray(q.additionalTextEdits,pre.is))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ire||(ire={})),(c=are||(are={})).Comment="comment",c.Imports="imports",c.Region="region",function(c){function e(c,q,Y,V,Z,re){let ae={startLine:c,endLine:q};return Gne.defined(Y)&&(ae.startCharacter=Y),Gne.defined(V)&&(ae.endCharacter=V),Gne.defined(Z)&&(ae.kind=Z),Gne.defined(re)&&(ae.collapsedText=re),ae}function r(c){let q=c;return Gne.objectLiteral(q)&&Gne.uinteger(q.startLine)&&Gne.uinteger(q.startLine)&&(Gne.undefined(q.startCharacter)||Gne.uinteger(q.startCharacter))&&(Gne.undefined(q.endCharacter)||Gne.uinteger(q.endCharacter))&&(Gne.undefined(q.kind)||Gne.string(q.kind))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(sre||(sre={})),function(c){function e(c,q){return{location:c,message:q}}function r(c){let q=c;return Gne.defined(q)&&ere.is(q.location)&&Gne.string(q.message)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ore||(ore={})),function(c){c.Error=1,c.Warning=2,c.Information=3,c.Hint=4}(lre||(lre={})),function(c){c.Unnecessary=1,c.Deprecated=2}(cre||(cre={})),function(c){function e(c){let q=c;return Gne.objectLiteral(q)&&Gne.string(q.href)}o(e,"is"),c.is=e}(hre||(hre={})),function(c){function e(c,q,Y,V,Z,re){let ae={range:c,message:q};return Gne.defined(Y)&&(ae.severity=Y),Gne.defined(V)&&(ae.code=V),Gne.defined(Z)&&(ae.source=Z),Gne.defined(re)&&(ae.relatedInformation=re),ae}function r(c){var q;let Y=c;return Gne.defined(Y)&&Jte.is(Y.range)&&Gne.string(Y.message)&&(Gne.number(Y.severity)||Gne.undefined(Y.severity))&&(Gne.integer(Y.code)||Gne.string(Y.code)||Gne.undefined(Y.code))&&(Gne.undefined(Y.codeDescription)||Gne.string(null===(q=Y.codeDescription)||void 0===q?void 0:q.href))&&(Gne.string(Y.source)||Gne.undefined(Y.source))&&(Gne.undefined(Y.relatedInformation)||Gne.typedArray(Y.relatedInformation,ore.is))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ure||(ure={})),function(c){function e(c,q,...Y){let V={title:c,command:q};return Gne.defined(Y)&&Y.length>0&&(V.arguments=Y),V}function r(c){let q=c;return Gne.defined(q)&&Gne.string(q.title)&&Gne.string(q.command)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(dre||(dre={})),function(c){function e(c,q){return{range:c,newText:q}}function r(c,q){return{range:{start:c,end:c},newText:q}}function n(c){return{range:c,newText:""}}function i(c){let q=c;return Gne.objectLiteral(q)&&Gne.string(q.newText)&&Jte.is(q.range)}o(e,"replace"),c.replace=e,o(r,"insert"),c.insert=r,o(n,"del"),c.del=n,o(i,"is"),c.is=i}(pre||(pre={})),function(c){function e(c,q,Y){let V={label:c};return void 0!==q&&(V.needsConfirmation=q),void 0!==Y&&(V.description=Y),V}function r(c){let q=c;return Gne.objectLiteral(q)&&Gne.string(q.label)&&(Gne.boolean(q.needsConfirmation)||void 0===q.needsConfirmation)&&(Gne.string(q.description)||void 0===q.description)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(gre||(gre={})),function(c){function e(c){let q=c;return Gne.string(q)}o(e,"is"),c.is=e}(fre||(fre={})),function(c){function e(c,q,Y){return{range:c,newText:q,annotationId:Y}}function r(c,q,Y){return{range:{start:c,end:c},newText:q,annotationId:Y}}function n(c,q){return{range:c,newText:"",annotationId:q}}function i(c){let q=c;return pre.is(q)&&(gre.is(q.annotationId)||fre.is(q.annotationId))}o(e,"replace"),c.replace=e,o(r,"insert"),c.insert=r,o(n,"del"),c.del=n,o(i,"is"),c.is=i}(mre||(mre={})),function(c){function e(c,q){return{textDocument:c,edits:q}}function r(c){let q=c;return Gne.defined(q)&&_re.is(q.textDocument)&&Array.isArray(q.edits)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(yre||(yre={})),function(c){function e(c,q,Y){let V={kind:"create",uri:c};return void 0!==q&&(void 0!==q.overwrite||void 0!==q.ignoreIfExists)&&(V.options=q),void 0!==Y&&(V.annotationId=Y),V}function r(c){let q=c;return q&&"create"===q.kind&&Gne.string(q.uri)&&(void 0===q.options||(void 0===q.options.overwrite||Gne.boolean(q.options.overwrite))&&(void 0===q.options.ignoreIfExists||Gne.boolean(q.options.ignoreIfExists)))&&(void 0===q.annotationId||fre.is(q.annotationId))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(vre||(vre={})),function(c){function e(c,q,Y,V){let Z={kind:"rename",oldUri:c,newUri:q};return void 0!==Y&&(void 0!==Y.overwrite||void 0!==Y.ignoreIfExists)&&(Z.options=Y),void 0!==V&&(Z.annotationId=V),Z}function r(c){let q=c;return q&&"rename"===q.kind&&Gne.string(q.oldUri)&&Gne.string(q.newUri)&&(void 0===q.options||(void 0===q.options.overwrite||Gne.boolean(q.options.overwrite))&&(void 0===q.options.ignoreIfExists||Gne.boolean(q.options.ignoreIfExists)))&&(void 0===q.annotationId||fre.is(q.annotationId))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(xre||(xre={})),function(c){function e(c,q,Y){let V={kind:"delete",uri:c};return void 0!==q&&(void 0!==q.recursive||void 0!==q.ignoreIfNotExists)&&(V.options=q),void 0!==Y&&(V.annotationId=Y),V}function r(c){let q=c;return q&&"delete"===q.kind&&Gne.string(q.uri)&&(void 0===q.options||(void 0===q.options.recursive||Gne.boolean(q.options.recursive))&&(void 0===q.options.ignoreIfNotExists||Gne.boolean(q.options.ignoreIfNotExists)))&&(void 0===q.annotationId||fre.is(q.annotationId))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(bre||(bre={})),function(c){function e(c){let q=c;return q&&(void 0!==q.changes||void 0!==q.documentChanges)&&(void 0===q.documentChanges||q.documentChanges.every(c=>Gne.string(c.kind)?vre.is(c)||xre.is(c)||bre.is(c):yre.is(c)))}o(e,"is"),c.is=e}(wre||(wre={})),function(c){function e(c){return{uri:c}}function r(c){let q=c;return Gne.defined(q)&&Gne.string(q.uri)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(kre||(kre={})),function(c){function e(c,q){return{uri:c,version:q}}function r(c){let q=c;return Gne.defined(q)&&Gne.string(q.uri)&&Gne.integer(q.version)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Tre||(Tre={})),function(c){function e(c,q){return{uri:c,version:q}}function r(c){let q=c;return Gne.defined(q)&&Gne.string(q.uri)&&(null===q.version||Gne.integer(q.version))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(_re||(_re={})),function(c){function e(c,q,Y,V){return{uri:c,languageId:q,version:Y,text:V}}function r(c){let q=c;return Gne.defined(q)&&Gne.string(q.uri)&&Gne.string(q.languageId)&&Gne.integer(q.version)&&Gne.string(q.text)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Ere||(Ere={})),function(c){function e(q){let Y=q;return Y===c.PlainText||Y===c.Markdown}c.PlainText="plaintext",c.Markdown="markdown",o(e,"is"),c.is=e}(Cre||(Cre={})),function(c){function e(c){let q=c;return Gne.objectLiteral(c)&&Cre.is(q.kind)&&Gne.string(q.value)}o(e,"is"),c.is=e}(Sre||(Sre={})),function(c){c.Text=1,c.Method=2,c.Function=3,c.Constructor=4,c.Field=5,c.Variable=6,c.Class=7,c.Interface=8,c.Module=9,c.Property=10,c.Unit=11,c.Value=12,c.Enum=13,c.Keyword=14,c.Snippet=15,c.Color=16,c.File=17,c.Reference=18,c.Folder=19,c.EnumMember=20,c.Constant=21,c.Struct=22,c.Event=23,c.Operator=24,c.TypeParameter=25}(Are||(Are={})),function(c){c.PlainText=1,c.Snippet=2}(Lre||(Lre={})),function(c){c.Deprecated=1}(Nre||(Nre={})),function(c){function e(c,q,Y){return{newText:c,insert:q,replace:Y}}function r(c){let q=c;return q&&Gne.string(q.newText)&&Jte.is(q.insert)&&Jte.is(q.replace)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Ire||(Ire={})),function(c){c.asIs=1,c.adjustIndentation=2}(Mre||(Mre={})),function(c){function e(c){let q=c;return q&&(Gne.string(q.detail)||void 0===q.detail)&&(Gne.string(q.description)||void 0===q.description)}o(e,"is"),c.is=e}(Rre||(Rre={})),function(c){function e(c){return{label:c}}o(e,"create"),c.create=e}(Dre||(Dre={})),function(c){function e(c,q){return{items:c||[],isIncomplete:!!q}}o(e,"create"),c.create=e}(Ore||(Ore={})),function(c){function e(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function r(c){let q=c;return Gne.string(q)||Gne.objectLiteral(q)&&Gne.string(q.language)&&Gne.string(q.value)}o(e,"fromPlainText"),c.fromPlainText=e,o(r,"is"),c.is=r}(Pre||(Pre={})),function(c){function e(c){let q=c;return!!q&&Gne.objectLiteral(q)&&(Sre.is(q.contents)||Pre.is(q.contents)||Gne.typedArray(q.contents,Pre.is))&&(void 0===c.range||Jte.is(c.range))}o(e,"is"),c.is=e}(Bre||(Bre={})),function(c){function e(c,q){return q?{label:c,documentation:q}:{label:c}}o(e,"create"),c.create=e}(Fre||(Fre={})),function(c){function e(c,q,...Y){let V={label:c};return Gne.defined(q)&&(V.documentation=q),Gne.defined(Y)?V.parameters=Y:V.parameters=[],V}o(e,"create"),c.create=e}($re||($re={})),function(c){c.Text=1,c.Read=2,c.Write=3}(zre||(zre={})),function(c){function e(c,q){let Y={range:c};return Gne.number(q)&&(Y.kind=q),Y}o(e,"create"),c.create=e}(Gre||(Gre={})),function(c){c.File=1,c.Module=2,c.Namespace=3,c.Package=4,c.Class=5,c.Method=6,c.Property=7,c.Field=8,c.Constructor=9,c.Enum=10,c.Interface=11,c.Function=12,c.Variable=13,c.Constant=14,c.String=15,c.Number=16,c.Boolean=17,c.Array=18,c.Object=19,c.Key=20,c.Null=21,c.EnumMember=22,c.Struct=23,c.Event=24,c.Operator=25,c.TypeParameter=26}(Ure||(Ure={})),function(c){c.Deprecated=1}(qre||(qre={})),function(c){function e(c,q,Y,V,Z){let re={name:c,kind:q,location:{uri:V,range:Y}};return Z&&(re.containerName=Z),re}o(e,"create"),c.create=e}(jre||(jre={})),function(c){function e(c,q,Y,V){return void 0!==V?{name:c,kind:q,location:{uri:Y,range:V}}:{name:c,kind:q,location:{uri:Y}}}o(e,"create"),c.create=e}(Yre||(Yre={})),function(c){function e(c,q,Y,V,Z,re){let ae={name:c,detail:q,kind:Y,range:V,selectionRange:Z};return void 0!==re&&(ae.children=re),ae}function r(c){let q=c;return q&&Gne.string(q.name)&&Gne.number(q.kind)&&Jte.is(q.range)&&Jte.is(q.selectionRange)&&(void 0===q.detail||Gne.string(q.detail))&&(void 0===q.deprecated||Gne.boolean(q.deprecated))&&(void 0===q.children||Array.isArray(q.children))&&(void 0===q.tags||Array.isArray(q.tags))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Wre||(Wre={})),function(c){c.Empty="",c.QuickFix="quickfix",c.Refactor="refactor",c.RefactorExtract="refactor.extract",c.RefactorInline="refactor.inline",c.RefactorRewrite="refactor.rewrite",c.Source="source",c.SourceOrganizeImports="source.organizeImports",c.SourceFixAll="source.fixAll"}(Hre||(Hre={})),function(c){c.Invoked=1,c.Automatic=2}(Vre||(Vre={})),function(c){function e(c,q,Y){let V={diagnostics:c};return null!=q&&(V.only=q),null!=Y&&(V.triggerKind=Y),V}function r(c){let q=c;return Gne.defined(q)&&Gne.typedArray(q.diagnostics,ure.is)&&(void 0===q.only||Gne.typedArray(q.only,Gne.string))&&(void 0===q.triggerKind||q.triggerKind===Vre.Invoked||q.triggerKind===Vre.Automatic)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Xre||(Xre={})),function(c){function e(c,q,Y){let V={title:c},Z=!0;return"string"==typeof q?(Z=!1,V.kind=q):dre.is(q)?V.command=q:V.edit=q,Z&&void 0!==Y&&(V.kind=Y),V}function r(c){let q=c;return q&&Gne.string(q.title)&&(void 0===q.diagnostics||Gne.typedArray(q.diagnostics,ure.is))&&(void 0===q.kind||Gne.string(q.kind))&&(void 0!==q.edit||void 0!==q.command)&&(void 0===q.command||dre.is(q.command))&&(void 0===q.isPreferred||Gne.boolean(q.isPreferred))&&(void 0===q.edit||wre.is(q.edit))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Kre||(Kre={})),function(c){function e(c,q){let Y={range:c};return Gne.defined(q)&&(Y.data=q),Y}function r(c){let q=c;return Gne.defined(q)&&Jte.is(q.range)&&(Gne.undefined(q.command)||dre.is(q.command))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Qre||(Qre={})),function(c){function e(c,q){return{tabSize:c,insertSpaces:q}}function r(c){let q=c;return Gne.defined(q)&&Gne.uinteger(q.tabSize)&&Gne.boolean(q.insertSpaces)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Zre||(Zre={})),function(c){function e(c,q,Y){return{range:c,target:q,data:Y}}function r(c){let q=c;return Gne.defined(q)&&Jte.is(q.range)&&(Gne.undefined(q.target)||Gne.string(q.target))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Jre||(Jre={})),function(c){function e(c,q){return{range:c,parent:q}}function r(q){let Y=q;return Gne.objectLiteral(Y)&&Jte.is(Y.range)&&(void 0===Y.parent||c.is(Y.parent))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ene||(ene={})),function(c){c.namespace="namespace",c.type="type",c.class="class",c.enum="enum",c.interface="interface",c.struct="struct",c.typeParameter="typeParameter",c.parameter="parameter",c.variable="variable",c.property="property",c.enumMember="enumMember",c.event="event",c.function="function",c.method="method",c.macro="macro",c.keyword="keyword",c.modifier="modifier",c.comment="comment",c.string="string",c.number="number",c.regexp="regexp",c.operator="operator",c.decorator="decorator"}(tne||(tne={})),function(c){c.declaration="declaration",c.definition="definition",c.readonly="readonly",c.static="static",c.deprecated="deprecated",c.abstract="abstract",c.async="async",c.modification="modification",c.documentation="documentation",c.defaultLibrary="defaultLibrary"}(rne||(rne={})),function(c){function e(c){let q=c;return Gne.objectLiteral(q)&&(void 0===q.resultId||"string"==typeof q.resultId)&&Array.isArray(q.data)&&(0===q.data.length||"number"==typeof q.data[0])}o(e,"is"),c.is=e}(nne||(nne={})),function(c){function e(c,q){return{range:c,text:q}}function r(c){let q=c;return null!=q&&Jte.is(q.range)&&Gne.string(q.text)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ine||(ine={})),function(c){function e(c,q,Y){return{range:c,variableName:q,caseSensitiveLookup:Y}}function r(c){let q=c;return null!=q&&Jte.is(q.range)&&Gne.boolean(q.caseSensitiveLookup)&&(Gne.string(q.variableName)||void 0===q.variableName)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(ane||(ane={})),function(c){function e(c,q){return{range:c,expression:q}}function r(c){let q=c;return null!=q&&Jte.is(q.range)&&(Gne.string(q.expression)||void 0===q.expression)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(sne||(sne={})),function(c){function e(c,q){return{frameId:c,stoppedLocation:q}}function r(c){let q=c;return Gne.defined(q)&&Jte.is(c.stoppedLocation)}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(une||(une={})),function(c){function e(c){return 1===c||2===c}c.Type=1,c.Parameter=2,o(e,"is"),c.is=e}(fne||(fne={})),function(c){function e(c){return{value:c}}function r(c){let q=c;return Gne.objectLiteral(q)&&(void 0===q.tooltip||Gne.string(q.tooltip)||Sre.is(q.tooltip))&&(void 0===q.location||ere.is(q.location))&&(void 0===q.command||dre.is(q.command))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(mne||(mne={})),function(c){function e(c,q,Y){let V={position:c,label:q};return void 0!==Y&&(V.kind=Y),V}function r(c){let q=c;return Gne.objectLiteral(q)&&Zte.is(q.position)&&(Gne.string(q.label)||Gne.typedArray(q.label,mne.is))&&(void 0===q.kind||fne.is(q.kind))&&void 0===q.textEdits||Gne.typedArray(q.textEdits,pre.is)&&(void 0===q.tooltip||Gne.string(q.tooltip)||Sre.is(q.tooltip))&&(void 0===q.paddingLeft||Gne.boolean(q.paddingLeft))&&(void 0===q.paddingRight||Gne.boolean(q.paddingRight))}o(e,"create"),c.create=e,o(r,"is"),c.is=r}(Ene||(Ene={})),function(c){function e(c){return{kind:"snippet",value:c}}o(e,"createSnippet"),c.createSnippet=e}(Lne||(Lne={})),function(c){function e(c,q,Y,V){return{insertText:c,filterText:q,range:Y,command:V}}o(e,"create"),c.create=e}(Ine||(Ine={})),function(c){function e(c){return{items:c}}o(e,"create"),c.create=e}(Mne||(Mne={})),function(c){c.Invoked=0,c.Automatic=1}(Rne||(Rne={})),function(c){function e(c,q){return{range:c,text:q}}o(e,"create"),c.create=e}(One||(One={})),function(c){function e(c,q){return{triggerKind:c,selectedCompletionInfo:q}}o(e,"create"),c.create=e}(Pne||(Pne={})),function(c){function e(c){let q=c;return Gne.objectLiteral(q)&&Xte.is(q.uri)&&Gne.string(q.name)}o(e,"is"),c.is=e}(Bne||(Bne={})),function(c){function e(c,q,Y,V){return new zne(c,q,Y,V)}function r(c){let q=c;return!!(Gne.defined(q)&&Gne.string(q.uri)&&(Gne.undefined(q.languageId)||Gne.string(q.languageId))&&Gne.uinteger(q.lineCount)&&Gne.func(q.getText)&&Gne.func(q.positionAt)&&Gne.func(q.offsetAt))}function n(c,q){let Y=c.getText(),V=i(q,(c,q)=>{let Y=c.range.start.line-q.range.start.line;return 0===Y?c.range.start.character-q.range.start.character:Y}),Z=Y.length;for(let q=V.length-1;q>=0;q--){let re=V[q],ae=c.offsetAt(re.range.start),se=c.offsetAt(re.range.end);if(!(se<=Z))throw new Error("Overlapping edit");Y=Y.substring(0,ae)+re.newText+Y.substring(se,Y.length),Z=ae}return Y}function i(c,q){if(c.length<=1)return c;let Y=c.length/2|0,V=c.slice(0,Y),Z=c.slice(Y);i(V,q),i(Z,q);let re=0,ae=0,se=0;for(;re<V.length&&ae<Z.length;)q(V[re],Z[ae])<=0?c[se++]=V[re++]:c[se++]=Z[ae++];for(;re<V.length;)c[se++]=V[re++];for(;ae<Z.length;)c[se++]=Z[ae++];return c}o(e,"create"),c.create=e,o(r,"is"),c.is=r,o(n,"applyEdits"),c.applyEdits=n,o(i,"mergeSort")}($ne||($ne={})),zne=class{static{o(this,"FullTextDocument")}constructor(c,q,Y,V){this._uri=c,this._languageId=q,this._version=Y,this._content=V,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(c){if(c){let q=this.offsetAt(c.start),Y=this.offsetAt(c.end);return this._content.substring(q,Y)}return this._content}update(c,q){this._content=c.text,this._version=q,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let c=[],q=this._content,Y=!0;for(let V=0;V<q.length;V++){Y&&(c.push(V),Y=!1);let Z=q.charAt(V);Y="\r"===Z||"\n"===Z,"\r"===Z&&V+1<q.length&&"\n"===q.charAt(V+1)&&V++}Y&&q.length>0&&c.push(q.length),this._lineOffsets=c}return this._lineOffsets}positionAt(c){c=Math.max(Math.min(c,this._content.length),0);let q=this.getLineOffsets(),Y=0,V=q.length;if(0===V)return Zte.create(0,c);for(;Y<V;){let Z=Math.floor((Y+V)/2);q[Z]>c?V=Z:Y=Z+1}let Z=Y-1;return Zte.create(Z,c-q[Z])}offsetAt(c){let q=this.getLineOffsets();if(c.line>=q.length)return this._content.length;if(c.line<0)return 0;let Y=q[c.line],V=c.line+1<q.length?q[c.line+1]:this._content.length;return Math.max(Math.min(Y+c.character,V),Y)}get lineCount(){return this.getLineOffsets().length}},function(c){let q=Object.prototype.toString;function r(c){return typeof c<"u"}function n(c){return typeof c>"u"}function i(c){return!0===c||!1===c}function a(c){return"[object String]"===q.call(c)}function s(c){return"[object Number]"===q.call(c)}function l(c,Y,V){return"[object Number]"===q.call(c)&&Y<=c&&c<=V}function u(c){return"[object Number]"===q.call(c)&&-2147483648<=c&&c<=2147483647}function h(c){return"[object Number]"===q.call(c)&&0<=c&&c<=2147483647}function f(c){return"[object Function]"===q.call(c)}function d(c){return null!==c&&"object"==typeof c}function p(c,q){return Array.isArray(c)&&c.every(q)}o(r,"defined"),c.defined=r,o(n,"undefined"),c.undefined=n,o(i,"boolean"),c.boolean=i,o(a,"string"),c.string=a,o(s,"number"),c.number=s,o(l,"numberRange"),c.numberRange=l,o(u,"integer"),c.integer=u,o(h,"uinteger"),c.uinteger=h,o(f,"func"),c.func=f,o(d,"objectLiteral"),c.objectLiteral=d,o(p,"typedArray"),c.typedArray=p}(Gne||(Gne={}))}),fie=M(()=>{gie(),X5(),f3(),jne=class{static{o(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(c){return this.rootNode=new sie(c),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(c){let q=new rie;return q.grammarSource=c,q.root=this.rootNode,this.current.content.push(q),this.nodeStack.push(q),q}buildLeafNode(c,q){let Y=new eie(c.startOffset,c.image.length,$m(c),c.tokenType,!1);return Y.grammarSource=q,Y.root=this.rootNode,this.current.content.push(Y),Y}removeNode(c){let q=c.container;if(q){let Y=q.content.indexOf(c);Y>=0&&q.content.splice(Y,1)}}construct(c){let q=this.current;"string"==typeof c.$type&&(this.current.astNode=c),c.$cstNode=q;let Y=this.nodeStack.pop();0===Y?.content.length&&this.removeNode(Y)}addHiddenTokens(c){for(let q of c){let c=new eie(q.startOffset,q.image.length,$m(q),q.tokenType,!0);c.root=this.rootNode,this.addHiddenToken(this.rootNode,c)}}addHiddenToken(c,q){let{offset:Y,end:V}=q;for(let Z=0;Z<c.content.length;Z++){let re=c.content[Z],{offset:ae,end:se}=re;if(io(re)&&Y>ae&&V<se)return void this.addHiddenToken(re,q);if(V<=ae)return void c.content.splice(Z,0,q)}c.content.push(q)}},Vne=class{static{o(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var c,q;let Y="string"==typeof(null===(c=this._astNode)||void 0===c?void 0:c.$type)?this._astNode:null===(q=this.container)||void 0===q?void 0:q.astNode;if(!Y)throw new Error("This node has no associated AST element");return Y}set astNode(c){this._astNode=c}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},eie=class extends Vne{static{o(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(c,q,Y,V,Z=!1){super(),this._hidden=Z,this._offset=c,this._tokenType=V,this._length=q,this._range=Y}},rie=class extends Vne{static{o(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new iie(this)}get children(){return this.content}get offset(){var c,q;return null!==(q=null===(c=this.firstNonHiddenNode)||void 0===c?void 0:c.offset)&&void 0!==q?q:0}get length(){return this.end-this.offset}get end(){var c,q;return null!==(q=null===(c=this.lastNonHiddenNode)||void 0===c?void 0:c.end)&&void 0!==q?q:0}get range(){let c=this.firstNonHiddenNode,q=this.lastNonHiddenNode;if(c&&q){if(void 0===this._rangeCache){let{range:Y}=c,{range:V}=q;this._rangeCache={start:Y.start,end:V.end.line<Y.start.line?Y.start:V.end}}return this._rangeCache}return{start:Zte.create(0,0),end:Zte.create(0,0)}}get firstNonHiddenNode(){for(let c of this.content)if(!c.hidden)return c;return this.content[0]}get lastNonHiddenNode(){for(let c=this.content.length-1;c>=0;c--){let q=this.content[c];if(!q.hidden)return q}return this.content[this.content.length-1]}},iie=class t extends Array{static{o(this,"CstNodeContainer")}constructor(c){super(),this.parent=c,Object.setPrototypeOf(this,t.prototype)}push(...c){return this.addParents(c),super.push(...c)}unshift(...c){return this.addParents(c),super.unshift(...c)}splice(c,q,...Y){return this.addParents(Y),super.splice(c,q,...Y)}addParents(c){for(let q of c)q.container=this.parent}},sie=class extends rie{static{o(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(c){super(),this._text="",this._text=c??""}}});function fM(c){return c.$type===mie}var mie,bie,Tie,_ie,Sie,Aie,Lie,Nie,Iie,Mie=M(()=>{Cte(),uie(),N6(),h7(),M6(),fie(),mie=Symbol("Datatype"),o(fM,"isDataTypeNode"),bie=o(c=>c.endsWith("​")?c:c+"​","withRuleSuffix"),Tie=class{static{o(this,"AbstractLangiumParser")}constructor(c){this._unorderedGroups=new Map,this.lexer=c.parser.Lexer;let q=this.lexer.definition;this.wrapper=new Iie(q,Object.assign(Object.assign({},c.parser.ParserConfig),{errorMessageProvider:c.parser.ParserErrorMessageProvider}))}alternatives(c,q){this.wrapper.wrapOr(c,q)}optional(c,q){this.wrapper.wrapOption(c,q)}many(c,q){this.wrapper.wrapMany(c,q)}atLeastOne(c,q){this.wrapper.wrapAtLeastOne(c,q)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},_ie=class extends Tie{static{o(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(c){super(c),this.nodeBuilder=new jne,this.stack=[],this.assignmentMap=new Map,this.linker=c.references.Linker,this.converter=c.parser.ValueConverter,this.astReflection=c.shared.AstReflection}rule(c,q){let Y=c.fragment?void 0:e2(c)?mie:Zd(c),V=this.wrapper.DEFINE_RULE(bie(c.name),this.startImplementation(Y,q).bind(this));return c.entry&&(this.mainRule=V),V}parse(c){this.nodeBuilder.buildRootNode(c);let q=this.lexer.tokenize(c);this.wrapper.input=q.tokens;let Y=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(q.hidden),this.unorderedGroups.clear(),{value:Y,lexerErrors:q.errors,parserErrors:this.wrapper.errors}}startImplementation(c,q){return Y=>{if(!this.isRecording()){let q={$type:c};this.stack.push(q),c===mie&&(q.value="")}let V;try{V=q(Y)}catch{V=void 0}return!this.isRecording()&&void 0===V&&(V=this.construct()),V}}consume(c,q,Y){let V=this.wrapper.wrapConsume(c,q);if(!this.isRecording()&&this.isValidToken(V)){let c=this.nodeBuilder.buildLeafNode(V,Y),{assignment:q,isCrossRef:Z}=this.getAssignment(Y),re=this.current;if(q){let re=Xo(Y)?V.image:this.converter.convert(V.image,c);this.assign(q.operator,q.feature,re,c,Z)}else if(fM(re)){let q=V.image;Xo(Y)||(q=this.converter.convert(q,c).toString()),re.value+=q}}}isValidToken(c){return!c.isInsertedInRecovery&&!isNaN(c.startOffset)&&"number"==typeof c.endOffset&&!isNaN(c.endOffset)}subrule(c,q,Y,V){let Z;this.isRecording()||(Z=this.nodeBuilder.buildCompositeNode(Y));let re=this.wrapper.wrapSubrule(c,q,V);!this.isRecording()&&Z&&Z.length>0&&this.performSubruleAssignment(re,Y,Z)}performSubruleAssignment(c,q,Y){let{assignment:V,isCrossRef:Z}=this.getAssignment(q);if(V)this.assign(V.operator,V.feature,c,Y,Z);else if(!V){let q=this.current;if(fM(q))q.value+=c.toString();else if("object"==typeof c&&c){let Y=c.$type,V=this.assignWithoutOverride(c,q);Y&&(V.$type=Y);let Z=V;this.stack.pop(),this.stack.push(Z)}}}action(c,q){if(!this.isRecording()){let Y=this.current;if(!Y.$cstNode&&q.feature&&q.operator){Y=this.construct(!1);let c=Y.$cstNode.feature;this.nodeBuilder.buildCompositeNode(c)}let V={$type:c};this.stack.pop(),this.stack.push(V),q.feature&&q.operator&&this.assign(q.operator,q.feature,Y,Y.$cstNode,!1)}}construct(c=!0){if(this.isRecording())return;let q=this.current;return CT(q),this.nodeBuilder.construct(q),c&&this.stack.pop(),fM(q)?this.converter.convert(q.value,q.$cstNode):($N(this.astReflection,q),q)}getAssignment(c){if(!this.assignmentMap.has(c)){let q=qd(c,Il);this.assignmentMap.set(c,{assignment:q,isCrossRef:!!q&&Yd(q.terminal)})}return this.assignmentMap.get(c)}assign(c,q,Y,V,Z){let re,ae=this.current;switch(re=Z&&"string"==typeof Y?this.linker.buildReference(ae,q,V,Y):Y,c){case"=":ae[q]=re;break;case"?=":ae[q]=!0;break;case"+=":Array.isArray(ae[q])||(ae[q]=[]),ae[q].push(re)}}assignWithoutOverride(c,q){for(let[Y,V]of Object.entries(q)){let q=c[Y];void 0===q?c[Y]=V:Array.isArray(q)&&Array.isArray(V)&&(V.push(...q),c[Y]=V)}return c}get definitionErrors(){return this.wrapper.definitionErrors}},Sie=class{static{o(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(c){return z9.buildMismatchTokenMessage(c)}buildNotAllInputParsedMessage(c){return z9.buildNotAllInputParsedMessage(c)}buildNoViableAltMessage(c){return z9.buildNoViableAltMessage(c)}buildEarlyExitMessage(c){return z9.buildEarlyExitMessage(c)}},Aie=class extends Sie{static{o(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:c,actual:q}){return`Expecting ${c.LABEL?"`"+c.LABEL+"`":c.name.endsWith(":KW")?`keyword '${c.name.substring(0,c.name.length-3)}'`:`token of type '${c.name}'`} but found \`${q.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:c}){return`Expecting end of file but found \`${c.image}\`.`}},Lie=class extends Tie{static{o(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(c){this.resetState();let q=this.lexer.tokenize(c);return this.tokens=q.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(c,q){let Y=this.wrapper.DEFINE_RULE(bie(c.name),this.startImplementation(q).bind(this));return c.entry&&(this.mainRule=Y),Y}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(c){return q=>{let Y=this.keepStackSize();try{c(q)}finally{this.resetStackSize(Y)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let c=this.elementStack.length;return this.stackSize=c,c}resetStackSize(c){this.removeUnexpectedElements(),this.stackSize=c}consume(c,q,Y){this.wrapper.wrapConsume(c,q),this.isRecording()||(this.lastElementStack=[...this.elementStack,Y],this.nextTokenIndex=this.currIdx+1)}subrule(c,q,Y,V){this.before(Y),this.wrapper.wrapSubrule(c,q,V),this.after(Y)}before(c){this.isRecording()||this.elementStack.push(c)}after(c){if(!this.isRecording()){let q=this.elementStack.lastIndexOf(c);q>=0&&this.elementStack.splice(q)}}get currIdx(){return this.wrapper.currIdx}},Nie={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Aie},Iie=class extends bte{static{o(this,"ChevrotainWrapper")}constructor(c,q){let Y=q&&"maxLookahead"in q;super(c,Object.assign(Object.assign(Object.assign({},Nie),{lookaheadStrategy:Y?new Ree({maxLookahead:q.maxLookahead}):new Hte}),q))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(c,q){return this.RULE(c,q)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(c,q){return this.consume(c,q)}wrapSubrule(c,q,Y){return this.subrule(c,q,{ARGS:[Y]})}wrapOr(c,q){this.or(c,q)}wrapOption(c,q){this.option(c,q)}wrapMany(c,q){this.many(c,q)}wrapAtLeastOne(c,q){this.atLeastOne(c,q)}}});function Dk(c,q,Y){return yze({parser:q,tokens:Y,rules:new Map,ruleNames:new Map},c),q}function yze(c,q){let Y=Zv(q,!1),V=tn(q.rules).filter(Ma).filter(c=>Y.has(c));for(let q of V){let Y=Object.assign(Object.assign({},c),{consume:1,optional:1,subrule:1,many:1,or:1});Y.rules.set(q.name,c.parser.rule(q,h0(Y,q.definition)))}}function h0(c,q,Y=!1){let V;if(Xo(q))V=Eze(c,q);else if(Ru(q))V=vze(c,q);else if(Il(q))V=h0(c,q.terminal);else if(Yd(q))V=ece(c,q);else if(Ol(q))V=xze(c,q);else if(kT(q))V=wze(c,q);else if(ST(q))V=Tze(c,q);else if(tf(q))V=kze(c,q);else{if(!wN(q))throw new y3(q.$cstNode,`Unexpected element type: ${q.$type}`);{let Y=c.consume++;V=o(()=>c.parser.consume(Y,B9,q),"method")}}return tce(c,Y?void 0:Lk(q),V,q.cardinality)}function vze(c,q){let Y=Zd(q);return()=>c.parser.action(Y,q)}function xze(c,q){let Y=q.rule.ref;if(Ma(Y)){let V=c.subrule++,Z=q.arguments.length>0?bze(Y,q.arguments):()=>({});return re=>c.parser.subrule(V,rce(c,Y),q,Z(re))}if(qo(Y)){let V=c.consume++,Z=pM(c,Y.name);return()=>c.parser.consume(V,Z,q)}if(!Y)throw new y3(q.$cstNode,`Undefined rule type: ${q.$type}`);ef()}function bze(c,q){let Y=q.map(c=>Gu(c.value));return q=>{let V={};for(let Z=0;Z<Y.length;Z++){let re=c.parameters[Z],ae=Y[Z];V[re.name]=ae(q)}return V}}function Gu(c){if(jD(c)){let q=Gu(c.left),Y=Gu(c.right);return c=>q(c)||Y(c)}if(qD(c)){let q=Gu(c.left),Y=Gu(c.right);return c=>q(c)&&Y(c)}if(eN(c)){let q=Gu(c.value);return c=>!q(c)}if(iN(c)){let q=c.parameter.ref.name;return c=>void 0!==c&&!0===c[q]}if(WD(c)){let q=!!c.true;return()=>q}ef()}function wze(c,q){if(1===q.elements.length)return h0(c,q.elements[0]);{let Y=[];for(let V of q.elements){let q={ALT:h0(c,V,!0)},Z=Lk(V);Z&&(q.GATE=Gu(Z)),Y.push(q)}let V=c.or++;return q=>c.parser.alternatives(V,Y.map(c=>{let Y={ALT:o(()=>c.ALT(q),"ALT")},V=c.GATE;return V&&(Y.GATE=()=>V(q)),Y}))}}function Tze(c,q){if(1===q.elements.length)return h0(c,q.elements[0]);let Y=[];for(let V of q.elements){let q={ALT:h0(c,V,!0)},Z=Lk(V);Z&&(q.GATE=Gu(Z)),Y.push(q)}let V=c.or++,Z=o((c,q)=>`uGroup_${c}_${q.getRuleStack().join("-")}`,"idFunc"),re=o(q=>c.parser.alternatives(V,Y.map((Y,re)=>{let ae={ALT:o(()=>!0,"ALT")},se=c.parser;ae.ALT=()=>{if(Y.ALT(q),!se.isRecording()){let c=Z(V,se);se.unorderedGroups.get(c)||se.unorderedGroups.set(c,[]);let q=se.unorderedGroups.get(c);typeof q?.[re]>"u"&&(q[re]=!0)}};let oe=Y.GATE;return ae.GATE=oe?()=>oe(q):()=>{let c=se.unorderedGroups.get(Z(V,se));return!c?.[re]},ae})),"alternatives"),ae=tce(c,Lk(q),re,"*");return q=>{ae(q),c.parser.isRecording()||c.parser.unorderedGroups.delete(Z(V,c.parser))}}function kze(c,q){let Y=q.elements.map(q=>h0(c,q));return c=>Y.forEach(q=>q(c))}function Lk(c){if(tf(c))return c.guardCondition}function ece(c,q,Y=q.terminal){if(Y){if(Ol(Y)&&Ma(Y.rule.ref)){let V=c.subrule++;return Z=>c.parser.subrule(V,rce(c,Y.rule.ref),q,Z)}if(Ol(Y)&&qo(Y.rule.ref)){let V=c.consume++,Z=pM(c,Y.rule.ref.name);return()=>c.parser.consume(V,Z,q)}if(Xo(Y)){let V=c.consume++,Z=pM(c,Y.value);return()=>c.parser.consume(V,Z,q)}throw new Error("Could not build cross reference parser")}{if(!q.type.ref)throw new Error("Could not resolve reference to type: "+q.type.$refText);let Y=RT(q.type.ref),V=Y?.terminal;if(!V)throw new Error("Could not find name assignment for type: "+Zd(q.type.ref));return ece(c,q,V)}}function Eze(c,q){let Y=c.consume++,V=c.tokens[q.value];if(!V)throw new Error("Could not find token for keyword: "+q.value);return()=>c.parser.consume(Y,V,q)}function tce(c,q,Y,V){let Z=q&&Gu(q);if(!V){if(Z){let q=c.or++;return V=>c.parser.alternatives(q,[{ALT:o(()=>Y(V),"ALT"),GATE:o(()=>Z(V),"GATE")},{ALT:vk(),GATE:o(()=>!Z(V),"GATE")}])}return Y}if("*"===V){let q=c.many++;return V=>c.parser.many(q,{DEF:o(()=>Y(V),"DEF"),GATE:Z?()=>Z(V):void 0})}if("+"===V){let q=c.many++;if(Z){let V=c.or++;return re=>c.parser.alternatives(V,[{ALT:o(()=>c.parser.atLeastOne(q,{DEF:o(()=>Y(re),"DEF")}),"ALT"),GATE:o(()=>Z(re),"GATE")},{ALT:vk(),GATE:o(()=>!Z(re),"GATE")}])}return V=>c.parser.atLeastOne(q,{DEF:o(()=>Y(V),"DEF")})}if("?"===V){let q=c.optional++;return V=>c.parser.optional(q,{DEF:o(()=>Y(V),"DEF"),GATE:Z?()=>Z(V):void 0})}ef()}function rce(c,q){let Y=Sze(c,q),V=c.rules.get(Y);if(!V)throw new Error(`Rule "${Y}" not found."`);return V}function Sze(c,q){if(Ma(q))return q.name;if(c.ruleNames.has(q))return c.ruleNames.get(q);{let Y=q,V=Y.$container,Z=q.$type;for(;!Ma(V);)(tf(V)||kT(V)||ST(V))&&(Z=V.elements.indexOf(Y).toString()+":"+Z),Y=V,V=V.$container;return Z=V.name+":"+Z,c.ruleNames.set(q,Z),Z}}function pM(c,q){let Y=c.tokens[q];if(!Y)throw new Error(`Token "${q}" not found."`);return Y}var Rie=M(()=>{Cte(),N6(),v3(),n3(),h7(),o(Dk,"createParser"),o(yze,"buildRules"),o(h0,"buildElement"),o(vze,"buildAction"),o(xze,"buildRuleCall"),o(bze,"buildRuleCallPredicate"),o(Gu,"buildPredicate"),o(wze,"buildAlternatives"),o(Tze,"buildUnorderedGroup"),o(kze,"buildGroup"),o(Lk,"getGuardCondition"),o(ece,"buildCrossReference"),o(Eze,"buildKeyword"),o(tce,"wrap"),o(rce,"getRule"),o(Sze,"getRuleName"),o(pM,"getToken")});function gM(c){let q=c.Grammar,Y=c.parser.Lexer,V=new Lie(c);return Dk(q,V,Y.definition),V.finalize(),V}var Die=M(()=>{Mie(),Rie(),o(gM,"createCompletionParser")});function vM(c){let q=nce(c);return q.finalize(),q}function nce(c){let q=c.Grammar,Y=c.parser.Lexer;return Dk(q,new _ie(c),Y.definition)}var Oie,Pie,Bie,Fie=M(()=>{Mie(),Rie(),o(vM,"createLangiumParser"),o(nce,"prepareLangiumParser")}),$ie=M(()=>{Cte(),N6(),M6(),h7(),o7(),n3(),Oie=class{static{o(this,"DefaultTokenBuilder")}buildTokens(c,q){let Y=tn(Zv(c,!1)),V=this.buildTerminalTokens(Y),Z=this.buildKeywordTokens(Y,V,q);return V.forEach(c=>{let q=c.PATTERN;"object"==typeof q&&q&&"test"in q&&DT(q)?Z.unshift(c):Z.push(c)}),Z}buildTerminalTokens(c){return c.filter(qo).filter(c=>!c.fragment).map(c=>this.buildTerminalToken(c)).toArray()}buildTerminalToken(c){let q=Ym(c),Y=this.requiresCustomPattern(q)?this.regexPatternFunction(q):q,V={name:c.name,PATTERN:Y,LINE_BREAKS:!0};return c.hidden&&(V.GROUP=DT(q)?p9.SKIPPED:"hidden"),V}requiresCustomPattern(c){return!!c.flags.includes("u")||!(!c.source.includes("?<=")&&!c.source.includes("?<!"))}regexPatternFunction(c){let q=new RegExp(c,c.flags+"y");return(c,Y)=>(q.lastIndex=Y,q.exec(c))}buildKeywordTokens(c,q,Y){return c.filter(Ma).flatMap(c=>_c(c).filter(Xo)).distinct(c=>c.value).toArray().sort((c,q)=>q.value.length-c.value.length).map(c=>this.buildKeywordToken(c,q,!!Y?.caseInsensitive))}buildKeywordToken(c,q,Y){return{name:c.value,PATTERN:this.buildKeywordPattern(c,Y),LONGER_ALT:this.findLongerAlt(c,q)}}buildKeywordPattern(c,q){return q?new RegExp(XN(c.value)):c.value}findLongerAlt(c,q){return q.reduce((q,Y)=>{let V=Y?.PATTERN;return V?.source&&jN("^"+V.source+"$",c.value)&&q.push(Y),q},[])}}}),zie=M(()=>{N6(),h7(),Pie=class{static{o(this,"DefaultValueConverter")}convert(c,q){let Y=q.grammarSource;if(Yd(Y)&&(Y=ZN(Y)),Ol(Y)){let V=Y.rule.ref;if(!V)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(V,c,q)}return c}runConverter(c,q,Y){var V;switch(c.name.toUpperCase()){case"INT":return Bie.convertInt(q);case"STRING":return Bie.convertString(q);case"ID":return Bie.convertID(q)}switch(null===(V=sR(c))||void 0===V?void 0:V.toLowerCase()){case"number":return Bie.convertNumber(q);case"boolean":return Bie.convertBoolean(q);case"bigint":return Bie.convertBigint(q);case"date":return Bie.convertDate(q);default:return q}}},function(c){function e(c){let q="";for(let Y=1;Y<c.length-1;Y++){let V=c.charAt(Y);if("\\"===V){q+=r(c.charAt(++Y))}else q+=V}return q}function r(c){switch(c){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return c}}function n(c){return"^"===c.charAt(0)?c.substring(1):c}function i(c){return parseInt(c)}function a(c){return BigInt(c)}function s(c){return new Date(c)}function l(c){return Number(c)}function u(c){return"true"===c.toLowerCase()}o(e,"convertString"),c.convertString=e,o(r,"convertEscapeCharacter"),o(n,"convertID"),c.convertID=n,o(i,"convertInt"),c.convertInt=i,o(a,"convertBigint"),c.convertBigint=a,o(s,"convertDate"),c.convertDate=s,o(l,"convertNumber"),c.convertNumber=l,o(u,"convertBoolean"),c.convertBoolean=u}(Bie||(Bie={}))}),Gie=Ni(c=>{var q;function kM(){if(void 0===q)throw new Error("No runtime abstraction layer installed");return q}Object.defineProperty(c,"__esModule",{value:!0}),o(kM,"RAL"),function(c){function e(c){if(void 0===c)throw new Error("No runtime abstraction layer provided");q=c}o(e,"install"),c.install=e}(kM||(kM={})),c.default=kM}),Uie=Ni(c=>{function Cze(c){return!0===c||!1===c}function ice(c){return"string"==typeof c||c instanceof String}function Aze(c){return"number"==typeof c||c instanceof Number}function _ze(c){return c instanceof Error}function Lze(c){return"function"==typeof c}function ace(c){return Array.isArray(c)}function Dze(c){return ace(c)&&c.every(c=>ice(c))}Object.defineProperty(c,"__esModule",{value:!0}),c.stringArray=c.array=c.func=c.error=c.number=c.string=c.boolean=void 0,o(Cze,"boolean"),c.boolean=Cze,o(ice,"string"),c.string=ice,o(Aze,"number"),c.number=Aze,o(_ze,"error"),c.error=_ze,o(Lze,"func"),c.func=Lze,o(ace,"array"),c.array=ace,o(Dze,"stringArray"),c.stringArray=Dze}),qie=Ni(c=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Emitter=c.Event=void 0;var q,Y=Gie();!function(c){let q={dispose(){}};c.None=function(){return q}}(q||(c.Event=q={}));var V=class{static{o(this,"CallbackList")}add(c,q=null,Y){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(c),this._contexts.push(q),Array.isArray(Y)&&Y.push({dispose:o(()=>this.remove(c,q),"dispose")})}remove(c,q=null){if(!this._callbacks)return;let Y=!1;for(let V=0,Z=this._callbacks.length;V<Z;V++)if(this._callbacks[V]===c){if(this._contexts[V]===q)return this._callbacks.splice(V,1),void this._contexts.splice(V,1);Y=!0}if(Y)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...c){if(!this._callbacks)return[];let q=[],V=this._callbacks.slice(0),Z=this._contexts.slice(0);for(let re=0,ae=V.length;re<ae;re++)try{q.push(V[re].apply(Z[re],c))}catch(c){(0,Y.default)().console.error(c)}return q}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}},Z=class t{static{o(this,"Emitter")}constructor(c){this._options=c}get event(){return this._event||(this._event=(c,q,Y)=>{this._callbacks||(this._callbacks=new V),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(c,q);let Z={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(c,q),Z.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(Y)&&Y.push(Z),Z}),this._event}fire(c){this._callbacks&&this._callbacks.invoke.call(this._callbacks,c)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};c.Emitter=Z,Z._noop=function(){}}),jie=Ni(c=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CancellationTokenSource=c.CancellationToken=void 0;var q,Y=Gie(),V=Uie(),Z=qie();!function(c){function e(q){let Y=q;return Y&&(Y===c.None||Y===c.Cancelled||V.boolean(Y.isCancellationRequested)&&!!Y.onCancellationRequested)}c.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Z.Event.None}),c.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Z.Event.None}),o(e,"is"),c.is=e}(q||(c.CancellationToken=q={}));var re=Object.freeze(function(c,q){let V=(0,Y.default)().timer.setTimeout(c.bind(q),0);return{dispose(){V.dispose()}}}),ae=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?re:(this._emitter||(this._emitter=new Z.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},se=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new ae),this._token}cancel(){this._token?this._token.cancel():this._token=q.Cancelled}dispose(){this._token?this._token instanceof ae&&this._token.dispose():this._token=q.None}};c.CancellationTokenSource=se}),Yie={},Wie=M(()=>{Er(Yie,ka(jie(),1))});function NM(){return new Promise(c=>{typeof setImmediate>"u"?setTimeout(c,0):setImmediate(c)})}function uce(){return Hie=Date.now(),new Yie.CancellationTokenSource}function hce(c){Vie=c}function sf(c){return c===Xie}async function Gi(c){if(c===Yie.CancellationToken.None)return;let q=Date.now();if(q-Hie>=Vie&&(Hie=q,await NM()),c.isCancellationRequested)throw Xie}var Hie,Vie,Xie,Kie,Qie=M(()=>{Wie(),o(NM,"delayNextTick"),Hie=0,Vie=10,o(uce,"startCancelableOperation"),o(hce,"setInterruptionPeriod"),Xie=Symbol("OperationCancelled"),o(sf,"isOperationCancelled"),o(Gi,"interruptAndCheck"),Kie=class{static{o(this,"Deferred")}constructor(){this.promise=new Promise((c,q)=>{this.resolve=q=>(c(q),this),this.reject=c=>(q(c),this)})}}});function RM(c,q){if(c.length<=1)return c;let Y=c.length/2|0,V=c.slice(0,Y),Z=c.slice(Y);RM(V,q),RM(Z,q);let re=0,ae=0,se=0;for(;re<V.length&&ae<Z.length;)q(V[re],Z[ae])<=0?c[se++]=V[re++]:c[se++]=Z[ae++];for(;re<V.length;)c[se++]=V[re++];for(;ae<Z.length;)c[se++]=Z[ae++];return c}function fce(c,q,Y=0){let V=q?[Y]:[];for(let q=0;q<c.length;q++){let Z=c.charCodeAt(q);dce(Z)&&(13===Z&&q+1<c.length&&10===c.charCodeAt(q+1)&&q++,V.push(Y+q+1))}return V}function dce(c){return 13===c||10===c}function pce(c){let q=c.start,Y=c.end;return q.line>Y.line||q.line===Y.line&&q.character>Y.character?{start:Y,end:q}:c}function Oze(c){let q=pce(c.range);return q!==c.range?{newText:c.newText,range:q}:c}var Zie,Jie,eae,tae,rae,nae,iae,aae,sae,oae,lae=M(()=>{Zie=class t{static{o(this,"FullTextDocument")}constructor(c,q,Y,V){this._uri=c,this._languageId=q,this._version=Y,this._content=V,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(c){if(c){let q=this.offsetAt(c.start),Y=this.offsetAt(c.end);return this._content.substring(q,Y)}return this._content}update(c,q){for(let q of c)if(t.isIncremental(q)){let c=pce(q.range),Y=this.offsetAt(c.start),V=this.offsetAt(c.end);this._content=this._content.substring(0,Y)+q.text+this._content.substring(V,this._content.length);let Z=Math.max(c.start.line,0),re=Math.max(c.end.line,0),ae=this._lineOffsets,se=fce(q.text,!1,Y);if(re-Z===se.length)for(let c=0,q=se.length;c<q;c++)ae[c+Z+1]=se[c];else se.length<1e4?ae.splice(Z+1,re-Z,...se):this._lineOffsets=ae=ae.slice(0,Z+1).concat(se,ae.slice(re+1));let oe=q.text.length-(V-Y);if(0!==oe)for(let c=Z+1+se.length,q=ae.length;c<q;c++)ae[c]=ae[c]+oe}else{if(!t.isFull(q))throw new Error("Unknown change event received");this._content=q.text,this._lineOffsets=void 0}this._version=q}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=fce(this._content,!0)),this._lineOffsets}positionAt(c){c=Math.max(Math.min(c,this._content.length),0);let q=this.getLineOffsets(),Y=0,V=q.length;if(0===V)return{line:0,character:c};for(;Y<V;){let Z=Math.floor((Y+V)/2);q[Z]>c?V=Z:Y=Z+1}let Z=Y-1;return{line:Z,character:(c=this.ensureBeforeEOL(c,q[Z]))-q[Z]}}offsetAt(c){let q=this.getLineOffsets();if(c.line>=q.length)return this._content.length;if(c.line<0)return 0;let Y=q[c.line];if(c.character<=0)return Y;let V=c.line+1<q.length?q[c.line+1]:this._content.length,Z=Math.min(Y+c.character,V);return this.ensureBeforeEOL(Z,Y)}ensureBeforeEOL(c,q){for(;c>q&&dce(this._content.charCodeAt(c-1));)c--;return c}get lineCount(){return this.getLineOffsets().length}static isIncremental(c){let q=c;return null!=q&&"string"==typeof q.text&&void 0!==q.range&&(void 0===q.rangeLength||"number"==typeof q.rangeLength)}static isFull(c){let q=c;return null!=q&&"string"==typeof q.text&&void 0===q.range&&void 0===q.rangeLength}},function(c){function e(c,q,Y,V){return new Zie(c,q,Y,V)}function r(c,q,Y){if(c instanceof Zie)return c.update(q,Y),c;throw new Error("TextDocument.update: document must be created by TextDocument.create")}function n(c,q){let Y=c.getText(),V=RM(q.map(Oze),(c,q)=>{let Y=c.range.start.line-q.range.start.line;return 0===Y?c.range.start.character-q.range.start.character:Y}),Z=0,re=[];for(let q of V){let V=c.offsetAt(q.range.start);if(V<Z)throw new Error("Overlapping edit");V>Z&&re.push(Y.substring(Z,V)),q.newText.length&&re.push(q.newText),Z=c.offsetAt(q.range.end)}return re.push(Y.substr(Z)),re.join("")}o(e,"create"),c.create=e,o(r,"update"),c.update=r,o(n,"applyEdits"),c.applyEdits=n}(Jie||(Jie={})),o(RM,"mergeSort"),o(fce,"computeLineOffsets"),o(dce,"isEOL"),o(pce,"getWellformedRange"),o(Oze,"getWellformedEdit")}),hae=M(()=>{(()=>{var c={470:c=>{function a(c){if("string"!=typeof c)throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,q){for(var Y,V="",Z=0,re=-1,ae=0,se=0;se<=c.length;++se){if(se<c.length)Y=c.charCodeAt(se);else{if(47===Y)break;Y=47}if(47===Y){if(re!==se-1&&1!==ae)if(re!==se-1&&2===ae){if(V.length<2||2!==Z||46!==V.charCodeAt(V.length-1)||46!==V.charCodeAt(V.length-2))if(V.length>2){var oe=V.lastIndexOf("/");if(oe!==V.length-1){-1===oe?(V="",Z=0):Z=(V=V.slice(0,oe)).length-1-V.lastIndexOf("/"),re=se,ae=0;continue}}else if(2===V.length||1===V.length){V="",Z=0,re=se,ae=0;continue}q&&(V.length>0?V+="/..":V="..",Z=2)}else V.length>0?V+="/"+c.slice(re+1,se):V=c.slice(re+1,se),Z=se-re-1;re=se,ae=0}else 46===Y&&-1!==ae?++ae:ae=-1}return V}o(a,"e"),o(s,"r");var q={resolve:o(function(){for(var c,q="",Y=!1,V=arguments.length-1;V>=-1&&!Y;V--){var Z;V>=0?Z=arguments[V]:(void 0===c&&(c=process.cwd()),Z=c),a(Z),0!==Z.length&&(q=Z+"/"+q,Y=47===Z.charCodeAt(0))}return q=s(q,!Y),Y?q.length>0?"/"+q:"/":q.length>0?q:"."},"resolve"),normalize:o(function(c){if(a(c),0===c.length)return".";var q=47===c.charCodeAt(0),Y=47===c.charCodeAt(c.length-1);return 0!==(c=s(c,!q)).length||q||(c="."),c.length>0&&Y&&(c+="/"),q?"/"+c:c},"normalize"),isAbsolute:o(function(c){return a(c),c.length>0&&47===c.charCodeAt(0)},"isAbsolute"),join:o(function(){if(0===arguments.length)return".";for(var c,Y=0;Y<arguments.length;++Y){var V=arguments[Y];a(V),V.length>0&&(void 0===c?c=V:c+="/"+V)}return void 0===c?".":q.normalize(c)},"join"),relative:o(function(c,Y){if(a(c),a(Y),c===Y||(c=q.resolve(c))===(Y=q.resolve(Y)))return"";for(var V=1;V<c.length&&47===c.charCodeAt(V);++V);for(var Z=c.length,re=Z-V,ae=1;ae<Y.length&&47===Y.charCodeAt(ae);++ae);for(var se=Y.length-ae,oe=re<se?re:se,he=-1,de=0;de<=oe;++de){if(de===oe){if(se>oe){if(47===Y.charCodeAt(ae+de))return Y.slice(ae+de+1);if(0===de)return Y.slice(ae+de)}else re>oe&&(47===c.charCodeAt(V+de)?he=de:0===de&&(he=0));break}var pe=c.charCodeAt(V+de);if(pe!==Y.charCodeAt(ae+de))break;47===pe&&(he=de)}var ge="";for(de=V+he+1;de<=Z;++de)de!==Z&&47!==c.charCodeAt(de)||(0===ge.length?ge+="..":ge+="/..");return ge.length>0?ge+Y.slice(ae+he):(ae+=he,47===Y.charCodeAt(ae)&&++ae,Y.slice(ae))},"relative"),_makeLong:o(function(c){return c},"_makeLong"),dirname:o(function(c){if(a(c),0===c.length)return".";for(var q=c.charCodeAt(0),Y=47===q,V=-1,Z=!0,re=c.length-1;re>=1;--re)if(47===(q=c.charCodeAt(re))){if(!Z){V=re;break}}else Z=!1;return-1===V?Y?"/":".":Y&&1===V?"//":c.slice(0,V)},"dirname"),basename:o(function(c,q){if(void 0!==q&&"string"!=typeof q)throw new TypeError('"ext" argument must be a string');a(c);var Y,V=0,Z=-1,re=!0;if(void 0!==q&&q.length>0&&q.length<=c.length){if(q.length===c.length&&q===c)return"";var ae=q.length-1,se=-1;for(Y=c.length-1;Y>=0;--Y){var oe=c.charCodeAt(Y);if(47===oe){if(!re){V=Y+1;break}}else-1===se&&(re=!1,se=Y+1),ae>=0&&(oe===q.charCodeAt(ae)?-1==--ae&&(Z=Y):(ae=-1,Z=se))}return V===Z?Z=se:-1===Z&&(Z=c.length),c.slice(V,Z)}for(Y=c.length-1;Y>=0;--Y)if(47===c.charCodeAt(Y)){if(!re){V=Y+1;break}}else-1===Z&&(re=!1,Z=Y+1);return-1===Z?"":c.slice(V,Z)},"basename"),extname:o(function(c){a(c);for(var q=-1,Y=0,V=-1,Z=!0,re=0,ae=c.length-1;ae>=0;--ae){var se=c.charCodeAt(ae);if(47!==se)-1===V&&(Z=!1,V=ae+1),46===se?-1===q?q=ae:1!==re&&(re=1):-1!==q&&(re=-1);else if(!Z){Y=ae+1;break}}return-1===q||-1===V||0===re||1===re&&q===V-1&&q===Y+1?"":c.slice(q,V)},"extname"),format:o(function(c){if(null===c||"object"!=typeof c)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return Y=(q=c).dir||q.root,V=q.base||(q.name||"")+(q.ext||""),Y?Y===q.root?Y+V:Y+"/"+V:V;var q,Y,V},"format"),parse:o(function(c){a(c);var q={root:"",dir:"",base:"",ext:"",name:""};if(0===c.length)return q;var Y,V=c.charCodeAt(0),Z=47===V;Z?(q.root="/",Y=1):Y=0;for(var re=-1,ae=0,se=-1,oe=!0,he=c.length-1,de=0;he>=Y;--he)if(47!==(V=c.charCodeAt(he)))-1===se&&(oe=!1,se=he+1),46===V?-1===re?re=he:1!==de&&(de=1):-1!==re&&(de=-1);else if(!oe){ae=he+1;break}return-1===re||-1===se||0===de||1===de&&re===se-1&&re===ae+1?-1!==se&&(q.base=q.name=0===ae&&Z?c.slice(1,se):c.slice(ae,se)):(0===ae&&Z?(q.name=c.slice(1,re),q.base=c.slice(1,se)):(q.name=c.slice(ae,re),q.base=c.slice(ae,se)),q.ext=c.slice(re,se)),ae>0?q.dir=c.slice(0,ae-1):Z&&(q.dir="/"),q},"parse"),sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,c.exports=q}},q={};function r(Y){var V=q[Y];if(void 0!==V)return V.exports;var Z=q[Y]={exports:{}};return c[Y](Z,Z.exports,r),Z.exports}o(r,"r"),r.d=(c,q)=>{for(var Y in q)r.o(q,Y)&&!r.o(c,Y)&&Object.defineProperty(c,Y,{enumerable:!0,get:q[Y]})},r.o=(c,q)=>Object.prototype.hasOwnProperty.call(c,q),r.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var Y={};(()=>{let c;r.r(Y),r.d(Y,{URI:o(()=>p,"URI"),Utils:o(()=>ve,"Utils")}),"object"==typeof process?c="win32"===process.platform:"object"==typeof navigator&&(c=navigator.userAgent.indexOf("Windows")>=0);let q=/^\w[\w\d+.-]*$/,V=/^\//,Z=/^\/\//;function u(c,Y){if(!c.scheme&&Y)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${c.authority}", path: "${c.path}", query: "${c.query}", fragment: "${c.fragment}"}`);if(c.scheme&&!q.test(c.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(c.path)if(c.authority){if(!V.test(c.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Z.test(c.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}o(u,"s");let re="",ae="/",se=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{o(this,"f")}static isUri(c){return c instanceof p||!!c&&"string"==typeof c.authority&&"string"==typeof c.fragment&&"string"==typeof c.path&&"string"==typeof c.query&&"string"==typeof c.scheme&&"string"==typeof c.fsPath&&"function"==typeof c.with&&"function"==typeof c.toString}scheme;authority;path;query;fragment;constructor(c,q,Y,V,Z,se=!1){var oe,he;"object"==typeof c?(this.scheme=c.scheme||re,this.authority=c.authority||re,this.path=c.path||re,this.query=c.query||re,this.fragment=c.fragment||re):(this.scheme=(he=se,(oe=c)||he?oe:"file"),this.authority=q||re,this.path=function(c,q){switch(c){case"https":case"http":case"file":q?q[0]!==ae&&(q=ae+q):q=ae}return q}(this.scheme,Y||re),this.query=V||re,this.fragment=Z||re,u(this,se))}get fsPath(){return b(this,!1)}with(c){if(!c)return this;let{scheme:q,authority:Y,path:V,query:Z,fragment:ae}=c;return void 0===q?q=this.scheme:null===q&&(q=re),void 0===Y?Y=this.authority:null===Y&&(Y=re),void 0===V?V=this.path:null===V&&(V=re),void 0===Z?Z=this.query:null===Z&&(Z=re),void 0===ae?ae=this.fragment:null===ae&&(ae=re),q===this.scheme&&Y===this.authority&&V===this.path&&Z===this.query&&ae===this.fragment?this:new g(q,Y,V,Z,ae)}static parse(c,q=!1){let Y=se.exec(c);return Y?new g(Y[2]||re,E(Y[4]||re),E(Y[5]||re),E(Y[7]||re),E(Y[9]||re),q):new g(re,re,re,re,re)}static file(q){let Y=re;if(c&&(q=q.replace(/\\/g,ae)),q[0]===ae&&q[1]===ae){let c=q.indexOf(ae,2);-1===c?(Y=q.substring(2),q=ae):(Y=q.substring(2,c),q=q.substring(c)||ae)}return new g("file",Y,q,re,re)}static from(c){let q=new g(c.scheme,c.authority,c.path,c.query,c.fragment);return u(q,!0),q}toString(c=!1){return w(this,c)}toJSON(){return this}static revive(c){if(c){if(c instanceof p)return c;{let q=new g(c);return q._formatted=c.external,q._fsPath=c._sep===oe?c.fsPath:null,q}}return c}}let oe=c?1:void 0;class g extends p{static{o(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(c=!1){return c?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let c={$mid:1};return this._fsPath&&(c.fsPath=this._fsPath,c._sep=oe),this._formatted&&(c.external=this._formatted),this.path&&(c.path=this.path),this.scheme&&(c.scheme=this.scheme),this.authority&&(c.authority=this.authority),this.query&&(c.query=this.query),this.fragment&&(c.fragment=this.fragment),c}}let he={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(c,q,Y){let V,Z=-1;for(let re=0;re<c.length;re++){let ae=c.charCodeAt(re);if(ae>=97&&ae<=122||ae>=65&&ae<=90||ae>=48&&ae<=57||45===ae||46===ae||95===ae||126===ae||q&&47===ae||Y&&91===ae||Y&&93===ae||Y&&58===ae)-1!==Z&&(V+=encodeURIComponent(c.substring(Z,re)),Z=-1),void 0!==V&&(V+=c.charAt(re));else{void 0===V&&(V=c.substr(0,re));let q=he[ae];void 0!==q?(-1!==Z&&(V+=encodeURIComponent(c.substring(Z,re)),Z=-1),V+=q):-1===Z&&(Z=re)}}return-1!==Z&&(V+=encodeURIComponent(c.substring(Z))),void 0!==V?V:c}function x(c){let q;for(let Y=0;Y<c.length;Y++){let V=c.charCodeAt(Y);35===V||63===V?(void 0===q&&(q=c.substr(0,Y)),q+=he[V]):void 0!==q&&(q+=c[Y])}return void 0!==q?q:c}function b(q,Y){let V;return V=q.authority&&q.path.length>1&&"file"===q.scheme?`//${q.authority}${q.path}`:47===q.path.charCodeAt(0)&&(q.path.charCodeAt(1)>=65&&q.path.charCodeAt(1)<=90||q.path.charCodeAt(1)>=97&&q.path.charCodeAt(1)<=122)&&58===q.path.charCodeAt(2)?Y?q.path.substr(1):q.path[1].toLowerCase()+q.path.substr(2):q.path,c&&(V=V.replace(/\//g,"\\")),V}function w(c,q){let Y=q?x:v,V="",{scheme:Z,authority:re,path:se,query:oe,fragment:he}=c;if(Z&&(V+=Z,V+=":"),(re||"file"===Z)&&(V+=ae,V+=ae),re){let c=re.indexOf("@");if(-1!==c){let q=re.substr(0,c);re=re.substr(c+1),c=q.lastIndexOf(":"),-1===c?V+=Y(q,!1,!1):(V+=Y(q.substr(0,c),!1,!1),V+=":",V+=Y(q.substr(c+1),!1,!0)),V+="@"}re=re.toLowerCase(),c=re.lastIndexOf(":"),-1===c?V+=Y(re,!1,!0):(V+=Y(re.substr(0,c),!1,!0),V+=re.substr(c))}if(se){if(se.length>=3&&47===se.charCodeAt(0)&&58===se.charCodeAt(2)){let c=se.charCodeAt(1);c>=65&&c<=90&&(se=`/${String.fromCharCode(c+32)}:${se.substr(3)}`)}else if(se.length>=2&&58===se.charCodeAt(1)){let c=se.charCodeAt(0);c>=65&&c<=90&&(se=`${String.fromCharCode(c+32)}:${se.substr(2)}`)}V+=Y(se,!0,!1)}return oe&&(V+="?",V+=Y(oe,!1,!1)),he&&(V+="#",V+=q?he:v(he,!1,!1)),V}function _(c){try{return decodeURIComponent(c)}catch{return c.length>3?c.substr(0,3)+_(c.substr(3)):c}}o(v,"d"),o(x,"p"),o(b,"m"),o(w,"y"),o(_,"v");let de=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function E(c){return c.match(de)?c.replace(de,c=>_(c)):c}o(E,"C");var pe=r(470);let ge=pe.posix||pe,me="/";var ve,be;(be=ve||(ve={})).joinPath=function(c,...q){return c.with({path:ge.join(c.path,...q)})},be.resolvePath=function(c,...q){let Y=c.path,V=!1;Y[0]!==me&&(Y=me+Y,V=!0);let Z=ge.resolve(Y,...q);return V&&Z[0]===me&&!c.authority&&(Z=Z.substring(1)),c.with({path:Z})},be.dirname=function(c){if(0===c.path.length||c.path===me)return c;let q=ge.dirname(c.path);return 1===q.length&&46===q.charCodeAt(0)&&(q=""),c.with({path:q})},be.basename=function(c){return ge.basename(c.path)},be.extname=function(c){return ge.extname(c.path)}})(),eae=Y})(),({URI:tae,Utils:rae}=eae)}),uae=M(()=>{hae(),function(c){function e(c,q){return c?.toString()===q?.toString()}function r(c,q){let Y="string"==typeof c?c:c.path,V="string"==typeof q?q:q.path,Z=Y.split("/").filter(c=>c.length>0),re=V.split("/").filter(c=>c.length>0),ae=0;for(;ae<Z.length&&Z[ae]===re[ae];ae++);return"../".repeat(Z.length-ae)+re.slice(ae).join("/")}c.basename=rae.basename,c.dirname=rae.dirname,c.extname=rae.extname,c.joinPath=rae.joinPath,c.resolvePath=rae.resolvePath,o(e,"equals"),c.equals=e,o(r,"relative"),c.relative=r}(nae||(nae={}))}),dae=M(()=>{var c;lae(),dae(),Wie(),n3(),uae(),(c=iae||(iae={}))[c.Changed=0]="Changed",c[c.Parsed=1]="Parsed",c[c.IndexedContent=2]="IndexedContent",c[c.ComputedScopes=3]="ComputedScopes",c[c.Linked=4]="Linked",c[c.IndexedReferences=5]="IndexedReferences",c[c.Validated=6]="Validated",aae=class{static{o(this,"DefaultLangiumDocumentFactory")}constructor(c){this.serviceRegistry=c.ServiceRegistry,this.textDocuments=c.workspace.TextDocuments,this.fileSystemProvider=c.workspace.FileSystemProvider}async fromUri(c,q=Yie.CancellationToken.None){let Y=await this.fileSystemProvider.readFile(c);return this.createAsync(c,Y,q)}fromTextDocument(c,q,Y){return q=q??tae.parse(c.uri),Y?this.createAsync(q,c,Y):this.create(q,c)}fromString(c,q,Y){return Y?this.createAsync(q,c,Y):this.create(q,c)}fromModel(c,q){return this.create(q,{$model:c})}create(c,q){if("string"==typeof q){let Y=this.parse(c,q);return this.createLangiumDocument(Y,c,void 0,q)}if("$model"in q){let Y={value:q.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(Y,c)}{let Y=this.parse(c,q.getText());return this.createLangiumDocument(Y,c,q)}}async createAsync(c,q,Y){if("string"==typeof q){let V=await this.parseAsync(c,q,Y);return this.createLangiumDocument(V,c,void 0,q)}{let V=await this.parseAsync(c,q.getText(),Y);return this.createLangiumDocument(V,c,q)}}createLangiumDocument(c,q,Y,V){let Z;if(Y)Z={parseResult:c,uri:q,state:iae.Parsed,references:[],textDocument:Y};else{let Y=this.createTextDocumentGetter(q,V);Z={parseResult:c,uri:q,state:iae.Parsed,references:[],get textDocument(){return Y()}}}return c.value.$document=Z,Z}async update(c,q){var Y,V;let Z=null===(Y=c.parseResult.value.$cstNode)||void 0===Y?void 0:Y.root.fullText,re=null===(V=this.textDocuments)||void 0===V?void 0:V.get(c.uri.toString()),ae=re?re.getText():await this.fileSystemProvider.readFile(c.uri);if(re)Object.defineProperty(c,"textDocument",{value:re});else{let q=this.createTextDocumentGetter(c.uri,ae);Object.defineProperty(c,"textDocument",{get:q})}return Z!==ae&&(c.parseResult=await this.parseAsync(c.uri,ae,q),c.parseResult.value.$document=c),c.state=iae.Parsed,c}parse(c,q){return this.serviceRegistry.getServices(c).parser.LangiumParser.parse(q)}parseAsync(c,q,Y){return this.serviceRegistry.getServices(c).parser.AsyncParser.parse(q,Y)}createTextDocumentGetter(c,q){let Y,V=this.serviceRegistry;return()=>Y??(Y=Jie.create(c.toString(),V.getServices(c).LanguageMetaData.languageId,0,q??""))}},sae=class{static{o(this,"DefaultLangiumDocuments")}constructor(c){this.documentMap=new Map,this.langiumDocumentFactory=c.workspace.LangiumDocumentFactory}get all(){return tn(this.documentMap.values())}addDocument(c){let q=c.uri.toString();if(this.documentMap.has(q))throw new Error(`A document with the URI '${q}' is already present.`);this.documentMap.set(q,c)}getDocument(c){let q=c.toString();return this.documentMap.get(q)}async getOrCreateDocument(c,q){let Y=this.getDocument(c);return Y||(Y=await this.langiumDocumentFactory.fromUri(c,q),this.addDocument(Y),Y)}createDocument(c,q,Y){if(Y)return this.langiumDocumentFactory.fromString(q,c,Y).then(c=>(this.addDocument(c),c));{let Y=this.langiumDocumentFactory.fromString(q,c);return this.addDocument(Y),Y}}hasDocument(c){return this.documentMap.has(c.toString())}invalidateDocument(c){let q=c.toString(),Y=this.documentMap.get(q);return Y&&(Y.state=iae.Changed,Y.precomputedScopes=void 0,Y.references=[],Y.diagnostics=void 0),Y}deleteDocument(c){let q=c.toString(),Y=this.documentMap.get(q);return Y&&(Y.state=iae.Changed,this.documentMap.delete(q)),Y}}}),pae=M(()=>{Wie(),X5(),M6(),Qie(),dae(),oae=class{static{o(this,"DefaultLinker")}constructor(c){this.reflection=c.shared.AstReflection,this.langiumDocuments=()=>c.shared.workspace.LangiumDocuments,this.scopeProvider=c.references.ScopeProvider,this.astNodeLocator=c.workspace.AstNodeLocator}async link(c,q=Yie.CancellationToken.None){for(let Y of jo(c.parseResult.value))await Gi(q),Um(Y).forEach(q=>this.doLink(q,c))}doLink(c,q){let Y=c.reference;if(void 0===Y._ref)try{let q=this.getCandidate(c);if(Vd(q))Y._ref=q;else if(Y._nodeDescription=q,this.langiumDocuments().hasDocument(q.documentUri)){let V=this.loadAstNode(q);Y._ref=V??this.createLinkingError(c,q)}}catch(q){Y._ref=Object.assign(Object.assign({},c),{message:`An error occurred while resolving reference to '${Y.$refText}': ${q}`})}q.references.push(Y)}unlink(c){for(let q of c.references)delete q._ref,delete q._nodeDescription;c.references=[]}getCandidate(c){return this.scopeProvider.getScope(c).getElement(c.reference.$refText)??this.createLinkingError(c)}buildReference(c,q,Y,V){let Z=this,re={$refNode:Y,$refText:V,get ref(){var Y;if(ei(this._ref))return this._ref;if(MD(this._nodeDescription)){let Y=Z.loadAstNode(this._nodeDescription);this._ref=Y??Z.createLinkingError({reference:re,container:c,property:q},this._nodeDescription)}else if(void 0===this._ref){let V=Z.getLinkedNode({reference:re,container:c,property:q});if(V.error&&Fi(c).state<iae.ComputedScopes)return;this._ref=null!==(Y=V.node)&&void 0!==Y?Y:V.error,this._nodeDescription=V.descr}return ei(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Vd(this._ref)?this._ref:void 0}};return re}getLinkedNode(c){try{let q=this.getCandidate(c);if(Vd(q))return{error:q};let Y=this.loadAstNode(q);return Y?{node:Y,descr:q}:{descr:q,error:this.createLinkingError(c,q)}}catch(q){return{error:Object.assign(Object.assign({},c),{message:`An error occurred while resolving reference to '${c.reference.$refText}': ${q}`})}}}loadAstNode(c){if(c.node)return c.node;let q=this.langiumDocuments().getDocument(c.documentUri);return q?this.astNodeLocator.getAstNode(q.parseResult.value,c.path):void 0}createLinkingError(c,q){let Y=Fi(c.container);Y.state<iae.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${Y.uri}).`);let V=this.reflection.getReferenceType(c);return Object.assign(Object.assign({},c),{message:`Could not resolve reference to ${V} named '${c.reference.$refText}'.`,targetDescription:q})}}});function yce(c){return"string"==typeof c.name}var gae,fae,mae,yae,vae,bae,wae,kae,Tae,_ae,Eae,Cae,Sae,Aae,Oae=M(()=>{h7(),o(yce,"isNamed"),gae=class{static{o(this,"DefaultNameProvider")}getName(c){if(yce(c))return c.name}getNameNode(c){return Jv(c.$cstNode,"name")}}}),Pae=M(()=>{h7(),X5(),M6(),f3(),n3(),uae(),fae=class{static{o(this,"DefaultReferences")}constructor(c){this.nameProvider=c.references.NameProvider,this.index=c.shared.workspace.IndexManager,this.nodeLocator=c.workspace.AstNodeLocator}findDeclaration(c){if(c){let q=iR(c),Y=c.astNode;if(q&&Y){let V=Y[q.feature];if(ma(V))return V.ref;if(Array.isArray(V))for(let q of V)if(ma(q)&&q.$refNode&&q.$refNode.offset<=c.offset&&q.$refNode.end>=c.end)return q.ref}if(Y){let q=this.nameProvider.getNameNode(Y);if(q&&(q===c||OD(c,q)))return Y}}}findDeclarationNode(c){let q=this.findDeclaration(c);if(q?.$cstNode){return this.nameProvider.getNameNode(q)??q.$cstNode}}findReferences(c,q){let Y=[];if(q.includeDeclaration){let q=this.getReferenceToSelf(c);q&&Y.push(q)}let V=this.index.findAllReferences(c,this.nodeLocator.getAstNodePath(c));return q.documentUri&&(V=V.filter(c=>nae.equals(c.sourceUri,q.documentUri))),Y.push(...V),tn(Y)}getReferenceToSelf(c){let q=this.nameProvider.getNameNode(c);if(q){let Y=Fi(c),V=this.nodeLocator.getAstNodePath(c);return{sourceUri:Y.uri,sourcePath:V,targetUri:Y.uri,targetPath:V,segment:Hd(q),local:!0}}}}}),Bae=M(()=>{n3(),mae=class{static{o(this,"MultiMap")}constructor(c){if(this.map=new Map,c)for(let[q,Y]of c)this.add(q,Y)}get size(){return r3.sum(tn(this.map.values()).map(c=>c.length))}clear(){this.map.clear()}delete(c,q){if(void 0===q)return this.map.delete(c);{let Y=this.map.get(c);if(Y){let V=Y.indexOf(q);if(V>=0)return 1===Y.length?this.map.delete(c):Y.splice(V,1),!0}return!1}}get(c){var q;return null!==(q=this.map.get(c))&&void 0!==q?q:[]}has(c,q){if(void 0===q)return this.map.has(c);{let Y=this.map.get(c);return!!Y&&Y.indexOf(q)>=0}}add(c,q){return this.map.has(c)?this.map.get(c).push(q):this.map.set(c,[q]),this}addAll(c,q){return this.map.has(c)?this.map.get(c).push(...q):this.map.set(c,Array.from(q)),this}forEach(c){this.map.forEach((q,Y)=>q.forEach(q=>c(q,Y,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return tn(this.map.entries()).flatMap(([c,q])=>q.map(q=>[c,q]))}keys(){return tn(this.map.keys())}values(){return tn(this.map.values()).flat()}entriesGroupedByKey(){return tn(this.map.entries())}},yae=class{static{o(this,"BiMap")}get size(){return this.map.size}constructor(c){if(this.map=new Map,this.inverse=new Map,c)for(let[q,Y]of c)this.set(q,Y)}clear(){this.map.clear(),this.inverse.clear()}set(c,q){return this.map.set(c,q),this.inverse.set(q,c),this}get(c){return this.map.get(c)}getKey(c){return this.inverse.get(c)}delete(c){let q=this.map.get(c);return void 0!==q&&(this.map.delete(c),this.inverse.delete(q),!0)}}}),Fae=M(()=>{Wie(),M6(),Bae(),Qie(),vae=class{static{o(this,"DefaultScopeComputation")}constructor(c){this.nameProvider=c.references.NameProvider,this.descriptions=c.workspace.AstNodeDescriptionProvider}async computeExports(c,q=Yie.CancellationToken.None){return this.computeExportsForNode(c.parseResult.value,c,void 0,q)}async computeExportsForNode(c,q,Y=qv,V=Yie.CancellationToken.None){let Z=[];this.exportNode(c,Z,q);for(let re of Y(c))await Gi(V),this.exportNode(re,Z,q);return Z}exportNode(c,q,Y){let V=this.nameProvider.getName(c);V&&q.push(this.descriptions.createDescription(c,V,Y))}async computeLocalScopes(c,q=Yie.CancellationToken.None){let Y=c.parseResult.value,V=new mae;for(let Z of _c(Y))await Gi(q),this.processNode(Z,c,V);return V}processNode(c,q,Y){let V=c.$container;if(V){let Z=this.nameProvider.getName(c);Z&&Y.add(V,this.descriptions.createDescription(c,Z,q))}}}}),$ae=M(()=>{n3(),bae=class{static{o(this,"StreamScope")}constructor(c,q,Y){var V;this.elements=c,this.outerScope=q,this.caseInsensitive=null!==(V=Y?.caseInsensitive)&&void 0!==V&&V}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(c){let q=this.caseInsensitive?this.elements.find(q=>q.name.toLowerCase()===c.toLowerCase()):this.elements.find(q=>q.name===c);return q||(this.outerScope?this.outerScope.getElement(c):void 0)}},wae=class{static{o(this,"MapScope")}constructor(c,q,Y){var V;this.elements=new Map,this.caseInsensitive=null!==(V=Y?.caseInsensitive)&&void 0!==V&&V;for(let q of c){let c=this.caseInsensitive?q.name.toLowerCase():q.name;this.elements.set(c,q)}this.outerScope=q}getElement(c){let q=this.caseInsensitive?c.toLowerCase():c,Y=this.elements.get(q);return Y||(this.outerScope?this.outerScope.getElement(c):void 0)}getAllElements(){let c=tn(this.elements.values());return this.outerScope&&(c=c.concat(this.outerScope.getAllElements())),c}},kae={getElement(){},getAllElements:()=>Z5}}),Uae=M(()=>{Tae=class{static{o(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(c){this.toDispose.push(c)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(c=>c.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},_ae=class extends Tae{static{o(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(c){return this.throwIfDisposed(),this.cache.has(c)}set(c,q){this.throwIfDisposed(),this.cache.set(c,q)}get(c,q){if(this.throwIfDisposed(),this.cache.has(c))return this.cache.get(c);if(q){let Y=q();return this.cache.set(c,Y),Y}}delete(c){return this.throwIfDisposed(),this.cache.delete(c)}clear(){this.throwIfDisposed(),this.cache.clear()}},Eae=class extends Tae{static{o(this,"ContextCache")}constructor(c){super(),this.cache=new Map,this.converter=c??(c=>c)}has(c,q){return this.throwIfDisposed(),this.cacheForContext(c).has(q)}set(c,q,Y){this.throwIfDisposed(),this.cacheForContext(c).set(q,Y)}get(c,q,Y){this.throwIfDisposed();let V=this.cacheForContext(c);if(V.has(q))return V.get(q);if(Y){let c=Y();return V.set(q,c),c}}delete(c,q){return this.throwIfDisposed(),this.cacheForContext(c).delete(q)}clear(c){if(this.throwIfDisposed(),c){let q=this.converter(c);this.cache.delete(q)}else this.cache.clear()}cacheForContext(c){let q=this.converter(c),Y=this.cache.get(q);return Y||(Y=new Map,this.cache.set(q,Y)),Y}},Cae=class extends Eae{static{o(this,"DocumentCache")}constructor(c){super(c=>c.toString()),this.onDispose(c.workspace.DocumentBuilder.onUpdate((c,q)=>{let Y=c.concat(q);for(let c of Y)this.clear(c)}))}},Sae=class extends _ae{static{o(this,"WorkspaceCache")}constructor(c){super(),this.onDispose(c.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}}),Hae=M(()=>{$ae(),M6(),n3(),Uae(),Aae=class{static{o(this,"DefaultScopeProvider")}constructor(c){this.reflection=c.shared.AstReflection,this.nameProvider=c.references.NameProvider,this.descriptions=c.workspace.AstNodeDescriptionProvider,this.indexManager=c.shared.workspace.IndexManager,this.globalScopeCache=new Sae(c.shared)}getScope(c){let q=[],Y=this.reflection.getReferenceType(c),V=Fi(c.container).precomputedScopes;if(V){let Z=c.container;do{let c=V.get(Z);c.length>0&&q.push(tn(c).filter(c=>this.reflection.isSubtype(c.type,Y))),Z=Z.$container}while(Z)}let Z=this.getGlobalScope(Y,c);for(let c=q.length-1;c>=0;c--)Z=this.createScope(q[c],Z);return Z}createScope(c,q,Y){return new bae(tn(c),q,Y)}createScopeForNodes(c,q,Y){let V=tn(c).map(c=>{let q=this.nameProvider.getName(c);if(q)return this.descriptions.createDescription(c,q)}).nonNullable();return new bae(V,q,Y)}getGlobalScope(c,q){return this.globalScopeCache.get(c,()=>new wae(this.indexManager.allElements(c)))}}});function GM(c){return"string"==typeof c.$comment}function vce(c){return"object"==typeof c&&!!c&&("$ref"in c||"$error"in c)}var Vae,Jae,ese=M(()=>{hae(),X5(),M6(),h7(),o(GM,"isAstNodeWithComment"),o(vce,"isIntermediateReference"),Vae=class{static{o(this,"DefaultJsonSerializer")}constructor(c){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=c.shared.workspace.LangiumDocuments,this.astNodeLocator=c.workspace.AstNodeLocator,this.nameProvider=c.references.NameProvider,this.commentProvider=c.documentation.CommentProvider}serialize(c,q={}){let Y=q?.replacer,V=o((c,Y)=>this.replacer(c,Y,q),"defaultReplacer"),Z=Y?(c,q)=>Y(c,q,V):V;try{return this.currentDocument=Fi(c),JSON.stringify(c,Z,q?.space)}finally{this.currentDocument=void 0}}deserialize(c,q={}){let Y=JSON.parse(c);return this.linkNode(Y,Y,q),Y}replacer(c,q,{refText:Y,sourceText:V,textRegions:Z,comments:re,uriConverter:ae}){var se,oe,he,de;if(!this.ignoreProperties.has(c)){if(ma(q)){let c=q.ref,V=Y?q.$refText:void 0;if(c){let Y=Fi(c),Z="";return this.currentDocument&&this.currentDocument!==Y&&(Z=ae?ae(Y.uri,q):Y.uri.toString()),{$ref:`${Z}#${this.astNodeLocator.getAstNodePath(c)}`,$refText:V}}return{$error:null!==(oe=null===(se=q.error)||void 0===se?void 0:se.message)&&void 0!==oe?oe:"Could not resolve reference",$refText:V}}if(ei(q)){let Y;if(Z&&(Y=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},q)),(!c||q.$document)&&Y?.$textRegion&&(Y.$textRegion.documentURI=null===(he=this.currentDocument)||void 0===he?void 0:he.uri.toString())),V&&!c&&(Y??(Y=Object.assign({},q)),Y.$sourceText=null===(de=q.$cstNode)||void 0===de?void 0:de.text),re){Y??(Y=Object.assign({},q));let c=this.commentProvider.getComment(q);c&&(Y.$comment=c.replace(/\r/g,""))}return Y??q}return q}}addAstNodeRegionWithAssignmentsTo(c){let q=o(c=>({offset:c.offset,end:c.end,length:c.length,range:c.range}),"createDocumentSegment");if(c.$cstNode){let Y=(c.$textRegion=q(c.$cstNode)).assignments={};return Object.keys(c).filter(c=>!c.startsWith("$")).forEach(V=>{let Z=eR(c.$cstNode,V).map(q);0!==Z.length&&(Y[V]=Z)}),c}}linkNode(c,q,Y,V,Z,re){for(let[V,Z]of Object.entries(c))if(Array.isArray(Z))for(let re=0;re<Z.length;re++){let ae=Z[re];vce(ae)?Z[re]=this.reviveReference(c,V,q,ae,Y):ei(ae)&&this.linkNode(ae,q,Y,c,V,re)}else vce(Z)?c[V]=this.reviveReference(c,V,q,Z,Y):ei(Z)&&this.linkNode(Z,q,Y,c,V);let ae=c;ae.$container=V,ae.$containerProperty=Z,ae.$containerIndex=re}reviveReference(c,q,Y,V,Z){let re=V.$refText,ae=V.$error;if(V.$ref){let c=this.getRefNode(Y,V.$ref,Z.uriConverter);if(ei(c))return re||(re=this.nameProvider.getName(c)),{$refText:re??"",ref:c};ae=c}if(ae){let Y={$refText:re??""};return Y.error={container:c,property:q,message:ae,reference:Y},Y}}getRefNode(c,q,Y){try{let V=q.indexOf("#");if(0===V){return this.astNodeLocator.getAstNode(c,q.substring(1))||"Could not resolve path: "+q}if(V<0){let c=Y?Y(q):tae.parse(q),V=this.langiumDocuments.getDocument(c);return V?V.parseResult.value:"Could not find document for URI: "+q}let Z=Y?Y(q.substring(0,V)):tae.parse(q.substring(0,V)),re=this.langiumDocuments.getDocument(Z);return re?V===q.length-1?re.parseResult.value:this.astNodeLocator.getAstNode(re.parseResult.value,q.substring(V+1))||"Could not resolve URI: "+q:"Could not find document for URI: "+q}catch(c){return String(c)}}}}),tse=M(()=>{uae(),Jae=class{static{o(this,"DefaultServiceRegistry")}register(c){if(this.singleton||this.map){if(!this.map&&(this.map={},this.singleton)){for(let c of this.singleton.LanguageMetaData.fileExtensions)this.map[c]=this.singleton;this.singleton=void 0}for(let q of c.LanguageMetaData.fileExtensions)void 0!==this.map[q]&&this.map[q]!==c&&console.warn(`The file extension ${q} is used by multiple languages. It is now assigned to '${c.LanguageMetaData.languageId}'.`),this.map[q]=c}else this.singleton=c}getServices(c){if(void 0!==this.singleton)return this.singleton;if(void 0===this.map)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let q=nae.extname(c),Y=this.map[q];if(!Y)throw new Error(`The service registry contains no services for the extension '${q}'.`);return Y}get all(){return void 0!==this.singleton?[this.singleton]:void 0!==this.map?Object.values(this.map):[]}}});function Fk(c){return{code:c}}var rse,nse,sse=M(()=>{Bae(),Qie(),n3(),o(Fk,"diagnosticData"),(rse||(rse={})).all=["fast","slow","built-in"],nse=class{static{o(this,"ValidationRegistry")}constructor(c){this.entries=new mae,this.reflection=c.shared.AstReflection}register(c,q=this,Y="fast"){if("built-in"===Y)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[V,Z]of Object.entries(c)){let c=Z;if(Array.isArray(c))for(let Z of c){let c={check:this.wrapValidationException(Z,q),category:Y};this.addEntry(V,c)}else if("function"==typeof c){let Z={check:this.wrapValidationException(c,q),category:Y};this.addEntry(V,Z)}}}wrapValidationException(c,q){return async(Y,V,Z)=>{try{await c.call(q,Y,V,Z)}catch(c){if(sf(c))throw c;console.error("An error occurred during validation:",c);let q=c instanceof Error?c.message:String(c);c instanceof Error&&c.stack&&console.error(c.stack),V("error","An error occurred during validation: "+q,{node:Y})}}}addEntry(c,q){if("AstNode"!==c)for(let Y of this.reflection.getAllSubTypes(c))this.entries.add(Y,q);else this.entries.add("AstNode",q)}getChecks(c,q){let Y=tn(this.entries.get(c)).concat(this.entries.get("AstNode"));return q&&(Y=Y.filter(c=>q.includes(c.category))),Y.map(c=>c.check)}}});function xce(c){if(c.range)return c.range;let q;return"string"==typeof c.property?q=Jv(c.node.$cstNode,c.property,c.index):"string"==typeof c.keyword&&(q=rR(c.node.$cstNode,c.keyword,c.index)),q??(q=c.node.$cstNode),q?q.range:{start:{line:0,character:0},end:{line:0,character:0}}}function zk(c){switch(c){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+c)}}var cse,hse,bse,kse,_se,Sse,Lse,Nse,Ise,Mse,Rse=M(()=>{var c;Wie(),h7(),M6(),f3(),Qie(),sse(),cse=class{static{o(this,"DefaultDocumentValidator")}constructor(c){this.validationRegistry=c.validation.ValidationRegistry,this.metadata=c.LanguageMetaData}async validateDocument(c,q={},Y=Yie.CancellationToken.None){let V=c.parseResult,Z=[];if(await Gi(Y),(!q.categories||q.categories.includes("built-in"))&&(this.processLexingErrors(V,Z,q),q.stopAfterLexingErrors&&Z.some(c=>{var q;return(null===(q=c.data)||void 0===q?void 0:q.code)===hse.LexingError})||(this.processParsingErrors(V,Z,q),q.stopAfterParsingErrors&&Z.some(c=>{var q;return(null===(q=c.data)||void 0===q?void 0:q.code)===hse.ParsingError}))||(this.processLinkingErrors(c,Z,q),q.stopAfterLinkingErrors&&Z.some(c=>{var q;return(null===(q=c.data)||void 0===q?void 0:q.code)===hse.LinkingError}))))return Z;try{Z.push(...await this.validateAst(V.value,q,Y))}catch(c){if(sf(c))throw c;console.error("An error occurred during validation:",c)}return await Gi(Y),Z}processLexingErrors(c,q,Y){for(let Y of c.lexerErrors){let c={severity:zk("error"),range:{start:{line:Y.line-1,character:Y.column-1},end:{line:Y.line-1,character:Y.column+Y.length-1}},message:Y.message,data:Fk(hse.LexingError),source:this.getSource()};q.push(c)}}processParsingErrors(c,q,Y){for(let Y of c.parserErrors){let c;if(isNaN(Y.token.startOffset)){if("previousToken"in Y){let q=Y.previousToken;if(isNaN(q.startOffset)){let q={line:0,character:0};c={start:q,end:q}}else{let Y={line:q.endLine-1,character:q.endColumn};c={start:Y,end:Y}}}}else c=$m(Y.token);if(c){let V={severity:zk("error"),range:c,message:Y.message,data:Fk(hse.ParsingError),source:this.getSource()};q.push(V)}}}processLinkingErrors(c,q,Y){for(let Y of c.references){let c=Y.error;if(c){let Y={node:c.container,property:c.property,index:c.index,data:{code:hse.LinkingError,containerType:c.container.$type,property:c.property,refText:c.reference.$refText}};q.push(this.toDiagnostic("error",c.message,Y))}}}async validateAst(c,q,Y=Yie.CancellationToken.None){let V=[],Z=o((c,q,Y)=>{V.push(this.toDiagnostic(c,q,Y))},"acceptor");return await Promise.all(jo(c).map(async c=>{await Gi(Y);let V=this.validationRegistry.getChecks(c.$type,q.categories);for(let q of V)await q(c,Z,Y)})),V}toDiagnostic(c,q,Y){return{message:q,range:xce(Y),severity:zk(c),code:Y.code,codeDescription:Y.codeDescription,tags:Y.tags,relatedInformation:Y.relatedInformation,data:Y.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},o(xce,"getDiagnosticRange"),o(zk,"toDiagnosticSeverity"),(c=hse||(hse={})).LexingError="lexing-error",c.ParsingError="parsing-error",c.LinkingError="linking-error"}),Dse=M(()=>{Wie(),X5(),M6(),f3(),Qie(),uae(),bse=class{static{o(this,"DefaultAstNodeDescriptionProvider")}constructor(c){this.astNodeLocator=c.workspace.AstNodeLocator,this.nameProvider=c.references.NameProvider}createDescription(c,q,Y=Fi(c)){q??(q=this.nameProvider.getName(c));let V=this.astNodeLocator.getAstNodePath(c);if(!q)throw new Error(`Node at path ${V} has no name.`);let Z,re=o(()=>{var q;return Z??(Z=Hd(null!==(q=this.nameProvider.getNameNode(c))&&void 0!==q?q:c.$cstNode))},"nameSegmentGetter");return{node:c,name:q,get nameSegment(){return re()},selectionSegment:Hd(c.$cstNode),type:c.$type,documentUri:Y.uri,path:V}}},kse=class{static{o(this,"DefaultReferenceDescriptionProvider")}constructor(c){this.nodeLocator=c.workspace.AstNodeLocator}async createDescriptions(c,q=Yie.CancellationToken.None){let Y=[],V=c.parseResult.value;for(let c of jo(V))await Gi(q),Um(c).filter(c=>!Vd(c)).forEach(c=>{let q=this.createDescription(c);q&&Y.push(q)});return Y}createDescription(c){let q=c.reference.$nodeDescription,Y=c.reference.$refNode;if(!q||!Y)return;let V=Fi(c.container).uri;return{sourceUri:V,sourcePath:this.nodeLocator.getAstNodePath(c.container),targetUri:q.documentUri,targetPath:q.path,segment:Hd(Y),local:nae.equals(q.documentUri,V)}}}}),Ose=M(()=>{_se=class{static{o(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(c){if(c.$container){let q=this.getAstNodePath(c.$container),Y=this.getPathSegment(c);return q+this.segmentSeparator+Y}return""}getPathSegment({$containerProperty:c,$containerIndex:q}){if(!c)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==q?c+this.indexSeparator+q:c}getAstNode(c,q){return q.split(this.segmentSeparator).reduce((c,q)=>{if(!c||0===q.length)return c;let Y=q.indexOf(this.indexSeparator);if(Y>0){let V=q.substring(0,Y),Z=parseInt(q.substring(Y+1)),re=c[V];return re?.[Z]}return c[q]},c)}}}),Pse=M(()=>{Qie(),Sse=class{static{o(this,"DefaultConfigurationProvider")}constructor(c){this._ready=new Kie,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=c.ServiceRegistry}get ready(){return this._ready.promise}initialize(c){var q,Y;this.workspaceConfig=null!==(Y=null===(q=c.capabilities.workspace)||void 0===q?void 0:q.configuration)&&void 0!==Y&&Y}async initialized(c){if(this.workspaceConfig){if(c.register){let q=this.serviceRegistry.all;c.register({section:q.map(c=>this.toSectionName(c.LanguageMetaData.languageId))})}if(c.fetchConfiguration){let q=this.serviceRegistry.all.map(c=>({section:this.toSectionName(c.LanguageMetaData.languageId)})),Y=await c.fetchConfiguration(q);q.forEach((c,q)=>{this.updateSectionConfiguration(c.section,Y[q])})}}this._ready.resolve()}updateConfiguration(c){c.settings&&Object.keys(c.settings).forEach(q=>{this.updateSectionConfiguration(q,c.settings[q])})}updateSectionConfiguration(c,q){this.settings[c]=q}async getConfiguration(c,q){await this.ready;let Y=this.toSectionName(c);if(this.settings[Y])return this.settings[Y][q]}toSectionName(c){return`${c}`}}}),Fse=M(()=>{!function(c){function e(c){return{dispose:o(async()=>await c(),"dispose")}}o(e,"create"),c.create=e}(Lse||(Lse={}))}),roe=M(()=>{Wie(),Fse(),Bae(),Qie(),n3(),sse(),dae(),Nse=class{static{o(this,"DefaultDocumentBuilder")}constructor(c){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new mae,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=iae.Changed,this.langiumDocuments=c.workspace.LangiumDocuments,this.langiumDocumentFactory=c.workspace.LangiumDocumentFactory,this.indexManager=c.workspace.IndexManager,this.serviceRegistry=c.ServiceRegistry}async build(c,q={},Y=Yie.CancellationToken.None){var V,Z;for(let Y of c){let c=Y.uri.toString();if(Y.state===iae.Validated){if("boolean"==typeof q.validation&&q.validation)Y.state=iae.IndexedReferences,Y.diagnostics=void 0,this.buildState.delete(c);else if("object"==typeof q.validation){let re=this.buildState.get(c),ae=null===(V=re?.result)||void 0===V?void 0:V.validationChecks;if(ae){let V=(null!==(Z=q.validation.categories)&&void 0!==Z?Z:rse.all).filter(c=>!ae.includes(c));V.length>0&&(this.buildState.set(c,{completed:!1,options:{validation:Object.assign(Object.assign({},q.validation),{categories:V})},result:re.result}),Y.state=iae.IndexedReferences)}}}else this.buildState.delete(c)}this.currentState=iae.Changed,await this.emitUpdate(c.map(c=>c.uri),[]),await this.buildDocuments(c,q,Y)}async update(c,q,Y=Yie.CancellationToken.None){this.currentState=iae.Changed;for(let c of q)this.langiumDocuments.deleteDocument(c),this.buildState.delete(c.toString()),this.indexManager.remove(c);for(let q of c){if(!this.langiumDocuments.invalidateDocument(q)){let c=this.langiumDocumentFactory.fromModel({$type:"INVALID"},q);c.state=iae.Changed,this.langiumDocuments.addDocument(c)}this.buildState.delete(q.toString())}let V=tn(c).concat(q).map(c=>c.toString()).toSet();this.langiumDocuments.all.filter(c=>!V.has(c.uri.toString())&&this.shouldRelink(c,V)).forEach(c=>{this.serviceRegistry.getServices(c.uri).references.Linker.unlink(c),c.state=Math.min(c.state,iae.ComputedScopes),c.diagnostics=void 0}),await this.emitUpdate(c,q),await Gi(Y);let Z=this.langiumDocuments.all.filter(c=>{var q;return c.state<iae.Linked||!(null!==(q=this.buildState.get(c.uri.toString()))&&void 0!==q&&q.completed)}).toArray();await this.buildDocuments(Z,this.updateBuildOptions,Y)}async emitUpdate(c,q){await Promise.all(this.updateListeners.map(Y=>Y(c,q)))}shouldRelink(c,q){return!!c.references.some(c=>void 0!==c.error)||this.indexManager.isAffected(c,q)}onUpdate(c){return this.updateListeners.push(c),Lse.create(()=>{let q=this.updateListeners.indexOf(c);q>=0&&this.updateListeners.splice(q,1)})}async buildDocuments(c,q,Y){this.prepareBuild(c,q),await this.runCancelable(c,iae.Parsed,Y,c=>this.langiumDocumentFactory.update(c,Y)),await this.runCancelable(c,iae.IndexedContent,Y,c=>this.indexManager.updateContent(c,Y)),await this.runCancelable(c,iae.ComputedScopes,Y,async c=>{let q=this.serviceRegistry.getServices(c.uri).references.ScopeComputation;c.precomputedScopes=await q.computeLocalScopes(c,Y)}),await this.runCancelable(c,iae.Linked,Y,c=>this.serviceRegistry.getServices(c.uri).references.Linker.link(c,Y)),await this.runCancelable(c,iae.IndexedReferences,Y,c=>this.indexManager.updateReferences(c,Y));let V=c.filter(c=>this.shouldValidate(c));await this.runCancelable(V,iae.Validated,Y,c=>this.validate(c,Y));for(let q of c){let c=this.buildState.get(q.uri.toString());c&&(c.completed=!0)}}prepareBuild(c,q){for(let Y of c){let c=Y.uri.toString(),V=this.buildState.get(c);(!V||V.completed)&&this.buildState.set(c,{completed:!1,options:q,result:V?.result})}}async runCancelable(c,q,Y,V){let Z=c.filter(c=>c.state<q);for(let c of Z)await Gi(Y),await V(c),c.state=q;await this.notifyBuildPhase(Z,q,Y),this.currentState=q}onBuildPhase(c,q){return this.buildPhaseListeners.add(c,q),Lse.create(()=>{this.buildPhaseListeners.delete(c,q)})}waitUntil(c,q,Y){let V;if(q&&"path"in q?V=q:Y=q,Y??(Y=Yie.CancellationToken.None),V){let q=this.langiumDocuments.getDocument(V);if(q&&q.state>c)return Promise.resolve(V)}return this.currentState>=c?Promise.resolve(void 0):Y.isCancellationRequested?Promise.reject(Xie):new Promise((q,Z)=>{let re=this.onBuildPhase(c,()=>{if(re.dispose(),ae.dispose(),V){let c=this.langiumDocuments.getDocument(V);q(c?.uri)}else q(void 0)}),ae=Y.onCancellationRequested(()=>{re.dispose(),ae.dispose(),Z(Xie)})})}async notifyBuildPhase(c,q,Y){if(0===c.length)return;let V=this.buildPhaseListeners.get(q);for(let q of V)await Gi(Y),await q(c,Y)}shouldValidate(c){return!!this.getBuildOptions(c).validation}async validate(c,q){var Y,V;let Z=this.serviceRegistry.getServices(c.uri).validation.DocumentValidator,re=this.getBuildOptions(c).validation,ae="object"==typeof re?re:void 0,se=await Z.validateDocument(c,ae,q);c.diagnostics?c.diagnostics.push(...se):c.diagnostics=se;let oe=this.buildState.get(c.uri.toString());if(oe){null!==(Y=oe.result)&&void 0!==Y||(oe.result={});let c=null!==(V=ae?.categories)&&void 0!==V?V:rse.all;oe.result.validationChecks?oe.result.validationChecks.push(...c):oe.result.validationChecks=[...c]}}getBuildOptions(c){var q,Y;return null!==(Y=null===(q=this.buildState.get(c.uri.toString()))||void 0===q?void 0:q.options)&&void 0!==Y?Y:{}}}}),noe=M(()=>{M6(),Uae(),Wie(),n3(),uae(),Ise=class{static{o(this,"DefaultIndexManager")}constructor(c){this.symbolIndex=new Map,this.symbolByTypeIndex=new Eae,this.referenceIndex=new Map,this.documents=c.workspace.LangiumDocuments,this.serviceRegistry=c.ServiceRegistry,this.astReflection=c.AstReflection}findAllReferences(c,q){let Y=Fi(c).uri,V=[];return this.referenceIndex.forEach(c=>{c.forEach(c=>{nae.equals(c.targetUri,Y)&&c.targetPath===q&&V.push(c)})}),tn(V)}allElements(c,q){let Y=tn(this.symbolIndex.keys());return q&&(Y=Y.filter(c=>!q||q.has(c))),Y.map(q=>this.getFileDescriptions(q,c)).flat()}getFileDescriptions(c,q){var Y;return q?this.symbolByTypeIndex.get(c,q,()=>{var Y;return(null!==(Y=this.symbolIndex.get(c))&&void 0!==Y?Y:[]).filter(c=>this.astReflection.isSubtype(c.type,q))}):null!==(Y=this.symbolIndex.get(c))&&void 0!==Y?Y:[]}remove(c){let q=c.toString();this.symbolIndex.delete(q),this.symbolByTypeIndex.clear(q),this.referenceIndex.delete(q)}async updateContent(c,q=Yie.CancellationToken.None){let Y=await this.serviceRegistry.getServices(c.uri).references.ScopeComputation.computeExports(c,q),V=c.uri.toString();this.symbolIndex.set(V,Y),this.symbolByTypeIndex.clear(V)}async updateReferences(c,q=Yie.CancellationToken.None){let Y=await this.serviceRegistry.getServices(c.uri).workspace.ReferenceDescriptionProvider.createDescriptions(c,q);this.referenceIndex.set(c.uri.toString(),Y)}isAffected(c,q){let Y=this.referenceIndex.get(c.uri.toString());return!!Y&&Y.some(c=>!c.local&&q.has(c.targetUri.toString()))}}}),ioe=M(()=>{Wie(),Qie(),uae(),Mse=class{static{o(this,"DefaultWorkspaceManager")}constructor(c){this.initialBuildOptions={},this._ready=new Kie,this.serviceRegistry=c.ServiceRegistry,this.langiumDocuments=c.workspace.LangiumDocuments,this.documentBuilder=c.workspace.DocumentBuilder,this.fileSystemProvider=c.workspace.FileSystemProvider,this.mutex=c.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(c){var q;this.folders=null!==(q=c.workspaceFolders)&&void 0!==q?q:void 0}initialized(c){return this.mutex.write(c=>{var q;return this.initializeWorkspace(null!==(q=this.folders)&&void 0!==q?q:[],c)})}async initializeWorkspace(c,q=Yie.CancellationToken.None){let Y=await this.performStartup(c);await Gi(q),await this.documentBuilder.build(Y,this.initialBuildOptions,q)}async performStartup(c){let q=this.serviceRegistry.all.flatMap(c=>c.LanguageMetaData.fileExtensions),Y=[],V=o(c=>{Y.push(c),this.langiumDocuments.hasDocument(c.uri)||this.langiumDocuments.addDocument(c)},"collector");return await this.loadAdditionalDocuments(c,V),await Promise.all(c.map(c=>[c,this.getRootFolder(c)]).map(async c=>this.traverseFolder(...c,q,V))),this._ready.resolve(),Y}loadAdditionalDocuments(c,q){return Promise.resolve()}getRootFolder(c){return tae.parse(c.uri)}async traverseFolder(c,q,Y,V){let Z=await this.fileSystemProvider.readDirectory(q);await Promise.all(Z.map(async q=>{if(this.includeEntry(c,q,Y))if(q.isDirectory)await this.traverseFolder(c,q.uri,Y,V);else if(q.isFile){let c=await this.langiumDocuments.getOrCreateDocument(q.uri);V(c)}}))}includeEntry(c,q,Y){let V=nae.basename(q.uri);if(V.startsWith("."))return!1;if(q.isDirectory)return"node_modules"!==V&&"out"!==V;if(q.isFile){let c=nae.extname(q.uri);return Y.includes(c)}return!1}}});function bce(c){return Array.isArray(c)&&(0===c.length||"name"in c[0])}function QM(c){return c&&"modes"in c&&"defaultMode"in c}function KM(c){return!bce(c)&&!QM(c)}var aoe,soe=M(()=>{Cte(),aoe=class{static{o(this,"DefaultLexer")}constructor(c){let q=c.parser.TokenBuilder.buildTokens(c.Grammar,{caseInsensitive:c.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(q);let Y=KM(q)?Object.values(q):q;this.chevrotainLexer=new p9(Y,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(c){var q;let Y=this.chevrotainLexer.tokenize(c);return{tokens:Y.tokens,errors:Y.errors,hidden:null!==(q=Y.groups.hidden)&&void 0!==q?q:[]}}toTokenTypeDictionary(c){if(KM(c))return c;let q=QM(c)?Object.values(c.modes).flat():c,Y={};return q.forEach(c=>Y[c.name]=c),Y}},o(bce,"isTokenTypeArray"),o(QM,"isIMultiModeLexerDefinition"),o(KM,"isTokenTypeDictionary")});function tI(c,q,Y){let V,Z;return"string"==typeof c?(Z=q,V=Y):(Z=c.range.start,V=q),Z||(Z=Zte.create(0,0)),Uze({index:0,tokens:Fze({lines:kce(c),position:Z,options:nI(V)}),position:Z})}function rI(c,q){let Y=nI(q),V=kce(c);if(0===V.length)return!1;let Z=V[0],re=V[V.length-1],ae=Y.start,se=Y.end;return!!ae?.exec(Z)&&!!se?.exec(re)}function kce(c){let q="";return q="string"==typeof c?c:c.text,q.split(n7)}function Fze(c){var q,Y,V;let Z=[],re=c.position.line,ae=c.position.character;for(let se=0;se<c.lines.length;se++){let oe=0===se,he=se===c.lines.length-1,de=c.lines[se],pe=0;if(oe&&c.options.start){let Y=null===(q=c.options.start)||void 0===q?void 0:q.exec(de);Y&&(pe=Y.index+Y[0].length)}else{let q=null===(Y=c.options.line)||void 0===Y?void 0:Y.exec(de);q&&(pe=q.index+q[0].length)}if(he){let q=null===(V=c.options.end)||void 0===V?void 0:V.exec(de);q&&(de=de.substring(0,q.index))}if(de=de.substring(0,Vze(de)),eI(de,pe)>=de.length){if(Z.length>0){let c=Zte.create(re,ae);Z.push({type:"break",content:"",range:Jte.create(c,c)})}}else{ooe.lastIndex=pe;let c=ooe.exec(de);if(c){let q=c[0],Y=c[1],V=Zte.create(re,ae+pe),se=Zte.create(re,ae+pe+q.length);Z.push({type:"tag",content:Y,range:Jte.create(V,se)}),pe+=q.length,pe=eI(de,pe)}if(pe<de.length){let c=de.substring(pe),q=Array.from(c.matchAll(loe));Z.push(...zze(q,c,re,ae+pe))}}re++,ae=0}return Z.length>0&&"break"===Z[Z.length-1].type?Z.slice(0,-1):Z}function zze(c,q,Y,V){let Z=[];if(0===c.length){let c=Zte.create(Y,V),re=Zte.create(Y,V+q.length);Z.push({type:"text",content:q,range:Jte.create(c,re)})}else{let re=0;for(let ae of c){let c=ae.index,se=q.substring(re,c);se.length>0&&Z.push({type:"text",content:q.substring(re,c),range:Jte.create(Zte.create(Y,re+V),Zte.create(Y,c+V))});let oe=se.length+1,he=ae[1];if(Z.push({type:"inline-tag",content:he,range:Jte.create(Zte.create(Y,re+oe+V),Zte.create(Y,re+oe+he.length+V))}),oe+=he.length,4===ae.length){oe+=ae[2].length;let c=ae[3];Z.push({type:"text",content:c,range:Jte.create(Zte.create(Y,re+oe+V),Zte.create(Y,re+oe+c.length+V))})}else Z.push({type:"text",content:"",range:Jte.create(Zte.create(Y,re+oe+V),Zte.create(Y,re+oe+V))});re=c+ae[0].length}let ae=q.substring(re);ae.length>0&&Z.push({type:"text",content:ae,range:Jte.create(Zte.create(Y,re+V),Zte.create(Y,re+V+ae.length))})}return Z}function eI(c,q){let Y=c.substring(q).match(hoe);return Y?q+Y.index:c.length}function Vze(c){let q=c.match(goe);if(q&&"number"==typeof q.index)return q.index}function Uze(c){var q,Y,V,Z;let re=Zte.create(c.position.line,c.position.character);if(0===c.tokens.length)return new foe([],Jte.create(re,re));let ae=[];for(;c.index<c.tokens.length;){let q=Hze(c,ae[ae.length-1]);q&&ae.push(q)}let se=null!==(Y=null===(q=ae[0])||void 0===q?void 0:q.range.start)&&void 0!==Y?Y:re,oe=null!==(Z=null===(V=ae[ae.length-1])||void 0===V?void 0:V.range.end)&&void 0!==Z?Z:re;return new foe(ae,Jte.create(se,oe))}function Hze(c,q){let Y=c.tokens[c.index];return"tag"===Y.type?Sce(c,!1):"text"===Y.type||"inline-tag"===Y.type?Ece(c):(Wze(Y,q),void c.index++)}function Wze(c,q){if(q){let Y=new voe("",c.range);"inlines"in q?q.inlines.push(Y):q.content.inlines.push(Y)}}function Ece(c){let q=c.tokens[c.index],Y=q,V=q,Z=[];for(;q&&"break"!==q.type&&"tag"!==q.type;)Z.push(Yze(c)),V=q,q=c.tokens[c.index];return new yoe(Z,Jte.create(Y.range.start,V.range.end))}function Yze(c){return"inline-tag"===c.tokens[c.index].type?Sce(c,!0):Cce(c)}function Sce(c,q){let Y=c.tokens[c.index++],V=Y.content.substring(1),Z=c.tokens[c.index];if("text"===Z?.type){if(q){let Z=Cce(c);return new moe(V,new yoe([Z],Z.range),q,Jte.create(Y.range.start,Z.range.end))}{let Z=Ece(c);return new moe(V,Z,q,Jte.create(Y.range.start,Z.range.end))}}{let c=Y.range;return new moe(V,new yoe([],c),q,c)}}function Cce(c){let q=c.tokens[c.index++];return new voe(q.content,q.range)}function nI(c){if(!c)return nI({start:"/**",end:"*/",line:"*"});let{start:q,end:Y,line:V}=c;return{start:JM(q,!0),end:JM(Y,!1),line:JM(V,!0)}}function JM(c,q){if("string"==typeof c||"object"==typeof c){let Y="string"==typeof c?Qd(c):c.source;return q?new RegExp(`^\\s*${Y}`):new RegExp(`\\s*${Y}\\s*$`)}return c}function qze(c,q,Y){var V,Z;if("linkplain"===c||"linkcode"===c||"link"===c){let re=q.indexOf(" "),ae=q;if(re>0){let c=eI(q,re);ae=q.substring(c),q=q.substring(0,re)}return("linkcode"===c||"link"===c&&"code"===Y.link)&&(ae=`\`${ae}\``),null!==(Z=null===(V=Y.renderLink)||void 0===V?void 0:V.call(Y,q,ae))&&void 0!==Z?Z:Xze(q,ae)}}function Xze(c,q){try{return tae.parse(c,!0),`[${q}](${c})`}catch{return c}}function Tce(c){return c.endsWith("\n")?"\n":"\n\n"}var ooe,loe,hoe,goe,foe,moe,yoe,voe,xoe,boe,woe,koe,Toe,_oe,Coe,Soe=M(()=>{gie(),o7(),uae(),o(tI,"parseJSDoc"),o(rI,"isJSDoc"),o(kce,"getLines"),ooe=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,loe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,o(Fze,"tokenize"),o(zze,"buildInlineTokens"),hoe=/\S/,goe=/\s*$/,o(eI,"skipWhitespace"),o(Vze,"lastCharacter"),o(Uze,"parseJSDocComment"),o(Hze,"parseJSDocElement"),o(Wze,"appendEmptyLine"),o(Ece,"parseJSDocText"),o(Yze,"parseJSDocInline"),o(Sce,"parseJSDocTag"),o(Cce,"parseJSDocLine"),o(nI,"normalizeOptions"),o(JM,"normalizeOption"),foe=class{static{o(this,"JSDocCommentImpl")}constructor(c,q){this.elements=c,this.range=q}getTag(c){return this.getAllTags().find(q=>q.name===c)}getTags(c){return this.getAllTags().filter(q=>q.name===c)}getAllTags(){return this.elements.filter(c=>"name"in c)}toString(){let c="";for(let q of this.elements)if(0===c.length)c=q.toString();else{let Y=q.toString();c+=Tce(c)+Y}return c.trim()}toMarkdown(c){let q="";for(let Y of this.elements)if(0===q.length)q=Y.toMarkdown(c);else{let V=Y.toMarkdown(c);q+=Tce(q)+V}return q.trim()}},moe=class{static{o(this,"JSDocTagImpl")}constructor(c,q,Y,V){this.name=c,this.content=q,this.inline=Y,this.range=V}toString(){let c=`@${this.name}`,q=this.content.toString();return 1===this.content.inlines.length?c=`${c} ${q}`:this.content.inlines.length>1&&(c=`${c}\n${q}`),this.inline?`{${c}}`:c}toMarkdown(c){var q,Y;return null!==(Y=null===(q=c?.renderTag)||void 0===q?void 0:q.call(c,this))&&void 0!==Y?Y:this.toMarkdownDefault(c)}toMarkdownDefault(c){let q=this.content.toMarkdown(c);if(this.inline){let Y=qze(this.name,q,c??{});if("string"==typeof Y)return Y}let Y="";"italic"===c?.tag||void 0===c?.tag?Y="*":"bold"===c?.tag?Y="**":"bold-italic"===c?.tag&&(Y="***");let V=`${Y}@${this.name}${Y}`;return 1===this.content.inlines.length?V=`${V} — ${q}`:this.content.inlines.length>1&&(V=`${V}\n${q}`),this.inline?`{${V}}`:V}},o(qze,"renderInlineTag"),o(Xze,"renderLinkDefault"),yoe=class{static{o(this,"JSDocTextImpl")}constructor(c,q){this.inlines=c,this.range=q}toString(){let c="";for(let q=0;q<this.inlines.length;q++){let Y=this.inlines[q],V=this.inlines[q+1];c+=Y.toString(),V&&V.range.start.line>Y.range.start.line&&(c+="\n")}return c}toMarkdown(c){let q="";for(let Y=0;Y<this.inlines.length;Y++){let V=this.inlines[Y],Z=this.inlines[Y+1];q+=V.toMarkdown(c),Z&&Z.range.start.line>V.range.start.line&&(q+="\n")}return q}},voe=class{static{o(this,"JSDocLineImpl")}constructor(c,q){this.text=c,this.range=q}toString(){return this.text}toMarkdown(){return this.text}},o(Tce,"fillNewlines")}),Aoe=M(()=>{M6(),Soe(),xoe=class{static{o(this,"JSDocDocumentationProvider")}constructor(c){this.indexManager=c.shared.workspace.IndexManager,this.commentProvider=c.documentation.CommentProvider}getDocumentation(c){let q=this.commentProvider.getComment(c);if(q&&rI(q))return tI(q).toMarkdown({renderLink:o((q,Y)=>this.documentationLinkRenderer(c,q,Y),"renderLink"),renderTag:o(q=>this.documentationTagRenderer(c,q),"renderTag")})}documentationLinkRenderer(c,q,Y){var V;let Z=null!==(V=this.findNameInPrecomputedScopes(c,q))&&void 0!==V?V:this.findNameInGlobalScope(c,q);if(Z&&Z.nameSegment){let c=Z.nameSegment.range.start.line+1,q=Z.nameSegment.range.start.character+1;return`[${Y}](${Z.documentUri.with({fragment:`L${c},${q}`}).toString()})`}}documentationTagRenderer(c,q){}findNameInPrecomputedScopes(c,q){let Y=Fi(c).precomputedScopes;if(!Y)return;let V=c;do{let c=Y.get(V).find(c=>c.name===q);if(c)return c;V=V.$container}while(V)}findNameInGlobalScope(c,q){return this.indexManager.allElements().find(c=>c.name===q)}}}),Noe=M(()=>{ese(),f3(),boe=class{static{o(this,"DefaultCommentProvider")}constructor(c){this.grammarConfig=()=>c.parser.GrammarConfig}getComment(c){var q;return GM(c)?c.$comment:null===(q=BD(c.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===q?void 0:q.text}}}),Ioe={},Moe=M(()=>{Er(Ioe,ka(qie(),1))}),Roe=M(()=>{Qie(),Moe(),woe=class{static{o(this,"DefaultAsyncParser")}constructor(c){this.syncParser=c.parser.LangiumParser}parse(c){return Promise.resolve(this.syncParser.parse(c))}},koe=class{static{o(this,"AbstractThreadedAsyncParser")}constructor(c){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=c.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let c=this.createWorker();c.onReady(()=>{if(this.queue.length>0){let q=this.queue.shift();q&&(c.lock(),q.resolve(c))}}),this.workerPool.push(c)}}async parse(c,q){let Y,V=await this.acquireParserWorker(q),Z=new Kie,re=q.onCancellationRequested(()=>{Y=setTimeout(()=>{this.terminateWorker(V)},this.terminationDelay)});return V.parse(c).then(c=>{let q=this.hydrator.hydrate(c);Z.resolve(q)}).catch(c=>{Z.reject(c)}).finally(()=>{re.dispose(),clearTimeout(Y)}),Z.promise}terminateWorker(c){c.terminate();let q=this.workerPool.indexOf(c);q>=0&&this.workerPool.splice(q,1)}async acquireParserWorker(c){this.initializeWorkers();for(let c of this.workerPool)if(c.ready)return c.lock(),c;let q=new Kie;return c.onCancellationRequested(()=>{let c=this.queue.indexOf(q);c>=0&&this.queue.splice(c,1),q.reject(Xie)}),this.queue.push(q),q.promise}},Toe=class{static{o(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(c,q,Y,V){this.onReadyEmitter=new Ioe.Emitter,this.deferred=new Kie,this._ready=!0,this._parsing=!1,this.sendMessage=c,this._terminate=V,q(c=>{let q=c;this.deferred.resolve(q),this.unlock()}),Y(c=>{this.deferred.reject(c),this.unlock()})}terminate(){this.deferred.reject(Xie),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(c){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Kie,this.sendMessage(c),this.deferred.promise}}}),Doe=M(()=>{Wie(),Qie(),_oe=class{static{o(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new Yie.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(c){this.cancelWrite();let q=new Yie.CancellationTokenSource;return this.previousTokenSource=q,this.enqueue(this.writeQueue,c,q.token)}read(c){return this.enqueue(this.readQueue,c)}enqueue(c,q,Y){let V=new Kie,Z={action:q,deferred:V,cancellationToken:Y??Yie.CancellationToken.None};return c.push(Z),this.performNextOperation(),V.promise}async performNextOperation(){if(!this.done)return;let c=[];if(this.writeQueue.length>0)c.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;c.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(c.map(async({action:c,deferred:q,cancellationToken:Y})=>{try{let V=await Promise.resolve().then(()=>c(Y));q.resolve(V)}catch(c){sf(c)?q.resolve(void 0):q.reject(c)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}}),Ooe=M(()=>{fie(),N6(),X5(),M6(),Bae(),f3(),Coe=class{static{o(this,"DefaultHydrator")}constructor(c){this.grammarElementIdMap=new yae,this.tokenTypeIdMap=new yae,this.grammar=c.Grammar,this.lexer=c.parser.Lexer,this.linker=c.references.Linker}dehydrate(c){return{lexerErrors:c.lexerErrors.map(c=>Object.assign({},c)),parserErrors:c.parserErrors.map(c=>Object.assign({},c)),value:this.dehydrateAstNode(c.value,this.createDehyrationContext(c.value))}}createDehyrationContext(c){let q=new Map,Y=new Map;for(let Y of jo(c))q.set(Y,{});if(c.$cstNode)for(let q of Ud(c.$cstNode))Y.set(q,{});return{astNodes:q,cstNodes:Y}}dehydrateAstNode(c,q){let Y=q.astNodes.get(c);Y.$type=c.$type,Y.$containerIndex=c.$containerIndex,Y.$containerProperty=c.$containerProperty,void 0!==c.$cstNode&&(Y.$cstNode=this.dehydrateCstNode(c.$cstNode,q));for(let[V,Z]of Object.entries(c))if(!V.startsWith("$"))if(Array.isArray(Z)){let c=[];Y[V]=c;for(let Y of Z)ei(Y)?c.push(this.dehydrateAstNode(Y,q)):ma(Y)?c.push(this.dehydrateReference(Y,q)):c.push(Y)}else ei(Z)?Y[V]=this.dehydrateAstNode(Z,q):ma(Z)?Y[V]=this.dehydrateReference(Z,q):void 0!==Z&&(Y[V]=Z);return Y}dehydrateReference(c,q){let Y={};return Y.$refText=c.$refText,c.$refNode&&(Y.$refNode=q.cstNodes.get(c.$refNode)),Y}dehydrateCstNode(c,q){let Y=q.cstNodes.get(c);return Gv(c)?Y.fullText=c.fullText:Y.grammarSource=this.getGrammarElementId(c.grammarSource),Y.hidden=c.hidden,Y.astNode=q.astNodes.get(c.astNode),io(c)?Y.content=c.content.map(c=>this.dehydrateCstNode(c,q)):Jh(c)&&(Y.tokenType=c.tokenType.name,Y.offset=c.offset,Y.length=c.length,Y.startLine=c.range.start.line,Y.startColumn=c.range.start.character,Y.endLine=c.range.end.line,Y.endColumn=c.range.end.character),Y}hydrate(c){let q=c.value,Y=this.createHydrationContext(q);return"$cstNode"in q&&this.hydrateCstNode(q.$cstNode,Y),{lexerErrors:c.lexerErrors,parserErrors:c.parserErrors,value:this.hydrateAstNode(q,Y)}}createHydrationContext(c){let q,Y=new Map,V=new Map;for(let q of jo(c))Y.set(q,{});if(c.$cstNode)for(let Y of Ud(c.$cstNode)){let c;"fullText"in Y?(c=new sie(Y.fullText),q=c):"content"in Y?c=new rie:"tokenType"in Y&&(c=this.hydrateCstLeafNode(Y)),c&&(V.set(Y,c),c.root=q)}return{astNodes:Y,cstNodes:V}}hydrateAstNode(c,q){let Y=q.astNodes.get(c);Y.$type=c.$type,Y.$containerIndex=c.$containerIndex,Y.$containerProperty=c.$containerProperty,c.$cstNode&&(Y.$cstNode=q.cstNodes.get(c.$cstNode));for(let[V,Z]of Object.entries(c))if(!V.startsWith("$"))if(Array.isArray(Z)){let c=[];Y[V]=c;for(let re of Z)ei(re)?c.push(this.setParent(this.hydrateAstNode(re,q),Y)):ma(re)?c.push(this.hydrateReference(re,Y,V,q)):c.push(re)}else ei(Z)?Y[V]=this.setParent(this.hydrateAstNode(Z,q),Y):ma(Z)?Y[V]=this.hydrateReference(Z,Y,V,q):void 0!==Z&&(Y[V]=Z);return Y}setParent(c,q){return c.$container=q,c}hydrateReference(c,q,Y,V){return this.linker.buildReference(q,Y,V.cstNodes.get(c.$refNode),c.$refText)}hydrateCstNode(c,q,Y=0){let V=q.cstNodes.get(c);if("number"==typeof c.grammarSource&&(V.grammarSource=this.getGrammarElement(c.grammarSource)),V.astNode=q.astNodes.get(c.astNode),io(V))for(let Z of c.content){let c=this.hydrateCstNode(Z,q,Y++);V.content.push(c)}return V}hydrateCstLeafNode(c){let q=this.getTokenType(c.tokenType),Y=c.offset,V=c.length,Z=c.startLine,re=c.startColumn,ae=c.endLine,se=c.endColumn,oe=c.hidden;return new eie(Y,V,{start:{line:Z,character:re},end:{line:ae,character:se}},q,oe)}getTokenType(c){return this.lexer.definition[c]}getGrammarElementId(c){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(c)}getGrammarElement(c){0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap();let q=this.grammarElementIdMap.getKey(c);if(q)return q;throw new Error("Invalid grammar element id: "+c)}createGrammarElementIdMap(){let c=0;for(let q of jo(this.grammar))Hv(q)&&this.grammarElementIdMap.set(q,c++)}}});function lo(c){return{documentation:{CommentProvider:o(c=>new boe(c),"CommentProvider"),DocumentationProvider:o(c=>new xoe(c),"DocumentationProvider")},parser:{AsyncParser:o(c=>new woe(c),"AsyncParser"),GrammarConfig:o(c=>lR(c),"GrammarConfig"),LangiumParser:o(c=>vM(c),"LangiumParser"),CompletionParser:o(c=>gM(c),"CompletionParser"),ValueConverter:o(()=>new Pie,"ValueConverter"),TokenBuilder:o(()=>new Oie,"TokenBuilder"),Lexer:o(c=>new aoe(c),"Lexer"),ParserErrorMessageProvider:o(()=>new Aie,"ParserErrorMessageProvider")},workspace:{AstNodeLocator:o(()=>new _se,"AstNodeLocator"),AstNodeDescriptionProvider:o(c=>new bse(c),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:o(c=>new kse(c),"ReferenceDescriptionProvider")},references:{Linker:o(c=>new oae(c),"Linker"),NameProvider:o(()=>new gae,"NameProvider"),ScopeProvider:o(c=>new Aae(c),"ScopeProvider"),ScopeComputation:o(c=>new vae(c),"ScopeComputation"),References:o(c=>new fae(c),"References")},serializer:{Hydrator:o(c=>new Coe(c),"Hydrator"),JsonSerializer:o(c=>new Vae(c),"JsonSerializer")},validation:{DocumentValidator:o(c=>new cse(c),"DocumentValidator"),ValidationRegistry:o(c=>new nse(c),"ValidationRegistry")},shared:o(()=>c.shared,"shared")}}function co(c){return{ServiceRegistry:o(()=>new Jae,"ServiceRegistry"),workspace:{LangiumDocuments:o(c=>new sae(c),"LangiumDocuments"),LangiumDocumentFactory:o(c=>new aae(c),"LangiumDocumentFactory"),DocumentBuilder:o(c=>new Nse(c),"DocumentBuilder"),IndexManager:o(c=>new Ise(c),"IndexManager"),WorkspaceManager:o(c=>new Mse(c),"WorkspaceManager"),FileSystemProvider:o(q=>c.fileSystemProvider(q),"FileSystemProvider"),WorkspaceLock:o(()=>new _oe,"WorkspaceLock"),ConfigurationProvider:o(c=>new Sse(c),"ConfigurationProvider")}}}var Poe=M(()=>{d7(),Die(),Fie(),$ie(),zie(),pae(),Oae(),Pae(),Fae(),Hae(),ese(),tse(),Rse(),sse(),Dse(),Ose(),Pse(),roe(),dae(),noe(),ioe(),soe(),Aoe(),Noe(),Mie(),Roe(),Doe(),Ooe(),o(lo,"createDefaultCoreModule"),o(co,"createDefaultSharedCoreModule")});function $i(c,q,Y,V,Z,re,ae,se,oe){return Dce([c,q,Y,V,Z,re,ae,se,oe].reduce(Vk,{}))}function Lce(c){if(c&&c[Uoe])for(let q of Object.values(c))Lce(q);return c}function Dce(c,q){let Y=new Proxy({},{deleteProperty:o(()=>!1,"deleteProperty"),get:o((V,Z)=>_ce(V,Z,c,q||Y),"get"),getOwnPropertyDescriptor:o((V,Z)=>(_ce(V,Z,c,q||Y),Object.getOwnPropertyDescriptor(V,Z)),"getOwnPropertyDescriptor"),has:o((q,Y)=>Y in c,"has"),ownKeys:o(()=>[...Reflect.ownKeys(c),Uoe],"ownKeys")});return Y[Uoe]=!0,Y}function _ce(c,q,Y,V){if(q in c){if(c[q]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:c[q]});if(c[q]===joe)throw new Error('Cycle detected. Please make "'+String(q)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return c[q]}if(q in Y){let Z=Y[q];c[q]=joe;try{c[q]="function"==typeof Z?Z(V):Dce(Z,V)}catch(Y){throw c[q]=Y instanceof Error?Y:void 0,Y}return c[q]}}function Vk(c,q){if(q)for(let[Y,V]of Object.entries(q))if(void 0!==V){let q=c[Y];c[Y]=null!==q&&null!==V&&"object"==typeof q&&"object"==typeof V?Vk(q,V):V}return c}var Boe,Uoe,joe,Hoe,Voe,Koe=M(()=>{(Boe||(Boe={})).merge=(c,q)=>Vk(Vk({},c),q),o($i,"inject"),Uoe=Symbol("isProxy"),o(Lce,"eagerLoad"),o(Dce,"_inject"),joe=Symbol(),o(_ce,"_resolve"),o(Vk,"_merge")}),Qoe=M(()=>{}),Zoe=M(()=>{Noe(),Aoe(),Soe()}),Joe=M(()=>{}),ele=M(()=>{d7(),Joe()}),tle=M(()=>{}),rle=M(()=>{Roe(),Die(),fie(),Fie(),Mie(),soe(),tle(),$ie(),zie()}),nle=M(()=>{pae(),Oae(),Pae(),$ae(),Fae(),Hae()}),ile=M(()=>{Ooe(),ese()}),ale=M(()=>{Hoe=class{static{o(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},Voe={fileSystemProvider:o(()=>new Hoe,"fileSystemProvider")}});function Qze(){let c=$i(co(Voe),ole),q=$i(lo({shared:c}),sle);return c.ServiceRegistry.register(q),q}function of(c){var q;let Y=Qze(),V=Y.serializer.JsonSerializer.deserialize(c);return Y.shared.workspace.LangiumDocumentFactory.fromModel(V,tae.parse(`memory://${null!==(q=V.name)&&void 0!==q?q:"grammar"}.langium`)),V}var sle,ole,lle=M(()=>{Poe(),Koe(),N6(),ale(),uae(),sle={Grammar:o(()=>{},"Grammar"),LanguageMetaData:o(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},ole={AstReflection:o(()=>new A6,"AstReflection")},o(Qze,"createMinimalGrammarServices"),o(of,"loadGrammarFromJson")}),cle={};vr(cle,{AstUtils:()=>I6,BiMap:()=>yae,Cancellation:()=>Yie,ContextCache:()=>Eae,CstUtils:()=>s3,DONE_RESULT:()=>e3,Deferred:()=>Kie,Disposable:()=>Lse,DisposableCache:()=>Tae,DocumentCache:()=>Cae,EMPTY_STREAM:()=>Z5,ErrorWithLocation:()=>y3,GrammarUtils:()=>l7,MultiMap:()=>mae,OperationCancelled:()=>Xie,Reduction:()=>r3,RegExpUtils:()=>r7,SimpleCache:()=>_ae,StreamImpl:()=>K5,TreeStreamImpl:()=>t3,URI:()=>tae,UriUtils:()=>nae,WorkspaceCache:()=>Sae,assertUnreachable:()=>ef,delayNextTick:()=>NM,interruptAndCheck:()=>Gi,isOperationCancelled:()=>sf,loadGrammarFromJson:()=>of,setInterruptionPeriod:()=>hce,startCancelableOperation:()=>uce,stream:()=>tn});var hle=M(()=>{Uae(),Moe(),Er(cle,Ioe),Bae(),Fse(),v3(),lle(),Qie(),n3(),uae(),M6(),Wie(),f3(),h7(),o7()}),ule=M(()=>{Rse(),sse()}),dle=M(()=>{Dse(),Ose(),Pse(),roe(),dae(),ale(),noe(),Doe(),ioe()}),ple={};vr(ple,{AbstractAstReflection:()=>V5,AbstractCstNode:()=>Vne,AbstractLangiumParser:()=>Tie,AbstractParserErrorMessageProvider:()=>Sie,AbstractThreadedAsyncParser:()=>koe,AstUtils:()=>I6,BiMap:()=>yae,Cancellation:()=>Yie,CompositeCstNodeImpl:()=>rie,ContextCache:()=>Eae,CstNodeBuilder:()=>jne,CstUtils:()=>s3,DONE_RESULT:()=>e3,DatatypeSymbol:()=>mie,DefaultAstNodeDescriptionProvider:()=>bse,DefaultAstNodeLocator:()=>_se,DefaultAsyncParser:()=>woe,DefaultCommentProvider:()=>boe,DefaultConfigurationProvider:()=>Sse,DefaultDocumentBuilder:()=>Nse,DefaultDocumentValidator:()=>cse,DefaultHydrator:()=>Coe,DefaultIndexManager:()=>Ise,DefaultJsonSerializer:()=>Vae,DefaultLangiumDocumentFactory:()=>aae,DefaultLangiumDocuments:()=>sae,DefaultLexer:()=>aoe,DefaultLinker:()=>oae,DefaultNameProvider:()=>gae,DefaultReferenceDescriptionProvider:()=>kse,DefaultReferences:()=>fae,DefaultScopeComputation:()=>vae,DefaultScopeProvider:()=>Aae,DefaultServiceRegistry:()=>Jae,DefaultTokenBuilder:()=>Oie,DefaultValueConverter:()=>Pie,DefaultWorkspaceLock:()=>_oe,DefaultWorkspaceManager:()=>Mse,Deferred:()=>Kie,Disposable:()=>Lse,DisposableCache:()=>Tae,DocumentCache:()=>Cae,DocumentState:()=>iae,DocumentValidator:()=>hse,EMPTY_SCOPE:()=>kae,EMPTY_STREAM:()=>Z5,EmptyFileSystem:()=>Voe,EmptyFileSystemProvider:()=>Hoe,ErrorWithLocation:()=>y3,GrammarAST:()=>x3,GrammarUtils:()=>l7,JSDocDocumentationProvider:()=>xoe,LangiumCompletionParser:()=>Lie,LangiumParser:()=>_ie,LangiumParserErrorMessageProvider:()=>Aie,LeafCstNodeImpl:()=>eie,MapScope:()=>wae,Module:()=>Boe,MultiMap:()=>mae,OperationCancelled:()=>Xie,ParserWorker:()=>Toe,Reduction:()=>r3,RegExpUtils:()=>r7,RootCstNodeImpl:()=>sie,SimpleCache:()=>_ae,StreamImpl:()=>K5,StreamScope:()=>bae,TextDocument:()=>Jie,TreeStreamImpl:()=>t3,URI:()=>tae,UriUtils:()=>nae,ValidationCategory:()=>rse,ValidationRegistry:()=>nse,ValueConverter:()=>Bie,WorkspaceCache:()=>Sae,assertUnreachable:()=>ef,createCompletionParser:()=>gM,createDefaultCoreModule:()=>lo,createDefaultSharedCoreModule:()=>co,createGrammarConfig:()=>lR,createLangiumParser:()=>vM,delayNextTick:()=>NM,diagnosticData:()=>Fk,eagerLoad:()=>Lce,getDiagnosticRange:()=>xce,inject:()=>$i,interruptAndCheck:()=>Gi,isAstNode:()=>ei,isAstNodeDescription:()=>MD,isAstNodeWithComment:()=>GM,isCompositeCstNode:()=>io,isIMultiModeLexerDefinition:()=>QM,isJSDoc:()=>rI,isLeafCstNode:()=>Jh,isLinkingError:()=>Vd,isNamed:()=>yce,isOperationCancelled:()=>sf,isReference:()=>ma,isRootCstNode:()=>Gv,isTokenTypeArray:()=>bce,isTokenTypeDictionary:()=>KM,loadGrammarFromJson:()=>of,parseJSDoc:()=>tI,prepareLangiumParser:()=>nce,setInterruptionPeriod:()=>hce,startCancelableOperation:()=>uce,stream:()=>tn,toDiagnosticSeverity:()=>zk});var gle=M(()=>{Poe(),Koe(),tse(),Qoe(),X5(),Zoe(),ele(),rle(),nle(),ile(),hle(),Er(ple,cle),ule(),dle(),N6()});function Kce(c){return Lle.isInstance(c,yle)}function Qce(c){return Lle.isInstance(c,vle)}function Zce(c){return Lle.isInstance(c,xle)}function Jce(c){return Lle.isInstance(c,ble)}function eue(c){return Lle.isInstance(c,wle)}function rue(c){return Lle.isInstance(c,kle)}function nue(c){return Lle.isInstance(c,Tle)}function aue(c){return Lle.isInstance(c,_le)}function oue(c){return Lle.isInstance(c,Ele)}function cue(c){return Lle.isInstance(c,Cle)}function hue(c){return Lle.isInstance(c,Sle)}var fle,mle,yle,vle,xle,ble,wle,kle,Tle,_le,Ele,Cle,Sle,Ale,Lle,Nle,Ile,Mle,Rle,Dle,Ole,Ple,Ble,Fle,$le,zle,Gle,Ule,qle,jle,Yle,Wle,Hle,Vle,Xle,Kle,Qle,Zle,Jle,sce,oce=M(()=>{gle(),gle(),gle(),gle(),fle=Object.defineProperty,mle=o((c,q)=>fle(c,"name",{value:q,configurable:!0}),"__name"),yle="Architecture",o(Kce,"isArchitecture"),mle(Kce,"isArchitecture"),vle="Branch",o(Qce,"isBranch"),mle(Qce,"isBranch"),xle="Commit",o(Zce,"isCommit"),mle(Zce,"isCommit"),ble="Common",o(Jce,"isCommon"),mle(Jce,"isCommon"),wle="GitGraph",o(eue,"isGitGraph"),mle(eue,"isGitGraph"),kle="Info",o(rue,"isInfo"),mle(rue,"isInfo"),Tle="Merge",o(nue,"isMerge"),mle(nue,"isMerge"),_le="Packet",o(aue,"isPacket"),mle(aue,"isPacket"),Ele="PacketBlock",o(oue,"isPacketBlock"),mle(oue,"isPacketBlock"),Cle="Pie",o(cue,"isPie"),mle(cue,"isPie"),Sle="PieSection",o(hue,"isPieSection"),mle(hue,"isPieSection"),Ale=class extends V5{static{o(this,"MermaidAstReflection")}static{mle(this,"MermaidAstReflection")}getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(c,q){switch(c){case vle:case"Checkout":case"CherryPicking":case xle:case Tle:return this.isSubtype("Statement",q);case"Direction":return this.isSubtype(wle,q);default:return!1}}getReferenceType(c){let q=`${c.container.$type}:${c.property}`;throw new Error(`${q} is not a valid reference id.`)}getTypeMetaData(c){switch(c){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:c,properties:[]}}}},Lle=new Ale,Ile=mle(()=>Nle??(Nle=of('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Rle=mle(()=>Mle??(Mle=of('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PacketGrammar"),Ole=mle(()=>Dle??(Dle=of('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),Ble=mle(()=>Ple??(Ple=of('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),$le=mle(()=>Fle??(Fle=of('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),zle={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Gle={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Ule={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},qle={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},jle={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Yle={AstReflection:mle(()=>new Ale,"AstReflection")},Wle={Grammar:mle(()=>Ile(),"Grammar"),LanguageMetaData:mle(()=>zle,"LanguageMetaData"),parser:{}},Hle={Grammar:mle(()=>Rle(),"Grammar"),LanguageMetaData:mle(()=>Gle,"LanguageMetaData"),parser:{}},Vle={Grammar:mle(()=>Ole(),"Grammar"),LanguageMetaData:mle(()=>Ule,"LanguageMetaData"),parser:{}},Xle={Grammar:mle(()=>Ble(),"Grammar"),LanguageMetaData:mle(()=>qle,"LanguageMetaData"),parser:{}},Kle={Grammar:mle(()=>$le(),"Grammar"),LanguageMetaData:mle(()=>jle,"LanguageMetaData"),parser:{}},Qle={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Zle=class extends Pie{static{o(this,"AbstractMermaidValueConverter")}static{mle(this,"AbstractMermaidValueConverter")}runConverter(c,q,Y){let V=this.runCommonConverter(c,q,Y);return void 0===V&&(V=this.runCustomConverter(c,q,Y)),void 0===V?super.runConverter(c,q,Y):V}runCommonConverter(c,q,Y){let V=Qle[c.name];if(void 0===V)return;let Z=V.exec(q);if(null!==Z){if(void 0!==Z[1])return Z[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==Z[2])return Z[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},Jle=class extends Zle{static{o(this,"CommonValueConverter")}static{mle(this,"CommonValueConverter")}runCustomConverter(c,q,Y){}},sce=class extends Oie{static{o(this,"AbstractMermaidTokenBuilder")}static{mle(this,"AbstractMermaidTokenBuilder")}constructor(c){super(),this.keywords=new Set(c)}buildKeywordTokens(c,q,Y){let V=super.buildKeywordTokens(c,q,Y);return V.forEach(c=>{this.keywords.has(c.name)&&void 0!==c.PATTERN&&(c.PATTERN=new RegExp(c.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),V}},class extends sce{static{o(this,"CommonTokenBuilder")}static{mle(this,"CommonTokenBuilder")}}});function Wk(c=Voe){let q=$i(co(c),Yle),Y=$i(lo({shared:q}),Kle,cce);return q.ServiceRegistry.register(Y),{shared:q,GitGraph:Y}}var lce,cce,gce=M(()=>{oce(),gle(),lce=class extends sce{static{o(this,"GitGraphTokenBuilder")}static{mle(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},cce={parser:{TokenBuilder:mle(()=>new lce,"TokenBuilder"),ValueConverter:mle(()=>new Jle,"ValueConverter")}},o(Wk,"createGitGraphServices"),mle(Wk,"createGitGraphServices")});function qk(c=Voe){let q=$i(co(c),Yle),Y=$i(lo({shared:q}),Wle,wce);return q.ServiceRegistry.register(Y),{shared:q,Info:Y}}var mce,wce,Ace=M(()=>{oce(),gle(),mce=class extends sce{static{o(this,"InfoTokenBuilder")}static{mle(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},wce={parser:{TokenBuilder:mle(()=>new mce,"TokenBuilder"),ValueConverter:mle(()=>new Jle,"ValueConverter")}},o(qk,"createInfoServices"),mle(qk,"createInfoServices")});function jk(c=Voe){let q=$i(co(c),Yle),Y=$i(lo({shared:q}),Hle,Ice);return q.ServiceRegistry.register(Y),{shared:q,Packet:Y}}var Nce,Ice,Mce=M(()=>{oce(),gle(),Nce=class extends sce{static{o(this,"PacketTokenBuilder")}static{mle(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},Ice={parser:{TokenBuilder:mle(()=>new Nce,"TokenBuilder"),ValueConverter:mle(()=>new Jle,"ValueConverter")}},o(jk,"createPacketServices"),mle(jk,"createPacketServices")});function Qk(c=Voe){let q=$i(co(c),Yle),Y=$i(lo({shared:q}),Vle,Pce);return q.ServiceRegistry.register(Y),{shared:q,Pie:Y}}var Rce,Oce,Pce,Bce=M(()=>{oce(),gle(),Rce=class extends sce{static{o(this,"PieTokenBuilder")}static{mle(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},Oce=class extends Zle{static{o(this,"PieValueConverter")}static{mle(this,"PieValueConverter")}runCustomConverter(c,q,Y){if("PIE_SECTION_LABEL"===c.name)return q.replace(/"/g,"").trim()}},Pce={parser:{TokenBuilder:mle(()=>new Rce,"TokenBuilder"),ValueConverter:mle(()=>new Oce,"ValueConverter")}},o(Qk,"createPieServices"),mle(Qk,"createPieServices")});function Jk(c=Voe){let q=$i(co(c),Yle),Y=$i(lo({shared:q}),Xle,zce);return q.ServiceRegistry.register(Y),{shared:q,Architecture:Y}}var Fce,$ce,zce,Gce=M(()=>{oce(),gle(),Fce=class extends sce{static{o(this,"ArchitectureTokenBuilder")}static{mle(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},$ce=class extends Zle{static{o(this,"ArchitectureValueConverter")}static{mle(this,"ArchitectureValueConverter")}runCustomConverter(c,q,Y){return"ARCH_ICON"===c.name?q.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===c.name?q.replace(/["()]/g,""):"ARCH_TITLE"===c.name?q.replace(/[[\]]/g,"").trim():void 0}},zce={parser:{TokenBuilder:mle(()=>new Fce,"TokenBuilder"),ValueConverter:mle(()=>new $ce,"ValueConverter")}},o(Jk,"createArchitectureServices"),mle(Jk,"createArchitectureServices")}),Uce={};vr(Uce,{InfoModule:()=>wce,createInfoServices:()=>qk});var qce=M(()=>{Ace(),oce()}),jce={};vr(jce,{PacketModule:()=>Ice,createPacketServices:()=>jk});var Yce=M(()=>{Mce(),oce()}),Wce={};vr(Wce,{PieModule:()=>Pce,createPieServices:()=>Qk});var Hce=M(()=>{Bce(),oce()}),Vce={};vr(Vce,{ArchitectureModule:()=>zce,createArchitectureServices:()=>Jk});var Xce=M(()=>{Gce(),oce()}),ehe={};vr(ehe,{GitGraphModule:()=>cce,createGitGraphServices:()=>Wk});var the=M(()=>{gce(),oce()});async function Gl(c,q){let Y=nhe[c];if(!Y)throw new Error(`Unknown diagram type: ${c}`);rhe[c]||await Y();let V=rhe[c].parse(q);if(V.lexerErrors.length>0||V.parserErrors.length>0)throw new ihe(V);return V.value}var rhe,nhe,ihe,ahe=M(()=>{gce(),Ace(),Mce(),Bce(),Gce(),oce(),rhe={},nhe={info:mle(async()=>{let{createInfoServices:c}=await Promise.resolve().then(()=>(qce(),Uce)),q=c().Info.parser.LangiumParser;rhe.info=q},"info"),packet:mle(async()=>{let{createPacketServices:c}=await Promise.resolve().then(()=>(Yce(),jce)),q=c().Packet.parser.LangiumParser;rhe.packet=q},"packet"),pie:mle(async()=>{let{createPieServices:c}=await Promise.resolve().then(()=>(Hce(),Wce)),q=c().Pie.parser.LangiumParser;rhe.pie=q},"pie"),architecture:mle(async()=>{let{createArchitectureServices:c}=await Promise.resolve().then(()=>(Xce(),Vce)),q=c().Architecture.parser.LangiumParser;rhe.architecture=q},"architecture"),gitGraph:mle(async()=>{let{createGitGraphServices:c}=await Promise.resolve().then(()=>(the(),ehe)),q=c().GitGraph.parser.LangiumParser;rhe.gitGraph=q},"gitGraph")},o(Gl,"parse"),mle(Gl,"parse"),ihe=class extends Error{static{o(this,"MermaidParseError")}constructor(c){super(`Parsing failed: ${c.lexerErrors.map(c=>c.message).join("\n")} ${c.parserErrors.map(c=>c.message).join("\n")}`),this.result=c}static{mle(this,"MermaidParseError")}}});function lf(c,q){c.accDescr&&q.setAccDescription?.(c.accDescr),c.accTitle&&q.setAccTitle?.(c.accTitle),c.title&&q.setDiagramTitle?.(c.title)}var ohe,lhe,che=M(()=>{o(lf,"populateCommonDb")}),hhe=M(()=>{ohe={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4}}),uhe=M(()=>{lhe=class{constructor(c){this.init=c,this.records=this.init()}static{o(this,"ImperativeState")}reset(){this.records=this.init()}}});function RI(){return JI({length:7})}function _Ge(c,q){let Y=Object.create(null);return c.reduce((c,V)=>{let Z=q(V);return Y[Z]||(Y[Z]=!0,c.push(V)),c},[])}function kue(c,q,Y){let V=c.indexOf(q);-1===V?c.push(Y):c.splice(V,1,Y)}function Sue(c){let q=c.reduce((c,q)=>c.seq>q.seq?c:q,c[0]),Y="";c.forEach(function(c){Y+=c===q?"\t*":"\t|"});let Z=[Y,q.id,q.seq];for(let c in ghe.records.branches)ghe.records.branches.get(c)===q.id&&Z.push(c);if(V.debug(Z.join(" ")),q.parents&&2==q.parents.length&&q.parents[0]&&q.parents[1]){let Y=ghe.records.commits.get(q.parents[0]);kue(c,q,Y),q.parents[1]&&c.push(ghe.records.commits.get(q.parents[1]))}else{if(0==q.parents.length)return;if(q.parents[0]){let Y=ghe.records.commits.get(q.parents[0]);kue(c,q,Y)}}Sue(c=_Ge(c,c=>c.id))}var dhe,phe,ghe,fhe,mhe,yhe,vhe,xhe,bhe,whe,khe,The,_he,Ehe,Che,She,Ahe,Lhe,Nhe,Ihe,Mhe,Rhe,Dhe,Ohe,Phe,Bhe,Fhe,zhe,Ghe,Uhe,qhe,jhe,Yhe,Whe,Hhe,Xhe,Khe,Qhe,Zhe,Jhe,tue,iue,sue,lue,uue,due,pue,gue,fue,mue,yue,vue,xue,bue,wue,Tue,_ue,Eue,Cue,Aue,Lue,Nue,Iue,Mue,Rue,Due=M(()=>{Ae(),yM(),ki(),bp(),cf(),hhe(),uhe(),bi(),dhe=nn.gitGraph,phe=o(()=>ws({...dhe,...bn().gitGraph}),"getConfig"),ghe=new lhe(()=>{let c=phe(),q=c.mainBranchName,Y=c.mainBranchOrder;return{mainBranchName:q,commits:new Map,head:null,branchConfig:new Map([[q,{name:q,order:Y}]]),branches:new Map([[q,null]]),currBranch:q,direction:"LR",seq:0,options:{}}}),o(RI,"getID"),o(_Ge,"uniqBy"),fhe=o(function(c){ghe.records.direction=c},"setDirection"),mhe=o(function(c){V.debug("options str",c),c=c?.trim(),c=c||"{}";try{ghe.records.options=JSON.parse(c)}catch(c){V.error("error while parsing gitGraph options",c.message)}},"setOptions"),yhe=o(function(){return ghe.records.options},"getOptions"),vhe=o(function(c){let q=c.msg,Y=c.id,Z=c.type,re=c.tags;V.info("commit",q,Y,Z,re),V.debug("Entering commit:",q,Y,Z,re);let ae=phe();Y=op.sanitizeText(Y,ae),q=op.sanitizeText(q,ae),re=re?.map(c=>op.sanitizeText(c,ae));let se={id:Y||ghe.records.seq+"-"+RI(),message:q,seq:ghe.records.seq++,type:Z??ohe.NORMAL,tags:re??[],parents:null==ghe.records.head?[]:[ghe.records.head.id],branch:ghe.records.currBranch};ghe.records.head=se,V.info("main branch",ae.mainBranchName),ghe.records.commits.set(se.id,se),ghe.records.branches.set(ghe.records.currBranch,se.id),V.debug("in pushCommit "+se.id)},"commit"),xhe=o(function(c){let q=c.name,Y=c.order;if(q=op.sanitizeText(q,phe()),ghe.records.branches.has(q))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${q}")`);ghe.records.branches.set(q,null!=ghe.records.head?ghe.records.head.id:null),ghe.records.branchConfig.set(q,{name:q,order:Y}),khe(q),V.debug("in createBranch")},"branch"),bhe=o(c=>{let q=c.branch,Y=c.id,Z=c.type,re=c.tags,ae=phe();q=op.sanitizeText(q,ae),Y&&(Y=op.sanitizeText(Y,ae));let se=ghe.records.branches.get(ghe.records.currBranch),oe=ghe.records.branches.get(q),he=se?ghe.records.commits.get(se):void 0,de=oe?ghe.records.commits.get(oe):void 0;if(he&&de&&he.branch===q)throw new Error(`Cannot merge branch '${q}' into itself.`);if(ghe.records.currBranch===q){let c=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw c.hash={text:`merge ${q}`,token:`merge ${q}`,expected:["branch abc"]},c}if(void 0===he||!he){let c=new Error(`Incorrect usage of "merge". Current branch (${ghe.records.currBranch})has no commits`);throw c.hash={text:`merge ${q}`,token:`merge ${q}`,expected:["commit"]},c}if(!ghe.records.branches.has(q)){let c=new Error('Incorrect usage of "merge". Branch to be merged ('+q+") does not exist");throw c.hash={text:`merge ${q}`,token:`merge ${q}`,expected:[`branch ${q}`]},c}if(void 0===de||!de){let c=new Error('Incorrect usage of "merge". Branch to be merged ('+q+") has no commits");throw c.hash={text:`merge ${q}`,token:`merge ${q}`,expected:['"commit"']},c}if(he===de){let c=new Error('Incorrect usage of "merge". Both branches have same head');throw c.hash={text:`merge ${q}`,token:`merge ${q}`,expected:["branch abc"]},c}if(Y&&ghe.records.commits.has(Y)){let c=new Error('Incorrect usage of "merge". Commit with id:'+Y+" already exists, use different custom Id");throw c.hash={text:`merge ${q} ${Y} ${Z} ${re?.join(" ")}`,token:`merge ${q} ${Y} ${Z} ${re?.join(" ")}`,expected:[`merge ${q} ${Y}_UNIQUE ${Z} ${re?.join(" ")}`]},c}let pe=oe||"",ge={id:Y||`${ghe.records.seq}-${RI()}`,message:`merged branch ${q} into ${ghe.records.currBranch}`,seq:ghe.records.seq++,parents:null==ghe.records.head?[]:[ghe.records.head.id,pe],branch:ghe.records.currBranch,type:ohe.MERGE,customType:Z,customId:!!Y,tags:re??[]};ghe.records.head=ge,ghe.records.commits.set(ge.id,ge),ghe.records.branches.set(ghe.records.currBranch,ge.id),V.debug(ghe.records.branches),V.debug("in mergeBranch")},"merge"),whe=o(function(c){let q=c.id,Y=c.targetId,Z=c.tags,re=c.parent;V.debug("Entering cherryPick:",q,Y,Z);let ae=phe();if(q=op.sanitizeText(q,ae),Y=op.sanitizeText(Y,ae),Z=Z?.map(c=>op.sanitizeText(c,ae)),re=op.sanitizeText(re,ae),!q||!ghe.records.commits.has(q)){let c=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw c.hash={text:`cherryPick ${q} ${Y}`,token:`cherryPick ${q} ${Y}`,expected:["cherry-pick abc"]},c}let se=ghe.records.commits.get(q);if(void 0===se||!se)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(re&&(!Array.isArray(se.parents)||!se.parents.includes(re)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let oe=se.branch;if(se.type===ohe.MERGE&&!re)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!Y||!ghe.records.commits.has(Y)){if(oe===ghe.records.currBranch){let c=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw c.hash={text:`cherryPick ${q} ${Y}`,token:`cherryPick ${q} ${Y}`,expected:["cherry-pick abc"]},c}let c=ghe.records.branches.get(ghe.records.currBranch);if(void 0===c||!c){let c=new Error(`Incorrect usage of "cherry-pick". Current branch (${ghe.records.currBranch})has no commits`);throw c.hash={text:`cherryPick ${q} ${Y}`,token:`cherryPick ${q} ${Y}`,expected:["cherry-pick abc"]},c}let ae=ghe.records.commits.get(c);if(void 0===ae||!ae){let c=new Error(`Incorrect usage of "cherry-pick". Current branch (${ghe.records.currBranch})has no commits`);throw c.hash={text:`cherryPick ${q} ${Y}`,token:`cherryPick ${q} ${Y}`,expected:["cherry-pick abc"]},c}let he={id:ghe.records.seq+"-"+RI(),message:`cherry-picked ${se?.message} into ${ghe.records.currBranch}`,seq:ghe.records.seq++,parents:null==ghe.records.head?[]:[ghe.records.head.id,se.id],branch:ghe.records.currBranch,type:ohe.CHERRY_PICK,tags:Z?Z.filter(Boolean):[`cherry-pick:${se.id}${se.type===ohe.MERGE?`|parent:${re}`:""}`]};ghe.records.head=he,ghe.records.commits.set(he.id,he),ghe.records.branches.set(ghe.records.currBranch,he.id),V.debug(ghe.records.branches),V.debug("in cherryPick")}},"cherryPick"),khe=o(function(c){if(c=op.sanitizeText(c,phe()),!ghe.records.branches.has(c)){let q=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${c}")`);throw q.hash={text:`checkout ${c}`,token:`checkout ${c}`,expected:[`branch ${c}`]},q}{ghe.records.currBranch=c;let q=ghe.records.branches.get(ghe.records.currBranch);ghe.records.head=void 0!==q&&q?ghe.records.commits.get(q)??null:null}},"checkout"),o(kue,"upsert"),o(Sue,"prettyPrintCommitHistory"),The=o(function(){V.debug(ghe.records.commits),Sue([Ahe()[0]])},"prettyPrint"),_he=o(function(){ghe.reset(),Mp()},"clear"),Ehe=o(function(){return[...ghe.records.branchConfig.values()].map((c,q)=>null!==c.order&&void 0!==c.order?c:{...c,order:parseFloat(`0.${q}`)}).sort((c,q)=>(c.order??0)-(q.order??0)).map(({name:c})=>({name:c}))},"getBranchesAsObjArray"),Che=o(function(){return ghe.records.branches},"getBranches"),She=o(function(){return ghe.records.commits},"getCommits"),Ahe=o(function(){let c=[...ghe.records.commits.values()];return c.forEach(function(c){V.debug(c.id)}),c.sort((c,q)=>c.seq-q.seq),c},"getCommitsArray"),Lhe=o(function(){return ghe.records.currBranch},"getCurrentBranch"),Nhe=o(function(){return ghe.records.direction},"getDirection"),Ihe=o(function(){return ghe.records.head},"getHead"),Mhe={commitType:ohe,getConfig:phe,setDirection:fhe,setOptions:mhe,getOptions:yhe,commit:vhe,branch:xhe,merge:bhe,cherryPick:whe,checkout:khe,prettyPrint:The,clear:_he,getBranchesAsObjArray:Ehe,getBranches:Che,getCommits:She,getCommitsArray:Ahe,getCurrentBranch:Lhe,getDirection:Nhe,getHead:Ihe,setAccTitle:Rp,getAccTitle:Fp,getAccDescription:jp,setAccDescription:qp,setDiagramTitle:Yp,getDiagramTitle:Wp}}),Oue=M(()=>{ahe(),Ae(),che(),Due(),hhe(),Rhe=o((c,q)=>{lf(c,q),c.dir&&q.setDirection(c.dir);for(let Y of c.statements)Dhe(Y,q)},"populate"),Dhe=o((c,q)=>{let Y={Commit:o(c=>q.commit(Ohe(c)),"Commit"),Branch:o(c=>q.branch(Phe(c)),"Branch"),Merge:o(c=>q.merge(Bhe(c)),"Merge"),Checkout:o(c=>q.checkout(Fhe(c)),"Checkout"),CherryPicking:o(c=>q.cherryPick(zhe(c)),"CherryPicking")}[c.$type];Y?Y(c):V.error(`Unknown statement type: ${c.$type}`)},"parseStatement"),Ohe=o(c=>({id:c.id,msg:c.message??"",type:void 0!==c.type?ohe[c.type]:ohe.NORMAL,tags:c.tags??void 0}),"parseCommit"),Phe=o(c=>({name:c.name,order:c.order??0}),"parseBranch"),Bhe=o(c=>({branch:c.branch,id:c.id??"",type:void 0!==c.type?ohe[c.type]:void 0,tags:c.tags??void 0}),"parseMerge"),Fhe=o(c=>c.branch,"parseCheckout"),zhe=o(c=>({id:c.id,targetId:"",tags:0===c.tags?.length?void 0:c.tags,parent:c.parent}),"parseCherryPicking"),Ghe={parse:o(async c=>{let q=await Gl("gitGraph",c);V.debug(q),Rhe(q,Mhe)},"parse")}}),Pue=M(()=>{U_(),hf(),Ae(),yM(),hhe(),Uhe=Xp(),qhe=Uhe?.gitGraph,jhe=10,Yhe=40,Whe=new Map,Hhe=new Map,Xhe=new Map,Khe=[],Qhe=0,Zhe="LR",Jhe=o(()=>{Whe.clear(),Hhe.clear(),Xhe.clear(),Qhe=0,Khe=[],Zhe="LR"},"clear"),tue=o(c=>{let q=document.createElementNS("http://www.w3.org/2000/svg","text");return("string"==typeof c?c.split(/\\n|\n|<br\s*\/?>/gi):c).forEach(c=>{let Y=document.createElementNS("http://www.w3.org/2000/svg","tspan");Y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Y.setAttribute("dy","1em"),Y.setAttribute("x","0"),Y.setAttribute("class","row"),Y.textContent=c.trim(),q.appendChild(Y)}),q},"drawText"),iue=o(c=>{let q,Y,V;return"BT"===Zhe?(Y=o((c,q)=>c<=q,"comparisonFunc"),V=1/0):(Y=o((c,q)=>c>=q,"comparisonFunc"),V=0),c.forEach(c=>{let Z="TB"===Zhe||"BT"==Zhe?Hhe.get(c)?.y:Hhe.get(c)?.x;void 0!==Z&&Y(Z,V)&&(q=c,V=Z)}),q},"findClosestParent"),sue=o(c=>{let q="",Y=1/0;return c.forEach(c=>{let V=Hhe.get(c).y;V<=Y&&(q=c,Y=V)}),q||void 0},"findClosestParentBT"),lue=o((c,q,Y)=>{let V=Y,Z=Y,re=[];c.forEach(c=>{let Y=q.get(c);if(!Y)throw new Error(`Commit not found for key ${c}`);Y.parents.length?(V=due(Y),Z=Math.max(V,Z)):re.push(Y),pue(Y,V)}),V=Z,re.forEach(c=>{gue(c,V,Y)}),c.forEach(c=>{let Y=q.get(c);if(Y?.parents.length){let c=sue(Y.parents);V=Hhe.get(c).y-Yhe,V<=Z&&(Z=V);let q=Whe.get(Y.branch).pos,re=V-jhe;Hhe.set(Y.id,{x:q,y:re})}})},"setParallelBTPos"),uue=o(c=>{let q=iue(c.parents.filter(c=>null!==c));if(!q)throw new Error(`Closest parent not found for commit ${c.id}`);let Y=Hhe.get(q)?.y;if(void 0===Y)throw new Error(`Closest parent position not found for commit ${c.id}`);return Y},"findClosestParentPos"),due=o(c=>uue(c)+Yhe,"calculateCommitPosition"),pue=o((c,q)=>{let Y=Whe.get(c.branch);if(!Y)throw new Error(`Branch not found for commit ${c.id}`);let V=Y.pos,Z=q+jhe;return Hhe.set(c.id,{x:V,y:Z}),{x:V,y:Z}},"setCommitPosition"),gue=o((c,q,Y)=>{let V=Whe.get(c.branch);if(!V)throw new Error(`Branch not found for commit ${c.id}`);let Z=q+Y,re=V.pos;Hhe.set(c.id,{x:re,y:Z})},"setRootPosition"),fue=o((c,q,Y,V,Z,re)=>{if(re===ohe.HIGHLIGHT)c.append("rect").attr("x",Y.x-10).attr("y",Y.y-10).attr("width",20).attr("height",20).attr("class",`commit ${q.id} commit-highlight${Z%8} ${V}-outer`),c.append("rect").attr("x",Y.x-6).attr("y",Y.y-6).attr("width",12).attr("height",12).attr("class",`commit ${q.id} commit${Z%8} ${V}-inner`);else if(re===ohe.CHERRY_PICK)c.append("circle").attr("cx",Y.x).attr("cy",Y.y).attr("r",10).attr("class",`commit ${q.id} ${V}`),c.append("circle").attr("cx",Y.x-3).attr("cy",Y.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${q.id} ${V}`),c.append("circle").attr("cx",Y.x+3).attr("cy",Y.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${q.id} ${V}`),c.append("line").attr("x1",Y.x+3).attr("y1",Y.y+1).attr("x2",Y.x).attr("y2",Y.y-5).attr("stroke","#fff").attr("class",`commit ${q.id} ${V}`),c.append("line").attr("x1",Y.x-3).attr("y1",Y.y+1).attr("x2",Y.x).attr("y2",Y.y-5).attr("stroke","#fff").attr("class",`commit ${q.id} ${V}`);else{let ae=c.append("circle");if(ae.attr("cx",Y.x),ae.attr("cy",Y.y),ae.attr("r",q.type===ohe.MERGE?9:10),ae.attr("class",`commit ${q.id} commit${Z%8}`),re===ohe.MERGE){let re=c.append("circle");re.attr("cx",Y.x),re.attr("cy",Y.y),re.attr("r",6),re.attr("class",`commit ${V} ${q.id} commit${Z%8}`)}re===ohe.REVERSE&&c.append("path").attr("d",`M ${Y.x-5},${Y.y-5}L${Y.x+5},${Y.y+5}M${Y.x-5},${Y.y+5}L${Y.x+5},${Y.y-5}`).attr("class",`commit ${V} ${q.id} commit${Z%8}`)}},"drawCommitBullet"),mue=o((c,q,Y,V)=>{if(q.type!==ohe.CHERRY_PICK&&(q.customId&&q.type===ohe.MERGE||q.type!==ohe.MERGE)&&qhe?.showCommitLabel){let Z=c.append("g"),re=Z.insert("rect").attr("class","commit-label-bkg"),ae=Z.append("text").attr("x",V).attr("y",Y.y+25).attr("class","commit-label").text(q.id),se=ae.node()?.getBBox();if(se&&(re.attr("x",Y.posWithOffset-se.width/2-2).attr("y",Y.y+13.5).attr("width",se.width+4).attr("height",se.height+4),"TB"===Zhe||"BT"===Zhe?(re.attr("x",Y.x-(se.width+16+5)).attr("y",Y.y-12),ae.attr("x",Y.x-(se.width+16)).attr("y",Y.y+se.height-12)):ae.attr("x",Y.posWithOffset-se.width/2),qhe.rotateCommitLabel))if("TB"===Zhe||"BT"===Zhe)ae.attr("transform","rotate(-45, "+Y.x+", "+Y.y+")"),re.attr("transform","rotate(-45, "+Y.x+", "+Y.y+")");else{let c=-7.5-(se.width+10)/25*9.5,q=10+se.width/25*8.5;Z.attr("transform","translate("+c+", "+q+") rotate(-45, "+V+", "+Y.y+")")}}},"drawCommitLabel"),yue=o((c,q,Y,V)=>{if(q.tags.length>0){let Z=0,re=0,ae=0,se=[];for(let V of q.tags.reverse()){let q=c.insert("polygon"),oe=c.append("circle"),he=c.append("text").attr("y",Y.y-16-Z).attr("class","tag-label").text(V),de=he.node()?.getBBox();if(!de)throw new Error("Tag bbox not found");re=Math.max(re,de.width),ae=Math.max(ae,de.height),he.attr("x",Y.posWithOffset-de.width/2),se.push({tag:he,hole:oe,rect:q,yOffset:Z}),Z+=20}for(let{tag:c,hole:q,rect:Z,yOffset:oe}of se){let se=ae/2,he=Y.y-19.2-oe;if(Z.attr("class","tag-label-bkg").attr("points",`\n      ${V-re/2-2},${he+2}  \n      ${V-re/2-2},${he-2}\n      ${Y.posWithOffset-re/2-4},${he-se-2}\n      ${Y.posWithOffset+re/2+4},${he-se-2}\n      ${Y.posWithOffset+re/2+4},${he+se+2}\n      ${Y.posWithOffset-re/2-4},${he+se+2}`),q.attr("cy",he).attr("cx",V-re/2+2).attr("r",1.5).attr("class","tag-hole"),"TB"===Zhe||"BT"===Zhe){let ae=V+oe;Z.attr("class","tag-label-bkg").attr("points",`\n        ${Y.x},${ae+2}\n        ${Y.x},${ae-2}\n        ${Y.x+jhe},${ae-se-2}\n        ${Y.x+jhe+re+4},${ae-se-2}\n        ${Y.x+jhe+re+4},${ae+se+2}\n        ${Y.x+jhe},${ae+se+2}`).attr("transform","translate(12,12) rotate(45, "+Y.x+","+V+")"),q.attr("cx",Y.x+2).attr("cy",ae).attr("transform","translate(12,12) rotate(45, "+Y.x+","+V+")"),c.attr("x",Y.x+5).attr("y",ae+3).attr("transform","translate(14,14) rotate(45, "+Y.x+","+V+")")}}}},"drawCommitTags"),vue=o(c=>{switch(c.customType??c.type){case ohe.NORMAL:return"commit-normal";case ohe.REVERSE:return"commit-reverse";case ohe.HIGHLIGHT:return"commit-highlight";case ohe.MERGE:return"commit-merge";case ohe.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),xue=o((c,q,Y,V)=>{let Z={x:0,y:0};if(!(c.parents.length>0))return"TB"===q?30:"BT"===q?(V.get(c.id)??Z).y-Yhe:0;{let Y=iue(c.parents);if(Y){let re=V.get(Y)??Z;return"TB"===q?re.y+Yhe:"BT"===q?(V.get(c.id)??Z).y-Yhe:re.x+Yhe}}return 0},"calculatePosition"),bue=o((c,q,Y)=>{let V="BT"===Zhe&&Y?q:q+jhe,Z="TB"===Zhe||"BT"===Zhe?V:Whe.get(c.branch)?.pos,re="TB"===Zhe||"BT"===Zhe?Whe.get(c.branch)?.pos:V;if(void 0===re||void 0===Z)throw new Error(`Position were undefined for commit ${c.id}`);return{x:re,y:Z,posWithOffset:V}},"getCommitPosition"),wue=o((c,q,Y)=>{if(!qhe)throw new Error("GitGraph config not found");let V=c.append("g").attr("class","commit-bullets"),Z=c.append("g").attr("class","commit-labels"),re="TB"===Zhe||"BT"===Zhe?30:0,ae=[...q.keys()],se=qhe?.parallelCommits??!1,oe=o((c,Y)=>{let V=q.get(c)?.seq,Z=q.get(Y)?.seq;return void 0!==V&&void 0!==Z?V-Z:0},"sortKeys"),he=ae.sort(oe);"BT"===Zhe&&(se&&lue(he,q,re),he=he.reverse()),he.forEach(c=>{let ae=q.get(c);if(!ae)throw new Error(`Commit not found for key ${c}`);se&&(re=xue(ae,Zhe,re,Hhe));let oe=bue(ae,re,se);if(Y){let c=vue(ae),q=ae.customType??ae.type,Y=Whe.get(ae.branch)?.index??0;fue(V,ae,oe,c,Y,q),mue(Z,ae,oe,re),yue(Z,ae,oe,re)}"TB"===Zhe||"BT"===Zhe?Hhe.set(ae.id,{x:oe.x,y:oe.posWithOffset}):Hhe.set(ae.id,{x:oe.posWithOffset,y:oe.y}),re="BT"===Zhe&&se?re+Yhe:re+Yhe+jhe,re>Qhe&&(Qhe=re)})},"drawCommits"),Tue=o((c,q,Y,V,Z)=>{let re=("TB"===Zhe||"BT"===Zhe?Y.x<V.x:Y.y<V.y)?q.branch:c.branch,ae=o(c=>c.branch===re,"isOnBranchToGetCurve"),se=o(Y=>Y.seq>c.seq&&Y.seq<q.seq,"isBetweenCommits");return[...Z.values()].some(c=>se(c)&&ae(c))},"shouldRerouteArrow"),_ue=o((c,q,Y=0)=>{let V=c+Math.abs(c-q)/2;if(Y>5)return V;if(Khe.every(c=>Math.abs(c-V)>=10))return Khe.push(V),V;let Z=Math.abs(c-q);return _ue(c,q-Z/5,Y+1)},"findLane"),Eue=o((c,q,Y,V)=>{let Z=Hhe.get(q.id),re=Hhe.get(Y.id);if(void 0===Z||void 0===re)throw new Error(`Commit positions not found for commits ${q.id} and ${Y.id}`);let ae,se=Tue(q,Y,Z,re,V),oe="",he="",de=0,pe=0,ge=Whe.get(Y.branch)?.index;if(Y.type===ohe.MERGE&&q.id!==Y.parents[0]&&(ge=Whe.get(q.branch)?.index),se){oe="A 10 10, 0, 0, 0,",he="A 10 10, 0, 0, 1,",de=10,pe=10;let c=Z.y<re.y?_ue(Z.y,re.y):_ue(re.y,Z.y),Y=Z.x<re.x?_ue(Z.x,re.x):_ue(re.x,Z.x);"TB"===Zhe?Z.x<re.x?ae=`M ${Z.x} ${Z.y} L ${Y-de} ${Z.y} ${he} ${Y} ${Z.y+pe} L ${Y} ${re.y-de} ${oe} ${Y+pe} ${re.y} L ${re.x} ${re.y}`:(ge=Whe.get(q.branch)?.index,ae=`M ${Z.x} ${Z.y} L ${Y+de} ${Z.y} ${oe} ${Y} ${Z.y+pe} L ${Y} ${re.y-de} ${he} ${Y-pe} ${re.y} L ${re.x} ${re.y}`):"BT"===Zhe?Z.x<re.x?ae=`M ${Z.x} ${Z.y} L ${Y-de} ${Z.y} ${oe} ${Y} ${Z.y-pe} L ${Y} ${re.y+de} ${he} ${Y+pe} ${re.y} L ${re.x} ${re.y}`:(ge=Whe.get(q.branch)?.index,ae=`M ${Z.x} ${Z.y} L ${Y+de} ${Z.y} ${he} ${Y} ${Z.y-pe} L ${Y} ${re.y+de} ${oe} ${Y-pe} ${re.y} L ${re.x} ${re.y}`):Z.y<re.y?ae=`M ${Z.x} ${Z.y} L ${Z.x} ${c-de} ${oe} ${Z.x+pe} ${c} L ${re.x-de} ${c} ${he} ${re.x} ${c+pe} L ${re.x} ${re.y}`:(ge=Whe.get(q.branch)?.index,ae=`M ${Z.x} ${Z.y} L ${Z.x} ${c+de} ${he} ${Z.x+pe} ${c} L ${re.x-de} ${c} ${oe} ${re.x} ${c-pe} L ${re.x} ${re.y}`)}else oe="A 20 20, 0, 0, 0,",he="A 20 20, 0, 0, 1,",de=20,pe=20,"TB"===Zhe?(Z.x<re.x&&(ae=Y.type===ohe.MERGE&&q.id!==Y.parents[0]?`M ${Z.x} ${Z.y} L ${Z.x} ${re.y-de} ${oe} ${Z.x+pe} ${re.y} L ${re.x} ${re.y}`:`M ${Z.x} ${Z.y} L ${re.x-de} ${Z.y} ${he} ${re.x} ${Z.y+pe} L ${re.x} ${re.y}`),Z.x>re.x&&(oe="A 20 20, 0, 0, 0,",he="A 20 20, 0, 0, 1,",de=20,pe=20,ae=Y.type===ohe.MERGE&&q.id!==Y.parents[0]?`M ${Z.x} ${Z.y} L ${Z.x} ${re.y-de} ${he} ${Z.x-pe} ${re.y} L ${re.x} ${re.y}`:`M ${Z.x} ${Z.y} L ${re.x+de} ${Z.y} ${oe} ${re.x} ${Z.y+pe} L ${re.x} ${re.y}`),Z.x===re.x&&(ae=`M ${Z.x} ${Z.y} L ${re.x} ${re.y}`)):"BT"===Zhe?(Z.x<re.x&&(ae=Y.type===ohe.MERGE&&q.id!==Y.parents[0]?`M ${Z.x} ${Z.y} L ${Z.x} ${re.y+de} ${he} ${Z.x+pe} ${re.y} L ${re.x} ${re.y}`:`M ${Z.x} ${Z.y} L ${re.x-de} ${Z.y} ${oe} ${re.x} ${Z.y-pe} L ${re.x} ${re.y}`),Z.x>re.x&&(oe="A 20 20, 0, 0, 0,",he="A 20 20, 0, 0, 1,",de=20,pe=20,ae=Y.type===ohe.MERGE&&q.id!==Y.parents[0]?`M ${Z.x} ${Z.y} L ${Z.x} ${re.y+de} ${oe} ${Z.x-pe} ${re.y} L ${re.x} ${re.y}`:`M ${Z.x} ${Z.y} L ${re.x-de} ${Z.y} ${oe} ${re.x} ${Z.y-pe} L ${re.x} ${re.y}`),Z.x===re.x&&(ae=`M ${Z.x} ${Z.y} L ${re.x} ${re.y}`)):(Z.y<re.y&&(ae=Y.type===ohe.MERGE&&q.id!==Y.parents[0]?`M ${Z.x} ${Z.y} L ${re.x-de} ${Z.y} ${he} ${re.x} ${Z.y+pe} L ${re.x} ${re.y}`:`M ${Z.x} ${Z.y} L ${Z.x} ${re.y-de} ${oe} ${Z.x+pe} ${re.y} L ${re.x} ${re.y}`),Z.y>re.y&&(ae=Y.type===ohe.MERGE&&q.id!==Y.parents[0]?`M ${Z.x} ${Z.y} L ${re.x-de} ${Z.y} ${oe} ${re.x} ${Z.y-pe} L ${re.x} ${re.y}`:`M ${Z.x} ${Z.y} L ${Z.x} ${re.y+de} ${he} ${Z.x+pe} ${re.y} L ${re.x} ${re.y}`),Z.y===re.y&&(ae=`M ${Z.x} ${Z.y} L ${re.x} ${re.y}`));if(void 0===ae)throw new Error("Line definition not found");c.append("path").attr("d",ae).attr("class","arrow arrow"+ge%8)},"drawArrow"),Cue=o((c,q)=>{let Y=c.append("g").attr("class","commit-arrows");[...q.keys()].forEach(c=>{let V=q.get(c);V.parents&&V.parents.length>0&&V.parents.forEach(c=>{Eue(Y,q.get(c),V,q)})})},"drawArrows"),Aue=o((c,q)=>{let Y=c.append("g");q.forEach((c,q)=>{let V=q%8,Z=Whe.get(c.name)?.pos;if(void 0===Z)throw new Error(`Position not found for branch ${c.name}`);let re=Y.append("line");re.attr("x1",0),re.attr("y1",Z),re.attr("x2",Qhe),re.attr("y2",Z),re.attr("class","branch branch"+V),"TB"===Zhe?(re.attr("y1",30),re.attr("x1",Z),re.attr("y2",Qhe),re.attr("x2",Z)):"BT"===Zhe&&(re.attr("y1",Qhe),re.attr("x1",Z),re.attr("y2",30),re.attr("x2",Z)),Khe.push(Z);let ae=c.name,se=tue(ae),oe=Y.insert("rect"),he=Y.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+V);he.node().appendChild(se);let de=se.getBBox();oe.attr("class","branchLabelBkg label"+V).attr("rx",4).attr("ry",4).attr("x",-de.width-4-(!0===qhe?.rotateCommitLabel?30:0)).attr("y",-de.height/2+8).attr("width",de.width+18).attr("height",de.height+4),he.attr("transform","translate("+(-de.width-14-(!0===qhe?.rotateCommitLabel?30:0))+", "+(Z-de.height/2-1)+")"),"TB"===Zhe?(oe.attr("x",Z-de.width/2-10).attr("y",0),he.attr("transform","translate("+(Z-de.width/2-5)+", 0)")):"BT"===Zhe?(oe.attr("x",Z-de.width/2-10).attr("y",Qhe),he.attr("transform","translate("+(Z-de.width/2-5)+", "+Qhe+")")):oe.attr("transform","translate(-19, "+(Z-de.height/2)+")")})},"drawBranches"),Lue=o(function(c,q,Y,V,Z){return Whe.set(c,{pos:q,index:Y}),q+=50+(Z?40:0)+("TB"===Zhe||"BT"===Zhe?V.width/2:0)},"setBranchPosition"),Nue=o(function(c,q,Y,Z){if(Jhe(),V.debug("in gitgraph renderer",c+"\n","id:",q,Y),!qhe)throw new Error("GitGraph config not found");let re=qhe.rotateCommitLabel??!1,ae=Z.db;Xhe=ae.getCommits();let se=ae.getBranchesAsObjArray();Zhe=ae.getDirection();let oe=ze(`[id="${q}"]`),he=0;se.forEach((c,q)=>{let Y=tue(c.name),V=oe.append("g"),Z=V.insert("g").attr("class","branchLabel"),ae=Z.insert("g").attr("class","label branch-label");ae.node()?.appendChild(Y);let se=Y.getBBox();he=Lue(c.name,he,q,se,re),ae.remove(),Z.remove(),V.remove()}),wue(oe,Xhe,!1),qhe.showBranches&&Aue(oe,se),Cue(oe,Xhe),wue(oe,Xhe,!0),hM.insertTitle(oe,"gitTitleText",qhe.titleTopMargin??0,ae.getDiagramTitle()),Jp(void 0,oe,qhe.diagramPadding,qhe.useMaxWidth)},"draw"),Iue={draw:Nue}}),Bue=M(()=>{Mue=o(c=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map(q=>`\n        .branch-label${q} { fill: ${c["gitBranchLabel"+q]}; }\n        .commit${q} { stroke: ${c["git"+q]}; fill: ${c["git"+q]}; }\n        .commit-highlight${q} { stroke: ${c["gitInv"+q]}; fill: ${c["gitInv"+q]}; }\n        .label${q}  { fill: ${c["git"+q]}; }\n        .arrow${q} { stroke: ${c["git"+q]}; }\n        `).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${c.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${c.commitLabelFontSize}; fill: ${c.commitLabelColor};}\n  .commit-label-bkg { font-size: ${c.commitLabelFontSize}; fill: ${c.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${c.tagLabelFontSize}; fill: ${c.tagLabelColor};}\n  .tag-label-bkg { fill: ${c.tagLabelBackground}; stroke: ${c.tagLabelBorder}; }\n  .tag-hole { fill: ${c.textColor}; }\n\n  .commit-merge {\n    stroke: ${c.primaryColor};\n    fill: ${c.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${c.primaryColor};\n    fill: ${c.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${c.primaryColor};\n    fill: ${c.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${c.textColor};\n  }\n`,"getStyles"),Rue=Mue}),Fue={};vr(Fue,{diagram:()=>$ue});var $ue,zue,Gue,Uue=M(()=>{Oue(),Due(),Pue(),Bue(),$ue={parser:Ghe,db:Mhe,renderer:Iue,styles:Rue}}),que=M(()=>{(zue=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],Y=[1,26],V=[1,27],Z=[1,28],re=[1,29],ae=[1,30],se=[1,31],oe=[1,32],he=[1,33],de=[1,34],pe=[1,9],ge=[1,10],me=[1,11],ve=[1,12],be=[1,13],we=[1,14],Te=[1,15],_e=[1,16],Ee=[1,19],Ce=[1,20],Se=[1,21],Ae=[1,22],Le=[1,23],Ne=[1,25],Ie=[1,35],Me={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 1:return re[se-1];case 2:case 6:case 7:this.$=[];break;case 3:re[se-1].push(re[se]),this.$=re[se-1];break;case 4:case 5:this.$=re[se];break;case 8:V.setWeekday("monday");break;case 9:V.setWeekday("tuesday");break;case 10:V.setWeekday("wednesday");break;case 11:V.setWeekday("thursday");break;case 12:V.setWeekday("friday");break;case 13:V.setWeekday("saturday");break;case 14:V.setWeekday("sunday");break;case 15:V.setWeekend("friday");break;case 16:V.setWeekend("saturday");break;case 17:V.setDateFormat(re[se].substr(11)),this.$=re[se].substr(11);break;case 18:V.enableInclusiveEndDates(),this.$=re[se].substr(18);break;case 19:V.TopAxis(),this.$=re[se].substr(8);break;case 20:V.setAxisFormat(re[se].substr(11)),this.$=re[se].substr(11);break;case 21:V.setTickInterval(re[se].substr(13)),this.$=re[se].substr(13);break;case 22:V.setExcludes(re[se].substr(9)),this.$=re[se].substr(9);break;case 23:V.setIncludes(re[se].substr(9)),this.$=re[se].substr(9);break;case 24:V.setTodayMarker(re[se].substr(12)),this.$=re[se].substr(12);break;case 27:V.setDiagramTitle(re[se].substr(6)),this.$=re[se].substr(6);break;case 28:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 29:case 30:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 31:V.addSection(re[se].substr(8)),this.$=re[se].substr(8);break;case 33:V.addTask(re[se-1],re[se]),this.$="task";break;case 34:this.$=re[se-1],V.setClickEvent(re[se-1],re[se],null);break;case 35:this.$=re[se-2],V.setClickEvent(re[se-2],re[se-1],re[se]);break;case 36:this.$=re[se-2],V.setClickEvent(re[se-2],re[se-1],null),V.setLink(re[se-2],re[se]);break;case 37:this.$=re[se-3],V.setClickEvent(re[se-3],re[se-2],re[se-1]),V.setLink(re[se-3],re[se]);break;case 38:this.$=re[se-2],V.setClickEvent(re[se-2],re[se],null),V.setLink(re[se-2],re[se-1]);break;case 39:this.$=re[se-3],V.setClickEvent(re[se-3],re[se-1],re[se]),V.setLink(re[se-3],re[se-2]);break;case 40:this.$=re[se-1],V.setLink(re[se-1],re[se]);break;case 41:case 47:this.$=re[se-1]+" "+re[se];break;case 42:case 43:case 45:this.$=re[se-2]+" "+re[se-1]+" "+re[se];break;case 44:case 46:this.$=re[se-3]+" "+re[se-2]+" "+re[se-1]+" "+re[se]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},c(q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:Y,13:V,14:Z,15:re,16:ae,17:se,18:oe,19:18,20:he,21:de,22:pe,23:ge,24:me,25:ve,26:be,27:we,28:Te,29:_e,30:Ee,31:Ce,33:Se,35:Ae,36:Le,37:24,38:Ne,40:Ie},c(q,[2,7],{1:[2,1]}),c(q,[2,3]),{9:36,11:17,12:Y,13:V,14:Z,15:re,16:ae,17:se,18:oe,19:18,20:he,21:de,22:pe,23:ge,24:me,25:ve,26:be,27:we,28:Te,29:_e,30:Ee,31:Ce,33:Se,35:Ae,36:Le,37:24,38:Ne,40:Ie},c(q,[2,5]),c(q,[2,6]),c(q,[2,17]),c(q,[2,18]),c(q,[2,19]),c(q,[2,20]),c(q,[2,21]),c(q,[2,22]),c(q,[2,23]),c(q,[2,24]),c(q,[2,25]),c(q,[2,26]),c(q,[2,27]),{32:[1,37]},{34:[1,38]},c(q,[2,30]),c(q,[2,31]),c(q,[2,32]),{39:[1,39]},c(q,[2,8]),c(q,[2,9]),c(q,[2,10]),c(q,[2,11]),c(q,[2,12]),c(q,[2,13]),c(q,[2,14]),c(q,[2,15]),c(q,[2,16]),{41:[1,40],43:[1,41]},c(q,[2,4]),c(q,[2,28]),c(q,[2,29]),c(q,[2,33]),c(q,[2,34],{42:[1,42],43:[1,43]}),c(q,[2,40],{41:[1,44]}),c(q,[2,35],{43:[1,45]}),c(q,[2,36]),c(q,[2,38],{42:[1,46]}),c(q,[2,37]),c(q,[2,39])],defaultActions:{},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function ce(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function ue(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(ce,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=ce()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Re={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 15:case 18:case 21:case 24:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:case 9:case 10:case 12:case 13:break;case 11:return 10;case 14:this.begin("href");break;case 16:return 43;case 17:this.begin("callbackname");break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 22:return 42;case 23:this.begin("click");break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};function k(){this.yy={}}return Me.lexer=Re,o(k,"Parser"),k.prototype=Me,Me.Parser=k,new k}()).parser=zue,Gue=zue}),jue=Ni((c,q)=>{var Y,V;Y=c,V=function(){var c="day";return function(q,Y,V){var Z=o(function(q){return q.add(4-q.isoWeekday(),c)},"a"),re=Y.prototype;re.isoWeekYear=function(){return Z(this).year()},re.isoWeek=function(q){if(!this.$utils().u(q))return this.add(7*(q-this.isoWeek()),c);var Y,re,ae,se=Z(this),oe=(Y=this.isoWeekYear(),ae=4-(re=(this.$u?V.utc:V)().year(Y).startOf("year")).isoWeekday(),re.isoWeekday()>4&&(ae+=7),re.add(ae,c));return se.diff(oe,"week")+1},re.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var ae=re.startOf;re.startOf=function(c,q){var Y=this.$utils(),V=!!Y.u(q)||q;return"isoweek"===Y.p(c)?V?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):ae.bind(this)(c,q)}}},"object"==typeof c&&typeof q<"u"?q.exports=V():"function"==typeof define&&define.amd?define(V):(Y=typeof globalThis<"u"?globalThis:Y||self).dayjs_plugin_isoWeek=V()}),Yue=Ni((c,q)=>{var Y,V;Y=c,V=function(){var c={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},q=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Y=/\d/,V=/\d\d/,Z=/\d\d?/,re=/\d*[^-_:/,()\s\d]+/,ae={},se=o(function(c){return(c=+c)+(c>68?1900:2e3)},"a"),oe=o(function(c){return function(q){this[c]=+q}},"f"),he=[/[+-]\d\d:?(\d\d)?|Z/,function(c){(this.zone||(this.zone={})).offset=function(c){if(!c||"Z"===c)return 0;var q=c.match(/([+-]|\d\d)/g),Y=60*q[1]+(+q[2]||0);return 0===Y?0:"+"===q[0]?-Y:Y}(c)}],de=o(function(c){var q=ae[c];return q&&(q.indexOf?q:q.s.concat(q.f))},"u"),pe=o(function(c,q){var Y,V=ae.meridiem;if(V){for(var Z=1;Z<=24;Z+=1)if(c.indexOf(V(Z,0,q))>-1){Y=Z>12;break}}else Y=c===(q?"pm":"PM");return Y},"d"),ge={A:[re,function(c){this.afternoon=pe(c,!1)}],a:[re,function(c){this.afternoon=pe(c,!0)}],Q:[Y,function(c){this.month=3*(c-1)+1}],S:[Y,function(c){this.milliseconds=100*+c}],SS:[V,function(c){this.milliseconds=10*+c}],SSS:[/\d{3}/,function(c){this.milliseconds=+c}],s:[Z,oe("seconds")],ss:[Z,oe("seconds")],m:[Z,oe("minutes")],mm:[Z,oe("minutes")],H:[Z,oe("hours")],h:[Z,oe("hours")],HH:[Z,oe("hours")],hh:[Z,oe("hours")],D:[Z,oe("day")],DD:[V,oe("day")],Do:[re,function(c){var q=ae.ordinal,Y=c.match(/\d+/);if(this.day=Y[0],q)for(var V=1;V<=31;V+=1)q(V).replace(/\[|\]/g,"")===c&&(this.day=V)}],w:[Z,oe("week")],ww:[V,oe("week")],M:[Z,oe("month")],MM:[V,oe("month")],MMM:[re,function(c){var q=de("months"),Y=(de("monthsShort")||q.map(function(c){return c.slice(0,3)})).indexOf(c)+1;if(Y<1)throw new Error;this.month=Y%12||Y}],MMMM:[re,function(c){var q=de("months").indexOf(c)+1;if(q<1)throw new Error;this.month=q%12||q}],Y:[/[+-]?\d+/,oe("year")],YY:[V,function(c){this.year=se(c)}],YYYY:[/\d{4}/,oe("year")],Z:he,ZZ:he};function m(Y){var V,Z;V=Y,Z=ae&&ae.formats;for(var re=(Y=V.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(q,Y,V){var re=V&&V.toUpperCase();return Y||Z[V]||c[V]||Z[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(c,q,Y){return q||Y.slice(1)})})).match(q),se=re.length,oe=0;oe<se;oe+=1){var he=re[oe],de=ge[he],pe=de&&de[0],me=de&&de[1];re[oe]=me?{regex:pe,parser:me}:he.replace(/^\[|\]$/g,"")}return function(c){for(var q={},Y=0,V=0;Y<se;Y+=1){var Z=re[Y];if("string"==typeof Z)V+=Z.length;else{var ae=Z.regex,oe=Z.parser,he=c.slice(V),de=ae.exec(he)[0];oe.call(q,de),c=c.replace(de,"")}}return function(c){var q=c.afternoon;if(void 0!==q){var Y=c.hours;q?Y<12&&(c.hours+=12):12===Y&&(c.hours=0),delete c.afternoon}}(q),q}}return o(m,"l"),function(c,q,Y){Y.p.customParseFormat=!0,c&&c.parseTwoDigitYear&&(se=c.parseTwoDigitYear);var V=q.prototype,Z=V.parse;V.parse=function(c){var q=c.date,V=c.utc,re=c.args;this.$u=V;var se=re[1];if("string"==typeof se){var oe=!0===re[2],he=!0===re[3],de=oe||he,pe=re[2];he&&(pe=re[2]),ae=this.$locale(),!oe&&pe&&(ae=Y.Ls[pe]),this.$d=function(c,q,Y,V){try{if(["x","X"].indexOf(q)>-1)return new Date(("X"===q?1e3:1)*c);var Z=m(q)(c),re=Z.year,ae=Z.month,se=Z.day,oe=Z.hours,he=Z.minutes,de=Z.seconds,pe=Z.milliseconds,ge=Z.zone,me=Z.week,ve=new Date,be=se||(re||ae?1:ve.getDate()),we=re||ve.getFullYear(),Te=0;re&&!ae||(Te=ae>0?ae-1:ve.getMonth());var _e,Ee=oe||0,Ce=he||0,Se=de||0,Ae=pe||0;return ge?new Date(Date.UTC(we,Te,be,Ee,Ce,Se,Ae+60*ge.offset*1e3)):Y?new Date(Date.UTC(we,Te,be,Ee,Ce,Se,Ae)):(_e=new Date(we,Te,be,Ee,Ce,Se,Ae),me&&(_e=V(_e).week(me).toDate()),_e)}catch{return new Date("")}}(q,se,V,Y),this.init(),pe&&!0!==pe&&(this.$L=this.locale(pe).$L),de&&q!=this.format(se)&&(this.$d=new Date("")),ae={}}else if(se instanceof Array)for(var ge=se.length,me=1;me<=ge;me+=1){re[1]=se[me-1];var ve=Y.apply(this,re);if(ve.isValid()){this.$d=ve.$d,this.$L=ve.$L,this.init();break}me===ge&&(this.$d=new Date(""))}else Z.call(this,c)}}},"object"==typeof c&&typeof q<"u"?q.exports=V():"function"==typeof define&&define.amd?define(V):(Y=typeof globalThis<"u"?globalThis:Y||self).dayjs_plugin_customParseFormat=V()}),Wue=Ni((c,q)=>{var Y,V;Y=c,V=function(){return function(c,q){var Y=q.prototype,V=Y.format;Y.format=function(c){var q=this,Y=this.$locale();if(!this.isValid())return V.bind(this)(c);var Z=this.$utils(),re=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(c){switch(c){case"Q":return Math.ceil((q.$M+1)/3);case"Do":return Y.ordinal(q.$D);case"gggg":return q.weekYear();case"GGGG":return q.isoWeekYear();case"wo":return Y.ordinal(q.week(),"W");case"w":case"ww":return Z.s(q.week(),"w"===c?1:2,"0");case"W":case"WW":return Z.s(q.isoWeek(),"W"===c?1:2,"0");case"k":case"kk":return Z.s(String(0===q.$H?24:q.$H),"k"===c?1:2,"0");case"X":return Math.floor(q.$d.getTime()/1e3);case"x":return q.$d.getTime();case"z":return"["+q.offsetName()+"]";case"zzz":return"["+q.offsetName("long")+"]";default:return c}});return V.bind(this)(re)}}},"object"==typeof c&&typeof q<"u"?q.exports=V():"function"==typeof define&&define.amd?define(V):(Y=typeof globalThis<"u"?globalThis:Y||self).dayjs_plugin_advancedFormat=V()});function she(c,q,Y){let V=!0;for(;V;)V=!1,Y.forEach(function(Y){let Z=new RegExp("^\\s*"+Y+"\\s*$");c[0].match(Z)&&(q[Y]=!0,c.shift(1),V=!0)})}var Hue,Vue,Xue,Kue,Que,Zue,Jue,ede,tde,rde,nde,ide,ade,sde,ode,lde,cde,hde,ude,dde,pde,gde,fde,mde,yde,vde,xde,bde,wde,kde,_de,Ede,Cde,Sde,Ade,Lde,Nde,Ide,Mde,Rde,Dde,Ode,Pde,Bde,Fde,$de,zde,Gde,Ude,qde,jde,Yde,Wde,Hde,Vde,Xde,Kde,Qde,Zde,Jde,epe,tpe,rpe,npe,ipe,ape,spe,ope,lpe,cpe,hpe,upe,dpe,gpe,fpe,mpe,ype,vpe,xpe,bpe,wpe,kpe,Tpe,_pe,Epe=M(()=>{Hue=ka(j_(),1),Vue=ka(Se(),1),Xue=ka(jue(),1),Kue=ka(Yue(),1),Que=ka(Wue(),1),Ae(),hf(),yM(),cf(),Vue.default.extend(Xue.default),Vue.default.extend(Kue.default),Vue.default.extend(Que.default),Zue={friday:5,saturday:6},Jue="",ede="",rde="",nde=[],ide=[],ade=new Map,sde=[],ode=[],lde="",cde="",hde=["active","done","crit","milestone"],ude=[],dde=!1,pde=!1,gde="sunday",fde="saturday",mde=0,yde=o(function(){sde=[],ode=[],lde="",ude=[],Kde=0,epe=void 0,tpe=void 0,rpe=[],Jue="",ede="",cde="",tde=void 0,rde="",nde=[],ide=[],dde=!1,pde=!1,mde=0,ade=new Map,Mp(),gde="sunday",fde="saturday"},"clear"),vde=o(function(c){ede=c},"setAxisFormat"),xde=o(function(){return ede},"getAxisFormat"),bde=o(function(c){tde=c},"setTickInterval"),wde=o(function(){return tde},"getTickInterval"),kde=o(function(c){rde=c},"setTodayMarker"),_de=o(function(){return rde},"getTodayMarker"),Ede=o(function(c){Jue=c},"setDateFormat"),Cde=o(function(){dde=!0},"enableInclusiveEndDates"),Sde=o(function(){return dde},"endDatesAreInclusive"),Ade=o(function(){pde=!0},"enableTopAxis"),Lde=o(function(){return pde},"topAxisEnabled"),Nde=o(function(c){cde=c},"setDisplayMode"),Ide=o(function(){return cde},"getDisplayMode"),Mde=o(function(){return Jue},"getDateFormat"),Rde=o(function(c){nde=c.toLowerCase().split(/[\s,]+/)},"setIncludes"),Dde=o(function(){return nde},"getIncludes"),Ode=o(function(c){ide=c.toLowerCase().split(/[\s,]+/)},"setExcludes"),Pde=o(function(){return ide},"getExcludes"),Bde=o(function(){return ade},"getLinks"),Fde=o(function(c){lde=c,sde.push(c)},"addSection"),$de=o(function(){return sde},"getSections"),zde=o(function(){let c=ope(),q=0;for(;!c&&q<10;)c=ope(),q++;return ode=rpe},"getTasks"),Gde=o(function(c,q,Y,V){return!V.includes(c.format(q.trim()))&&(!((!Y.includes("weekends")||c.isoWeekday()!==Zue[fde]&&c.isoWeekday()!==Zue[fde]+1)&&!Y.includes(c.format("dddd").toLowerCase()))||Y.includes(c.format(q.trim())))},"isInvalidDate"),Ude=o(function(c){gde=c},"setWeekday"),qde=o(function(){return gde},"getWeekday"),jde=o(function(c){fde=c},"setWeekend"),Yde=o(function(c,q,Y,V){if(!Y.length||c.manualEndTime)return;let Z,re;Z=c.startTime instanceof Date?(0,Vue.default)(c.startTime):(0,Vue.default)(c.startTime,q,!0),Z=Z.add(1,"d"),re=c.endTime instanceof Date?(0,Vue.default)(c.endTime):(0,Vue.default)(c.endTime,q,!0);let[ae,se]=Wde(Z,re,q,Y,V);c.endTime=ae.toDate(),c.renderEndTime=se},"checkTaskDates"),Wde=o(function(c,q,Y,V,Z){let re=!1,ae=null;for(;c<=q;)re||(ae=q.toDate()),re=Gde(c,Y,V,Z),re&&(q=q.add(1,"d")),c=c.add(1,"d");return[q,ae]},"fixTaskDates"),Hde=o(function(c,q,Y){Y=Y.trim();let Z=/^after\s+(?<ids>[\d\w- ]+)/.exec(Y);if(null!==Z){let c=null;for(let q of Z.groups.ids.split(" ")){let Y=ape(q);void 0!==Y&&(!c||Y.endTime>c.endTime)&&(c=Y)}if(c)return c.endTime;let q=new Date;return q.setHours(0,0,0,0),q}let re=(0,Vue.default)(Y,q.trim(),!0);if(re.isValid())return re.toDate();{V.debug("Invalid date:"+Y),V.debug("With date format:"+q.trim());let c=new Date(Y);if(void 0===c||isNaN(c.getTime())||c.getFullYear()<-1e4||c.getFullYear()>1e4)throw new Error("Invalid date:"+Y);return c}},"getStartDate"),Vde=o(function(c){let q=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(c.trim());return null!==q?[Number.parseFloat(q[1]),q[2]]:[NaN,"ms"]},"parseDuration"),Xde=o(function(c,q,Y,V=!1){Y=Y.trim();let Z=/^until\s+(?<ids>[\d\w- ]+)/.exec(Y);if(null!==Z){let c=null;for(let q of Z.groups.ids.split(" ")){let Y=ape(q);void 0!==Y&&(!c||Y.startTime<c.startTime)&&(c=Y)}if(c)return c.startTime;let q=new Date;return q.setHours(0,0,0,0),q}let re=(0,Vue.default)(Y,q.trim(),!0);if(re.isValid())return V&&(re=re.add(1,"d")),re.toDate();let ae=(0,Vue.default)(c),[se,oe]=Vde(Y);if(!Number.isNaN(se)){let c=ae.add(se,oe);c.isValid()&&(ae=c)}return ae.toDate()},"getEndDate"),Kde=0,Qde=o(function(c){return void 0===c?"task"+(Kde+=1):c},"parseId"),Zde=o(function(c,q){let Y;Y=":"===q.substr(0,1)?q.substr(1,q.length):q;let V=Y.split(","),Z={};she(V,Z,hde);for(let c=0;c<V.length;c++)V[c]=V[c].trim();let re="";switch(V.length){case 1:Z.id=Qde(),Z.startTime=c.endTime,re=V[0];break;case 2:Z.id=Qde(),Z.startTime=Hde(void 0,Jue,V[0]),re=V[1];break;case 3:Z.id=Qde(V[0]),Z.startTime=Hde(void 0,Jue,V[1]),re=V[2]}return re&&(Z.endTime=Xde(Z.startTime,Jue,re,dde),Z.manualEndTime=(0,Vue.default)(re,"YYYY-MM-DD",!0).isValid(),Yde(Z,Jue,ide,nde)),Z},"compileData"),Jde=o(function(c,q){let Y;Y=":"===q.substr(0,1)?q.substr(1,q.length):q;let V=Y.split(","),Z={};she(V,Z,hde);for(let c=0;c<V.length;c++)V[c]=V[c].trim();switch(V.length){case 1:Z.id=Qde(),Z.startTime={type:"prevTaskEnd",id:c},Z.endTime={data:V[0]};break;case 2:Z.id=Qde(),Z.startTime={type:"getStartDate",startData:V[0]},Z.endTime={data:V[1]};break;case 3:Z.id=Qde(V[0]),Z.startTime={type:"getStartDate",startData:V[1]},Z.endTime={data:V[2]}}return Z},"parseData"),rpe=[],npe={},ipe=o(function(c,q){let Y={section:lde,type:lde,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:q},task:c,classes:[]},V=Jde(tpe,q);Y.raw.startTime=V.startTime,Y.raw.endTime=V.endTime,Y.id=V.id,Y.prevTaskId=tpe,Y.active=V.active,Y.done=V.done,Y.crit=V.crit,Y.milestone=V.milestone,Y.order=mde,mde++;let Z=rpe.push(Y);tpe=Y.id,npe[Y.id]=Z-1},"addTask"),ape=o(function(c){let q=npe[c];return rpe[q]},"findTaskById"),spe=o(function(c,q){let Y={section:lde,type:lde,description:c,task:c,classes:[]},V=Zde(epe,q);Y.startTime=V.startTime,Y.endTime=V.endTime,Y.id=V.id,Y.active=V.active,Y.done=V.done,Y.crit=V.crit,Y.milestone=V.milestone,epe=Y,ode.push(Y)},"addTaskOrg"),ope=o(function(){let c=o(function(c){let q=rpe[c],Y="";switch(rpe[c].raw.startTime.type){case"prevTaskEnd":{let c=ape(q.prevTaskId);q.startTime=c.endTime;break}case"getStartDate":Y=Hde(void 0,Jue,rpe[c].raw.startTime.startData),Y&&(rpe[c].startTime=Y)}return rpe[c].startTime&&(rpe[c].endTime=Xde(rpe[c].startTime,Jue,rpe[c].raw.endTime.data,dde),rpe[c].endTime&&(rpe[c].processed=!0,rpe[c].manualEndTime=(0,Vue.default)(rpe[c].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Yde(rpe[c],Jue,ide,nde))),rpe[c].processed},"compileTask"),q=!0;for(let[Y,V]of rpe.entries())c(Y),q=q&&V.processed;return q},"compileTasks"),lpe=o(function(c,q){let Y=q;"loose"!==Xp().securityLevel&&(Y=(0,Hue.sanitizeUrl)(q)),c.split(",").forEach(function(c){void 0!==ape(c)&&(upe(c,()=>{window.open(Y,"_self")}),ade.set(c,Y))}),cpe(c,"clickable")},"setLink"),cpe=o(function(c,q){c.split(",").forEach(function(c){let Y=ape(c);void 0!==Y&&Y.classes.push(q)})},"setClass"),hpe=o(function(c,q,Y){if("loose"!==Xp().securityLevel||void 0===q)return;let V=[];if("string"==typeof Y){V=Y.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let c=0;c<V.length;c++){let q=V[c].trim();q.startsWith('"')&&q.endsWith('"')&&(q=q.substr(1,q.length-2)),V[c]=q}}0===V.length&&V.push(c),void 0!==ape(c)&&upe(c,()=>{hM.runFunc(q,...V)})},"setClickFun"),upe=o(function(c,q){ude.push(function(){let Y=document.querySelector(`[id="${c}"]`);null!==Y&&Y.addEventListener("click",function(){q()})},function(){let Y=document.querySelector(`[id="${c}-text"]`);null!==Y&&Y.addEventListener("click",function(){q()})})},"pushFun"),dpe=o(function(c,q,Y){c.split(",").forEach(function(c){hpe(c,q,Y)}),cpe(c,"clickable")},"setClickEvent"),gpe=o(function(c){ude.forEach(function(q){q(c)})},"bindFunctions"),fpe={getConfig:o(()=>Xp().gantt,"getConfig"),clear:yde,setDateFormat:Ede,getDateFormat:Mde,enableInclusiveEndDates:Cde,endDatesAreInclusive:Sde,enableTopAxis:Ade,topAxisEnabled:Lde,setAxisFormat:vde,getAxisFormat:xde,setTickInterval:bde,getTickInterval:wde,setTodayMarker:kde,getTodayMarker:_de,setAccTitle:Rp,getAccTitle:Fp,setDiagramTitle:Yp,getDiagramTitle:Wp,setDisplayMode:Nde,getDisplayMode:Ide,setAccDescription:qp,getAccDescription:jp,addSection:Fde,getSections:$de,getTasks:zde,addTask:ipe,findTaskById:ape,addTaskOrg:spe,setIncludes:Rde,getIncludes:Dde,setExcludes:Ode,getExcludes:Pde,setClickEvent:dpe,setLink:lpe,getLinks:Bde,bindFunctions:gpe,parseDuration:Vde,isInvalidDate:Gde,setWeekday:Ude,getWeekday:qde,setWeekend:jde},o(she,"getTaskTags")}),Cpe=M(()=>{mpe=ka(Se(),1),Ae(),U_(),bp(),hf(),kp(),ype=o(function(){V.debug("Something is calling, setConf, remove the call")},"setConf"),vpe={monday:Aw,tuesday:Lw,wednesday:Nw,thursday:Iw,friday:Mw,saturday:Rw,sunday:Sw},xpe=o((c,q)=>{let Y=[...c].map(()=>-1/0),V=[...c].sort((c,q)=>c.startTime-q.startTime||c.order-q.order),Z=0;for(let c of V)for(let V=0;V<Y.length;V++)if(c.startTime>=Y[V]){Y[V]=c.endTime,c.order=V+q,V>Z&&(Z=V);break}return Z},"getMaxIntersections"),wpe=o(function(c,q,Y,Z){let re,ae=Xp().gantt,se=Xp().securityLevel;"sandbox"===se&&(re=ze("#i"+q));let oe=ze("sandbox"===se?re.nodes()[0].contentDocument.body:"body"),he="sandbox"===se?re.nodes()[0].contentDocument:document,de=he.getElementById(q);void 0===(bpe=de.parentElement.offsetWidth)&&(bpe=1200),void 0!==ae.useWidth&&(bpe=ae.useWidth);let pe=Z.db.getTasks(),ge=[];for(let c of pe)ge.push(c.type);ge=L(ge);let me={},ve=2*ae.topPadding;if("compact"===Z.db.getDisplayMode()||"compact"===ae.displayMode){let c={};for(let q of pe)void 0===c[q.section]?c[q.section]=[q]:c[q.section].push(q);let q=0;for(let Y of Object.keys(c)){let V=xpe(c[Y],q)+1;q+=V,ve+=V*(ae.barHeight+ae.barGap),me[Y]=V}}else{ve+=pe.length*(ae.barHeight+ae.barGap);for(let c of ge)me[c]=pe.filter(q=>q.type===c).length}de.setAttribute("viewBox","0 0 "+bpe+" "+ve);let be=oe.select(`[id="${q}"]`),we=C3().domain([N4(pe,function(c){return c.startTime}),D4(pe,function(c){return c.endTime})]).rangeRound([0,bpe-ae.leftPadding-ae.rightPadding]);function v(c,q){let Y=c.startTime,V=q.startTime,Z=0;return Y>V?Z=1:Y<V&&(Z=-1),Z}function x(c,q,Y){let V=ae.barHeight,re=V+ae.barGap,se=ae.topPadding,oe=ae.leftPadding,he=bl().domain([0,ge.length]).range(["#00B9FA","#F95002"]).interpolate(Nv);w(re,se,oe,q,Y,c,Z.db.getExcludes(),Z.db.getIncludes()),_(oe,se,q,Y),b(c,re,se,oe,V,he,q),T(re,se),E(oe,se,q,Y)}function b(c,Y,V,re,se,oe,he){let de=[...new Set(c.map(c=>c.order))].map(q=>c.find(c=>c.order===q));be.append("g").selectAll("rect").data(de).enter().append("rect").attr("x",0).attr("y",function(c,q){return c.order*Y+V-2}).attr("width",function(){return he-ae.rightPadding/2}).attr("height",Y).attr("class",function(c){for(let[q,Y]of ge.entries())if(c.type===Y)return"section section"+q%ae.numberSectionStyles;return"section section0"});let pe=be.append("g").selectAll("rect").data(c).enter(),me=Z.db.getLinks();if(pe.append("rect").attr("id",function(c){return c.id}).attr("rx",3).attr("ry",3).attr("x",function(c){return c.milestone?we(c.startTime)+re+.5*(we(c.endTime)-we(c.startTime))-.5*se:we(c.startTime)+re}).attr("y",function(c,q){return c.order*Y+V}).attr("width",function(c){return c.milestone?se:we(c.renderEndTime||c.endTime)-we(c.startTime)}).attr("height",se).attr("transform-origin",function(c,q){return q=c.order,(we(c.startTime)+re+.5*(we(c.endTime)-we(c.startTime))).toString()+"px "+(q*Y+V+.5*se).toString()+"px"}).attr("class",function(c){let q="";c.classes.length>0&&(q=c.classes.join(" "));let Y=0;for(let[q,V]of ge.entries())c.type===V&&(Y=q%ae.numberSectionStyles);let V="";return c.active?c.crit?V+=" activeCrit":V=" active":c.done?V=c.crit?" doneCrit":" done":c.crit&&(V+=" crit"),0===V.length&&(V=" task"),c.milestone&&(V=" milestone "+V),V+=Y,V+=" "+q,"task"+V}),pe.append("text").attr("id",function(c){return c.id+"-text"}).text(function(c){return c.task}).attr("font-size",ae.fontSize).attr("x",function(c){let q=we(c.startTime),Y=we(c.renderEndTime||c.endTime);c.milestone&&(q+=.5*(we(c.endTime)-we(c.startTime))-.5*se),c.milestone&&(Y=q+se);let V=this.getBBox().width;return V>Y-q?Y+V+1.5*ae.leftPadding>he?q+re-5:Y+re+5:(Y-q)/2+q+re}).attr("y",function(c,q){return c.order*Y+ae.barHeight/2+(ae.fontSize/2-2)+V}).attr("text-height",se).attr("class",function(c){let q=we(c.startTime),Y=we(c.endTime);c.milestone&&(Y=q+se);let V=this.getBBox().width,Z="";c.classes.length>0&&(Z=c.classes.join(" "));let re=0;for(let[q,Y]of ge.entries())c.type===Y&&(re=q%ae.numberSectionStyles);let oe="";return c.active&&(oe=c.crit?"activeCritText"+re:"activeText"+re),c.done?oe=c.crit?oe+" doneCritText"+re:oe+" doneText"+re:c.crit&&(oe=oe+" critText"+re),c.milestone&&(oe+=" milestoneText"),V>Y-q?Y+V+1.5*ae.leftPadding>he?Z+" taskTextOutsideLeft taskTextOutside"+re+" "+oe:Z+" taskTextOutsideRight taskTextOutside"+re+" "+oe+" width-"+V:Z+" taskText taskText"+re+" "+oe+" width-"+V}),"sandbox"===Xp().securityLevel){let c;c=ze("#i"+q);let Y=c.nodes()[0].contentDocument;pe.filter(function(c){return me.has(c.id)}).each(function(c){var q=Y.querySelector("#"+c.id),V=Y.querySelector("#"+c.id+"-text");let Z=q.parentNode;var re=Y.createElement("a");re.setAttribute("xlink:href",me.get(c.id)),re.setAttribute("target","_top"),Z.appendChild(re),re.appendChild(q),re.appendChild(V)})}}function w(c,q,Y,re,se,oe,he,de){if(0===he.length&&0===de.length)return;let pe,ge;for(let{startTime:c,endTime:q}of oe)(void 0===pe||c<pe)&&(pe=c),(void 0===ge||q>ge)&&(ge=q);if(!pe||!ge)return;if((0,mpe.default)(ge).diff((0,mpe.default)(pe),"year")>5)return void V.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");let me=Z.db.getDateFormat(),ve=[],Te=null,_e=(0,mpe.default)(pe);for(;_e.valueOf()<=ge;)Z.db.isInvalidDate(_e,me,he,de)?Te?Te.end=_e:Te={start:_e,end:_e}:Te&&(ve.push(Te),Te=null),_e=_e.add(1,"d");be.append("g").selectAll("rect").data(ve).enter().append("rect").attr("id",function(c){return"exclude-"+c.start.format("YYYY-MM-DD")}).attr("x",function(c){return we(c.start)+Y}).attr("y",ae.gridLineStartPadding).attr("width",function(c){let q=c.end.add(1,"day");return we(q)-we(c.start)}).attr("height",se-q-ae.gridLineStartPadding).attr("transform-origin",function(q,V){return(we(q.start)+Y+.5*(we(q.end)-we(q.start))).toString()+"px "+(V*c+.5*se).toString()+"px"}).attr("class","exclude-range")}function _(c,q,Y,V){let re=v7(we).tickSize(-V+q+ae.gridLineStartPadding).tickFormat(ok(Z.db.getAxisFormat()||ae.axisFormat||"%Y-%m-%d")),se=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(Z.db.getTickInterval()||ae.tickInterval);if(null!==se){let c=se[1],q=se[2],Y=Z.db.getWeekday()||ae.weekday;switch(q){case"millisecond":re.ticks(hw.every(c));break;case"second":re.ticks(uw.every(c));break;case"minute":re.ticks(dw.every(c));break;case"hour":re.ticks(gw.every(c));break;case"day":re.ticks(mw.every(c));break;case"week":re.ticks(vpe[Y].every(c));break;case"month":re.ticks(Gw.every(c))}}if(be.append("g").attr("class","grid").attr("transform","translate("+c+", "+(V-50)+")").call(re).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),Z.db.topAxisEnabled()||ae.topAxis){let Y=y7(we).tickSize(-V+q+ae.gridLineStartPadding).tickFormat(ok(Z.db.getAxisFormat()||ae.axisFormat||"%Y-%m-%d"));if(null!==se){let c=se[1],q=se[2],V=Z.db.getWeekday()||ae.weekday;switch(q){case"millisecond":Y.ticks(hw.every(c));break;case"second":Y.ticks(uw.every(c));break;case"minute":Y.ticks(dw.every(c));break;case"hour":Y.ticks(gw.every(c));break;case"day":Y.ticks(mw.every(c));break;case"week":Y.ticks(vpe[V].every(c));break;case"month":Y.ticks(Gw.every(c))}}be.append("g").attr("class","grid").attr("transform","translate("+c+", "+q+")").call(Y).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function T(c,q){let Y=0,V=Object.keys(me).map(c=>[c,me[c]]);be.append("g").selectAll("text").data(V).enter().append(function(c){let q=c[0].split(op.lineBreakRegex),Y=-(q.length-1)/2,V=he.createElementNS("http://www.w3.org/2000/svg","text");V.setAttribute("dy",Y+"em");for(let[c,Y]of q.entries()){let q=he.createElementNS("http://www.w3.org/2000/svg","tspan");q.setAttribute("alignment-baseline","central"),q.setAttribute("x","10"),c>0&&q.setAttribute("dy","1em"),q.textContent=Y,V.appendChild(q)}return V}).attr("x",10).attr("y",function(Z,re){if(!(re>0))return Z[1]*c/2+q;for(let ae=0;ae<re;ae++)return Y+=V[re-1][1],Z[1]*c/2+Y*c+q}).attr("font-size",ae.sectionFontSize).attr("class",function(c){for(let[q,Y]of ge.entries())if(c[0]===Y)return"sectionTitle sectionTitle"+q%ae.numberSectionStyles;return"sectionTitle"})}function E(c,q,Y,V){let re=Z.db.getTodayMarker();if("off"===re)return;let se=be.append("g").attr("class","today"),oe=new Date,he=se.append("line");he.attr("x1",we(oe)+c).attr("x2",we(oe)+c).attr("y1",ae.titleTopMargin).attr("y2",V-ae.titleTopMargin).attr("class","today"),""!==re&&he.attr("style",re.replace(/,/g,";"))}function L(c){let q={},Y=[];for(let V=0,Z=c.length;V<Z;++V)Object.prototype.hasOwnProperty.call(q,c[V])||(q[c[V]]=!0,Y.push(c[V]));return Y}o(v,"taskCompare"),pe.sort(v),x(pe,bpe,ve),hp(be,ve,bpe,ae.useMaxWidth),be.append("text").text(Z.db.getDiagramTitle()).attr("x",bpe/2).attr("y",ae.titleTopMargin).attr("class","titleText"),o(x,"makeGantt"),o(b,"drawRects"),o(w,"drawExcludeDays"),o(_,"makeGrid"),o(T,"vertLabels"),o(E,"drawToday"),o(L,"checkUnique")},"draw"),kpe={setConf:ype,draw:wpe}}),Spe=M(()=>{Tpe=o(c=>`\n  .mermaid-main-font {\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n  .exclude-range {\n    fill: ${c.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${c.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${c.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${c.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${c.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${c.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${c.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${c.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${c.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n  }\n\n  .grid .tick text {\n    font-family: ${c.fontFamily};\n    fill: ${c.textColor};\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${c.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n  .taskTextOutsideRight {\n    fill: ${c.taskTextDarkColor};\n    text-anchor: start;\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${c.taskTextDarkColor};\n    text-anchor: end;\n  }\n\n\n  /* Special case clickable */\n\n  .task.clickable {\n    cursor: pointer;\n  }\n\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${c.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${c.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${c.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${c.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${c.taskBkgColor};\n    stroke: ${c.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${c.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${c.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${c.activeTaskBkgColor};\n    stroke: ${c.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${c.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${c.doneTaskBorderColor};\n    fill: ${c.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${c.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${c.critBorderColor};\n    fill: ${c.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${c.critBorderColor};\n    fill: ${c.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${c.critBorderColor};\n    fill: ${c.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${c.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${c.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${c.titleColor||c.textColor};\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n`,"getStyles"),_pe=Tpe}),Ape={};vr(Ape,{diagram:()=>Lpe});var Lpe,Ipe,Mpe,Rpe,Ope,Ppe,Bpe,Fpe,$pe,zpe=M(()=>{que(),Epe(),Cpe(),Spe(),Lpe={parser:Gue,db:fpe,renderer:kpe,styles:_pe}}),Gpe=M(()=>{ahe(),Ae(),Ipe={parse:o(async c=>{let q=await Gl("info",c);V.debug(q)},"parse")}}),Upe=M(()=>{Mpe="11.4.1"}),qpe=M(()=>{Upe(),Rpe={version:Mpe},Ope=o(()=>Rpe.version,"getVersion"),Ppe={getVersion:Ope}}),jpe=M(()=>{U_(),hf(),Bpe=o(c=>{let{securityLevel:q}=Xp(),Y=ze("body");if("sandbox"===q){let q=ze(`#i${c}`).node()?.contentDocument??document;Y=ze(q.body)}return Y.select(`#${c}`)},"selectSvgElement")}),Ype=M(()=>{Ae(),jpe(),kp(),Fpe=o((c,q,Y)=>{V.debug("rendering info diagram\n"+c);let Z=Bpe(q);hp(Z,100,400,!0),Z.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${Y}`)},"draw"),$pe={draw:Fpe}}),Wpe={};vr(Wpe,{diagram:()=>Hpe});var Hpe,Vpe,Xpe,Kpe,Qpe,Zpe,Jpe,ege,tge,rge,nge,ige,age,sge,oge,lge,cge,hge,uge,dge,pge=M(()=>{Gpe(),qpe(),Ype(),Hpe={parser:Ipe,db:Ppe,renderer:$pe}}),gge=M(()=>{Ae(),cf(),bi(),Vpe=nn.pie,Xpe={sections:new Map,showData:!1,config:Vpe},Kpe=Xpe.sections,Qpe=Xpe.showData,Zpe=structuredClone(Vpe),Jpe=o(()=>structuredClone(Zpe),"getConfig"),ege=o(()=>{Kpe=new Map,Qpe=Xpe.showData,Mp()},"clear"),tge=o(({label:c,value:q})=>{Kpe.has(c)||(Kpe.set(c,q),V.debug(`added new section: ${c}, with value: ${q}`))},"addSection"),rge=o(()=>Kpe,"getSections"),nge=o(c=>{Qpe=c},"setShowData"),ige=o(()=>Qpe,"getShowData"),age={getConfig:Jpe,clear:ege,setDiagramTitle:Yp,getDiagramTitle:Wp,setAccTitle:Rp,getAccTitle:Fp,setAccDescription:qp,getAccDescription:jp,addSection:tge,getSections:rge,setShowData:nge,getShowData:ige}}),fge=M(()=>{ahe(),Ae(),che(),gge(),sge=o((c,q)=>{lf(c,q),q.setShowData(c.showData),c.sections.map(q.addSection)},"populateDb"),oge={parse:o(async c=>{let q=await Gl("pie",c);V.debug(q),sge(q,age)},"parse")}}),mge=M(()=>{lge=o(c=>`\n  .pieCircle{\n    stroke: ${c.pieStrokeColor};\n    stroke-width : ${c.pieStrokeWidth};\n    opacity : ${c.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${c.pieOuterStrokeColor};\n    stroke-width: ${c.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${c.pieTitleTextSize};\n    fill: ${c.pieTitleTextColor};\n    font-family: ${c.fontFamily};\n  }\n  .slice {\n    font-family: ${c.fontFamily};\n    fill: ${c.pieSectionTextColor};\n    font-size:${c.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${c.pieLegendTextColor};\n    font-family: ${c.fontFamily};\n    font-size: ${c.pieLegendTextSize};\n  }\n`,"getStyles"),cge=lge}),yge=M(()=>{U_(),hf(),Ae(),jpe(),kp(),yM(),hge=o(c=>{let q=[...c.entries()].map(c=>({label:c[0],value:c[1]})).sort((c,q)=>q.value-c.value);return R3().value(c=>c.value)(q)},"createPieArcs"),uge=o((c,q,Y,Z)=>{V.debug("rendering pie chart\n"+c);let re=Z.db,ae=Xp(),se=ws(re.getConfig(),ae.pie),oe=18,he=450,de=he,pe=Bpe(q),ge=pe.append("g");ge.attr("transform","translate(225,225)");let{themeVariables:me}=ae,[ve]=cM(me.pieOuterStrokeWidth);ve??=2;let be=se.textPosition,we=Math.min(de,he)/2-40,Te=El().innerRadius(0).outerRadius(we),_e=El().innerRadius(we*be).outerRadius(we*be);ge.append("circle").attr("cx",0).attr("cy",0).attr("r",we+ve/2).attr("class","pieOuterCircle");let Ee=re.getSections(),Ce=hge(Ee),Se=du([me.pie1,me.pie2,me.pie3,me.pie4,me.pie5,me.pie6,me.pie7,me.pie8,me.pie9,me.pie10,me.pie11,me.pie12]);ge.selectAll("mySlices").data(Ce).enter().append("path").attr("d",Te).attr("fill",c=>Se(c.data.label)).attr("class","pieCircle");let Ae=0;Ee.forEach(c=>{Ae+=c}),ge.selectAll("mySlices").data(Ce).enter().append("text").text(c=>(c.data.value/Ae*100).toFixed(0)+"%").attr("transform",c=>"translate("+_e.centroid(c)+")").style("text-anchor","middle").attr("class","slice"),ge.append("text").text(re.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");let Le=ge.selectAll(".legend").data(Se.domain()).enter().append("g").attr("class","legend").attr("transform",(c,q)=>"translate(216,"+(22*q-22*Se.domain().length/2)+")");Le.append("rect").attr("width",oe).attr("height",oe).style("fill",Se).style("stroke",Se),Le.data(Ce).append("text").attr("x",22).attr("y",14).text(c=>{let{label:q,value:Y}=c.data;return re.getShowData()?`${q} [${Y}]`:q});let Ne=512+Math.max(...Le.selectAll("text").nodes().map(c=>c?.getBoundingClientRect().width??0));pe.attr("viewBox",`0 0 ${Ne} 450`),hp(pe,he,Ne,se.useMaxWidth)},"draw"),dge={draw:uge}}),vge={};vr(vge,{diagram:()=>xge});var xge,bge,wge,kge,Tge,_ge=M(()=>{fge(),gge(),mge(),yge(),xge={parser:oge,db:age,renderer:dge,styles:cge}}),Ege=M(()=>{(bge=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,3],Y=[1,4],V=[1,5],Z=[1,6],re=[1,7],ae=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],se=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],oe=[55,56,57],he=[2,36],de=[1,37],pe=[1,36],ge=[1,38],me=[1,35],ve=[1,43],be=[1,41],we=[1,14],Te=[1,23],_e=[1,18],Ee=[1,19],Ce=[1,20],Se=[1,21],Ae=[1,22],Le=[1,24],Ne=[1,25],Ie=[1,26],Me=[1,27],Re=[1,28],Oe=[1,29],Be=[1,32],$e=[1,33],Ue=[1,34],qe=[1,39],je=[1,40],We=[1,42],He=[1,44],Ve=[1,62],Ke=[1,61],Qe=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],Ze=[1,65],Je=[1,66],et=[1,67],tt=[1,68],rt=[1,69],nt=[1,70],it=[1,71],at=[1,72],st=[1,73],ot=[1,74],lt=[1,75],ht=[1,76],ut=[4,5,6,7,8,9,10,11,12,13,14,15,18],pt=[1,90],gt=[1,91],ft=[1,92],mt=[1,99],xt=[1,93],bt=[1,96],wt=[1,94],kt=[1,95],_t=[1,97],St=[1,98],At=[1,102],Lt=[10,55,56,57],Nt=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],It={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 23:case 68:this.$=re[se];break;case 24:case 69:this.$=re[se-1]+""+re[se];break;case 26:this.$=re[se-1]+re[se];break;case 27:this.$=[re[se].trim()];break;case 28:re[se-2].push(re[se].trim()),this.$=re[se-2];break;case 29:this.$=re[se-4],V.addClass(re[se-2],re[se]);break;case 37:this.$=[];break;case 42:this.$=re[se].trim(),V.setDiagramTitle(this.$);break;case 43:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 44:case 45:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 46:V.addSection(re[se].substr(8)),this.$=re[se].substr(8);break;case 47:V.addPoint(re[se-3],"",re[se-1],re[se],[]);break;case 48:V.addPoint(re[se-4],re[se-3],re[se-1],re[se],[]);break;case 49:V.addPoint(re[se-4],"",re[se-2],re[se-1],re[se]);break;case 50:V.addPoint(re[se-5],re[se-4],re[se-2],re[se-1],re[se]);break;case 51:V.setXAxisLeftText(re[se-2]),V.setXAxisRightText(re[se]);break;case 52:re[se-1].text+=" ⟶ ",V.setXAxisLeftText(re[se-1]);break;case 53:V.setXAxisLeftText(re[se]);break;case 54:V.setYAxisBottomText(re[se-2]),V.setYAxisTopText(re[se]);break;case 55:re[se-1].text+=" ⟶ ",V.setYAxisBottomText(re[se-1]);break;case 56:V.setYAxisBottomText(re[se]);break;case 57:V.setQuadrant1Text(re[se]);break;case 58:V.setQuadrant2Text(re[se]);break;case 59:V.setQuadrant3Text(re[se]);break;case 60:V.setQuadrant4Text(re[se]);break;case 64:case 66:this.$={text:re[se],type:"text"};break;case 65:this.$={text:re[se-1].text+""+re[se],type:re[se-1].type};break;case 67:this.$={text:re[se],type:"markdown"}}},"anonymous"),table:[{18:q,26:1,27:2,28:Y,55:V,56:Z,57:re},{1:[3]},{18:q,26:8,27:2,28:Y,55:V,56:Z,57:re},{18:q,26:9,27:2,28:Y,55:V,56:Z,57:re},c(ae,[2,33],{29:10}),c(se,[2,61]),c(se,[2,62]),c(se,[2,63]),{1:[2,30]},{1:[2,31]},c(oe,he,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:de,5:pe,10:ge,12:me,13:ve,14:be,18:we,25:Te,35:_e,37:Ee,39:Ce,41:Se,42:Ae,48:Le,50:Ne,51:Ie,52:Me,53:Re,54:Oe,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He}),c(ae,[2,34]),{27:45,55:V,56:Z,57:re},c(oe,[2,37]),c(oe,he,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:de,5:pe,10:ge,12:me,13:ve,14:be,18:we,25:Te,35:_e,37:Ee,39:Ce,41:Se,42:Ae,48:Le,50:Ne,51:Ie,52:Me,53:Re,54:Oe,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,39]),c(oe,[2,40]),c(oe,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},c(oe,[2,45]),c(oe,[2,46]),{18:[1,50]},{4:de,5:pe,10:ge,12:me,13:ve,14:be,43:51,58:31,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He},{4:de,5:pe,10:ge,12:me,13:ve,14:be,43:52,58:31,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He},{4:de,5:pe,10:ge,12:me,13:ve,14:be,43:53,58:31,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He},{4:de,5:pe,10:ge,12:me,13:ve,14:be,43:54,58:31,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He},{4:de,5:pe,10:ge,12:me,13:ve,14:be,43:55,58:31,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He},{4:de,5:pe,10:ge,12:me,13:ve,14:be,43:56,58:31,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He},{4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,44:[1,57],47:[1,58],58:60,59:59,63:Ue,64:qe,65:je,66:We,67:He},c(Qe,[2,64]),c(Qe,[2,66]),c(Qe,[2,67]),c(Qe,[2,70]),c(Qe,[2,71]),c(Qe,[2,72]),c(Qe,[2,73]),c(Qe,[2,74]),c(Qe,[2,75]),c(Qe,[2,76]),c(Qe,[2,77]),c(Qe,[2,78]),c(Qe,[2,79]),c(Qe,[2,80]),c(ae,[2,35]),c(oe,[2,38]),c(oe,[2,42]),c(oe,[2,43]),c(oe,[2,44]),{3:64,4:Ze,5:Je,6:et,7:tt,8:rt,9:nt,10:it,11:at,12:st,13:ot,14:lt,15:ht,21:63},c(oe,[2,53],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,49:[1,77],63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,56],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,49:[1,78],63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,57],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,58],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,59],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,60],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,63:Ue,64:qe,65:je,66:We,67:He}),{45:[1,79]},{44:[1,80]},c(Qe,[2,65]),c(Qe,[2,81]),c(Qe,[2,82]),c(Qe,[2,83]),{3:82,4:Ze,5:Je,6:et,7:tt,8:rt,9:nt,10:it,11:at,12:st,13:ot,14:lt,15:ht,18:[1,81]},c(ut,[2,23]),c(ut,[2,1]),c(ut,[2,2]),c(ut,[2,3]),c(ut,[2,4]),c(ut,[2,5]),c(ut,[2,6]),c(ut,[2,7]),c(ut,[2,8]),c(ut,[2,9]),c(ut,[2,10]),c(ut,[2,11]),c(ut,[2,12]),c(oe,[2,52],{58:31,43:83,4:de,5:pe,10:ge,12:me,13:ve,14:be,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,55],{58:31,43:84,4:de,5:pe,10:ge,12:me,13:ve,14:be,60:Be,61:$e,63:Ue,64:qe,65:je,66:We,67:He}),{46:[1,85]},{45:[1,86]},{4:pt,5:gt,6:ft,8:mt,11:xt,13:bt,16:89,17:wt,18:kt,19:_t,20:St,22:88,23:87},c(ut,[2,24]),c(oe,[2,51],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,54],{59:59,58:60,4:de,5:pe,8:Ve,10:ge,12:me,13:ve,14:be,18:Ke,63:Ue,64:qe,65:je,66:We,67:He}),c(oe,[2,47],{22:88,16:89,23:100,4:pt,5:gt,6:ft,8:mt,11:xt,13:bt,17:wt,18:kt,19:_t,20:St}),{46:[1,101]},c(oe,[2,29],{10:At}),c(Lt,[2,27],{16:103,4:pt,5:gt,6:ft,8:mt,11:xt,13:bt,17:wt,18:kt,19:_t,20:St}),c(Nt,[2,25]),c(Nt,[2,13]),c(Nt,[2,14]),c(Nt,[2,15]),c(Nt,[2,16]),c(Nt,[2,17]),c(Nt,[2,18]),c(Nt,[2,19]),c(Nt,[2,20]),c(Nt,[2,21]),c(Nt,[2,22]),c(oe,[2,49],{10:At}),c(oe,[2,48],{22:88,16:89,23:104,4:pt,5:gt,6:ft,8:mt,11:xt,13:bt,17:wt,18:kt,19:_t,20:St}),{4:pt,5:gt,6:ft,8:mt,11:xt,13:bt,16:89,17:wt,18:kt,19:_t,20:St,22:105},c(Nt,[2,26]),c(oe,[2,50],{10:At}),c(Lt,[2,28],{16:103,4:pt,5:gt,6:ft,8:mt,11:xt,13:bt,17:wt,18:kt,19:_t,20:St})],defaultActions:{8:[2,30],9:[2,31]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function Xe(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function dt(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(Xe,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=Xe()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Mt={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:case 1:case 3:break;case 2:return 55;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 23:case 25:case 31:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 24:this.begin("string");break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};function U(){this.yy={}}return It.lexer=Mt,o(U,"Parser"),U.prototype=It,It.Parser=U,new U}()).parser=bge,wge=bge}),Cge=M(()=>{U_(),bi(),Ae(),fi(),kge=jr(),Tge=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{o(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:nn.quadrantChart?.chartWidth||500,chartWidth:nn.quadrantChart?.chartHeight||500,titlePadding:nn.quadrantChart?.titlePadding||10,titleFontSize:nn.quadrantChart?.titleFontSize||20,quadrantPadding:nn.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:nn.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:nn.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:nn.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:nn.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:nn.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:nn.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:nn.quadrantChart?.pointTextPadding||5,pointLabelFontSize:nn.quadrantChart?.pointLabelFontSize||12,pointRadius:nn.quadrantChart?.pointRadius||5,xAxisPosition:nn.quadrantChart?.xAxisPosition||"top",yAxisPosition:nn.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:nn.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:nn.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:kge.quadrant1Fill,quadrant2Fill:kge.quadrant2Fill,quadrant3Fill:kge.quadrant3Fill,quadrant4Fill:kge.quadrant4Fill,quadrant1TextFill:kge.quadrant1TextFill,quadrant2TextFill:kge.quadrant2TextFill,quadrant3TextFill:kge.quadrant3TextFill,quadrant4TextFill:kge.quadrant4TextFill,quadrantPointFill:kge.quadrantPointFill,quadrantPointTextFill:kge.quadrantPointTextFill,quadrantXAxisTextFill:kge.quadrantXAxisTextFill,quadrantYAxisTextFill:kge.quadrantYAxisTextFill,quadrantTitleFill:kge.quadrantTitleFill,quadrantInternalBorderStrokeFill:kge.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:kge.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,V.info("clear called")}setData(c){this.data={...this.data,...c}}addPoints(c){this.data.points=[...c,...this.data.points]}addClass(c,q){this.classes.set(c,q)}setConfig(c){V.trace("setConfig called with: ",c),this.config={...this.config,...c}}setThemeConfig(c){V.trace("setThemeConfig called with: ",c),this.themeConfig={...this.themeConfig,...c}}calculateSpace(c,q,Y,V){let Z=2*this.config.xAxisLabelPadding+this.config.xAxisLabelFontSize,re={top:"top"===c&&q?Z:0,bottom:"bottom"===c&&q?Z:0},ae=2*this.config.yAxisLabelPadding+this.config.yAxisLabelFontSize,se={left:"left"===this.config.yAxisPosition&&Y?ae:0,right:"right"===this.config.yAxisPosition&&Y?ae:0},oe=this.config.titleFontSize+2*this.config.titlePadding,he={top:V?oe:0},de=this.config.quadrantPadding+se.left,pe=this.config.quadrantPadding+re.top+he.top,ge=this.config.chartWidth-2*this.config.quadrantPadding-se.left-se.right,me=this.config.chartHeight-2*this.config.quadrantPadding-re.top-re.bottom-he.top;return{xAxisSpace:re,yAxisSpace:se,titleSpace:he,quadrantSpace:{quadrantLeft:de,quadrantTop:pe,quadrantWidth:ge,quadrantHalfWidth:ge/2,quadrantHeight:me,quadrantHalfHeight:me/2}}}getAxisLabels(c,q,Y,V){let{quadrantSpace:Z,titleSpace:re}=V,{quadrantHalfHeight:ae,quadrantHeight:se,quadrantLeft:oe,quadrantHalfWidth:he,quadrantTop:de,quadrantWidth:pe}=Z,ge=!!this.data.xAxisRightText,me=!!this.data.yAxisTopText,ve=[];return this.data.xAxisLeftText&&q&&ve.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:oe+(ge?he/2:0),y:"top"===c?this.config.xAxisLabelPadding+re.top:this.config.xAxisLabelPadding+de+se+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:ge?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&q&&ve.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:oe+he+(ge?he/2:0),y:"top"===c?this.config.xAxisLabelPadding+re.top:this.config.xAxisLabelPadding+de+se+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:ge?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&Y&&ve.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+oe+pe+this.config.quadrantPadding,y:de+se-(me?ae/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:me?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&Y&&ve.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+oe+pe+this.config.quadrantPadding,y:de+ae-(me?ae/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:me?"center":"left",horizontalPos:"top",rotation:-90}),ve}getQuadrants(c){let{quadrantSpace:q}=c,{quadrantHalfHeight:Y,quadrantLeft:V,quadrantHalfWidth:Z,quadrantTop:re}=q,ae=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:V+Z,y:re,width:Z,height:Y,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:V,y:re,width:Z,height:Y,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:V,y:re+Y,width:Z,height:Y,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:V+Z,y:re+Y,width:Z,height:Y,fill:this.themeConfig.quadrant4Fill}];for(let c of ae)c.text.x=c.x+c.width/2,0===this.data.points.length?(c.text.y=c.y+c.height/2,c.text.horizontalPos="middle"):(c.text.y=c.y+this.config.quadrantTextTopPadding,c.text.horizontalPos="top");return ae}getQuadrantPoints(c){let{quadrantSpace:q}=c,{quadrantHeight:Y,quadrantLeft:V,quadrantTop:Z,quadrantWidth:re}=q,ae=bl().domain([0,1]).range([V,re+V]),se=bl().domain([0,1]).range([Y+Z,Z]);return this.data.points.map(c=>{let q=this.classes.get(c.className);return q&&(c={...q,...c}),{x:ae(c.x),y:se(c.y),fill:c.color??this.themeConfig.quadrantPointFill,radius:c.radius??this.config.pointRadius,text:{text:c.text,fill:this.themeConfig.quadrantPointTextFill,x:ae(c.x),y:se(c.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:c.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:c.strokeWidth??"0px"}})}getBorders(c){let q=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:Y}=c,{quadrantHalfHeight:V,quadrantHeight:Z,quadrantLeft:re,quadrantHalfWidth:ae,quadrantTop:se,quadrantWidth:oe}=Y;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:re-q,y1:se,x2:re+oe+q,y2:se},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:re+oe,y1:se+q,x2:re+oe,y2:se+Z-q},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:re-q,y1:se+Z,x2:re+oe+q,y2:se+Z},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:re,y1:se+q,x2:re,y2:se+Z-q},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:re+ae,y1:se+q,x2:re+ae,y2:se+Z-q},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:re+q,y1:se+V,x2:re+oe-q,y2:se+V}]}getTitle(c){if(c)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let c=this.config.showXAxis&&!(!this.data.xAxisLeftText&&!this.data.xAxisRightText),q=this.config.showYAxis&&!(!this.data.yAxisTopText&&!this.data.yAxisBottomText),Y=this.config.showTitle&&!!this.data.titleText,V=this.data.points.length>0?"bottom":this.config.xAxisPosition,Z=this.calculateSpace(V,c,q,Y);return{points:this.getQuadrantPoints(Z),quadrants:this.getQuadrants(Z),axisLabels:this.getAxisLabels(V,c,q,Z),borderLines:this.getBorders(Z),title:this.getTitle(Y)}}}});function iO(c){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(c)}function $he(c){return!/^\d+$/.test(c)}function Vhe(c){return!/^\d+px$/.test(c)}var Sge,Age=M(()=>{Sge=class extends Error{static{o(this,"InvalidStyleError")}constructor(c,q,Y){super(`value for ${c} ${q} is invalid, please use a valid ${Y}`),this.name="InvalidStyleError"}},o(iO,"validateHexCode"),o($he,"validateNumber"),o(Vhe,"validateSizeInPixels")});function Wu(c){return Md(c.trim(),Lge)}function MVe(c){Nge.setData({quadrant1Text:Wu(c.text)})}function IVe(c){Nge.setData({quadrant2Text:Wu(c.text)})}function OVe(c){Nge.setData({quadrant3Text:Wu(c.text)})}function PVe(c){Nge.setData({quadrant4Text:Wu(c.text)})}function BVe(c){Nge.setData({xAxisLeftText:Wu(c.text)})}function FVe(c){Nge.setData({xAxisRightText:Wu(c.text)})}function zVe(c){Nge.setData({yAxisTopText:Wu(c.text)})}function GVe(c){Nge.setData({yAxisBottomText:Wu(c.text)})}function aO(c){let q={};for(let Y of c){let[c,V]=Y.trim().split(/\s*:\s*/);if("radius"===c){if($he(V))throw new Sge(c,V,"number");q.radius=parseInt(V)}else if("color"===c){if(iO(V))throw new Sge(c,V,"hex code");q.color=V}else if("stroke-color"===c){if(iO(V))throw new Sge(c,V,"hex code");q.strokeColor=V}else{if("stroke-width"!==c)throw new Error(`style named ${c} is not supported.`);if(Vhe(V))throw new Sge(c,V,"number of pixels (eg. 10px)");q.strokeWidth=V}}return q}function $Ve(c,q,Y,V,Z){let re=aO(Z);Nge.addPoints([{x:Y,y:V,text:Wu(c.text),className:q,...re}])}function VVe(c,q){Nge.addClass(c,aO(q))}function UVe(c){Nge.setConfig({chartWidth:c})}function HVe(c){Nge.setConfig({chartHeight:c})}function WVe(){let c=Xp(),{themeVariables:q,quadrantChart:Y}=c;return Y&&Nge.setConfig(Y),Nge.setThemeConfig({quadrant1Fill:q.quadrant1Fill,quadrant2Fill:q.quadrant2Fill,quadrant3Fill:q.quadrant3Fill,quadrant4Fill:q.quadrant4Fill,quadrant1TextFill:q.quadrant1TextFill,quadrant2TextFill:q.quadrant2TextFill,quadrant3TextFill:q.quadrant3TextFill,quadrant4TextFill:q.quadrant4TextFill,quadrantPointFill:q.quadrantPointFill,quadrantPointTextFill:q.quadrantPointTextFill,quadrantXAxisTextFill:q.quadrantXAxisTextFill,quadrantYAxisTextFill:q.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:q.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:q.quadrantInternalBorderStrokeFill,quadrantTitleFill:q.quadrantTitleFill}),Nge.setData({titleText:Wp()}),Nge.build()}var Lge,Nge,Mge,Rge,Pge,Bge,Fge=M(()=>{hf(),bp(),cf(),Cge(),Age(),Lge=Xp(),o(Wu,"textSanitizer"),Nge=new Tge,o(MVe,"setQuadrant1Text"),o(IVe,"setQuadrant2Text"),o(OVe,"setQuadrant3Text"),o(PVe,"setQuadrant4Text"),o(BVe,"setXAxisLeftText"),o(FVe,"setXAxisRightText"),o(zVe,"setYAxisTopText"),o(GVe,"setYAxisBottomText"),o(aO,"parseStyles"),o($Ve,"addPoint"),o(VVe,"addClass"),o(UVe,"setWidth"),o(HVe,"setHeight"),o(WVe,"getQuadrantData"),Mge=o(function(){Nge.clear(),Mp()},"clear"),Rge={setWidth:UVe,setHeight:HVe,setQuadrant1Text:MVe,setQuadrant2Text:IVe,setQuadrant3Text:OVe,setQuadrant4Text:PVe,setXAxisLeftText:BVe,setXAxisRightText:FVe,setYAxisTopText:zVe,setYAxisBottomText:GVe,parseStyles:aO,addPoint:$Ve,addClass:VVe,getQuadrantData:WVe,clear:Mge,setAccTitle:Rp,getAccTitle:Fp,setDiagramTitle:Yp,getDiagramTitle:Wp,getAccDescription:jp,setAccDescription:qp}}),$ge=M(()=>{U_(),hf(),Ae(),kp(),Pge=o((c,q,Y,Z)=>{function i(c){return"top"===c?"hanging":"middle"}function a(c){return"left"===c?"start":"middle"}function s(c){return`translate(${c.x}, ${c.y}) rotate(${c.rotation||0})`}o(i,"getDominantBaseLine"),o(a,"getTextAnchor"),o(s,"getTransformation");let re=Xp();V.debug("Rendering quadrant chart\n"+c);let ae,se=re.securityLevel;"sandbox"===se&&(ae=ze("#i"+q));let oe=ze("sandbox"===se?ae.nodes()[0].contentDocument.body:"body").select(`[id="${q}"]`),he=oe.append("g").attr("class","main"),de=re.quadrantChart?.chartWidth??500,pe=re.quadrantChart?.chartHeight??500;hp(oe,pe,de,re.quadrantChart?.useMaxWidth??!0),oe.attr("viewBox","0 0 "+de+" "+pe),Z.db.setHeight(pe),Z.db.setWidth(de);let ge=Z.db.getQuadrantData(),me=he.append("g").attr("class","quadrants"),ve=he.append("g").attr("class","border"),be=he.append("g").attr("class","data-points"),we=he.append("g").attr("class","labels"),Te=he.append("g").attr("class","title");ge.title&&Te.append("text").attr("x",0).attr("y",0).attr("fill",ge.title.fill).attr("font-size",ge.title.fontSize).attr("dominant-baseline",i(ge.title.horizontalPos)).attr("text-anchor",a(ge.title.verticalPos)).attr("transform",s(ge.title)).text(ge.title.text),ge.borderLines&&ve.selectAll("line").data(ge.borderLines).enter().append("line").attr("x1",c=>c.x1).attr("y1",c=>c.y1).attr("x2",c=>c.x2).attr("y2",c=>c.y2).style("stroke",c=>c.strokeFill).style("stroke-width",c=>c.strokeWidth);let _e=me.selectAll("g.quadrant").data(ge.quadrants).enter().append("g").attr("class","quadrant");_e.append("rect").attr("x",c=>c.x).attr("y",c=>c.y).attr("width",c=>c.width).attr("height",c=>c.height).attr("fill",c=>c.fill),_e.append("text").attr("x",0).attr("y",0).attr("fill",c=>c.text.fill).attr("font-size",c=>c.text.fontSize).attr("dominant-baseline",c=>i(c.text.horizontalPos)).attr("text-anchor",c=>a(c.text.verticalPos)).attr("transform",c=>s(c.text)).text(c=>c.text.text),we.selectAll("g.label").data(ge.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(c=>c.text).attr("fill",c=>c.fill).attr("font-size",c=>c.fontSize).attr("dominant-baseline",c=>i(c.horizontalPos)).attr("text-anchor",c=>a(c.verticalPos)).attr("transform",c=>s(c));let Ee=be.selectAll("g.data-point").data(ge.points).enter().append("g").attr("class","data-point");Ee.append("circle").attr("cx",c=>c.x).attr("cy",c=>c.y).attr("r",c=>c.radius).attr("fill",c=>c.fill).attr("stroke",c=>c.strokeColor).attr("stroke-width",c=>c.strokeWidth),Ee.append("text").attr("x",0).attr("y",0).text(c=>c.text.text).attr("fill",c=>c.text.fill).attr("font-size",c=>c.text.fontSize).attr("dominant-baseline",c=>i(c.text.horizontalPos)).attr("text-anchor",c=>a(c.text.verticalPos)).attr("transform",c=>s(c.text))},"draw"),Bge={draw:Pge}}),zge={};vr(zge,{diagram:()=>Gge});var Gge,Uge,qge,Yge=M(()=>{Ege(),Fge(),$ge(),Gge={parser:wge,db:Rge,renderer:Bge,styles:o(()=>"","styles")}}),Wge=M(()=>{(Uge=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,10,12,14,16,18,19,21,23],Y=[2,6],V=[1,3],Z=[1,5],re=[1,6],ae=[1,7],se=[1,5,10,12,14,16,18,19,21,23,34,35,36],oe=[1,25],he=[1,26],de=[1,28],pe=[1,29],ge=[1,30],me=[1,31],ve=[1,32],be=[1,33],we=[1,34],Te=[1,35],_e=[1,36],Ee=[1,37],Ce=[1,43],Se=[1,42],Ae=[1,47],Le=[1,50],Ne=[1,10,12,14,16,18,19,21,23,34,35,36],Ie=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],Me=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],Re=[1,64],Oe={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 5:V.setOrientation(re[se]);break;case 9:V.setDiagramTitle(re[se].text.trim());break;case 12:V.setLineData({text:"",type:"text"},re[se]);break;case 13:V.setLineData(re[se-1],re[se]);break;case 14:V.setBarData({text:"",type:"text"},re[se]);break;case 15:V.setBarData(re[se-1],re[se]);break;case 16:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 17:case 18:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 19:case 27:this.$=re[se-1];break;case 20:this.$=[Number(re[se-2]),...re[se]];break;case 21:this.$=[Number(re[se])];break;case 22:V.setXAxisTitle(re[se]);break;case 23:V.setXAxisTitle(re[se-1]);break;case 24:V.setXAxisTitle({type:"text",text:""});break;case 25:V.setXAxisBand(re[se]);break;case 26:V.setXAxisRangeData(Number(re[se-2]),Number(re[se]));break;case 28:this.$=[re[se-2],...re[se]];break;case 29:this.$=[re[se]];break;case 30:V.setYAxisTitle(re[se]);break;case 31:V.setYAxisTitle(re[se-1]);break;case 32:V.setYAxisTitle({type:"text",text:""});break;case 33:V.setYAxisRangeData(Number(re[se-2]),Number(re[se]));break;case 37:case 38:this.$={text:re[se],type:"text"};break;case 39:this.$={text:re[se],type:"markdown"};break;case 40:this.$=re[se];break;case 41:this.$=re[se-1]+""+re[se]}},"anonymous"),table:[c(q,Y,{3:1,4:2,7:4,5:V,34:Z,35:re,36:ae}),{1:[3]},c(q,Y,{4:2,7:4,3:8,5:V,34:Z,35:re,36:ae}),c(q,Y,{4:2,7:4,6:9,3:10,5:V,8:[1,11],34:Z,35:re,36:ae}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},c(se,[2,34]),c(se,[2,35]),c(se,[2,36]),{1:[2,1]},c(q,Y,{4:2,7:4,3:21,5:V,34:Z,35:re,36:ae}),{1:[2,3]},c(se,[2,5]),c(q,[2,7],{4:22,34:Z,35:re,36:ae}),{11:23,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},{11:39,13:38,24:Ce,27:Se,29:40,30:41,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},{11:45,15:44,27:Ae,33:46,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},{11:49,17:48,24:Le,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},{11:52,17:51,24:Le,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},{20:[1,53]},{22:[1,54]},c(Ne,[2,18]),{1:[2,2]},c(Ne,[2,8]),c(Ne,[2,9]),c(Ie,[2,37],{40:55,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee}),c(Ie,[2,38]),c(Ie,[2,39]),c(Me,[2,40]),c(Me,[2,42]),c(Me,[2,43]),c(Me,[2,44]),c(Me,[2,45]),c(Me,[2,46]),c(Me,[2,47]),c(Me,[2,48]),c(Me,[2,49]),c(Me,[2,50]),c(Me,[2,51]),c(Ne,[2,10]),c(Ne,[2,22],{30:41,29:56,24:Ce,27:Se}),c(Ne,[2,24]),c(Ne,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},c(Ne,[2,11]),c(Ne,[2,30],{33:60,27:Ae}),c(Ne,[2,32]),{31:[1,61]},c(Ne,[2,12]),{17:62,24:Le},{25:63,27:Re},c(Ne,[2,14]),{17:65,24:Le},c(Ne,[2,16]),c(Ne,[2,17]),c(Me,[2,41]),c(Ne,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},c(Ne,[2,31]),{27:[1,69]},c(Ne,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},c(Ne,[2,15]),c(Ne,[2,26]),c(Ne,[2,27]),{11:59,32:72,37:24,38:oe,39:he,40:27,41:de,42:pe,43:ge,44:me,45:ve,46:be,47:we,48:Te,49:_e,50:Ee},c(Ne,[2,33]),c(Ne,[2,19]),{25:73,27:Re},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function De(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function te(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(De,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=De()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Be={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:case 1:case 5:case 43:break;case 2:case 3:return this.popState(),34;case 4:return 34;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:case 25:case 27:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 26:this.pushState("string");break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};function S(){this.yy={}}return Oe.lexer=Be,o(S,"Parser"),S.prototype=Oe,Oe.Parser=S,new S}()).parser=Uge,qge=Uge});function oO(c){return"bar"===c.type}function dE(c){return"band"===c.type}function Ig(c){return"linear"===c.type}var Hge,Vge,Xge,Kge,efe=M(()=>{o(oO,"isBarPlot"),o(dE,"isBandAxisData"),o(Ig,"isLinearAxisData")}),tfe=M(()=>{pO(),Hge=class{constructor(c){this.parentGroup=c}static{o(this,"TextDimensionCalculatorWithFont")}getMaxDimension(c,q){if(!this.parentGroup)return{width:c.reduce((c,q)=>Math.max(q.length,c),0)*q,height:q};let Y={width:0,height:0},V=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",q);for(let Z of c){let c=gj(V,1,Z),re=c?c.width:Z.length*q,ae=c?c.height:q;Y.width=Math.max(Y.width,re),Y.height=Math.max(Y.height,ae)}return V.remove(),Y}}}),rfe=M(()=>{Vge=class{constructor(c,q,Y,V){this.axisConfig=c,this.title=q,this.textDimensionCalculator=Y,this.axisThemeConfig=V,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{o(this,"BaseAxis")}setRange(c){this.range=c,"left"===this.axisPosition||"right"===this.axisPosition?this.boundingRect.height=c[1]-c[0]:this.boundingRect.width=c[1]-c[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(c){this.axisPosition=c,this.setRange(this.range)}getTickDistance(){let c=this.getRange();return Math.abs(c[0]-c[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(c=>c.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>2*this.outerPadding&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(c){let q=c.height;if(this.axisConfig.showAxisLine&&q>this.axisConfig.axisLineWidth&&(q-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let Y=this.getLabelDimension(),V=.2*c.width;this.outerPadding=Math.min(Y.width/2,V);let Z=Y.height+2*this.axisConfig.labelPadding;this.labelTextHeight=Y.height,Z<=q&&(q-=Z,this.showLabel=!0)}if(this.axisConfig.showTick&&q>=this.axisConfig.tickLength&&(this.showTick=!0,q-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let c=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),Y=c.height+2*this.axisConfig.titlePadding;this.titleTextHeight=c.height,Y<=q&&(q-=Y,this.showTitle=!0)}this.boundingRect.width=c.width,this.boundingRect.height=c.height-q}calculateSpaceIfDrawnVertical(c){let q=c.width;if(this.axisConfig.showAxisLine&&q>this.axisConfig.axisLineWidth&&(q-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let Y=this.getLabelDimension(),V=.2*c.height;this.outerPadding=Math.min(Y.height/2,V);let Z=Y.width+2*this.axisConfig.labelPadding;Z<=q&&(q-=Z,this.showLabel=!0)}if(this.axisConfig.showTick&&q>=this.axisConfig.tickLength&&(this.showTick=!0,q-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let c=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),Y=c.height+2*this.axisConfig.titlePadding;this.titleTextHeight=c.height,Y<=q&&(q-=Y,this.showTitle=!0)}this.boundingRect.width=c.width-q,this.boundingRect.height=c.height}calculateSpace(c){return"left"===this.axisPosition||"right"===this.axisPosition?this.calculateSpaceIfDrawnVertical(c):this.calculateSpaceIfDrawnHorizontally(c),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(c){this.boundingRect.x=c.x,this.boundingRect.y=c.y}getDrawableElementsForLeftAxis(){let c=[];if(this.showAxisLine){let q=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;c.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${q},${this.boundingRect.y} L ${q},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&c.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(c=>({text:c.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(c),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let q=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);c.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(c=>({path:`M ${q},${this.getScaleValue(c)} L ${q-this.axisConfig.tickLength},${this.getScaleValue(c)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&c.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),c}getDrawableElementsForBottomAxis(){let c=[];if(this.showAxisLine){let q=this.boundingRect.y+this.axisConfig.axisLineWidth/2;c.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${q} L ${this.boundingRect.x+this.boundingRect.width},${q}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&c.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(c=>({text:c.toString(),x:this.getScaleValue(c),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let q=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);c.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(c=>({path:`M ${this.getScaleValue(c)},${q} L ${this.getScaleValue(c)},${q+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&c.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),c}getDrawableElementsForTopAxis(){let c=[];if(this.showAxisLine){let q=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;c.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${q} L ${this.boundingRect.x+this.boundingRect.width},${q}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&c.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(c=>({text:c.toString(),x:this.getScaleValue(c),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+2*this.axisConfig.titlePadding:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let q=this.boundingRect.y;c.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(c=>({path:`M ${this.getScaleValue(c)},${q+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(c)},${q+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&c.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),c}getDrawableElements(){if("left"===this.axisPosition)return this.getDrawableElementsForLeftAxis();if("right"===this.axisPosition)throw Error("Drawing of right axis is not implemented");return"bottom"===this.axisPosition?this.getDrawableElementsForBottomAxis():"top"===this.axisPosition?this.getDrawableElementsForTopAxis():[]}}}),ife=M(()=>{U_(),Ae(),rfe(),Xge=class extends Vge{static{o(this,"BandAxis")}constructor(c,q,Y,V,Z){super(c,V,Z,q),this.categories=Y,this.scale=Lp().domain(this.categories).range(this.getRange())}setRange(c){super.setRange(c)}recalculateScale(){this.scale=Lp().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),V.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(c){return this.scale(c)??this.getRange()[0]}}}),afe=M(()=>{U_(),rfe(),Kge=class extends Vge{static{o(this,"LinearAxis")}constructor(c,q,Y,V,Z){super(c,V,Z,q),this.domain=Y,this.scale=bl().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let c=[...this.domain];"left"===this.axisPosition&&c.reverse(),this.scale=bl().domain(c).range(this.getRange())}getScaleValue(c){return this.scale(c)}}});function uO(c,q,Y,V){let Z=new Hge(V);return dE(c)?new Xge(q,Y,c.categories,c.title,Z):new Kge(q,Y,[c.min,c.max],c.title,Z)}var sfe=M(()=>{efe(),tfe(),ife(),afe(),o(uO,"getAxis")});function nfe(c,q,Y,V){let Z=new Hge(V);return new lfe(Z,c,q,Y)}var lfe,cfe,hfe,ufe=M(()=>{tfe(),lfe=class{constructor(c,q,Y,V){this.textDimensionCalculator=c,this.chartConfig=q,this.chartData=Y,this.chartThemeConfig=V,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{o(this,"ChartTitle")}setBoundingBoxXY(c){this.boundingRect.x=c.x,this.boundingRect.y=c.y}calculateSpace(c){let q=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),Y=Math.max(q.width,c.width),V=q.height+2*this.chartConfig.titlePadding;return q.width<=Y&&q.height<=V&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=Y,this.boundingRect.height=V,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let c=[];return this.showChartTitle&&c.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),c}},o(nfe,"getChartTitleComponent")}),vfe=M(()=>{U_(),cfe=class{constructor(c,q,Y,V,Z){this.plotData=c,this.xAxis=q,this.yAxis=Y,this.orientation=V,this.plotIndex=Z}static{o(this,"LinePlot")}getDrawableElement(){let c,q=this.plotData.data.map(c=>[this.xAxis.getScaleValue(c[0]),this.yAxis.getScaleValue(c[1])]);return c="horizontal"===this.orientation?Ka().y(c=>c[0]).x(c=>c[1])(q):Ka().x(c=>c[0]).y(c=>c[1])(q),c?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:c,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}}),xfe=M(()=>{hfe=class{constructor(c,q,Y,V,Z,re){this.barData=c,this.boundingRect=q,this.xAxis=Y,this.yAxis=V,this.orientation=Z,this.plotIndex=re}static{o(this,"BarPlot")}getDrawableElement(){let c=this.barData.data.map(c=>[this.xAxis.getScaleValue(c[0]),this.yAxis.getScaleValue(c[1])]),q=.95*Math.min(2*this.xAxis.getAxisOuterPadding(),this.xAxis.getTickDistance()),Y=q/2;return"horizontal"===this.orientation?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:c.map(c=>({x:this.boundingRect.x,y:c[0]-Y,height:q,width:c[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:c.map(c=>({x:c[0]-Y,y:c[1],width:q,height:this.boundingRect.y+this.boundingRect.height-c[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function ofe(c,q,Y){return new bfe(c,q,Y)}var bfe,wfe,kfe,Tfe=M(()=>{vfe(),xfe(),bfe=class{constructor(c,q,Y){this.chartConfig=c,this.chartData=q,this.chartThemeConfig=Y,this.boundingRect={x:0,y:0,width:0,height:0}}static{o(this,"BasePlot")}setAxes(c,q){this.xAxis=c,this.yAxis=q}setBoundingBoxXY(c){this.boundingRect.x=c.x,this.boundingRect.y=c.y}calculateSpace(c){return this.boundingRect.width=c.width,this.boundingRect.height=c.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!this.xAxis||!this.yAxis)throw Error("Axes must be passed to render Plots");let c=[];for(let[q,Y]of this.chartData.plots.entries())switch(Y.type){case"line":{let V=new cfe(Y,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,q);c.push(...V.getDrawableElement())}break;case"bar":{let V=new hfe(Y,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,q);c.push(...V.getDrawableElement())}}return c}},o(ofe,"getPlotComponent")}),_fe=M(()=>{sfe(),ufe(),Tfe(),efe(),wfe=class{constructor(c,q,Y,V){this.chartConfig=c,this.chartData=q,this.componentStore={title:nfe(c,q,Y,V),plot:ofe(c,q,Y),xAxis:uO(q.xAxis,c.xAxis,{titleColor:Y.xAxisTitleColor,labelColor:Y.xAxisLabelColor,tickColor:Y.xAxisTickColor,axisLineColor:Y.xAxisLineColor},V),yAxis:uO(q.yAxis,c.yAxis,{titleColor:Y.yAxisTitleColor,labelColor:Y.yAxisLabelColor,tickColor:Y.yAxisTickColor,axisLineColor:Y.yAxisLineColor},V)}}static{o(this,"Orchestrator")}calculateVerticalSpace(){let c=this.chartConfig.width,q=this.chartConfig.height,Y=0,V=0,Z=Math.floor(c*this.chartConfig.plotReservedSpacePercent/100),re=Math.floor(q*this.chartConfig.plotReservedSpacePercent/100),ae=this.componentStore.plot.calculateSpace({width:Z,height:re});c-=ae.width,q-=ae.height,ae=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:q}),V=ae.height,q-=ae.height,this.componentStore.xAxis.setAxisPosition("bottom"),ae=this.componentStore.xAxis.calculateSpace({width:c,height:q}),q-=ae.height,this.componentStore.yAxis.setAxisPosition("left"),ae=this.componentStore.yAxis.calculateSpace({width:c,height:q}),Y=ae.width,c-=ae.width,c>0&&(Z+=c,c=0),q>0&&(re+=q,q=0),this.componentStore.plot.calculateSpace({width:Z,height:re}),this.componentStore.plot.setBoundingBoxXY({x:Y,y:V}),this.componentStore.xAxis.setRange([Y,Y+Z]),this.componentStore.xAxis.setBoundingBoxXY({x:Y,y:V+re}),this.componentStore.yAxis.setRange([V,V+re]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:V}),this.chartData.plots.some(c=>oO(c))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let c=this.chartConfig.width,q=this.chartConfig.height,Y=0,V=0,Z=0,re=Math.floor(c*this.chartConfig.plotReservedSpacePercent/100),ae=Math.floor(q*this.chartConfig.plotReservedSpacePercent/100),se=this.componentStore.plot.calculateSpace({width:re,height:ae});c-=se.width,q-=se.height,se=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:q}),Y=se.height,q-=se.height,this.componentStore.xAxis.setAxisPosition("left"),se=this.componentStore.xAxis.calculateSpace({width:c,height:q}),c-=se.width,V=se.width,this.componentStore.yAxis.setAxisPosition("top"),se=this.componentStore.yAxis.calculateSpace({width:c,height:q}),q-=se.height,Z=Y+se.height,c>0&&(re+=c,c=0),q>0&&(ae+=q,q=0),this.componentStore.plot.calculateSpace({width:re,height:ae}),this.componentStore.plot.setBoundingBoxXY({x:V,y:Z}),this.componentStore.yAxis.setRange([V,V+re]),this.componentStore.yAxis.setBoundingBoxXY({x:V,y:Y}),this.componentStore.xAxis.setRange([Z,Z+ae]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:Z}),this.chartData.plots.some(c=>oO(c))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){"horizontal"===this.chartConfig.chartOrientation?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let c=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let q of Object.values(this.componentStore))c.push(...q.getDrawableElements());return c}}}),Efe=M(()=>{_fe(),kfe=class{static{o(this,"XYChartBuilder")}static build(c,q,Y,V){return new wfe(c,q,Y,V).getDrawableElement()}}});function ffe(){let c=jr(),q=bn();return ws(c.xyChart,q.themeVariables.xyChart)}function dfe(){let c=bn();return ws(nn.xyChart,c.xyChart)}function pfe(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function mO(c){let q=bn();return Md(c.trim(),q)}function ZVe(c){Sfe=c}function JVe(c){Afe.chartOrientation="horizontal"===c?"horizontal":"vertical"}function eUe(c){Nfe.xAxis.title=mO(c.text)}function mfe(c,q){Nfe.xAxis={type:"linear",title:Nfe.xAxis.title,min:c,max:q},Mfe=!0}function tUe(c){Nfe.xAxis={type:"band",title:Nfe.xAxis.title,categories:c.map(c=>mO(c.text))},Mfe=!0}function rUe(c){Nfe.yAxis.title=mO(c.text)}function nUe(c,q){Nfe.yAxis={type:"linear",title:Nfe.yAxis.title,min:c,max:q},Rfe=!0}function iUe(c){let q=Math.min(...c),Y=Math.max(...c),V=Ig(Nfe.yAxis)?Nfe.yAxis.min:1/0,Z=Ig(Nfe.yAxis)?Nfe.yAxis.max:-1/0;Nfe.yAxis={type:"linear",title:Nfe.yAxis.title,min:Math.min(V,q),max:Math.max(Z,Y)}}function gfe(c){let q=[];if(0===c.length)return q;if(!Mfe){let q=Ig(Nfe.xAxis)?Nfe.xAxis.min:1/0,Y=Ig(Nfe.xAxis)?Nfe.xAxis.max:-1/0;mfe(Math.min(q,1),Math.max(Y,c.length))}if(Rfe||iUe(c),dE(Nfe.xAxis)&&(q=Nfe.xAxis.categories.map((q,Y)=>[q,c[Y]])),Ig(Nfe.xAxis)){let Y=Nfe.xAxis.min,V=Nfe.xAxis.max,Z=(V-Y)/(c.length-1),re=[];for(let c=Y;c<=V;c+=Z)re.push(`${c}`);q=re.map((q,Y)=>[q,c[Y]])}return q}function yfe(c){return Ife[0===c?0:c%Ife.length]}function aUe(c,q){let Y=gfe(q);Nfe.plots.push({type:"line",strokeFill:yfe(Cfe),strokeWidth:2,data:Y}),Cfe++}function sUe(c,q){let Y=gfe(q);Nfe.plots.push({type:"bar",fill:yfe(Cfe),data:Y}),Cfe++}function oUe(){if(0===Nfe.plots.length)throw Error("No Plot to render, please provide a plot with some data");return Nfe.title=Wp(),kfe.build(Afe,Nfe,Lfe,Sfe)}function lUe(){return Lfe}function cUe(){return Afe}var Cfe,Sfe,Afe,Lfe,Nfe,Ife,Mfe,Rfe,Dfe,Ofe,Pfe,Bfe,Ffe=M(()=>{ki(),bi(),fi(),yM(),bp(),cf(),Efe(),efe(),Cfe=0,Afe=dfe(),Lfe=ffe(),Nfe={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},Ife=Lfe.plotColorPalette.split(",").map(c=>c.trim()),Mfe=!1,Rfe=!1,o(ffe,"getChartDefaultThemeConfig"),o(dfe,"getChartDefaultConfig"),o(pfe,"getChartDefaultData"),o(mO,"textSanitizer"),o(ZVe,"setTmpSVGG"),o(JVe,"setOrientation"),o(eUe,"setXAxisTitle"),o(mfe,"setXAxisRangeData"),o(tUe,"setXAxisBand"),o(rUe,"setYAxisTitle"),o(nUe,"setYAxisRangeData"),o(iUe,"setYAxisRangeFromPlotData"),o(gfe,"transformDataWithoutCategory"),o(yfe,"getPlotColorFromPalette"),o(aUe,"setLineData"),o(sUe,"setBarData"),o(oUe,"getDrawableElem"),o(lUe,"getChartThemeConfig"),o(cUe,"getChartConfig"),Dfe=o(function(){Mp(),Cfe=0,Afe=dfe(),Nfe={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},Lfe=ffe(),Ife=Lfe.plotColorPalette.split(",").map(c=>c.trim()),Mfe=!1,Rfe=!1},"clear"),Ofe={getDrawableElem:oUe,clear:Dfe,setAccTitle:Rp,getAccTitle:Fp,setDiagramTitle:Yp,getDiagramTitle:Wp,getAccDescription:jp,setAccDescription:qp,setOrientation:JVe,setXAxisTitle:eUe,setXAxisRangeData:mfe,setXAxisBand:tUe,setYAxisTitle:rUe,setYAxisRangeData:nUe,setLineData:aUe,setBarData:sUe,setTmpSVGG:ZVe,getChartThemeConfig:lUe,getChartConfig:cUe}}),$fe=M(()=>{Ae(),jpe(),kp(),Pfe=o((c,q,Y,Z)=>{let re=Z.db,ae=re.getChartThemeConfig(),se=re.getChartConfig();function l(c){return"top"===c?"text-before-edge":"middle"}function u(c){return"left"===c?"start":"right"===c?"end":"middle"}function h(c){return`translate(${c.x}, ${c.y}) rotate(${c.rotation||0})`}o(l,"getDominantBaseLine"),o(u,"getTextAnchor"),o(h,"getTextTransformation"),V.debug("Rendering xychart chart\n"+c);let oe=Bpe(q),he=oe.append("g").attr("class","main"),de=he.append("rect").attr("width",se.width).attr("height",se.height).attr("class","background");hp(oe,se.height,se.width,!0),oe.attr("viewBox",`0 0 ${se.width} ${se.height}`),de.attr("fill",ae.backgroundColor),re.setTmpSVGG(oe.append("g").attr("class","mermaid-tmp-group"));let pe=re.getDrawableElem(),ge={};function y(c){let q=he,Y="";for(let[V]of c.entries()){let Z=he;V>0&&ge[Y]&&(Z=ge[Y]),Y+=c[V],q=ge[Y],q||(q=ge[Y]=Z.append("g").attr("class",c[V]))}return q}o(y,"getGroup");for(let c of pe){if(0===c.data.length)continue;let q=y(c.groupTexts);switch(c.type){case"rect":q.selectAll("rect").data(c.data).enter().append("rect").attr("x",c=>c.x).attr("y",c=>c.y).attr("width",c=>c.width).attr("height",c=>c.height).attr("fill",c=>c.fill).attr("stroke",c=>c.strokeFill).attr("stroke-width",c=>c.strokeWidth);break;case"text":q.selectAll("text").data(c.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",c=>c.fill).attr("font-size",c=>c.fontSize).attr("dominant-baseline",c=>l(c.verticalPos)).attr("text-anchor",c=>u(c.horizontalPos)).attr("transform",c=>h(c)).text(c=>c.text);break;case"path":q.selectAll("path").data(c.data).enter().append("path").attr("d",c=>c.path).attr("fill",c=>c.fill?c.fill:"none").attr("stroke",c=>c.strokeFill).attr("stroke-width",c=>c.strokeWidth)}}},"draw"),Bfe={draw:Pfe}}),zfe={};vr(zfe,{diagram:()=>Gfe});var Gfe,Ufe,qfe,Yfe,Wfe,Hfe,Vfe,Xfe,Kfe,Qfe,Zfe,Jfe,eme,tme,rme,nme,ime,ame,sme,ome,lme,cme,hme,ume,dme,gme,fme,mme,yme,_me,Eme,Cme,Sme,Ame,Lme,Nme,Ime,Mme,Rme,Dme,Ome,Pme,Bme,Fme,$me,zme=M(()=>{Wge(),Ffe(),$fe(),Gfe={parser:qge,db:Ofe,renderer:Bfe}}),qme=M(()=>{(Ufe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,3],Y=[1,4],V=[1,5],Z=[1,6],re=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],ae=[1,18],se=[2,7],oe=[1,22],he=[1,23],de=[1,24],pe=[1,25],ge=[1,26],me=[1,27],ve=[1,20],be=[1,28],we=[1,29],Te=[62,63],_e=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],Ee=[1,47],Ce=[1,48],Se=[1,49],Ae=[1,50],Le=[1,51],Ne=[1,52],Ie=[1,53],Me=[53,54],Re=[1,64],Oe=[1,60],Be=[1,61],$e=[1,62],Ue=[1,63],qe=[1,65],je=[1,69],We=[1,70],He=[1,67],Ve=[1,68],Ke=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],Qe={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 4:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 5:case 6:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:V.addRequirement(re[se-3],re[se-4]);break;case 14:V.setNewReqId(re[se-2]);break;case 15:V.setNewReqText(re[se-2]);break;case 16:V.setNewReqRisk(re[se-2]);break;case 17:V.setNewReqVerifyMethod(re[se-2]);break;case 20:this.$=V.RequirementType.REQUIREMENT;break;case 21:this.$=V.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=V.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=V.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=V.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=V.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=V.RiskLevel.LOW_RISK;break;case 27:this.$=V.RiskLevel.MED_RISK;break;case 28:this.$=V.RiskLevel.HIGH_RISK;break;case 29:this.$=V.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=V.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=V.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=V.VerifyType.VERIFY_TEST;break;case 33:V.addElement(re[se-3]);break;case 34:V.setNewElementType(re[se-2]);break;case 35:V.setNewElementDocRef(re[se-2]);break;case 38:V.addRelationship(re[se-2],re[se],re[se-4]);break;case 39:V.addRelationship(re[se-2],re[se-4],re[se]);break;case 40:this.$=V.Relationships.CONTAINS;break;case 41:this.$=V.Relationships.COPIES;break;case 42:this.$=V.Relationships.DERIVES;break;case 43:this.$=V.Relationships.SATISFIES;break;case 44:this.$=V.Relationships.VERIFIES;break;case 45:this.$=V.Relationships.REFINES;break;case 46:this.$=V.Relationships.TRACES}},"anonymous"),table:[{3:1,4:2,6:q,9:Y,11:V,13:Z},{1:[3]},{3:8,4:2,5:[1,7],6:q,9:Y,11:V,13:Z},{5:[1,9]},{10:[1,10]},{12:[1,11]},c(re,[2,6]),{3:12,4:2,6:q,9:Y,11:V,13:Z},{1:[2,2]},{4:17,5:ae,7:13,8:se,9:Y,11:V,13:Z,14:14,15:15,16:16,17:19,23:21,31:oe,32:he,33:de,34:pe,35:ge,36:me,44:ve,62:be,63:we},c(re,[2,4]),c(re,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:ae,7:31,8:se,9:Y,11:V,13:Z,14:14,15:15,16:16,17:19,23:21,31:oe,32:he,33:de,34:pe,35:ge,36:me,44:ve,62:be,63:we},{4:17,5:ae,7:32,8:se,9:Y,11:V,13:Z,14:14,15:15,16:16,17:19,23:21,31:oe,32:he,33:de,34:pe,35:ge,36:me,44:ve,62:be,63:we},{4:17,5:ae,7:33,8:se,9:Y,11:V,13:Z,14:14,15:15,16:16,17:19,23:21,31:oe,32:he,33:de,34:pe,35:ge,36:me,44:ve,62:be,63:we},{4:17,5:ae,7:34,8:se,9:Y,11:V,13:Z,14:14,15:15,16:16,17:19,23:21,31:oe,32:he,33:de,34:pe,35:ge,36:me,44:ve,62:be,63:we},{4:17,5:ae,7:35,8:se,9:Y,11:V,13:Z,14:14,15:15,16:16,17:19,23:21,31:oe,32:he,33:de,34:pe,35:ge,36:me,44:ve,62:be,63:we},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},c(Te,[2,20]),c(Te,[2,21]),c(Te,[2,22]),c(Te,[2,23]),c(Te,[2,24]),c(Te,[2,25]),c(_e,[2,49]),c(_e,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:Ee,56:Ce,57:Se,58:Ae,59:Le,60:Ne,61:Ie},{52:54,55:Ee,56:Ce,57:Se,58:Ae,59:Le,60:Ne,61:Ie},{5:[1,55]},{5:[1,56]},{53:[1,57]},c(Me,[2,40]),c(Me,[2,41]),c(Me,[2,42]),c(Me,[2,43]),c(Me,[2,44]),c(Me,[2,45]),c(Me,[2,46]),{54:[1,58]},{5:Re,20:59,21:Oe,24:Be,26:$e,28:Ue,30:qe},{5:je,30:We,46:66,47:He,49:Ve},{23:71,62:be,63:we},{23:72,62:be,63:we},c(Ke,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:Re,20:77,21:Oe,24:Be,26:$e,28:Ue,30:qe},c(Ke,[2,19]),c(Ke,[2,33]),{22:[1,78]},{22:[1,79]},{5:je,30:We,46:80,47:He,49:Ve},c(Ke,[2,37]),c(Ke,[2,38]),c(Ke,[2,39]),{23:81,62:be,63:we},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},c(Ke,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},c(Ke,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:Re,20:106,21:Oe,24:Be,26:$e,28:Ue,30:qe},{5:Re,20:107,21:Oe,24:Be,26:$e,28:Ue,30:qe},{5:Re,20:108,21:Oe,24:Be,26:$e,28:Ue,30:qe},{5:Re,20:109,21:Oe,24:Be,26:$e,28:Ue,30:qe},{5:je,30:We,46:110,47:He,49:Ve},{5:je,30:We,46:111,47:He,49:Ve},c(Ke,[2,14]),c(Ke,[2,15]),c(Ke,[2,16]),c(Ke,[2,17]),c(Ke,[2,34]),c(Ke,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function fe(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function X(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(fe,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=fe()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Ze={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 48:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:case 10:case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 49:return"qString";case 50:return q.yytext=q.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};function K(){this.yy={}}return Qe.lexer=Ze,o(K,"Parser"),K.prototype=Qe,Qe.Parser=K,new K}()).parser=Ufe,qfe=Ufe}),jme=M(()=>{hf(),Ae(),cf(),Yfe=[],Wfe={},Hfe=new Map,Vfe={},Xfe=new Map,Kfe={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},Qfe={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},Zfe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Jfe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},eme=o((c,q)=>(Hfe.has(c)||Hfe.set(c,{name:c,type:q,id:Wfe.id,text:Wfe.text,risk:Wfe.risk,verifyMethod:Wfe.verifyMethod}),Wfe={},Hfe.get(c)),"addRequirement"),tme=o(()=>Hfe,"getRequirements"),rme=o(c=>{void 0!==Wfe&&(Wfe.id=c)},"setNewReqId"),nme=o(c=>{void 0!==Wfe&&(Wfe.text=c)},"setNewReqText"),ime=o(c=>{void 0!==Wfe&&(Wfe.risk=c)},"setNewReqRisk"),ame=o(c=>{void 0!==Wfe&&(Wfe.verifyMethod=c)},"setNewReqVerifyMethod"),sme=o(c=>(Xfe.has(c)||(Xfe.set(c,{name:c,type:Vfe.type,docRef:Vfe.docRef}),V.info("Added new requirement: ",c)),Vfe={},Xfe.get(c)),"addElement"),ome=o(()=>Xfe,"getElements"),lme=o(c=>{void 0!==Vfe&&(Vfe.type=c)},"setNewElementType"),cme=o(c=>{void 0!==Vfe&&(Vfe.docRef=c)},"setNewElementDocRef"),hme=o((c,q,Y)=>{Yfe.push({type:c,src:q,dst:Y})},"addRelationship"),ume=o(()=>Yfe,"getRelationships"),dme=o(()=>{Yfe=[],Wfe={},Hfe=new Map,Vfe={},Xfe=new Map,Mp()},"clear"),gme={RequirementType:Kfe,RiskLevel:Qfe,VerifyType:Zfe,Relationships:Jfe,getConfig:o(()=>Xp().req,"getConfig"),addRequirement:eme,getRequirements:tme,setNewReqId:rme,setNewReqText:nme,setNewReqRisk:ime,setNewReqVerifyMethod:ame,setAccTitle:Rp,getAccTitle:Fp,setAccDescription:qp,getAccDescription:jp,addElement:sme,getElements:ome,setNewElementType:lme,setNewElementDocRef:cme,addRelationship:hme,getRelationships:ume,clear:dme}}),Vme=M(()=>{fme=o(c=>`\n\n  marker {\n    fill: ${c.relationColor};\n    stroke: ${c.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${c.lineColor};\n  }\n\n  svg {\n    font-family: ${c.fontFamily};\n    font-size: ${c.fontSize};\n  }\n\n  .reqBox {\n    fill: ${c.requirementBackground};\n    fill-opacity: 1.0;\n    stroke: ${c.requirementBorderColor};\n    stroke-width: ${c.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${c.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${c.relationLabelBackground};\n    fill-opacity: 1.0;\n  }\n\n  .req-title-line {\n    stroke: ${c.requirementBorderColor};\n    stroke-width: ${c.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${c.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${c.relationLabelColor};\n  }\n\n`,"getStyles"),mme=fme}),Xme=M(()=>{yme={CONTAINS:"contains",ARROW:"arrow"},_me=o((c,q)=>{let Y=c.append("defs").append("marker").attr("id",yme.CONTAINS+"_line_ending").attr("refX",0).attr("refY",q.line_height/2).attr("markerWidth",q.line_height).attr("markerHeight",q.line_height).attr("orient","auto").append("g");Y.append("circle").attr("cx",q.line_height/2).attr("cy",q.line_height/2).attr("r",q.line_height/2).attr("fill","none"),Y.append("line").attr("x1",0).attr("x2",q.line_height).attr("y1",q.line_height/2).attr("y2",q.line_height/2).attr("stroke-width",1),Y.append("line").attr("y1",0).attr("y2",q.line_height).attr("x1",q.line_height/2).attr("x2",q.line_height/2).attr("stroke-width",1),c.append("defs").append("marker").attr("id",yme.ARROW+"_line_ending").attr("refX",q.line_height).attr("refY",.5*q.line_height).attr("markerWidth",q.line_height).attr("markerHeight",q.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${q.line_height},${q.line_height/2}\n      M${q.line_height},${q.line_height/2}\n      L0,${q.line_height}`).attr("stroke-width",1)},"insertLineEndings"),Eme={ReqMarkers:yme,insertLineEndings:_me}}),Kme=M(()=>{U_(),E2(),u1(),hf(),Ae(),kp(),bp(),Xme(),Cme={},Sme=0,Ame=o((c,q)=>c.insert("rect","#"+q).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Cme.rect_min_width+"px").attr("height",Cme.rect_min_height+"px"),"newRectNode"),Lme=o((c,q,Y)=>{let V=Cme.rect_min_width/2,Z=c.append("text").attr("class","req reqLabel reqTitle").attr("id",q).attr("x",V).attr("y",Cme.rect_padding).attr("dominant-baseline","hanging"),re=0;Y.forEach(c=>{0==re?Z.append("tspan").attr("text-anchor","middle").attr("x",Cme.rect_min_width/2).attr("dy",0).text(c):Z.append("tspan").attr("text-anchor","middle").attr("x",Cme.rect_min_width/2).attr("dy",.75*Cme.line_height).text(c),re++});let ae=1.5*Cme.rect_padding+re*Cme.line_height*.75;return c.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Cme.rect_min_width).attr("y1",ae).attr("y2",ae),{titleNode:Z,y:ae}},"newTitleNode"),Nme=o((c,q,Y,V)=>{let Z=c.append("text").attr("class","req reqLabel").attr("id",q).attr("x",Cme.rect_padding).attr("y",V).attr("dominant-baseline","hanging"),re=0,ae=[];return Y.forEach(c=>{let q=c.length;for(;q>30&&re<3;){let Y=c.substring(0,30);q=(c=c.substring(30,c.length)).length,ae[ae.length]=Y,re++}if(3==re){let c=ae[ae.length-1];ae[ae.length-1]=c.substring(0,c.length-4)+"..."}else ae[ae.length]=c;re=0}),ae.forEach(c=>{Z.append("tspan").attr("x",Cme.rect_padding).attr("dy",Cme.line_height).text(c)}),Z},"newBodyNode"),Ime=o((c,q,Y,V)=>{let Z=q.node().getTotalLength(),re=q.node().getPointAtLength(.5*Z),ae="rel"+Sme;Sme++;let se=c.append("text").attr("class","req relationshipLabel").attr("id",ae).attr("x",re.x).attr("y",re.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(V).node().getBBox();c.insert("rect","#"+ae).attr("class","req reqLabelBox").attr("x",re.x-se.width/2).attr("y",re.y-se.height/2).attr("width",se.width).attr("height",se.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),Mme=o(function(c,q,Y,V,Z){let re=Y.edge(Bme(q.src),Bme(q.dst)),ae=Ka().x(function(c){return c.x}).y(function(c){return c.y}),se=c.insert("path","#"+V).attr("class","er relationshipLine").attr("d",ae(re.points)).attr("fill","none");q.type==Z.db.Relationships.CONTAINS?se.attr("marker-start","url("+op.getUrl(Cme.arrowMarkerAbsolute)+"#"+q.type+"_line_ending)"):(se.attr("stroke-dasharray","10,7"),se.attr("marker-end","url("+op.getUrl(Cme.arrowMarkerAbsolute)+"#"+Eme.ReqMarkers.ARROW+"_line_ending)")),Ime(c,se,Cme,`<<${q.type}>>`)},"drawRelationshipFromLayout"),Rme=o((c,q,Y)=>{c.forEach((c,Z)=>{Z=Bme(Z),V.info("Added new requirement: ",Z);let re=Y.append("g").attr("id",Z),ae=Ame(re,"req-"+Z),se=[],oe=Lme(re,Z+"_title",[`<<${c.type}>>`,`${c.name}`]);se.push(oe.titleNode);let he=Nme(re,Z+"_body",[`Id: ${c.id}`,`Text: ${c.text}`,`Risk: ${c.risk}`,`Verification: ${c.verifyMethod}`],oe.y);se.push(he);let de=ae.node().getBBox();q.setNode(Z,{width:de.width,height:de.height,shape:"rect",id:Z})})},"drawReqs"),Dme=o((c,q,Y)=>{c.forEach((c,V)=>{let Z=Bme(V),re=Y.append("g").attr("id",Z),ae="element-"+Z,se=Ame(re,ae),oe=[],he=Lme(re,ae+"_title",["<<Element>>",`${V}`]);oe.push(he.titleNode);let de=Nme(re,ae+"_body",[`Type: ${c.type||"Not Specified"}`,`Doc Ref: ${c.docRef||"None"}`],he.y);oe.push(de);let pe=se.node().getBBox();q.setNode(Z,{width:pe.width,height:pe.height,shape:"rect",id:Z})})},"drawElements"),Ome=o((c,q)=>(c.forEach(function(c){let Y=Bme(c.src),V=Bme(c.dst);q.setEdge(Y,V,{relationship:c})}),c),"addRelationships"),Pme=o(function(c,q){q.nodes().forEach(function(Y){void 0!==Y&&void 0!==q.node(Y)&&(c.select("#"+Y),c.select("#"+Y).attr("transform","translate("+(q.node(Y).x-q.node(Y).width/2)+","+(q.node(Y).y-q.node(Y).height/2)+" )"))})},"adjustEntities"),Bme=o(c=>c.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),Fme=o((c,q,Y,V)=>{let Z,re=(Cme=Xp().requirement).securityLevel;"sandbox"===re&&(Z=ze("#i"+q));let ae=ze("sandbox"===re?Z.nodes()[0].contentDocument.body:"body").select(`[id='${q}']`);Eme.insertLineEndings(ae,Cme);let se=new c1({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Cme.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),oe=V.db.getRequirements(),he=V.db.getElements(),de=V.db.getRelationships();Rme(oe,se,ae),Dme(he,se,ae),Ome(de,se),Du(se),Pme(ae,se),de.forEach(function(c){Mme(ae,c,se,q,V)});let pe=Cme.rect_padding,ge=ae.node().getBBox(),me=ge.width+2*pe,ve=ge.height+2*pe;hp(ae,ve,me,Cme.useMaxWidth),ae.attr("viewBox",`${ge.x-pe} ${ge.y-pe} ${me} ${ve}`)},"draw"),$me={draw:Fme}}),Qme={};vr(Qme,{diagram:()=>Zme});var Zme,Jme,eye,tye=M(()=>{qme(),jme(),Vme(),Kme(),Zme={parser:qfe,db:gme,renderer:$me,styles:mme}}),rye=M(()=>{(Jme=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,2],Y=[1,3],V=[1,4],Z=[2,4],re=[1,9],ae=[1,11],se=[1,13],oe=[1,14],he=[1,16],de=[1,17],pe=[1,18],ge=[1,24],me=[1,25],ve=[1,26],be=[1,27],we=[1,28],Te=[1,29],_e=[1,30],Ee=[1,31],Ce=[1,32],Se=[1,33],Ae=[1,34],Le=[1,35],Ne=[1,36],Ie=[1,37],Me=[1,38],Re=[1,39],Oe=[1,41],Be=[1,42],$e=[1,43],Ue=[1,44],qe=[1,45],je=[1,46],We=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],He=[4,5,16,50,52,53],Ve=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],Ke=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],Qe=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],Ze=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],Je=[68,69,70],et=[1,122],tt={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 3:return V.apply(re[se]),re[se];case 4:case 9:case 8:case 13:this.$=[];break;case 5:case 10:re[se-1].push(re[se]),this.$=re[se-1];break;case 6:case 7:case 11:case 12:case 62:this.$=re[se];break;case 15:re[se].type="createParticipant",this.$=re[se];break;case 16:re[se-1].unshift({type:"boxStart",boxData:V.parseBoxData(re[se-2])}),re[se-1].push({type:"boxEnd",boxText:re[se-2]}),this.$=re[se-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(re[se-2]),sequenceIndexStep:Number(re[se-1]),sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(re[se-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:V.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:V.LINETYPE.ACTIVE_START,actor:re[se-1].actor};break;case 23:this.$={type:"activeEnd",signalType:V.LINETYPE.ACTIVE_END,actor:re[se-1].actor};break;case 29:V.setDiagramTitle(re[se].substring(6)),this.$=re[se].substring(6);break;case 30:V.setDiagramTitle(re[se].substring(7)),this.$=re[se].substring(7);break;case 31:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 32:case 33:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 34:re[se-1].unshift({type:"loopStart",loopText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.LOOP_START}),re[se-1].push({type:"loopEnd",loopText:re[se-2],signalType:V.LINETYPE.LOOP_END}),this.$=re[se-1];break;case 35:re[se-1].unshift({type:"rectStart",color:V.parseMessage(re[se-2]),signalType:V.LINETYPE.RECT_START}),re[se-1].push({type:"rectEnd",color:V.parseMessage(re[se-2]),signalType:V.LINETYPE.RECT_END}),this.$=re[se-1];break;case 36:re[se-1].unshift({type:"optStart",optText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.OPT_START}),re[se-1].push({type:"optEnd",optText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.OPT_END}),this.$=re[se-1];break;case 37:re[se-1].unshift({type:"altStart",altText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.ALT_START}),re[se-1].push({type:"altEnd",signalType:V.LINETYPE.ALT_END}),this.$=re[se-1];break;case 38:re[se-1].unshift({type:"parStart",parText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.PAR_START}),re[se-1].push({type:"parEnd",signalType:V.LINETYPE.PAR_END}),this.$=re[se-1];break;case 39:re[se-1].unshift({type:"parStart",parText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.PAR_OVER_START}),re[se-1].push({type:"parEnd",signalType:V.LINETYPE.PAR_END}),this.$=re[se-1];break;case 40:re[se-1].unshift({type:"criticalStart",criticalText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.CRITICAL_START}),re[se-1].push({type:"criticalEnd",signalType:V.LINETYPE.CRITICAL_END}),this.$=re[se-1];break;case 41:re[se-1].unshift({type:"breakStart",breakText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.BREAK_START}),re[se-1].push({type:"breakEnd",optText:V.parseMessage(re[se-2]),signalType:V.LINETYPE.BREAK_END}),this.$=re[se-1];break;case 43:this.$=re[se-3].concat([{type:"option",optionText:V.parseMessage(re[se-1]),signalType:V.LINETYPE.CRITICAL_OPTION},re[se]]);break;case 45:this.$=re[se-3].concat([{type:"and",parText:V.parseMessage(re[se-1]),signalType:V.LINETYPE.PAR_AND},re[se]]);break;case 47:this.$=re[se-3].concat([{type:"else",altText:V.parseMessage(re[se-1]),signalType:V.LINETYPE.ALT_ELSE},re[se]]);break;case 48:re[se-3].draw="participant",re[se-3].type="addParticipant",re[se-3].description=V.parseMessage(re[se-1]),this.$=re[se-3];break;case 49:re[se-1].draw="participant",re[se-1].type="addParticipant",this.$=re[se-1];break;case 50:re[se-3].draw="actor",re[se-3].type="addParticipant",re[se-3].description=V.parseMessage(re[se-1]),this.$=re[se-3];break;case 51:re[se-1].draw="actor",re[se-1].type="addParticipant",this.$=re[se-1];break;case 52:re[se-1].type="destroyParticipant",this.$=re[se-1];break;case 53:this.$=[re[se-1],{type:"addNote",placement:re[se-2],actor:re[se-1].actor,text:re[se]}];break;case 54:re[se-2]=[].concat(re[se-1],re[se-1]).slice(0,2),re[se-2][0]=re[se-2][0].actor,re[se-2][1]=re[se-2][1].actor,this.$=[re[se-1],{type:"addNote",placement:V.PLACEMENT.OVER,actor:re[se-2].slice(0,2),text:re[se]}];break;case 55:this.$=[re[se-1],{type:"addLinks",actor:re[se-1].actor,text:re[se]}];break;case 56:this.$=[re[se-1],{type:"addALink",actor:re[se-1].actor,text:re[se]}];break;case 57:this.$=[re[se-1],{type:"addProperties",actor:re[se-1].actor,text:re[se]}];break;case 58:this.$=[re[se-1],{type:"addDetails",actor:re[se-1].actor,text:re[se]}];break;case 61:this.$=[re[se-2],re[se]];break;case 63:this.$=V.PLACEMENT.LEFTOF;break;case 64:this.$=V.PLACEMENT.RIGHTOF;break;case 65:this.$=[re[se-4],re[se-1],{type:"addMessage",from:re[se-4].actor,to:re[se-1].actor,signalType:re[se-3],msg:re[se],activate:!0},{type:"activeStart",signalType:V.LINETYPE.ACTIVE_START,actor:re[se-1].actor}];break;case 66:this.$=[re[se-4],re[se-1],{type:"addMessage",from:re[se-4].actor,to:re[se-1].actor,signalType:re[se-3],msg:re[se]},{type:"activeEnd",signalType:V.LINETYPE.ACTIVE_END,actor:re[se-4].actor}];break;case 67:this.$=[re[se-3],re[se-1],{type:"addMessage",from:re[se-3].actor,to:re[se-1].actor,signalType:re[se-2],msg:re[se]}];break;case 68:this.$={type:"addParticipant",actor:re[se]};break;case 69:this.$=V.LINETYPE.SOLID_OPEN;break;case 70:this.$=V.LINETYPE.DOTTED_OPEN;break;case 71:this.$=V.LINETYPE.SOLID;break;case 72:this.$=V.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=V.LINETYPE.DOTTED;break;case 74:this.$=V.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=V.LINETYPE.SOLID_CROSS;break;case 76:this.$=V.LINETYPE.DOTTED_CROSS;break;case 77:this.$=V.LINETYPE.SOLID_POINT;break;case 78:this.$=V.LINETYPE.DOTTED_POINT;break;case 79:this.$=V.parseMessage(re[se].trim().substring(1))}},"anonymous"),table:[{3:1,4:q,5:Y,6:V},{1:[3]},{3:5,4:q,5:Y,6:V},{3:6,4:q,5:Y,6:V},c([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],Z,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},c(We,[2,5]),{9:47,12:12,13:se,14:oe,17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},c(We,[2,7]),c(We,[2,8]),c(We,[2,14]),{12:48,50:Ie,52:Me,53:Re},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:je},{22:55,70:je},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},c(We,[2,29]),c(We,[2,30]),{32:[1,61]},{34:[1,62]},c(We,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:je},{22:72,70:je},{22:73,70:je},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:je},{22:90,70:je},{22:91,70:je},{22:92,70:je},c([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),c(We,[2,6]),c(We,[2,15]),c(He,[2,9],{10:93}),c(We,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},c(We,[2,21]),{5:[1,97]},{5:[1,98]},c(We,[2,24]),c(We,[2,25]),c(We,[2,26]),c(We,[2,27]),c(We,[2,28]),c(We,[2,31]),c(We,[2,32]),c(Ve,Z,{7:99}),c(Ve,Z,{7:100}),c(Ve,Z,{7:101}),c(Ke,Z,{40:102,7:103}),c(Qe,Z,{42:104,7:105}),c(Qe,Z,{7:105,42:106}),c(Ze,Z,{45:107,7:108}),c(Ve,Z,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:je},c(Je,[2,69]),c(Je,[2,70]),c(Je,[2,71]),c(Je,[2,72]),c(Je,[2,73]),c(Je,[2,74]),c(Je,[2,75]),c(Je,[2,76]),c(Je,[2,77]),c(Je,[2,78]),{22:118,70:je},{22:120,58:119,70:je},{70:[2,63]},{70:[2,64]},{56:121,81:et},{56:123,81:et},{56:124,81:et},{56:125,81:et},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:Ie,52:Me,53:Re},{5:[1,131]},c(We,[2,19]),c(We,[2,20]),c(We,[2,22]),c(We,[2,23]),{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[1,132],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[1,133],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[1,134],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{16:[1,135]},{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[2,46],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,49:[1,136],50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{16:[1,137]},{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[2,44],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,48:[1,138],50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{16:[1,139]},{16:[1,140]},{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[2,42],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,47:[1,141],50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{4:re,5:ae,8:8,9:10,12:12,13:se,14:oe,16:[1,142],17:15,18:he,21:de,22:40,23:pe,24:19,25:20,26:21,27:22,28:23,29:ge,30:me,31:ve,33:be,35:we,36:Te,37:_e,38:Ee,39:Ce,41:Se,43:Ae,44:Le,46:Ne,50:Ie,52:Me,53:Re,54:Oe,59:Be,60:$e,61:Ue,62:qe,70:je},{15:[1,143]},c(We,[2,49]),{15:[1,144]},c(We,[2,51]),c(We,[2,52]),{22:145,70:je},{22:146,70:je},{56:147,81:et},{56:148,81:et},{56:149,81:et},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},c(We,[2,16]),c(He,[2,10]),{12:151,50:Ie,52:Me,53:Re},c(He,[2,12]),c(He,[2,13]),c(We,[2,18]),c(We,[2,34]),c(We,[2,35]),c(We,[2,36]),c(We,[2,37]),{15:[1,152]},c(We,[2,38]),{15:[1,153]},c(We,[2,39]),c(We,[2,40]),{15:[1,154]},c(We,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:et},{56:158,81:et},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:je},c(He,[2,11]),c(Ke,Z,{7:103,40:160}),c(Qe,Z,{7:105,42:161}),c(Ze,Z,{7:108,45:162}),c(We,[2,48]),c(We,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function ye(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function ne(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(ye,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=ye()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},rt={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:case 51:case 66:return 5;case 1:case 2:case 3:case 4:case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return q.yytext=q.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 52:return q.yytext=q.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};function J(){this.yy={}}return tt.lexer=rt,o(J,"Parser"),J.prototype=tt,tt.Parser=J,new J}()).parser=Jme,eye=Jme});function TO(c,q){if(null==c.links)c.links=q;else for(let Y in q)c.links[Y]=q[Y]}function jfe(c,q){if(null==c.properties)c.properties=q;else for(let Y in q)c.properties[Y]=q[Y]}function dHe(){nye.records.currentBox=void 0}var nye,iye,aye,sye,oye,lye,cye,pye,gye,yye,vye,wye,kye,Tye,_ye,Eye,Cye,Sye,Aye,Lye,Nye,Iye,Mye,Rye,Dye,Oye,Pye,Bye,Fye,$ye,zye,Gye,Uye,qye,jye,Yye,Wye,Hye,Vye,Xye,Kye,Qye,Zye,Jye,eve,tve,rve,nve,ive,ave,sve,uve,dve,pve,gve,fve,mve,yve,vve,xve,bve,wve,kve,Tve,_ve,Eve,Sve,Ave,Lve,Nve,Ive=M(()=>{hf(),Ae(),uhe(),bp(),cf(),nye=new lhe(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),iye=o(function(c){nye.records.boxes.push({name:c.text,wrap:c.wrap??Nye(),fill:c.color,actorKeys:[]}),nye.records.currentBox=nye.records.boxes.slice(-1)[0]},"addBox"),aye=o(function(c,q,Y,V){let Z=nye.records.currentBox,re=nye.records.actors.get(c);if(re){if(nye.records.currentBox&&re.box&&nye.records.currentBox!==re.box)throw new Error(`A same participant should only be defined in one Box: ${re.name} can't be in '${re.box.name}' and in '${nye.records.currentBox.name}' at the same time.`);if(Z=re.box?re.box:nye.records.currentBox,re.box=Z,re&&q===re.name&&null==Y)return}if(null==Y?.text&&(Y={text:q,type:V}),(null==V||null==Y.text)&&(Y={text:q,type:V}),nye.records.actors.set(c,{box:Z,name:q,description:Y.text,wrap:Y.wrap??Nye(),prevActor:nye.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:V??"participant"}),nye.records.prevActor){let q=nye.records.actors.get(nye.records.prevActor);q&&(q.nextActor=c)}nye.records.currentBox&&nye.records.currentBox.actorKeys.push(c),nye.records.prevActor=c},"addActor"),sye=o(c=>{let q,Y=0;if(!c)return 0;for(q=0;q<nye.records.messages.length;q++)nye.records.messages[q].type===Dye.ACTIVE_START&&nye.records.messages[q].from===c&&Y++,nye.records.messages[q].type===Dye.ACTIVE_END&&nye.records.messages[q].from===c&&Y--;return Y},"activationCount"),oye=o(function(c,q,Y,V){nye.records.messages.push({from:c,to:q,message:Y.text,wrap:Y.wrap??Nye(),answer:V})},"addMessage"),lye=o(function(c,q,Y,V,Z=!1){if(V===Dye.ACTIVE_END&&sye(c??"")<1){let q=new Error("Trying to inactivate an inactive participant ("+c+")");throw q.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},q}return nye.records.messages.push({from:c,to:q,message:Y?.text??"",wrap:Y?.wrap??Nye(),type:V,activate:Z}),!0},"addSignal"),cye=o(function(){return nye.records.boxes.length>0},"hasAtLeastOneBox"),pye=o(function(){return nye.records.boxes.some(c=>c.name)},"hasAtLeastOneBoxWithTitle"),gye=o(function(){return nye.records.messages},"getMessages"),yye=o(function(){return nye.records.boxes},"getBoxes"),vye=o(function(){return nye.records.actors},"getActors"),wye=o(function(){return nye.records.createdActors},"getCreatedActors"),kye=o(function(){return nye.records.destroyedActors},"getDestroyedActors"),Tye=o(function(c){return nye.records.actors.get(c)},"getActor"),_ye=o(function(){return[...nye.records.actors.keys()]},"getActorKeys"),Eye=o(function(){nye.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),Cye=o(function(){nye.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),Sye=o(()=>nye.records.sequenceNumbersEnabled,"showSequenceNumbers"),Aye=o(function(c){nye.records.wrapEnabled=c},"setWrap"),Lye=o(c=>{if(void 0===c)return{};c=c.trim();let q=null!==/^:?wrap:/.exec(c)||null===/^:?nowrap:/.exec(c)&&void 0;return{cleanedText:(void 0===q?c:c.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:q}},"extractWrap"),Nye=o(()=>void 0!==nye.records.wrapEnabled?nye.records.wrapEnabled:Xp().sequence?.wrap??!1,"autoWrap"),Iye=o(function(){nye.reset(),Mp()},"clear"),Mye=o(function(c){let q=c.trim(),{wrap:Y,cleanedText:Z}=Lye(q),re={text:Z,wrap:Y};return V.debug(`parseMessage: ${JSON.stringify(re)}`),re},"parseMessage"),Rye=o(function(c){let q=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(c),Y=q?.[1]?q[1].trim():"transparent",V=q?.[2]?q[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",Y)||(Y="transparent",V=c.trim());else{let q=(new Option).style;q.color=Y,q.color!==Y&&(Y="transparent",V=c.trim())}let{wrap:Z,cleanedText:re}=Lye(V);return{text:re?Md(re,Xp()):void 0,color:Y,wrap:Z}},"parseBoxData"),Dye={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},Oye={FILLED:0,OPEN:1},Pye={LEFTOF:0,RIGHTOF:1,OVER:2},Bye=o(function(c,q,Y){let V={actor:c,placement:q,message:Y.text,wrap:Y.wrap??Nye()},Z=[].concat(c,c);nye.records.notes.push(V),nye.records.messages.push({from:Z[0],to:Z[1],message:Y.text,wrap:Y.wrap??Nye(),type:Dye.NOTE,placement:q})},"addNote"),Fye=o(function(c,q){let Y=Tye(c);try{let c=Md(q.text,Xp());c=c.replace(/&amp;/g,"&"),c=c.replace(/&equals;/g,"="),TO(Y,JSON.parse(c))}catch(c){V.error("error while parsing actor link text",c)}},"addLinks"),$ye=o(function(c,q){let Y=Tye(c);try{let c={},V=Md(q.text,Xp()),Z=V.indexOf("@");V=V.replace(/&amp;/g,"&"),V=V.replace(/&equals;/g,"=");let re=V.slice(0,Z-1).trim(),ae=V.slice(Z+1).trim();c[re]=ae,TO(Y,c)}catch(c){V.error("error while parsing actor link text",c)}},"addALink"),o(TO,"insertLinks"),zye=o(function(c,q){let Y=Tye(c);try{let c=Md(q.text,Xp());jfe(Y,JSON.parse(c))}catch(c){V.error("error while parsing actor properties text",c)}},"addProperties"),o(jfe,"insertProperties"),o(dHe,"boxEnd"),Gye=o(function(c,q){let Y=Tye(c),Z=document.getElementById(q.text);try{let c=Z.innerHTML,q=JSON.parse(c);q.properties&&jfe(Y,q.properties),q.links&&TO(Y,q.links)}catch(c){V.error("error while parsing actor details text",c)}},"addDetails"),Uye=o(function(c,q){if(void 0!==c?.properties)return c.properties[q]},"getActorProperty"),qye=o(function(c){if(Array.isArray(c))c.forEach(function(c){qye(c)});else switch(c.type){case"sequenceIndex":nye.records.messages.push({from:void 0,to:void 0,message:{start:c.sequenceIndex,step:c.sequenceIndexStep,visible:c.sequenceVisible},wrap:!1,type:c.signalType});break;case"addParticipant":aye(c.actor,c.actor,c.description,c.draw);break;case"createParticipant":if(nye.records.actors.has(c.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");nye.records.lastCreated=c.actor,aye(c.actor,c.actor,c.description,c.draw),nye.records.createdActors.set(c.actor,nye.records.messages.length);break;case"destroyParticipant":nye.records.lastDestroyed=c.actor,nye.records.destroyedActors.set(c.actor,nye.records.messages.length);break;case"activeStart":case"activeEnd":lye(c.actor,void 0,void 0,c.signalType);break;case"addNote":Bye(c.actor,c.placement,c.text);break;case"addLinks":Fye(c.actor,c.text);break;case"addALink":$ye(c.actor,c.text);break;case"addProperties":zye(c.actor,c.text);break;case"addDetails":Gye(c.actor,c.text);break;case"addMessage":if(nye.records.lastCreated){if(c.to!==nye.records.lastCreated)throw new Error("The created participant "+nye.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");nye.records.lastCreated=void 0}else if(nye.records.lastDestroyed){if(c.to!==nye.records.lastDestroyed&&c.from!==nye.records.lastDestroyed)throw new Error("The destroyed participant "+nye.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");nye.records.lastDestroyed=void 0}lye(c.from,c.to,c.msg,c.signalType,c.activate);break;case"boxStart":iye(c.boxData);break;case"boxEnd":dHe();break;case"loopStart":lye(void 0,void 0,c.loopText,c.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":lye(void 0,void 0,void 0,c.signalType);break;case"rectStart":lye(void 0,void 0,c.color,c.signalType);break;case"optStart":lye(void 0,void 0,c.optText,c.signalType);break;case"altStart":case"else":lye(void 0,void 0,c.altText,c.signalType);break;case"setAccTitle":Rp(c.text);break;case"parStart":case"and":lye(void 0,void 0,c.parText,c.signalType);break;case"criticalStart":lye(void 0,void 0,c.criticalText,c.signalType);break;case"option":lye(void 0,void 0,c.optionText,c.signalType);break;case"breakStart":lye(void 0,void 0,c.breakText,c.signalType)}},"apply"),jye={addActor:aye,addMessage:oye,addSignal:lye,addLinks:Fye,addDetails:Gye,addProperties:zye,autoWrap:Nye,setWrap:Aye,enableSequenceNumbers:Eye,disableSequenceNumbers:Cye,showSequenceNumbers:Sye,getMessages:gye,getActors:vye,getCreatedActors:wye,getDestroyedActors:kye,getActor:Tye,getActorKeys:_ye,getActorProperty:Uye,getAccTitle:Fp,getBoxes:yye,getDiagramTitle:Wp,setDiagramTitle:Yp,getConfig:o(()=>Xp().sequence,"getConfig"),clear:Iye,parseMessage:Mye,parseBoxData:Rye,LINETYPE:Dye,ARROWTYPE:Oye,PLACEMENT:Pye,addNote:Bye,setAccTitle:Rp,apply:qye,setAccDescription:qp,getAccDescription:jp,hasAtLeastOneBox:cye,hasAtLeastOneBoxWithTitle:pye}}),Mve=M(()=>{Yye=o(c=>`.actor {\n    stroke: ${c.actorBorder};\n    fill: ${c.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${c.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${c.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${c.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${c.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${c.signalColor};\n    stroke: ${c.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${c.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${c.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${c.signalColor};\n    stroke: ${c.signalColor};\n  }\n\n  .messageText {\n    fill: ${c.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${c.labelBoxBorderColor};\n    fill: ${c.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${c.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${c.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${c.labelBoxBorderColor};\n    fill: ${c.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${c.noteBorderColor};\n    fill: ${c.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${c.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${c.activationBkgColor};\n    stroke: ${c.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${c.activationBkgColor};\n    stroke: ${c.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${c.activationBkgColor};\n    stroke: ${c.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${c.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${c.actorBorder};\n    fill: ${c.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${c.actorBorder};\n    fill: ${c.actorBkg};\n    stroke-width: 2px;\n  }\n`,"getStyles"),Wye=Yye}),Rve=M(()=>{bp(),Y_(),yM(),Hye=ka(j_(),1),ki(),Vye=36,Xye="actor-top",Kye="actor-bottom",Qye="actor-man",Zye=o(function(c,q){return qT(c,q)},"drawRect"),Jye=o(function(c,q,Y,V,Z){if(void 0===q.links||null===q.links||0===Object.keys(q.links).length)return{height:0,width:0};let re=q.links,ae=q.actorCnt,se=q.rectData;var oe="none";Z&&(oe="block !important");let he=c.append("g");he.attr("id","actor"+ae+"_popup"),he.attr("class","actorPopupMenu"),he.attr("display",oe);var de="";void 0!==se.class&&(de=" "+se.class);let pe=se.width>Y?se.width:Y,ge=he.append("rect");if(ge.attr("class","actorPopupMenuPanel"+de),ge.attr("x",se.x),ge.attr("y",se.height),ge.attr("fill",se.fill),ge.attr("stroke",se.stroke),ge.attr("width",pe),ge.attr("height",se.height),ge.attr("rx",se.rx),ge.attr("ry",se.ry),null!=re){var me=20;for(let c in re){var ve=he.append("a"),be=(0,Hye.sanitizeUrl)(re[c]);ve.attr("xlink:href",be),ve.attr("target","_blank"),Lve(V)(c,ve,se.x+10,se.height+me,pe,20,{class:"actor"},V),me+=30}}return ge.attr("height",me),{height:se.height+me,width:pe}},"drawPopup"),eve=o(function(c){return"var pu = document.getElementById('"+c+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),tve=o(async function(c,q,Y=null){let V=c.append("foreignObject"),Z=await sp(q.text,bn()),re=V.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(Z).node().getBoundingClientRect();if(V.attr("height",Math.round(re.height)).attr("width",Math.round(re.width)),"noteText"===q.class){let Y=c.node().firstChild;Y.setAttribute("height",re.height+2*q.textMargin);let Z=Y.getBBox();V.attr("x",Math.round(Z.x+Z.width/2-re.width/2)).attr("y",Math.round(Z.y+Z.height/2-re.height/2))}else if(Y){let{startx:c,stopx:Z,starty:ae}=Y;if(c>Z){let q=c;c=Z,Z=q}V.attr("x",Math.round(c+Math.abs(c-Z)/2-re.width/2)),"loopText"===q.class?V.attr("y",Math.round(ae)):V.attr("y",Math.round(ae-re.height))}return[V]},"drawKatex"),rve=o(function(c,q){let Y=0,V=0,Z=q.text.split(op.lineBreakRegex),[re,ae]=cM(q.fontSize),se=[],oe=0,he=o(()=>q.y,"yfunc");if(void 0!==q.valign&&void 0!==q.textMargin&&q.textMargin>0)switch(q.valign){case"top":case"start":he=o(()=>Math.round(q.y+q.textMargin),"yfunc");break;case"middle":case"center":he=o(()=>Math.round(q.y+(Y+V+q.textMargin)/2),"yfunc");break;case"bottom":case"end":he=o(()=>Math.round(q.y+(Y+V+2*q.textMargin)-q.textMargin),"yfunc")}if(void 0!==q.anchor&&void 0!==q.textMargin&&void 0!==q.width)switch(q.anchor){case"left":case"start":q.x=Math.round(q.x+q.textMargin),q.anchor="start",q.dominantBaseline="middle",q.alignmentBaseline="middle";break;case"middle":case"center":q.x=Math.round(q.x+q.width/2),q.anchor="middle",q.dominantBaseline="middle",q.alignmentBaseline="middle";break;case"right":case"end":q.x=Math.round(q.x+q.width-q.textMargin),q.anchor="end",q.dominantBaseline="middle",q.alignmentBaseline="middle"}for(let[de,pe]of Z.entries()){void 0!==q.textMargin&&0===q.textMargin&&void 0!==re&&(oe=de*re);let Z=c.append("text");Z.attr("x",q.x),Z.attr("y",he()),void 0!==q.anchor&&Z.attr("text-anchor",q.anchor).attr("dominant-baseline",q.dominantBaseline).attr("alignment-baseline",q.alignmentBaseline),void 0!==q.fontFamily&&Z.style("font-family",q.fontFamily),void 0!==ae&&Z.style("font-size",ae),void 0!==q.fontWeight&&Z.style("font-weight",q.fontWeight),void 0!==q.fill&&Z.attr("fill",q.fill),void 0!==q.class&&Z.attr("class",q.class),void 0!==q.dy?Z.attr("dy",q.dy):0!==oe&&Z.attr("dy",oe);let ge=pe||zI;if(q.tspan){let c=Z.append("tspan");c.attr("x",q.x),void 0!==q.fill&&c.attr("fill",q.fill),c.text(ge)}else Z.text(ge);void 0!==q.valign&&void 0!==q.textMargin&&q.textMargin>0&&(V+=(Z._groups||Z)[0][0].getBBox().height,Y=V),se.push(Z)}return se},"drawText"),nve=o(function(c,q){function r(c,q,Y,V,Z){return c+","+q+" "+(c+Y)+","+q+" "+(c+Y)+","+(q+V-Z)+" "+(c+Y-1.2*Z)+","+(q+V)+" "+c+","+(q+V)}o(r,"genPoints");let Y=c.append("polygon");return Y.attr("points",r(q.x,q.y,q.width,q.height,7)),Y.attr("class","labelBox"),q.y=q.y+q.height/2,rve(c,q),Y},"drawLabel"),ive=-1,ave=o((c,q,Y,V)=>{c.select&&Y.forEach(Y=>{let Z=q.get(Y),re=c.select("#actor"+Z.actorCnt);!V.mirrorActors&&Z.stopy?re.attr("y2",Z.stopy+Z.height/2):V.mirrorActors&&re.attr("y2",Z.stopy)})},"fixLifeLineHeights"),sve=o(function(c,q,Y,V){let Z=V?q.stopy:q.starty,re=q.x+q.width/2,ae=Z+q.height,se=c.append("g").lower();var oe=se;V||(ive++,Object.keys(q.links||{}).length&&!Y.forceMenus&&oe.attr("onclick",eve(`actor${ive}_popup`)).attr("cursor","pointer"),oe.append("line").attr("id","actor"+ive).attr("x1",re).attr("y1",ae).attr("x2",re).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",q.name),oe=se.append("g"),q.actorCnt=ive,null!=q.links&&oe.attr("id","root-"+ive));let he=t_();var de="actor";q.properties?.class?de=q.properties.class:he.fill="#eaeaea",de+=V?` ${Kye}`:` ${Xye}`,he.x=q.x,he.y=Z,he.width=q.width,he.height=q.height,he.class=de,he.rx=3,he.ry=3,he.name=q.name;let pe=Zye(oe,he);if(q.rectData=he,q.properties?.icon){let c=q.properties.icon.trim();"@"===c.charAt(0)?KT(oe,he.x+he.width-20,he.y+10,c.substr(1)):VT(oe,he.x+he.width-20,he.y+10,c)}Ave(Y,ip(q.description))(q.description,oe,he.x,he.y,he.width,he.height,{class:"actor actor-box"},Y);let ge=q.height;if(pe.node){let c=pe.node().getBBox();q.height=c.height,ge=c.height}return ge},"drawActorTypeParticipant"),uve=o(function(c,q,Y,V){let Z=V?q.stopy:q.starty,re=q.x+q.width/2,ae=Z+80,se=c.append("g").lower();V||(ive++,se.append("line").attr("id","actor"+ive).attr("x1",re).attr("y1",ae).attr("x2",re).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",q.name),q.actorCnt=ive);let oe=c.append("g"),he=Qye;he+=V?` ${Kye}`:` ${Xye}`,oe.attr("class",he),oe.attr("name",q.name);let de=t_();de.x=q.x,de.y=Z,de.fill="#eaeaea",de.width=q.width,de.height=q.height,de.class="actor",de.rx=3,de.ry=3,oe.append("line").attr("id","actor-man-torso"+ive).attr("x1",re).attr("y1",Z+25).attr("x2",re).attr("y2",Z+45),oe.append("line").attr("id","actor-man-arms"+ive).attr("x1",re-Vye/2).attr("y1",Z+33).attr("x2",re+Vye/2).attr("y2",Z+33),oe.append("line").attr("x1",re-Vye/2).attr("y1",Z+60).attr("x2",re).attr("y2",Z+45),oe.append("line").attr("x1",re).attr("y1",Z+45).attr("x2",re+Vye/2-2).attr("y2",Z+60);let pe=oe.append("circle");pe.attr("cx",q.x+q.width/2),pe.attr("cy",Z+10),pe.attr("r",15),pe.attr("width",q.width),pe.attr("height",q.height);let ge=oe.node().getBBox();return q.height=ge.height,Ave(Y,ip(q.description))(q.description,oe,de.x,de.y+35,de.width,de.height,{class:`actor ${Qye}`},Y),q.height},"drawActorTypeActor"),dve=o(async function(c,q,Y,V){switch(q.type){case"actor":return await uve(c,q,Y,V);case"participant":return await sve(c,q,Y,V)}},"drawActor"),pve=o(function(c,q,Y){let V=c.append("g");yve(V,q),q.name&&Ave(Y)(q.name,V,q.x,q.y+(q.textMaxHeight||0)/2,q.width,0,{class:"text"},Y),V.lower()},"drawBox"),gve=o(function(c){return c.append("g")},"anchorElement"),fve=o(function(c,q,Y,V,Z){let re=t_(),ae=q.anchored;re.x=q.startx,re.y=q.starty,re.class="activation"+Z%3,re.width=q.stopx-q.startx,re.height=Y-q.starty,Zye(ae,re)},"drawActivation"),mve=o(async function(c,q,Y,V){let{boxMargin:Z,boxTextMargin:re,labelBoxHeight:ae,labelBoxWidth:se,messageFontFamily:oe,messageFontSize:he,messageFontWeight:de}=V,pe=c.append("g"),ge=o(function(c,q,Y,V){return pe.append("line").attr("x1",c).attr("y1",q).attr("x2",Y).attr("y2",V).attr("class","loopLine")},"drawLoopLine");ge(q.startx,q.starty,q.stopx,q.starty),ge(q.stopx,q.starty,q.stopx,q.stopy),ge(q.startx,q.stopy,q.stopx,q.stopy),ge(q.startx,q.starty,q.startx,q.stopy),void 0!==q.sections&&q.sections.forEach(function(c){ge(q.startx,c.y,q.stopx,c.y).style("stroke-dasharray","3, 3")});let me=r_();me.text=Y,me.x=q.startx,me.y=q.starty,me.fontFamily=oe,me.fontSize=he,me.fontWeight=de,me.anchor="middle",me.valign="middle",me.tspan=!1,me.width=se||50,me.height=ae||20,me.textMargin=re,me.class="labelText",nve(pe,me),me=Eve(),me.text=q.title,me.x=q.startx+se/2+(q.stopx-q.startx)/2,me.y=q.starty+Z+re,me.anchor="middle",me.valign="middle",me.textMargin=re,me.class="loopText",me.fontFamily=oe,me.fontSize=he,me.fontWeight=de,me.wrap=!0;let ve=ip(me.text)?await tve(pe,me,q):rve(pe,me);if(void 0!==q.sectionTitles)for(let[c,Y]of Object.entries(q.sectionTitles))if(Y.message){me.text=Y.message,me.x=q.startx+(q.stopx-q.startx)/2,me.y=q.sections[c].y+Z+re,me.class="loopText",me.anchor="middle",me.valign="middle",me.tspan=!1,me.fontFamily=oe,me.fontSize=he,me.fontWeight=de,me.wrap=q.wrap,ip(me.text)?(q.starty=q.sections[c].y,await tve(pe,me,q)):rve(pe,me);let V=Math.round(ve.map(c=>(c._groups||c)[0][0].getBBox().height).reduce((c,q)=>c+q));q.sections[c].height+=V-(Z+re)}return q.height=Math.round(q.stopy-q.starty),pe},"drawLoop"),yve=o(function(c,q){YT(c,q)},"drawBackgroundRect"),vve=o(function(c){c.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),xve=o(function(c){c.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),bve=o(function(c){c.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),wve=o(function(c){c.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),kve=o(function(c){c.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Tve=o(function(c){c.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),_ve=o(function(c){c.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Eve=o(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),Sve=o(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Ave=function(){function t(c,q,Y,V,Z,re,ae){i(q.append("text").attr("x",Y+Z/2).attr("y",V+re/2+5).style("text-anchor","middle").text(c),ae)}function e(c,q,Y,V,Z,re,ae,se){let{actorFontSize:oe,actorFontFamily:he,actorFontWeight:de}=se,[pe,ge]=cM(oe),me=c.split(op.lineBreakRegex);for(let c=0;c<me.length;c++){let se=c*pe-pe*(me.length-1)/2,oe=q.append("text").attr("x",Y+Z/2).attr("y",V).style("text-anchor","middle").style("font-size",ge).style("font-weight",de).style("font-family",he);oe.append("tspan").attr("x",Y+Z/2).attr("dy",se).text(me[c]),oe.attr("y",V+re/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(oe,ae)}}function r(c,q,Y,V,Z,re,ae,se){let oe=q.append("switch"),he=oe.append("foreignObject").attr("x",Y).attr("y",V).attr("width",Z).attr("height",re).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");he.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(c),e(c,oe,Y,V,Z,re,ae,se),i(he,ae)}async function n(c,q,Y,V,Z,re,ae,se){let oe=await ap(c,bn()),he=q.append("switch"),de=he.append("foreignObject").attr("x",Y+Z/2-oe.width/2).attr("y",V+re/2-oe.height/2).attr("width",oe.width).attr("height",oe.height).append("xhtml:div").style("height","100%").style("width","100%");de.append("div").style("text-align","center").style("vertical-align","middle").html(await sp(c,bn())),e(c,he,Y,V,Z,re,ae,se),i(de,ae)}function i(c,q){for(let Y in q)q.hasOwnProperty(Y)&&c.attr(Y,q[Y])}return o(t,"byText"),o(e,"byTspan"),o(r,"byFo"),o(n,"byKatex"),o(i,"_setTextAttrs"),function(c,q=!1){return q?n:"fo"===c.textPlacement?r:"old"===c.textPlacement?t:e}}(),Lve=function(){function t(c,q,Y,V,Z,re,ae){n(q.append("text").attr("x",Y).attr("y",V).style("text-anchor","start").text(c),ae)}function e(c,q,Y,V,Z,re,ae,se){let{actorFontSize:oe,actorFontFamily:he,actorFontWeight:de}=se,pe=c.split(op.lineBreakRegex);for(let c=0;c<pe.length;c++){let Z=c*oe-oe*(pe.length-1)/2,se=q.append("text").attr("x",Y).attr("y",V).style("text-anchor","start").style("font-size",oe).style("font-weight",de).style("font-family",he);se.append("tspan").attr("x",Y).attr("dy",Z).text(pe[c]),se.attr("y",V+re/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(se,ae)}}function r(c,q,Y,V,Z,re,ae,se){let oe=q.append("switch"),he=oe.append("foreignObject").attr("x",Y).attr("y",V).attr("width",Z).attr("height",re).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");he.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(c),e(c,oe,Y,V,0,re,ae,se),n(he,ae)}function n(c,q){for(let Y in q)q.hasOwnProperty(Y)&&c.attr(Y,q[Y])}return o(t,"byText"),o(e,"byTspan"),o(r,"byFo"),o(n,"_setTextAttrs"),function(c){return"fo"===c.textPlacement?r:"old"===c.textPlacement?t:e}}(),Nve={drawRect:Zye,drawText:rve,drawLabel:nve,drawActor:dve,drawBox:pve,drawPopup:Jye,anchorElement:gve,drawActivation:fve,drawLoop:mve,drawBackgroundRect:yve,insertArrowHead:wve,insertArrowFilledHead:kve,insertSequenceNumber:Tve,insertArrowCrossHead:_ve,insertDatabaseIcon:vve,insertComputerIcon:xve,insertClockIcon:bve,getTextObj:Eve,getNoteRect:Sve,fixLifeLineHeights:ave,sanitizeUrl:Hye.sanitizeUrl}});async function PHe(c,q){Ove.bumpVerticalPos(10);let{startx:Y,stopx:V,message:Z}=q,re=op.splitBreaks(Z).length,ae=ip(Z),se=ae?await ap(Z,Xp()):hM.calculateTextDimensions(Z,Bve(Dve));if(!ae){let c=se.height/re;q.height+=c,Ove.bumpVerticalPos(c)}let oe,he=se.height-10,de=se.width;if(Y===V){oe=Ove.getVerticalPos()+he,Dve.rightAngles||(he+=Dve.boxMargin,oe=Ove.getVerticalPos()+he),he+=30;let c=op.getMax(de/2,Dve.width/2);Ove.insert(Y-c,Ove.getVerticalPos()-10+he,V+c,Ove.getVerticalPos()+30+he)}else he+=Dve.boxMargin,oe=Ove.getVerticalPos()+he,Ove.insert(Y,oe-10,V,oe);return Ove.bumpVerticalPos(he),q.height+=he,q.stopy=q.starty+q.height,Ove.insert(q.fromBounds,q.starty,q.toBounds,q.stopy),oe}function zc(c,q,Y,Z,re){Ove.bumpVerticalPos(Y);let ae=Z;if(q.id&&q.message&&c[q.id]){let Y=c[q.id].width,re=Bve(Dve);q.message=hM.wrapLabel(`[${q.message}]`,Y-2*Dve.wrapPadding,re),q.width=Y,q.wrap=!0;let se=hM.calculateTextDimensions(q.message,re),oe=op.getMax(se.height,Dve.labelBoxHeight);ae=Z+oe,V.debug(`${oe} - ${q.message}`)}re(q),Ove.bumpVerticalPos(ae)}function zHe(c,q,Y,V,Z,re,ae){function l(Y,V){Y.x<Z.get(c.from).x?(Ove.insert(q.stopx-V,q.starty,q.startx,q.stopy+Y.height/2+Dve.noteMargin),q.stopx=q.stopx+V):(Ove.insert(q.startx,q.starty,q.stopx+V,q.stopy+Y.height/2+Dve.noteMargin),q.stopx=q.stopx-V)}function u(Y,V){Y.x<Z.get(c.to).x?(Ove.insert(q.startx-V,q.starty,q.stopx,q.stopy+Y.height/2+Dve.noteMargin),q.startx=q.startx+V):(Ove.insert(q.stopx,q.starty,q.startx+V,q.stopy+Y.height/2+Dve.noteMargin),q.startx=q.startx-V)}if(o(l,"receiverAdjustment"),o(u,"senderAdjustment"),re.get(c.to)==V){let q=Z.get(c.to);l(q,"actor"==q.type?Vye/2+3:q.width/2+3),q.starty=Y-q.height/2,Ove.bumpVerticalPos(q.height/2)}else if(ae.get(c.from)==V){let q=Z.get(c.from);if(Dve.mirrorActors){u(q,"actor"==q.type?Vye/2:q.width/2)}q.stopy=Y-q.height/2,Ove.bumpVerticalPos(q.height/2)}else if(ae.get(c.to)==V){let q=Z.get(c.to);if(Dve.mirrorActors){l(q,"actor"==q.type?Vye/2+3:q.width/2+3)}q.stopy=Y-q.height/2,Ove.bumpVerticalPos(q.height/2)}}async function $He(c,q,Y){let Z={};for(let V of q)if(c.get(V.to)&&c.get(V.from)){let q=c.get(V.to);if(V.placement===Y.db.PLACEMENT.LEFTOF&&!q.prevActor||V.placement===Y.db.PLACEMENT.RIGHTOF&&!q.nextActor)continue;let re=void 0!==V.placement,ae=!re,se=re?Fve(Dve):Bve(Dve),oe=V.wrap?hM.wrapLabel(V.message,Dve.width-2*Dve.wrapPadding,se):V.message,he=(ip(oe)?await ap(V.message,Xp()):hM.calculateTextDimensions(oe,se)).width+2*Dve.wrapPadding;ae&&V.from===q.nextActor?Z[V.to]=op.getMax(Z[V.to]||0,he):ae&&V.from===q.prevActor?Z[V.from]=op.getMax(Z[V.from]||0,he):ae&&V.from===V.to?(Z[V.from]=op.getMax(Z[V.from]||0,he/2),Z[V.to]=op.getMax(Z[V.to]||0,he/2)):V.placement===Y.db.PLACEMENT.RIGHTOF?Z[V.from]=op.getMax(Z[V.from]||0,he):V.placement===Y.db.PLACEMENT.LEFTOF?Z[q.prevActor]=op.getMax(Z[q.prevActor]||0,he):V.placement===Y.db.PLACEMENT.OVER&&(q.prevActor&&(Z[q.prevActor]=op.getMax(Z[q.prevActor]||0,he/2)),q.nextActor&&(Z[V.from]=op.getMax(Z[V.from]||0,he/2)))}return V.debug("maxMessageWidthPerActor:",Z),Z}async function UHe(c,q,Y){let V=0;for(let q of c.keys()){let Y=c.get(q);Y.wrap&&(Y.description=hM.wrapLabel(Y.description,Dve.width-2*Dve.wrapPadding,zve(Dve)));let Z=ip(Y.description)?await ap(Y.description,Xp()):hM.calculateTextDimensions(Y.description,zve(Dve));Y.width=Y.wrap?Dve.width:op.getMax(Dve.width,Z.width+2*Dve.wrapPadding),Y.height=Y.wrap?op.getMax(Z.height,Dve.height):Dve.height,V=op.getMax(V,Y.height)}for(let Y in q){let V=c.get(Y);if(!V)continue;let Z=c.get(V.nextActor);if(!Z){let c=q[Y]+Dve.actorMargin-V.width/2;V.margin=op.getMax(c,Dve.actorMargin);continue}let re=q[Y]+Dve.actorMargin-V.width/2-Z.width/2;V.margin=op.getMax(re,Dve.actorMargin)}let Z=0;return Y.forEach(q=>{let Y=Bve(Dve),V=q.actorKeys.reduce((q,Y)=>q+(c.get(Y).width+(c.get(Y).margin||0)),0);V-=2*Dve.boxTextMargin,q.wrap&&(q.name=hM.wrapLabel(q.name,V-2*Dve.wrapPadding,Y));let re=hM.calculateTextDimensions(q.name,Y);Z=op.getMax(re.height,Z);let ae=op.getMax(V,re.width+2*Dve.wrapPadding);if(q.margin=Dve.boxTextMargin,V<ae){let c=(ae-V)/2;q.margin+=c}}),Y.forEach(c=>c.textMaxHeight=Z),op.getMax(V,Dve.height)}var Dve,Ove,Pve,Bve,Fve,zve,Gve,qve,jve,Yve,Wve,Xve,Kve,Qve,Zve,Jve,exe,txe,rxe,nxe=M(()=>{U_(),Rve(),Ae(),bp(),Y_(),hf(),Rn(),yM(),kp(),Dve={},Ove={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:o(function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map(c=>c.height||0))+(0===this.loops.length?0:this.loops.map(c=>c.height||0).reduce((c,q)=>c+q))+(0===this.messages.length?0:this.messages.map(c=>c.height||0).reduce((c,q)=>c+q))+(0===this.notes.length?0:this.notes.map(c=>c.height||0).reduce((c,q)=>c+q))},"getHeight"),clear:o(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:o(function(c){this.boxes.push(c)},"addBox"),addActor:o(function(c){this.actors.push(c)},"addActor"),addLoop:o(function(c){this.loops.push(c)},"addLoop"),addMessage:o(function(c){this.messages.push(c)},"addMessage"),addNote:o(function(c){this.notes.push(c)},"addNote"),lastActor:o(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:o(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:o(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:o(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:o(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Wve(Xp())},"init"),updateVal:o(function(c,q,Y,V){void 0===c[q]?c[q]=Y:c[q]=V(Y,c[q])},"updateVal"),updateBounds:o(function(c,q,Y,V){let Z=this,re=0;function s(ae){return o(function(se){re++;let oe=Z.sequenceItems.length-re+1;Z.updateVal(se,"starty",q-oe*Dve.boxMargin,Math.min),Z.updateVal(se,"stopy",V+oe*Dve.boxMargin,Math.max),Z.updateVal(Ove.data,"startx",c-oe*Dve.boxMargin,Math.min),Z.updateVal(Ove.data,"stopx",Y+oe*Dve.boxMargin,Math.max),"activation"!==ae&&(Z.updateVal(se,"startx",c-oe*Dve.boxMargin,Math.min),Z.updateVal(se,"stopx",Y+oe*Dve.boxMargin,Math.max),Z.updateVal(Ove.data,"starty",q-oe*Dve.boxMargin,Math.min),Z.updateVal(Ove.data,"stopy",V+oe*Dve.boxMargin,Math.max))},"updateItemBounds")}o(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:o(function(c,q,Y,V){let Z=op.getMin(c,Y),re=op.getMax(c,Y),ae=op.getMin(q,V),se=op.getMax(q,V);this.updateVal(Ove.data,"startx",Z,Math.min),this.updateVal(Ove.data,"starty",ae,Math.min),this.updateVal(Ove.data,"stopx",re,Math.max),this.updateVal(Ove.data,"stopy",se,Math.max),this.updateBounds(Z,ae,re,se)},"insert"),newActivation:o(function(c,q,Y){let V=Y.get(c.from),Z=Xve(c.from).length||0,re=V.x+V.width/2+(Z-1)*Dve.activationWidth/2;this.activations.push({startx:re,starty:this.verticalPos+2,stopx:re+Dve.activationWidth,stopy:void 0,actor:c.from,anchored:Nve.anchorElement(q)})},"newActivation"),endActivation:o(function(c){let q=this.activations.map(function(c){return c.actor}).lastIndexOf(c.from);return this.activations.splice(q,1)[0]},"endActivation"),createLoop:o(function(c={message:void 0,wrap:!1,width:void 0},q){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:c.message,wrap:c.wrap,width:c.width,height:0,fill:q}},"createLoop"),newLoop:o(function(c={message:void 0,wrap:!1,width:void 0},q){this.sequenceItems.push(this.createLoop(c,q))},"newLoop"),endLoop:o(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:o(function(){return!!this.sequenceItems.length&&this.sequenceItems[this.sequenceItems.length-1].overlap},"isLoopOverlap"),addSectionToLoop:o(function(c){let q=this.sequenceItems.pop();q.sections=q.sections||[],q.sectionTitles=q.sectionTitles||[],q.sections.push({y:Ove.getVerticalPos(),height:0}),q.sectionTitles.push(c),this.sequenceItems.push(q)},"addSectionToLoop"),saveVerticalPos:o(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:o(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:o(function(c){this.verticalPos=this.verticalPos+c,this.data.stopy=op.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return{bounds:this.data,models:this.models}},"getBounds")},Pve=o(async function(c,q){Ove.bumpVerticalPos(Dve.boxMargin),q.height=Dve.boxMargin,q.starty=Ove.getVerticalPos();let Y=t_();Y.x=q.startx,Y.y=q.starty,Y.width=q.width||Dve.width,Y.class="note";let V=c.append("g"),Z=Nve.drawRect(V,Y),re=r_();re.x=q.startx,re.y=q.starty,re.width=Y.width,re.dy="1em",re.text=q.message,re.class="noteText",re.fontFamily=Dve.noteFontFamily,re.fontSize=Dve.noteFontSize,re.fontWeight=Dve.noteFontWeight,re.anchor=Dve.noteAlign,re.textMargin=Dve.noteMargin,re.valign="center";let ae=ip(re.text)?await tve(V,re):rve(V,re),se=Math.round(ae.map(c=>(c._groups||c)[0][0].getBBox().height).reduce((c,q)=>c+q));Z.attr("height",se+2*Dve.noteMargin),q.height+=se+2*Dve.noteMargin,Ove.bumpVerticalPos(se+2*Dve.noteMargin),q.stopy=q.starty+se+2*Dve.noteMargin,q.stopx=q.startx+Y.width,Ove.insert(q.startx,q.starty,q.stopx,q.stopy),Ove.models.addNote(q)},"drawNote"),Bve=o(c=>({fontFamily:c.messageFontFamily,fontSize:c.messageFontSize,fontWeight:c.messageFontWeight}),"messageFont"),Fve=o(c=>({fontFamily:c.noteFontFamily,fontSize:c.noteFontSize,fontWeight:c.noteFontWeight}),"noteFont"),zve=o(c=>({fontFamily:c.actorFontFamily,fontSize:c.actorFontSize,fontWeight:c.actorFontWeight}),"actorFont"),o(PHe,"boundMessage"),Gve=o(async function(c,q,Y,V){let{startx:Z,stopx:re,starty:ae,message:se,type:oe,sequenceIndex:he,sequenceVisible:de}=q,pe=hM.calculateTextDimensions(se,Bve(Dve)),ge=r_();ge.x=Z,ge.y=ae+10,ge.width=re-Z,ge.class="messageText",ge.dy="1em",ge.text=se,ge.fontFamily=Dve.messageFontFamily,ge.fontSize=Dve.messageFontSize,ge.fontWeight=Dve.messageFontWeight,ge.anchor=Dve.messageAlign,ge.valign="center",ge.textMargin=Dve.wrapPadding,ge.tspan=!1,ip(ge.text)?await tve(c,ge,{startx:Z,stopx:re,starty:Y}):rve(c,ge);let me,ve=pe.width;Z===re?me=Dve.rightAngles?c.append("path").attr("d",`M  ${Z},${Y} H ${Z+op.getMax(Dve.width/2,ve/2)} V ${Y+25} H ${Z}`):c.append("path").attr("d","M "+Z+","+Y+" C "+(Z+60)+","+(Y-10)+" "+(Z+60)+","+(Y+30)+" "+Z+","+(Y+20)):(me=c.append("line"),me.attr("x1",Z),me.attr("y1",Y),me.attr("x2",re),me.attr("y2",Y)),oe===V.db.LINETYPE.DOTTED||oe===V.db.LINETYPE.DOTTED_CROSS||oe===V.db.LINETYPE.DOTTED_POINT||oe===V.db.LINETYPE.DOTTED_OPEN||oe===V.db.LINETYPE.BIDIRECTIONAL_DOTTED?(me.style("stroke-dasharray","3, 3"),me.attr("class","messageLine1")):me.attr("class","messageLine0");let be="";Dve.arrowMarkerAbsolute&&(be=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,be=be.replace(/\(/g,"\\("),be=be.replace(/\)/g,"\\)")),me.attr("stroke-width",2),me.attr("stroke","none"),me.style("fill","none"),(oe===V.db.LINETYPE.SOLID||oe===V.db.LINETYPE.DOTTED)&&me.attr("marker-end","url("+be+"#arrowhead)"),(oe===V.db.LINETYPE.BIDIRECTIONAL_SOLID||oe===V.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(me.attr("marker-start","url("+be+"#arrowhead)"),me.attr("marker-end","url("+be+"#arrowhead)")),(oe===V.db.LINETYPE.SOLID_POINT||oe===V.db.LINETYPE.DOTTED_POINT)&&me.attr("marker-end","url("+be+"#filled-head)"),(oe===V.db.LINETYPE.SOLID_CROSS||oe===V.db.LINETYPE.DOTTED_CROSS)&&me.attr("marker-end","url("+be+"#crosshead)"),(de||Dve.showSequenceNumbers)&&(me.attr("marker-start","url("+be+"#sequencenumber)"),c.append("text").attr("x",Z).attr("y",Y+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(he))},"drawMessage"),qve=o(function(c,q,Y,V,Z,re,ae){let se,oe=0,he=0,de=0;for(let c of V){let V=q.get(c),re=V.box;se&&se!=re&&(ae||Ove.models.addBox(se),he+=Dve.boxMargin+se.margin),re&&re!=se&&(ae||(re.x=oe+he,re.y=Z),he+=re.margin),V.width=V.width||Dve.width,V.height=op.getMax(V.height||Dve.height,Dve.height),V.margin=V.margin||Dve.actorMargin,de=op.getMax(de,V.height),Y.get(V.name)&&(he+=V.width/2),V.x=oe+he,V.starty=Ove.getVerticalPos(),Ove.insert(V.x,Z,V.x+V.width,V.height),oe+=V.width+he,V.box&&(V.box.width=oe+re.margin-V.box.x),he=V.margin,se=V.box,Ove.models.addActor(V)}se&&!ae&&Ove.models.addBox(se),Ove.bumpVerticalPos(de)},"addActorRenderingData"),jve=o(async function(c,q,Y,V){if(V){let V=0;Ove.bumpVerticalPos(2*Dve.boxMargin);for(let Z of Y){let Y=q.get(Z);Y.stopy||(Y.stopy=Ove.getVerticalPos());let re=await Nve.drawActor(c,Y,Dve,!0);V=op.getMax(V,re)}Ove.bumpVerticalPos(V+Dve.boxMargin)}else for(let V of Y){let Y=q.get(V);await Nve.drawActor(c,Y,Dve,!1)}},"drawActors"),Yve=o(function(c,q,Y,V){let Z=0,re=0;for(let ae of Y){let Y=q.get(ae),se=Zve(Y),oe=Nve.drawPopup(c,Y,se,Dve,Dve.forceMenus,V);oe.height>Z&&(Z=oe.height),oe.width+Y.x>re&&(re=oe.width+Y.x)}return{maxHeight:Z,maxWidth:re}},"drawActorsPopup"),Wve=o(function(c){Nt(Dve,c),c.fontFamily&&(Dve.actorFontFamily=Dve.noteFontFamily=Dve.messageFontFamily=c.fontFamily),c.fontSize&&(Dve.actorFontSize=Dve.noteFontSize=Dve.messageFontSize=c.fontSize),c.fontWeight&&(Dve.actorFontWeight=Dve.noteFontWeight=Dve.messageFontWeight=c.fontWeight)},"setConf"),Xve=o(function(c){return Ove.activations.filter(function(q){return q.actor===c})},"actorActivations"),Kve=o(function(c,q){let Y=q.get(c),V=Xve(c);return[V.reduce(function(c,q){return op.getMin(c,q.startx)},Y.x+Y.width/2-1),V.reduce(function(c,q){return op.getMax(c,q.stopx)},Y.x+Y.width/2+1)]},"activationBounds"),o(zc,"adjustLoopHeightForWrap"),o(zHe,"adjustCreatedDestroyedData"),Qve=o(async function(c,q,Y,Z){let re,{securityLevel:ae,sequence:se}=Xp();Dve=se,"sandbox"===ae&&(re=ze("#i"+q));let oe=ze("sandbox"===ae?re.nodes()[0].contentDocument.body:"body"),he="sandbox"===ae?re.nodes()[0].contentDocument:document;Ove.init(),V.debug(Z.db);let de="sandbox"===ae?oe.select(`[id="${q}"]`):ze(`[id="${q}"]`),pe=Z.db.getActors(),ge=Z.db.getCreatedActors(),me=Z.db.getDestroyedActors(),ve=Z.db.getBoxes(),be=Z.db.getActorKeys(),we=Z.db.getMessages(),Te=Z.db.getDiagramTitle(),_e=Z.db.hasAtLeastOneBox(),Ee=Z.db.hasAtLeastOneBoxWithTitle(),Ce=await $He(pe,we,Z);if(Dve.height=await UHe(pe,Ce,ve),Nve.insertComputerIcon(de),Nve.insertDatabaseIcon(de),Nve.insertClockIcon(de),_e&&(Ove.bumpVerticalPos(Dve.boxMargin),Ee&&Ove.bumpVerticalPos(ve[0].textMaxHeight)),!0===Dve.hideUnusedParticipants){let c=new Set;we.forEach(q=>{c.add(q.from),c.add(q.to)}),be=be.filter(q=>c.has(q))}qve(de,pe,ge,be,0,we,!1);let Se=await txe(we,pe,Ce,Z);function T(c,q){let Y=Ove.endActivation(c);Y.starty+18>q&&(Y.starty=q-6,q+=12),Nve.drawActivation(de,Y,q,Dve,Xve(c.from).length),Ove.insert(Y.startx,q-10,Y.stopx,q)}Nve.insertArrowHead(de),Nve.insertArrowCrossHead(de),Nve.insertArrowFilledHead(de),Nve.insertSequenceNumber(de),o(T,"activeEnd");let Ae=1,Le=1,Ne=[],Ie=[],Me=0;for(let c of we){let q,Y,re;switch(c.type){case Z.db.LINETYPE.NOTE:Ove.resetVerticalPos(),Y=c.noteModel,await Pve(de,Y);break;case Z.db.LINETYPE.ACTIVE_START:Ove.newActivation(c,de,pe);break;case Z.db.LINETYPE.ACTIVE_END:T(c,Ove.getVerticalPos());break;case Z.db.LINETYPE.LOOP_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin+Dve.boxTextMargin,c=>Ove.newLoop(c));break;case Z.db.LINETYPE.LOOP_END:q=Ove.endLoop(),await Nve.drawLoop(de,q,"loop",Dve),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos()),Ove.models.addLoop(q);break;case Z.db.LINETYPE.RECT_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin,c=>Ove.newLoop(void 0,c.message));break;case Z.db.LINETYPE.RECT_END:q=Ove.endLoop(),Ie.push(q),Ove.models.addLoop(q),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos());break;case Z.db.LINETYPE.OPT_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin+Dve.boxTextMargin,c=>Ove.newLoop(c));break;case Z.db.LINETYPE.OPT_END:q=Ove.endLoop(),await Nve.drawLoop(de,q,"opt",Dve),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos()),Ove.models.addLoop(q);break;case Z.db.LINETYPE.ALT_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin+Dve.boxTextMargin,c=>Ove.newLoop(c));break;case Z.db.LINETYPE.ALT_ELSE:zc(Se,c,Dve.boxMargin+Dve.boxTextMargin,Dve.boxMargin,c=>Ove.addSectionToLoop(c));break;case Z.db.LINETYPE.ALT_END:q=Ove.endLoop(),await Nve.drawLoop(de,q,"alt",Dve),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos()),Ove.models.addLoop(q);break;case Z.db.LINETYPE.PAR_START:case Z.db.LINETYPE.PAR_OVER_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin+Dve.boxTextMargin,c=>Ove.newLoop(c)),Ove.saveVerticalPos();break;case Z.db.LINETYPE.PAR_AND:zc(Se,c,Dve.boxMargin+Dve.boxTextMargin,Dve.boxMargin,c=>Ove.addSectionToLoop(c));break;case Z.db.LINETYPE.PAR_END:q=Ove.endLoop(),await Nve.drawLoop(de,q,"par",Dve),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos()),Ove.models.addLoop(q);break;case Z.db.LINETYPE.AUTONUMBER:Ae=c.message.start||Ae,Le=c.message.step||Le,c.message.visible?Z.db.enableSequenceNumbers():Z.db.disableSequenceNumbers();break;case Z.db.LINETYPE.CRITICAL_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin+Dve.boxTextMargin,c=>Ove.newLoop(c));break;case Z.db.LINETYPE.CRITICAL_OPTION:zc(Se,c,Dve.boxMargin+Dve.boxTextMargin,Dve.boxMargin,c=>Ove.addSectionToLoop(c));break;case Z.db.LINETYPE.CRITICAL_END:q=Ove.endLoop(),await Nve.drawLoop(de,q,"critical",Dve),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos()),Ove.models.addLoop(q);break;case Z.db.LINETYPE.BREAK_START:zc(Se,c,Dve.boxMargin,Dve.boxMargin+Dve.boxTextMargin,c=>Ove.newLoop(c));break;case Z.db.LINETYPE.BREAK_END:q=Ove.endLoop(),await Nve.drawLoop(de,q,"break",Dve),Ove.bumpVerticalPos(q.stopy-Ove.getVerticalPos()),Ove.models.addLoop(q);break;default:try{re=c.msgModel,re.starty=Ove.getVerticalPos(),re.sequenceIndex=Ae,re.sequenceVisible=Z.db.showSequenceNumbers();let q=await PHe(0,re);zHe(c,re,q,Me,pe,ge,me),Ne.push({messageModel:re,lineStartY:q}),Ove.models.addMessage(re)}catch(c){V.error("error while drawing message",c)}}[Z.db.LINETYPE.SOLID_OPEN,Z.db.LINETYPE.DOTTED_OPEN,Z.db.LINETYPE.SOLID,Z.db.LINETYPE.DOTTED,Z.db.LINETYPE.SOLID_CROSS,Z.db.LINETYPE.DOTTED_CROSS,Z.db.LINETYPE.SOLID_POINT,Z.db.LINETYPE.DOTTED_POINT,Z.db.LINETYPE.BIDIRECTIONAL_SOLID,Z.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(c.type)&&(Ae+=Le),Me++}V.debug("createdActors",ge),V.debug("destroyedActors",me),await jve(de,pe,be,!1);for(let c of Ne)await Gve(de,c.messageModel,c.lineStartY,Z);Dve.mirrorActors&&await jve(de,pe,be,!0),Ie.forEach(c=>Nve.drawBackgroundRect(de,c)),ave(de,pe,be,Dve);for(let c of Ove.models.boxes)c.height=Ove.getVerticalPos()-c.y,Ove.insert(c.x,c.y,c.x+c.width,c.height),c.startx=c.x,c.starty=c.y,c.stopx=c.startx+c.width,c.stopy=c.starty+c.height,c.stroke="rgb(0,0,0, 0.5)",Nve.drawBox(de,c,Dve);_e&&Ove.bumpVerticalPos(Dve.boxMargin);let Re=Yve(de,pe,be,he),{bounds:Oe}=Ove.getBounds();void 0===Oe.startx&&(Oe.startx=0),void 0===Oe.starty&&(Oe.starty=0),void 0===Oe.stopx&&(Oe.stopx=0),void 0===Oe.stopy&&(Oe.stopy=0);let Be=Oe.stopy-Oe.starty;Be<Re.maxHeight&&(Be=Re.maxHeight);let $e=Be+2*Dve.diagramMarginY;Dve.mirrorActors&&($e=$e-Dve.boxMargin+Dve.bottomMarginAdj);let Ue=Oe.stopx-Oe.startx;Ue<Re.maxWidth&&(Ue=Re.maxWidth);let qe=Ue+2*Dve.diagramMarginX;Te&&de.append("text").text(Te).attr("x",(Oe.stopx-Oe.startx)/2-2*Dve.diagramMarginX).attr("y",-25),hp(de,$e,qe,Dve.useMaxWidth);let je=Te?40:0;de.attr("viewBox",Oe.startx-Dve.diagramMarginX+" -"+(Dve.diagramMarginY+je)+" "+qe+" "+($e+je)),V.debug("models:",Ove.models)},"draw"),o($He,"getMaxMessageWidthPerActor"),Zve=o(function(c){let q=0,Y=zve(Dve);for(let V in c.links){let c=hM.calculateTextDimensions(V,Y).width+2*Dve.wrapPadding+2*Dve.boxMargin;q<c&&(q=c)}return q},"getRequiredPopupWidth"),o(UHe,"calculateActorMargins"),Jve=o(async function(c,q,Y){let Z=q.get(c.from),re=q.get(c.to),ae=Z.x,se=re.x,oe=c.wrap&&c.message,he=ip(c.message)?await ap(c.message,Xp()):hM.calculateTextDimensions(oe?hM.wrapLabel(c.message,Dve.width,Fve(Dve)):c.message,Fve(Dve)),de={width:oe?Dve.width:op.getMax(Dve.width,he.width+2*Dve.noteMargin),height:0,startx:Z.x,stopx:0,starty:0,stopy:0,message:c.message};return c.placement===Y.db.PLACEMENT.RIGHTOF?(de.width=oe?op.getMax(Dve.width,he.width):op.getMax(Z.width/2+re.width/2,he.width+2*Dve.noteMargin),de.startx=ae+(Z.width+Dve.actorMargin)/2):c.placement===Y.db.PLACEMENT.LEFTOF?(de.width=oe?op.getMax(Dve.width,he.width+2*Dve.noteMargin):op.getMax(Z.width/2+re.width/2,he.width+2*Dve.noteMargin),de.startx=ae-de.width+(Z.width-Dve.actorMargin)/2):c.to===c.from?(he=hM.calculateTextDimensions(oe?hM.wrapLabel(c.message,op.getMax(Dve.width,Z.width),Fve(Dve)):c.message,Fve(Dve)),de.width=oe?op.getMax(Dve.width,Z.width):op.getMax(Z.width,Dve.width,he.width+2*Dve.noteMargin),de.startx=ae+(Z.width-de.width)/2):(de.width=Math.abs(ae+Z.width/2-(se+re.width/2))+Dve.actorMargin,de.startx=ae<se?ae+Z.width/2-Dve.actorMargin/2:se+re.width/2-Dve.actorMargin/2),oe&&(de.message=hM.wrapLabel(c.message,de.width-2*Dve.wrapPadding,Fve(Dve))),V.debug(`NM:[${de.startx},${de.stopx},${de.starty},${de.stopy}:${de.width},${de.height}=${c.message}]`),de},"buildNoteModel"),exe=o(function(c,q,Y){if(![Y.db.LINETYPE.SOLID_OPEN,Y.db.LINETYPE.DOTTED_OPEN,Y.db.LINETYPE.SOLID,Y.db.LINETYPE.DOTTED,Y.db.LINETYPE.SOLID_CROSS,Y.db.LINETYPE.DOTTED_CROSS,Y.db.LINETYPE.SOLID_POINT,Y.db.LINETYPE.DOTTED_POINT,Y.db.LINETYPE.BIDIRECTIONAL_SOLID,Y.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(c.type))return{};let[V,Z]=Kve(c.from,q),[re,ae]=Kve(c.to,q),se=V<=re,oe=se?Z:V,he=se?re:ae,de=Math.abs(re-ae)>2,pe=o(c=>se?-c:c,"adjustValue");c.from===c.to?he=oe:(c.activate&&!de&&(he+=pe(Dve.activationWidth/2-1)),[Y.db.LINETYPE.SOLID_OPEN,Y.db.LINETYPE.DOTTED_OPEN].includes(c.type)||(he+=pe(3)),[Y.db.LINETYPE.BIDIRECTIONAL_SOLID,Y.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(c.type)&&(oe-=pe(3)));let ge=[V,Z,re,ae],me=Math.abs(oe-he);c.wrap&&c.message&&(c.message=hM.wrapLabel(c.message,op.getMax(me+2*Dve.wrapPadding,Dve.width),Bve(Dve)));let ve=hM.calculateTextDimensions(c.message,Bve(Dve));return{width:op.getMax(c.wrap?0:ve.width+2*Dve.wrapPadding,me+2*Dve.wrapPadding,Dve.width),height:0,startx:oe,stopx:he,starty:0,stopy:0,message:c.message,type:c.type,wrap:c.wrap,fromBounds:Math.min.apply(null,ge),toBounds:Math.max.apply(null,ge)}},"buildMessageModel"),txe=o(async function(c,q,Y,Z){let re,ae,se,oe={},he=[];for(let Y of c){switch(Y.id=hM.random({length:10}),Y.type){case Z.db.LINETYPE.LOOP_START:case Z.db.LINETYPE.ALT_START:case Z.db.LINETYPE.OPT_START:case Z.db.LINETYPE.PAR_START:case Z.db.LINETYPE.PAR_OVER_START:case Z.db.LINETYPE.CRITICAL_START:case Z.db.LINETYPE.BREAK_START:he.push({id:Y.id,msg:Y.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case Z.db.LINETYPE.ALT_ELSE:case Z.db.LINETYPE.PAR_AND:case Z.db.LINETYPE.CRITICAL_OPTION:Y.message&&(re=he.pop(),oe[re.id]=re,oe[Y.id]=re,he.push(re));break;case Z.db.LINETYPE.LOOP_END:case Z.db.LINETYPE.ALT_END:case Z.db.LINETYPE.OPT_END:case Z.db.LINETYPE.PAR_END:case Z.db.LINETYPE.CRITICAL_END:case Z.db.LINETYPE.BREAK_END:re=he.pop(),oe[re.id]=re;break;case Z.db.LINETYPE.ACTIVE_START:{let c=q.get(Y.from?Y.from:Y.to.actor),V=Xve(Y.from?Y.from:Y.to.actor).length,Z=c.x+c.width/2+(V-1)*Dve.activationWidth/2,re={startx:Z,stopx:Z+Dve.activationWidth,actor:Y.from,enabled:!0};Ove.activations.push(re)}break;case Z.db.LINETYPE.ACTIVE_END:{let c=Ove.activations.map(c=>c.actor).lastIndexOf(Y.from);Ove.activations.splice(c,1).splice(0,1)}}void 0!==Y.placement?(ae=await Jve(Y,q,Z),Y.noteModel=ae,he.forEach(c=>{re=c,re.from=op.getMin(re.from,ae.startx),re.to=op.getMax(re.to,ae.startx+ae.width),re.width=op.getMax(re.width,Math.abs(re.from-re.to))-Dve.labelBoxWidth})):(se=exe(Y,q,Z),Y.msgModel=se,se.startx&&se.stopx&&he.length>0&&he.forEach(c=>{if(re=c,se.startx===se.stopx){let c=q.get(Y.from),V=q.get(Y.to);re.from=op.getMin(c.x-se.width/2,c.x-c.width/2,re.from),re.to=op.getMax(V.x+se.width/2,V.x+c.width/2,re.to),re.width=op.getMax(re.width,Math.abs(re.to-re.from))-Dve.labelBoxWidth}else re.from=op.getMin(se.startx,re.from),re.to=op.getMax(se.stopx,re.to),re.width=op.getMax(re.width,se.width)-Dve.labelBoxWidth}))}return Ove.activations=[],V.debug("Loop type widths:",oe),oe},"calculateLoopBounds"),rxe={bounds:Ove,drawActors:jve,drawActorsPopup:Yve,setConf:Wve,draw:Qve}}),ixe={};vr(ixe,{diagram:()=>axe});var axe,sxe,oxe,cxe,hxe,uxe=M(()=>{rye(),Ive(),Mve(),nxe(),axe={parser:eye,db:jye,renderer:rxe,styles:Wye,init:o(({wrap:c})=>{jye.setWrap(c)},"init")}}),dxe=M(()=>{(sxe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,18],Y=[1,19],V=[1,20],Z=[1,41],re=[1,42],ae=[1,26],se=[1,24],oe=[1,25],he=[1,32],de=[1,33],pe=[1,34],ge=[1,45],me=[1,35],ve=[1,36],be=[1,37],we=[1,38],Te=[1,27],_e=[1,28],Ee=[1,29],Ce=[1,30],Se=[1,31],Ae=[1,44],Le=[1,46],Ne=[1,43],Ie=[1,47],Me=[1,9],Re=[1,8,9],Oe=[1,58],Be=[1,59],$e=[1,60],Ue=[1,61],qe=[1,62],je=[1,63],We=[1,64],He=[1,8,9,41],Ve=[1,76],Ke=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],Qe=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],Ze=[13,58,84,99,101,102],Je=[13,58,71,72,84,99,101,102],et=[13,58,66,67,68,69,70,84,99,101,102],tt=[1,98],rt=[1,115],nt=[1,107],it=[1,113],at=[1,108],st=[1,109],ot=[1,110],lt=[1,111],ht=[1,112],ut=[1,114],pt=[22,58,59,80,84,85,86,87,88,89],gt=[1,8,9,39,41,44],ft=[1,8,9,22],mt=[1,143],xt=[1,8,9,59],bt=[1,8,9,22,58,59,80,84,85,86,87,88,89],wt={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 8:this.$=re[se-1];break;case 9:case 12:case 14:this.$=re[se];break;case 10:case 13:this.$=re[se-2]+"."+re[se];break;case 11:case 15:case 95:this.$=re[se-1]+re[se];break;case 16:case 17:this.$=re[se-1]+"~"+re[se]+"~";break;case 18:V.addRelation(re[se]);break;case 19:re[se-1].title=V.cleanupLabel(re[se]),V.addRelation(re[se-1]);break;case 30:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 31:case 32:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 33:V.addClassesToNamespace(re[se-3],re[se-1]);break;case 34:V.addClassesToNamespace(re[se-4],re[se-1]);break;case 35:this.$=re[se],V.addNamespace(re[se]);break;case 36:case 46:case 59:case 92:this.$=[re[se]];break;case 37:this.$=[re[se-1]];break;case 38:re[se].unshift(re[se-2]),this.$=re[se];break;case 40:V.setCssClass(re[se-2],re[se]);break;case 41:V.addMembers(re[se-3],re[se-1]);break;case 42:V.setCssClass(re[se-5],re[se-3]),V.addMembers(re[se-5],re[se-1]);break;case 43:this.$=re[se],V.addClass(re[se]);break;case 44:this.$=re[se-1],V.addClass(re[se-1]),V.setClassLabel(re[se-1],re[se]);break;case 45:V.addAnnotation(re[se],re[se-2]);break;case 47:re[se].push(re[se-1]),this.$=re[se];break;case 48:case 50:case 51:break;case 49:V.addMember(re[se-1],V.cleanupLabel(re[se]));break;case 52:this.$={id1:re[se-2],id2:re[se],relation:re[se-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:re[se-3],id2:re[se],relation:re[se-1],relationTitle1:re[se-2],relationTitle2:"none"};break;case 54:this.$={id1:re[se-3],id2:re[se],relation:re[se-2],relationTitle1:"none",relationTitle2:re[se-1]};break;case 55:this.$={id1:re[se-4],id2:re[se],relation:re[se-2],relationTitle1:re[se-3],relationTitle2:re[se-1]};break;case 56:V.addNote(re[se],re[se-1]);break;case 57:V.addNote(re[se]);break;case 58:this.$=re[se-2],V.defineClass(re[se-1],re[se]);break;case 60:this.$=re[se-2].concat([re[se]]);break;case 61:V.setDirection("TB");break;case 62:V.setDirection("BT");break;case 63:V.setDirection("RL");break;case 64:V.setDirection("LR");break;case 65:this.$={type1:re[se-2],type2:re[se],lineType:re[se-1]};break;case 66:this.$={type1:"none",type2:re[se],lineType:re[se-1]};break;case 67:this.$={type1:re[se-1],type2:"none",lineType:re[se]};break;case 68:this.$={type1:"none",type2:"none",lineType:re[se]};break;case 69:this.$=V.relationType.AGGREGATION;break;case 70:this.$=V.relationType.EXTENSION;break;case 71:this.$=V.relationType.COMPOSITION;break;case 72:this.$=V.relationType.DEPENDENCY;break;case 73:this.$=V.relationType.LOLLIPOP;break;case 74:this.$=V.lineType.LINE;break;case 75:this.$=V.lineType.DOTTED_LINE;break;case 76:case 82:this.$=re[se-2],V.setClickEvent(re[se-1],re[se]);break;case 77:case 83:this.$=re[se-3],V.setClickEvent(re[se-2],re[se-1]),V.setTooltip(re[se-2],re[se]);break;case 78:this.$=re[se-2],V.setLink(re[se-1],re[se]);break;case 79:this.$=re[se-3],V.setLink(re[se-2],re[se-1],re[se]);break;case 80:this.$=re[se-3],V.setLink(re[se-2],re[se-1]),V.setTooltip(re[se-2],re[se]);break;case 81:this.$=re[se-4],V.setLink(re[se-3],re[se-2],re[se]),V.setTooltip(re[se-3],re[se-1]);break;case 84:this.$=re[se-3],V.setClickEvent(re[se-2],re[se-1],re[se]);break;case 85:this.$=re[se-4],V.setClickEvent(re[se-3],re[se-2],re[se-1]),V.setTooltip(re[se-3],re[se]);break;case 86:this.$=re[se-3],V.setLink(re[se-2],re[se]);break;case 87:this.$=re[se-4],V.setLink(re[se-3],re[se-1],re[se]);break;case 88:this.$=re[se-4],V.setLink(re[se-3],re[se-1]),V.setTooltip(re[se-3],re[se]);break;case 89:this.$=re[se-5],V.setLink(re[se-4],re[se-2],re[se]),V.setTooltip(re[se-4],re[se-1]);break;case 90:this.$=re[se-2],V.setCssStyle(re[se-1],re[se]);break;case 91:V.setCssClass(re[se-1],re[se]);break;case 93:re[se-2].push(re[se]),this.$=re[se-2]}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:q,35:Y,37:V,38:22,42:Z,43:23,46:re,47:ae,49:se,50:oe,52:he,54:de,55:pe,58:ge,60:me,61:ve,62:be,63:we,73:Te,74:_e,76:Ee,80:Ce,81:Se,84:Ae,99:Le,101:Ne,102:Ie},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},c(Me,[2,5],{8:[1,48]}),{8:[1,49]},c(Re,[2,18],{22:[1,50]}),c(Re,[2,20]),c(Re,[2,21]),c(Re,[2,22]),c(Re,[2,23]),c(Re,[2,24]),c(Re,[2,25]),c(Re,[2,26]),c(Re,[2,27]),c(Re,[2,28]),c(Re,[2,29]),{34:[1,51]},{36:[1,52]},c(Re,[2,32]),c(Re,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:Oe,67:Be,68:$e,69:Ue,70:qe,71:je,72:We}),{39:[1,65]},c(He,[2,39],{39:[1,67],44:[1,66]}),c(Re,[2,50]),c(Re,[2,51]),{16:68,58:ge,84:Ae,99:Le,101:Ne},{16:39,18:69,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},{16:39,18:70,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},{16:39,18:71,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},{13:Ve,53:75},{56:77,58:[1,78]},c(Re,[2,61]),c(Re,[2,62]),c(Re,[2,63]),c(Re,[2,64]),c(Ke,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:ge,84:Ae,99:Le,101:Ne,102:Ie}),c(Ke,[2,14],{20:[1,82]}),{15:83,16:84,58:ge,84:Ae,99:Le,101:Ne},{16:39,18:85,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},c(Qe,[2,118]),c(Qe,[2,119]),c(Qe,[2,120]),c(Qe,[2,121]),c([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),c(Me,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:q,35:Y,37:V,42:Z,46:re,47:ae,49:se,50:oe,52:he,54:de,55:pe,58:ge,60:me,61:ve,62:be,63:we,73:Te,74:_e,76:Ee,80:Ce,81:Se,84:Ae,99:Le,101:Ne,102:Ie}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:q,35:Y,37:V,38:22,42:Z,43:23,46:re,47:ae,49:se,50:oe,52:he,54:de,55:pe,58:ge,60:me,61:ve,62:be,63:we,73:Te,74:_e,76:Ee,80:Ce,81:Se,84:Ae,99:Le,101:Ne,102:Ie},c(Re,[2,19]),c(Re,[2,30]),c(Re,[2,31]),{13:[1,89],16:39,18:88,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},{51:90,64:56,65:57,66:Oe,67:Be,68:$e,69:Ue,70:qe,71:je,72:We},c(Re,[2,49]),{65:91,71:je,72:We},c(Ze,[2,68],{64:92,66:Oe,67:Be,68:$e,69:Ue,70:qe}),c(Je,[2,69]),c(Je,[2,70]),c(Je,[2,71]),c(Je,[2,72]),c(Je,[2,73]),c(et,[2,74]),c(et,[2,75]),{8:[1,94],24:95,40:93,43:23,46:re},{16:96,58:ge,84:Ae,99:Le,101:Ne},{45:97,49:tt},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:rt,57:104,58:nt,80:it,82:105,83:106,84:at,85:st,86:ot,87:lt,88:ht,89:ut},{58:[1,116]},{13:Ve,53:117},c(Re,[2,57]),c(Re,[2,123]),{22:rt,57:118,58:nt,59:[1,119],80:it,82:105,83:106,84:at,85:st,86:ot,87:lt,88:ht,89:ut},c(pt,[2,59]),{16:39,18:120,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},c(Ke,[2,15]),c(Ke,[2,16]),c(Ke,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:ge,84:Ae,99:Le,101:Ne},c(gt,[2,43],{11:123,12:[1,124]}),c(Me,[2,7]),{9:[1,125]},c(ft,[2,52]),{16:39,18:126,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},{13:[1,128],16:39,18:127,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},c(Ze,[2,67],{64:129,66:Oe,67:Be,68:$e,69:Ue,70:qe}),c(Ze,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:re},{8:[1,132],41:[2,36]},c(He,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:tt},{16:39,18:136,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},c(Re,[2,76],{13:[1,137]}),c(Re,[2,78],{13:[1,139],75:[1,138]}),c(Re,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},c(Re,[2,90],{59:mt}),c(xt,[2,92],{83:144,22:rt,58:nt,80:it,84:at,85:st,86:ot,87:lt,88:ht,89:ut}),c(bt,[2,94]),c(bt,[2,96]),c(bt,[2,97]),c(bt,[2,98]),c(bt,[2,99]),c(bt,[2,100]),c(bt,[2,101]),c(bt,[2,102]),c(bt,[2,103]),c(bt,[2,104]),c(Re,[2,91]),c(Re,[2,56]),c(Re,[2,58],{59:mt}),{58:[1,145]},c(Ke,[2,13]),{15:146,16:84,58:ge,84:Ae,99:Le,101:Ne},{39:[2,11]},c(gt,[2,44]),{13:[1,147]},{1:[2,4]},c(ft,[2,54]),c(ft,[2,53]),{16:39,18:148,19:40,58:ge,84:Ae,99:Le,101:Ne,102:Ie},c(Ze,[2,65]),c(Re,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:re},{45:151,49:tt},c(He,[2,41]),{41:[2,47]},c(Re,[2,45]),c(Re,[2,77]),c(Re,[2,79]),c(Re,[2,80],{75:[1,152]}),c(Re,[2,83]),c(Re,[2,84],{13:[1,153]}),c(Re,[2,86],{13:[1,155],75:[1,154]}),{22:rt,58:nt,80:it,82:156,83:106,84:at,85:st,86:ot,87:lt,88:ht,89:ut},c(bt,[2,95]),c(pt,[2,60]),{39:[2,10]},{14:[1,157]},c(ft,[2,55]),c(Re,[2,34]),{41:[2,38]},{41:[1,158]},c(Re,[2,81]),c(Re,[2,85]),c(Re,[2,87]),c(Re,[2,88],{75:[1,159]}),c(xt,[2,93],{83:144,22:rt,58:nt,80:it,84:at,85:st,86:ot,87:lt,88:ht,89:ut}),c(gt,[2,8]),c(He,[2,42]),c(Re,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function Tt(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function Ye(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(Tt,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=Tt()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},kt={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(c,q,Y,V){switch(Y){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:case 5:case 14:case 31:case 36:case 40:case 47:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 19:case 22:case 24:case 58:case 61:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 35:return 8;case 15:case 16:return 7;case 17:case 37:case 45:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 23:return 78;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:case 39:return this.popState(),8;case 32:return this.begin("namespace-body"),39;case 33:case 43:return this.popState(),41;case 34:case 44:return"EOF_IN_STRUCT";case 38:return this.begin("class"),46;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 46:return"OPEN_IN_STRUCT";case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:case 65:case 66:case 67:return 75;case 68:case 69:return 67;case 70:case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:case 85:return 88;case 86:return 89;case 87:case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};function xe(){this.yy={}}return wt.lexer=kt,o(xe,"Parser"),xe.prototype=wt,wt.Parser=xe,new xe}()).parser=sxe,oxe=sxe}),pxe=M(()=>{hf(),bp(),cxe=["#","+","~","-",""],hxe=class{static{o(this,"ClassMember")}constructor(c,q){this.memberType=q,this.visibility="",this.classifier="",this.text="";let Y=Md(c,Xp());this.parseMember(Y)}getDisplayDetails(){let c=this.visibility+Wd(this.id);return"method"===this.memberType&&(c+=`(${Wd(this.parameters.trim())})`,this.returnType&&(c+=" : "+Wd(this.returnType))),c=c.trim(),{displayText:c,cssStyle:this.parseClassifier()}}parseMember(c){let q="";if("method"===this.memberType){let Y=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(c);if(Y){let c=Y[1]?Y[1].trim():"";if(cxe.includes(c)&&(this.visibility=c),this.id=Y[2],this.parameters=Y[3]?Y[3].trim():"",q=Y[4]?Y[4].trim():"",this.returnType=Y[5]?Y[5].trim():"",""===q){let c=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(c)&&(q=c,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let Y=c.length,V=c.substring(0,1),Z=c.substring(Y-1);cxe.includes(V)&&(this.visibility=V),/[$*]/.exec(Z)&&(q=Z),this.id=c.substring(""===this.visibility?0:1,""===q?Y:Y-1)}this.classifier=q,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let Y=`${this.visibility?"\\"+this.visibility:""}${Wd(this.id)}${"method"===this.memberType?`(${Wd(this.parameters)})${this.returnType?" : "+Wd(this.returnType):""}`:""}`;this.text=Y.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}});function Tde(c){let q;switch(c){case 0:q="aggregation";break;case 1:q="extension";break;case 2:q="composition";break;case 3:q="dependency";break;case 4:q="lollipop";break;default:q="none"}return q}var gxe,fxe,mxe,yxe,vxe,wxe,kxe,Txe,Exe,Cxe,Sxe,Pxe,Bxe,Fxe,$xe,zxe,Gxe,Uxe,qxe,jxe,Yxe,Wxe,Hxe,Vxe,Xxe,Kxe,Qxe,Zxe,Jxe,ebe,tbe,rbe,nbe,ibe,abe,sbe,obe,lbe,hbe,dbe,pbe,gbe,fbe,mbe,ybe,vbe,xbe,bbe,wbe,kbe,Tbe,_be,Ebe,Cbe,Sbe=M(()=>{U_(),Ae(),hf(),bp(),yM(),cf(),pxe(),gxe="classId-",fxe=[],mxe=new Map,yxe=new Map,vxe=[],wxe=[],kxe=0,Txe=new Map,Exe=0,Cxe=[],Sxe=o(c=>op.sanitizeText(c,Xp()),"sanitizeText"),Pxe=o(function(c){let q=op.sanitizeText(c,Xp()),Y="",V=q;if(q.indexOf("~")>0){let c=q.split("~");V=Sxe(c[0]),Y=Sxe(c[1])}return{className:V,type:Y}},"splitClassNameAndType"),Bxe=o(function(c,q){let Y=op.sanitizeText(c,Xp());q&&(q=Sxe(q));let{className:V}=Pxe(Y);mxe.get(V).label=q,mxe.get(V).text=`${q}${mxe.get(V).type?`<${mxe.get(V).type}>`:""}`},"setClassLabel"),Fxe=o(function(c){let q=op.sanitizeText(c,Xp()),{className:Y,type:V}=Pxe(q);if(mxe.has(Y))return;let Z=op.sanitizeText(Y,Xp());mxe.set(Z,{id:Z,type:V,label:Z,text:`${Z}${V?`&lt;${V}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:gxe+Z+"-"+kxe}),kxe++},"addClass"),$xe=o(function(c,q){let Y={id:`interface${wxe.length}`,label:c,classId:q};wxe.push(Y)},"addInterface"),zxe=o(function(c){let q=op.sanitizeText(c,Xp());if(mxe.has(q))return mxe.get(q).domId;throw new Error("Class not found: "+q)},"lookUpDomId"),Gxe=o(function(){fxe=[],mxe=new Map,vxe=[],wxe=[],(Cxe=[]).push(lbe),Txe=new Map,Exe=0,hbe="TB",Mp()},"clear"),Uxe=o(function(c){return mxe.get(c)},"getClass"),qxe=o(function(){return mxe},"getClasses"),jxe=o(function(){return fxe},"getRelations"),Yxe=o(function(){return vxe},"getNotes"),Wxe=o(function(c){V.debug("Adding relation: "+JSON.stringify(c));let q=[obe.LOLLIPOP,obe.AGGREGATION,obe.COMPOSITION,obe.DEPENDENCY,obe.EXTENSION];c.relation.type1!==obe.LOLLIPOP||q.includes(c.relation.type2)?c.relation.type2!==obe.LOLLIPOP||q.includes(c.relation.type1)?(Fxe(c.id1),Fxe(c.id2)):(Fxe(c.id1),$xe(c.id2,c.id1),c.id2="interface"+(wxe.length-1)):(Fxe(c.id2),$xe(c.id1,c.id2),c.id1="interface"+(wxe.length-1)),c.id1=Pxe(c.id1).className,c.id2=Pxe(c.id2).className,c.relationTitle1=op.sanitizeText(c.relationTitle1.trim(),Xp()),c.relationTitle2=op.sanitizeText(c.relationTitle2.trim(),Xp()),fxe.push(c)},"addRelation"),Hxe=o(function(c,q){let Y=Pxe(c).className;mxe.get(Y).annotations.push(q)},"addAnnotation"),Vxe=o(function(c,q){Fxe(c);let Y=Pxe(c).className,V=mxe.get(Y);if("string"==typeof q){let c=q.trim();c.startsWith("<<")&&c.endsWith(">>")?V.annotations.push(Sxe(c.substring(2,c.length-2))):c.indexOf(")")>0?V.methods.push(new hxe(c,"method")):c&&V.members.push(new hxe(c,"attribute"))}},"addMember"),Xxe=o(function(c,q){Array.isArray(q)&&(q.reverse(),q.forEach(q=>Vxe(c,q)))},"addMembers"),Kxe=o(function(c,q){let Y={id:`note${vxe.length}`,class:q,text:c};vxe.push(Y)},"addNote"),Qxe=o(function(c){return c.startsWith(":")&&(c=c.substring(1)),Sxe(c.trim())},"cleanupLabel"),Zxe=o(function(c,q){c.split(",").forEach(function(c){let Y=c;/\d/.exec(c[0])&&(Y=gxe+Y);let V=mxe.get(Y);V&&(V.cssClasses+=" "+q)})},"setCssClass"),Jxe=o(function(c,q){for(let Y of c){let c=yxe.get(Y);void 0===c&&(c={id:Y,styles:[],textStyles:[]},yxe.set(Y,c)),q&&q.forEach(function(q){if(/color/.exec(q)){let Y=q.replace("fill","bgFill");c.textStyles.push(Y)}c.styles.push(q)}),mxe.forEach(c=>{c.cssClasses.includes(Y)&&c.styles.push(...q.flatMap(c=>c.split(",")))})}},"defineClass"),ebe=o(function(c,q){c.split(",").forEach(function(c){void 0!==q&&(mxe.get(c).tooltip=Sxe(q))})},"setTooltip"),tbe=o(function(c,q){return q&&Txe.has(q)?Txe.get(q).classes.get(c).tooltip:mxe.get(c).tooltip},"getTooltip"),rbe=o(function(c,q,Y){let V=Xp();c.split(",").forEach(function(c){let Z=c;/\d/.exec(c[0])&&(Z=gxe+Z);let re=mxe.get(Z);re&&(re.link=hM.formatUrl(q,V),"sandbox"===V.securityLevel?re.linkTarget="_top":re.linkTarget="string"==typeof Y?Sxe(Y):"_blank")}),Zxe(c,"clickable")},"setLink"),nbe=o(function(c,q,Y){c.split(",").forEach(function(c){ibe(c,q,Y),mxe.get(c).haveCallback=!0}),Zxe(c,"clickable")},"setClickEvent"),ibe=o(function(c,q,Y){let V=op.sanitizeText(c,Xp());if("loose"!==Xp().securityLevel||void 0===q)return;let Z=V;if(mxe.has(Z)){let c=zxe(Z),V=[];if("string"==typeof Y){V=Y.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let c=0;c<V.length;c++){let q=V[c].trim();q.startsWith('"')&&q.endsWith('"')&&(q=q.substr(1,q.length-2)),V[c]=q}}0===V.length&&V.push(c),Cxe.push(function(){let Y=document.querySelector(`[id="${c}"]`);null!==Y&&Y.addEventListener("click",function(){hM.runFunc(q,...V)},!1)})}},"setClickFunc"),abe=o(function(c){Cxe.forEach(function(q){q(c)})},"bindFunctions"),sbe={LINE:0,DOTTED_LINE:1},obe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},lbe=o(function(c){let q=ze(".mermaidTooltip");null===(q._groups||q)[0][0]&&(q=ze("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ze(c).select("svg").selectAll("g.node").on("mouseover",function(){let c=ze(this);if(null===c.attr("title"))return;let Y=this.getBoundingClientRect();q.transition().duration(200).style("opacity",".9"),q.text(c.attr("title")).style("left",window.scrollX+Y.left+(Y.right-Y.left)/2+"px").style("top",window.scrollY+Y.top-14+document.body.scrollTop+"px"),q.html(q.html().replace(/&lt;br\/&gt;/g,"<br/>")),c.classed("hover",!0)}).on("mouseout",function(){q.transition().duration(500).style("opacity",0),ze(this).classed("hover",!1)})},"setupToolTips"),Cxe.push(lbe),hbe="TB",dbe=o(()=>hbe,"getDirection"),pbe=o(c=>{hbe=c},"setDirection"),gbe=o(function(c){Txe.has(c)||(Txe.set(c,{id:c,classes:new Map,children:{},domId:gxe+c+"-"+Exe}),Exe++)},"addNamespace"),fbe=o(function(c){return Txe.get(c)},"getNamespace"),mbe=o(function(){return Txe},"getNamespaces"),ybe=o(function(c,q){if(Txe.has(c))for(let Y of q){let{className:q}=Pxe(Y);mxe.get(q).parent=c,Txe.get(c).classes.set(q,mxe.get(q))}},"addClassesToNamespace"),vbe=o(function(c,q){let Y=mxe.get(c);if(q&&Y)for(let c of q)c.includes(",")?Y.styles.push(...c.split(",")):Y.styles.push(c)},"setCssStyle"),o(Tde,"getArrowMarker"),xbe=o(()=>{let c=[],q=[],Y=Xp();for(let q of Txe.keys()){let V=Txe.get(q);if(V){let q={id:V.id,label:V.id,isGroup:!0,padding:Y.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:Y.look};c.push(q)}}for(let q of mxe.keys()){let V=mxe.get(q);if(V){let q=V;q.parentId=V.parent,q.look=Y.look,c.push(q)}}let V=0;for(let Z of vxe){V++;let re={id:Z.id,label:Z.text,isGroup:!1,shape:"note",padding:Y.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${Y.themeVariables.noteBkgColor}`,`stroke: ${Y.themeVariables.noteBorderColor}`],look:Y.look};c.push(re);let ae=mxe.get(Z.class)?.id??"";if(ae){let c={id:`edgeNote${V}`,start:Z.id,end:ae,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:Y.look};q.push(c)}}for(let q of wxe){let V={id:q.id,label:q.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:Y.look};c.push(V)}V=0;for(let c of fxe){V++;let Z={id:mM(c.id1,c.id2,{prefix:"id",counter:V}),start:c.id1,end:c.id2,type:"normal",label:c.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:Tde(c.relation.type1),arrowTypeEnd:Tde(c.relation.type2),startLabelRight:"none"===c.relationTitle1?"":c.relationTitle1,endLabelLeft:"none"===c.relationTitle2?"":c.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:c.style||"",pattern:1==c.relation.lineType?"dashed":"solid",look:Y.look};q.push(Z)}return{nodes:c,edges:q,other:{},config:Y,direction:dbe()}},"getData"),bbe={setAccTitle:Rp,getAccTitle:Fp,getAccDescription:jp,setAccDescription:qp,getConfig:o(()=>Xp().class,"getConfig"),addClass:Fxe,bindFunctions:abe,clear:Gxe,getClass:Uxe,getClasses:qxe,getNotes:Yxe,addAnnotation:Hxe,addNote:Kxe,getRelations:jxe,addRelation:Wxe,getDirection:dbe,setDirection:pbe,addMember:Vxe,addMembers:Xxe,cleanupLabel:Qxe,lineType:sbe,relationType:obe,setClickEvent:nbe,setCssClass:Zxe,defineClass:Jxe,setLink:rbe,getTooltip:tbe,setTooltip:ebe,lookUpDomId:zxe,setDiagramTitle:Yp,getDiagramTitle:Wp,setClassLabel:Bxe,addNamespace:gbe,addClassesToNamespace:ybe,getNamespace:fbe,getNamespaces:mbe,setCssStyle:vbe,getData:xbe}}),Abe=M(()=>{wbe=o(c=>`g.classGroup text {\n  fill: ${c.nodeBorder||c.classText};\n  stroke: none;\n  font-family: ${c.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${c.classText};\n}\n.edgeLabel .label rect {\n  fill: ${c.mainBkg};\n}\n.label text {\n  fill: ${c.classText};\n}\n\n.labelBkg {\n  background: ${c.mainBkg};\n}\n.edgeLabel .label span {\n  background: ${c.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${c.mainBkg};\n    stroke: ${c.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${c.nodeBorder};\n  stroke-width: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${c.mainBkg};\n  stroke: ${c.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${c.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${c.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${c.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${c.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n.dotted-line{\n  stroke-dasharray: 1 2;\n}\n\n#compositionStart, .composition {\n  fill: ${c.lineColor} !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${c.lineColor} !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${c.lineColor} !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${c.lineColor} !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: transparent !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: transparent !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: transparent !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: transparent !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${c.mainBkg} !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${c.mainBkg} !important;\n  stroke: ${c.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n  line-height: initial;\n}\n\n.classTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${c.textColor};\n}\n`,"getStyles"),kbe=wbe}),Nbe=M(()=>{hf(),Ae(),yG(),c4(),h4(),yM(),Tbe=o((c,q="TB")=>{if(!c.doc)return q;let Y=q;for(let q of c.doc)"dir"===q.stmt&&(Y=q.value);return Y},"getDir"),_be=o(function(c,q){return q.db.getClasses()},"getClasses"),Ebe=o(async function(c,q,Y,Z){V.info("REF0:"),V.info("Drawing class diagram (v3)",q);let{securityLevel:re,state:ae,layout:se}=Xp(),oe=Z.db.getData(),he=rG(q,re);oe.type=Z.type,oe.layoutAlgorithm=X2(se),oe.nodeSpacing=ae?.nodeSpacing||50,oe.rankSpacing=ae?.rankSpacing||50,oe.markers=["aggregation","extension","composition","dependency","lollipop"],oe.diagramId=q,await V2(oe,he);hM.insertTitle(he,"classDiagramTitleText",ae?.titleTopMargin??25,Z.db.getDiagramTitle()),K2(he,8,"classDiagram",ae?.useMaxWidth??!0)},"draw"),Cbe={getClasses:_be,draw:Ebe,getDir:Tbe}}),Ibe={};vr(Ibe,{diagram:()=>Rbe});var Rbe,Dbe=M(()=>{dxe(),Sbe(),Abe(),Nbe(),Rbe={parser:oxe,db:bbe,renderer:Cbe,styles:kbe,init:o(c=>{c.class||(c.class={}),c.class.arrowMarkerAbsolute=c.arrowMarkerAbsolute,bbe.clear()},"init")}}),Obe={};vr(Obe,{diagram:()=>Pbe});var Pbe,Bbe,Fbe,$be,zbe,Ube,qbe,jbe,Ybe,Wbe,Hbe,Vbe,Xbe,Kbe,Jbe,wwe,kwe,Twe,Ewe,Cwe,Swe,Awe,Nwe,Iwe,Owe,Fwe,Uwe,Vwe,eke,tke,rke,nke,ike,ake,ske,oke,lke,fTe,kTe=M(()=>{dxe(),Sbe(),Abe(),Nbe(),Pbe={parser:oxe,db:bbe,renderer:Cbe,styles:kbe,init:o(c=>{c.class||(c.class={}),c.class.arrowMarkerAbsolute=c.arrowMarkerAbsolute,bbe.clear()},"init")}}),ETe=M(()=>{(Bbe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,2],Y=[1,3],V=[1,4],Z=[2,4],re=[1,9],ae=[1,11],se=[1,16],oe=[1,17],he=[1,18],de=[1,19],pe=[1,32],ge=[1,20],me=[1,21],ve=[1,22],be=[1,23],we=[1,24],Te=[1,26],_e=[1,27],Ee=[1,28],Ce=[1,29],Se=[1,30],Ae=[1,31],Le=[1,34],Ne=[1,35],Ie=[1,36],Me=[1,37],Re=[1,33],Oe=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],Be=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],$e=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],Ue={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 3:return V.setRootDoc(re[se]),re[se];case 4:this.$=[];break;case 5:"nl"!=re[se]&&(re[se-1].push(re[se]),this.$=re[se-1]);break;case 6:case 7:case 12:this.$=re[se];break;case 8:this.$="nl";break;case 13:let c=re[se-1];c.description=V.trimColon(re[se]),this.$=c;break;case 14:this.$={stmt:"relation",state1:re[se-2],state2:re[se]};break;case 15:let q=V.trimColon(re[se]);this.$={stmt:"relation",state1:re[se-3],state2:re[se-1],description:q};break;case 19:this.$={stmt:"state",id:re[se-3],type:"default",description:"",doc:re[se-1]};break;case 20:var oe=re[se],he=re[se-2].trim();if(re[se].match(":")){var de=re[se].split(":");oe=de[0],he=[he,de[1]]}this.$={stmt:"state",id:oe,type:"default",description:he};break;case 21:this.$={stmt:"state",id:re[se-3],type:"default",description:re[se-5],doc:re[se-1]};break;case 22:this.$={stmt:"state",id:re[se],type:"fork"};break;case 23:this.$={stmt:"state",id:re[se],type:"join"};break;case 24:this.$={stmt:"state",id:re[se],type:"choice"};break;case 25:this.$={stmt:"state",id:V.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:re[se-1].trim(),note:{position:re[se-2].trim(),text:re[se].trim()}};break;case 29:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 30:case 31:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:re[se-1].trim(),classes:re[se].trim()};break;case 34:this.$={stmt:"style",id:re[se-1].trim(),styleClass:re[se].trim()};break;case 35:this.$={stmt:"applyClass",id:re[se-1].trim(),styleClass:re[se].trim()};break;case 36:V.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:V.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:V.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:V.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:re[se].trim(),type:"default",description:""};break;case 44:case 45:this.$={stmt:"state",id:re[se-2].trim(),classes:[re[se].trim()],type:"default",description:""}}},"anonymous"),table:[{3:1,4:q,5:Y,6:V},{1:[3]},{3:5,4:q,5:Y,6:V},{3:6,4:q,5:Y,6:V},c([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],Z,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:re,5:ae,8:8,9:10,10:12,11:13,12:14,13:15,16:se,17:oe,19:he,22:de,24:pe,25:ge,26:me,27:ve,28:be,29:we,32:25,33:Te,35:_e,37:Ee,38:Ce,42:Se,45:Ae,48:Le,49:Ne,50:Ie,51:Me,54:Re},c(Oe,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:se,17:oe,19:he,22:de,24:pe,25:ge,26:me,27:ve,28:be,29:we,32:25,33:Te,35:_e,37:Ee,38:Ce,42:Se,45:Ae,48:Le,49:Ne,50:Ie,51:Me,54:Re},c(Oe,[2,7]),c(Oe,[2,8]),c(Oe,[2,9]),c(Oe,[2,10]),c(Oe,[2,11]),c(Oe,[2,12],{14:[1,39],15:[1,40]}),c(Oe,[2,16]),{18:[1,41]},c(Oe,[2,18],{20:[1,42]}),{23:[1,43]},c(Oe,[2,22]),c(Oe,[2,23]),c(Oe,[2,24]),c(Oe,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},c(Oe,[2,28]),{34:[1,48]},{36:[1,49]},c(Oe,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},c(Be,[2,42],{55:[1,54]}),c(Be,[2,43],{55:[1,55]}),c(Oe,[2,36]),c(Oe,[2,37]),c(Oe,[2,38]),c(Oe,[2,39]),c(Oe,[2,6]),c(Oe,[2,13]),{13:56,24:pe,54:Re},c(Oe,[2,17]),c($e,Z,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},c(Oe,[2,29]),c(Oe,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},c(Oe,[2,14],{14:[1,67]}),{4:re,5:ae,8:8,9:10,10:12,11:13,12:14,13:15,16:se,17:oe,19:he,21:[1,68],22:de,24:pe,25:ge,26:me,27:ve,28:be,29:we,32:25,33:Te,35:_e,37:Ee,38:Ce,42:Se,45:Ae,48:Le,49:Ne,50:Ie,51:Me,54:Re},c(Oe,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},c(Oe,[2,32]),c(Oe,[2,33]),c(Oe,[2,34]),c(Oe,[2,35]),c(Be,[2,44]),c(Be,[2,45]),c(Oe,[2,15]),c(Oe,[2,19]),c($e,Z,{7:72}),c(Oe,[2,26]),c(Oe,[2,27]),{4:re,5:ae,8:8,9:10,10:12,11:13,12:14,13:15,16:se,17:oe,19:he,21:[1,73],22:de,24:pe,25:ge,26:me,27:ve,28:be,29:we,32:25,33:Te,35:_e,37:Ee,38:Ce,42:Se,45:Ae,48:Le,49:Ne,50:Ie,51:Me,54:Re},c(Oe,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function Fe(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function ke(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(Fe,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=Fe()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},qe={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return 41;case 1:case 42:return 48;case 2:case 43:return 49;case 3:case 44:return 50;case 4:case 45:return 51;case 5:case 6:case 8:case 9:case 10:case 11:case 54:case 56:case 62:break;case 7:case 77:return 5;case 12:case 32:return this.pushState("SCALE"),17;case 13:case 33:return 18;case 14:case 20:case 34:case 49:case 52:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 35:this.pushState("STATE");break;case 36:case 39:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),25;case 37:case 40:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),26;case 38:case 41:return this.popState(),q.yytext=q.yytext.slice(0,-10).trim(),27;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:case 64:return this.popState(),"ID";case 50:return"STATE_DESCR";case 51:return 19;case 53:return this.popState(),this.pushState("struct"),20;case 55:return this.popState(),21;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 63:return"NOTE_TEXT";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),q.yytext=q.yytext.substr(2).trim(),31;case 67:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),31;case 68:case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return q.yytext=q.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};function P(){this.yy={}}return Ue.lexer=qe,o(P,"Parser"),P.prototype=Ue,Ue.Parser=P,new P}()).parser=Bbe,Fbe=Bbe}),ATe=M(()=>{$be="LR",zbe="TB",Ube="state",qbe="relation",jbe="classDef",Ybe="style",Wbe="applyClass",Hbe="default",Vbe="divider",Xbe="fill:none",Kbe="fill: #333",Jbe="c",wwe="text",kwe="normal",Twe="rect",Ewe="rectWithTitle",Cwe="stateStart",Swe="stateEnd",Awe="divider",Nwe="roundedWithTitle",Iwe="note",Owe="noteGroup",Uwe=`${Fwe="statediagram"}-state`,eke=`${Vwe="transition"} note-edge`,tke=`${Fwe}-note`,rke=`${Fwe}-cluster`,nke=`${Fwe}-cluster-alt`,ske="state",lke=`${oke="----"}${ake="note"}`,fTe=`${oke}${ike="parent"}`});function QO(c="",q=0,Y="",V=oke){let Z=null!==Y&&Y.length>0?`${V}${Y}`:"";return`${ske}-${c}${Z}-${q}`}function OE(c,q,Y){if(!q.id||"</join></fork>"===q.id||"</choice>"===q.id)return;q.cssClasses&&(Array.isArray(q.cssCompiledStyles)||(q.cssCompiledStyles=[]),q.cssClasses.split(" ").forEach(c=>{if(Y.get(c)){let V=Y.get(c);q.cssCompiledStyles=[...q.cssCompiledStyles,...V.styles]}}));let V=c.find(c=>c.id===q.id);V?Object.assign(V,q):c.push(q)}function $We(c){return c?.classes?.join(" ")??""}function VWe(c){return c?.styles??[]}var LTe,OTe,PTe,BTe,FTe,$Te,zTe,GTe,UTe,qTe,jTe=M(()=>{hf(),Ae(),bp(),ATe(),LTe=new Map,OTe=0,o(QO,"stateDomId"),PTe=o((c,q,Y,Z,re,ae,se,oe)=>{V.trace("items",q),q.forEach(q=>{switch(q.stmt){case Ube:case Hbe:FTe(c,q,Y,Z,re,ae,se,oe);break;case qbe:{FTe(c,q.state1,Y,Z,re,ae,se,oe),FTe(c,q.state2,Y,Z,re,ae,se,oe);let V={id:"edge"+OTe,start:q.state1.id,end:q.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Xbe,labelStyle:"",label:op.sanitizeText(q.description,Xp()),arrowheadStyle:Kbe,labelpos:Jbe,labelType:wwe,thickness:kwe,classes:Vwe,look:se};re.push(V),OTe++}}})},"setupDoc"),BTe=o((c,q=zbe)=>{let Y=q;if(c.doc)for(let q of c.doc)"dir"===q.stmt&&(Y=q.value);return Y},"getDir"),o(OE,"insertOrUpdateNode"),o($We,"getClassesFromDbInfo"),o(VWe,"getStylesFromDbInfo"),FTe=o((c,q,Y,Z,re,ae,se,oe)=>{let he=q.id,de=Y.get(he),pe=$We(de),ge=VWe(de);if(V.info("dataFetcher parsedItem",q,de,ge),"root"!==he){let Y=Twe;!0===q.start?Y=Cwe:!1===q.start&&(Y=Swe),q.type!==Hbe&&(Y=q.type),LTe.get(he)||LTe.set(he,{id:he,shape:Y,description:op.sanitizeText(he,Xp()),cssClasses:`${pe} ${Uwe}`,cssStyles:ge});let de=LTe.get(he);q.description&&(Array.isArray(de.description)?(de.shape=Ewe,de.description.push(q.description)):de.description?.length>0?(de.shape=Ewe,de.description===he?de.description=[q.description]:de.description=[de.description,q.description]):(de.shape=Twe,de.description=q.description),de.description=op.sanitizeTextOrArray(de.description,Xp())),1===de.description?.length&&de.shape===Ewe&&("group"===de.type?de.shape=Nwe:de.shape=Twe),!de.type&&q.doc&&(V.info("Setting cluster for XCX",he,BTe(q)),de.type="group",de.isGroup=!0,de.dir=BTe(q),de.shape=q.type===Vbe?Awe:Nwe,de.cssClasses=`${de.cssClasses} ${rke} ${ae?nke:""}`);let me={labelStyle:"",shape:de.shape,label:de.description,cssClasses:de.cssClasses,cssCompiledStyles:[],cssStyles:de.cssStyles,id:he,dir:de.dir,domId:QO(he,OTe),type:de.type,isGroup:"group"===de.type,padding:8,rx:10,ry:10,look:se};if(me.shape===Awe&&(me.label=""),c&&"root"!==c.id&&(V.trace("Setting node ",he," to be child of its parent ",c.id),me.parentId=c.id),me.centerLabel=!0,q.note){let c={labelStyle:"",shape:Iwe,label:q.note.text,cssClasses:tke,cssStyles:[],cssCompilesStyles:[],id:he+lke+"-"+OTe,domId:QO(he,OTe,ake),type:de.type,isGroup:"group"===de.type,padding:Xp().flowchart.padding,look:se,position:q.note.position},Y=he+fTe,V={labelStyle:"",shape:Owe,label:q.note.text,cssClasses:de.cssClasses,cssStyles:[],id:he+fTe,domId:QO(he,OTe,ike),type:"group",isGroup:!0,padding:16,look:se,position:q.note.position};OTe++,V.id=Y,c.parentId=Y,OE(Z,V,oe),OE(Z,c,oe),OE(Z,me,oe);let ae=he,pe=c.id;"left of"===q.note.position&&(ae=c.id,pe=he),re.push({id:ae+"-"+pe,start:ae,end:pe,arrowhead:"none",arrowTypeEnd:"",style:Xbe,labelStyle:"",classes:eke,arrowheadStyle:Kbe,labelpos:Jbe,labelType:wwe,thickness:kwe,look:se})}else OE(Z,me,oe)}q.doc&&(V.trace("Adding nodes children "),PTe(q,q.doc,Y,Z,re,!ae,se,oe))},"dataFetcher"),$Te=o(()=>{LTe.clear(),OTe=0},"reset")}),YTe=M(()=>{hf(),Ae(),yG(),c4(),h4(),yM(),ATe(),zTe=o((c,q=zbe)=>{if(!c.doc)return q;let Y=q;for(let q of c.doc)"dir"===q.stmt&&(Y=q.value);return Y},"getDir"),GTe=o(function(c,q){return q.db.extract(q.db.getRootDocV2()),q.db.getClasses()},"getClasses"),UTe=o(async function(c,q,Y,Z){V.info("REF0:"),V.info("Drawing state diagram (v2)",q);let{securityLevel:re,state:ae,layout:se}=Xp();Z.db.extract(Z.db.getRootDocV2());let oe=Z.db.getData(),he=rG(q,re);oe.type=Z.type,oe.layoutAlgorithm=se,oe.nodeSpacing=ae?.nodeSpacing||50,oe.rankSpacing=ae?.rankSpacing||50,oe.markers=["barb"],oe.diagramId=q,await V2(oe,he);hM.insertTitle(he,"statediagramTitleText",ae?.titleTopMargin??25,Z.db.getDiagramTitle()),K2(he,8,Fwe,ae?.useMaxWidth??!0)},"draw"),qTe={getClasses:GTe,draw:UTe,getDir:zTe}});function s0e(){return new Map}function eP(c=""){let q=c;return c===WTe&&(y_e++,q=`${HTe}${y_e}`),q}function tP(c="",q=Hbe){return c===WTe?HTe:q}function eYe(c=""){let q=c;return c===VTe&&(y_e++,q=`${XTe}${y_e}`),q}function tYe(c="",q=Hbe){return c===VTe?XTe:q}function rYe(c,q,Y){let V=eP(c.id.trim()),Z=tP(c.id.trim(),c.type),re=eP(q.id.trim()),ae=tP(q.id.trim(),q.type);S_e(V,Z,c.doc,c.description,c.note,c.classes,c.styles,c.textStyles),S_e(re,ae,q.doc,q.description,q.note,q.classes,q.styles,q.textStyles),m_e.relations.push({id1:V,id2:re,relationTitle:op.sanitizeText(Y,Xp())})}var WTe,HTe,VTe,XTe,KTe,QTe,ZTe,JTe,h_e,d_e,p_e,g_e,f_e,m_e,y_e,v_e,x_e,b_e,w_e,k_e,T_e,__e,E_e,C_e,S_e,A_e,L_e,M_e,D_e,q_e,j_e,X_e,K_e,Q_e,Z_e,J_e,vEe,xEe,bEe,wEe,kEe,TEe,_Ee,EEe,CEe,SEe,AEe,LEe,NEe,IEe,MEe,REe,DEe,OEe,BEe,FEe,$Ee,GEe,qEe,jEe,YEe,WEe,HEe,QEe,ZEe,rCe,nCe,iCe,sCe,oCe,hCe,pCe,fCe=M(()=>{Ae(),yM(),bp(),hf(),cf(),jTe(),YTe(),ATe(),HTe="start",VTe=WTe="[*]",XTe="end",KTe="color",QTe="fill",o(s0e,"newClassesList"),ZTe=[],JTe=[],h_e=$be,d_e=[],p_e=s0e(),g_e=o(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),f_e={root:g_e()},m_e=f_e.root,y_e=0,v_e=0,x_e={LINE:0,DOTTED_LINE:1},b_e={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},w_e=o(c=>JSON.parse(JSON.stringify(c)),"clone"),k_e=o(c=>{V.info("Setting root doc",c),d_e=c},"setRootDoc"),T_e=o(()=>d_e,"getRootDoc"),__e=o((c,q,Y)=>{if(q.stmt===qbe)__e(c,q.state1,!0),__e(c,q.state2,!1);else if(q.stmt===Ube&&("[*]"===q.id?(q.id=Y?c.id+"_start":c.id+"_end",q.start=Y):q.id=q.id.trim()),q.doc){let c,Y=[],V=[];for(c=0;c<q.doc.length;c++)if(q.doc[c].type===Vbe){let Z=w_e(q.doc[c]);Z.doc=w_e(V),Y.push(Z),V=[]}else V.push(q.doc[c]);if(Y.length>0&&V.length>0){let c={stmt:Ube,id:ZI(),type:"divider",doc:w_e(V)};Y.push(w_e(c)),q.doc=Y}q.doc.forEach(c=>__e(q,c,!0))}},"docTranslator"),E_e=o(()=>(__e({id:"root"},{id:"root",doc:d_e},!0),{id:"root",doc:d_e}),"getRootDocV2"),C_e=o(c=>{let q;q=c.doc?c.doc:c,V.info(q),A_e(!0),V.info("Extract initial document:",q),q.forEach(c=>{switch(V.warn("Statement",c.stmt),c.stmt){case Ube:S_e(c.id.trim(),c.type,c.doc,c.description,c.note,c.classes,c.styles,c.textStyles);break;case qbe:j_e(c.state1,c.state2,c.description);break;case jbe:Z_e(c.id.trim(),c.classes);break;case Ybe:{let q=c.id.trim().split(","),Y=c.styleClass.split(",");q.forEach(c=>{let q=L_e(c);if(void 0===q){let Y=c.trim();S_e(Y),q=L_e(Y)}q.styles=Y.map(c=>c.replace(/;/g,"")?.trim())})}break;case Wbe:vEe(c.id.trim(),c.styleClass)}});let Y=M_e(),Z=Xp().look;$Te(),FTe(void 0,E_e(),Y,ZTe,JTe,!0,Z,p_e),ZTe.forEach(c=>{if(Array.isArray(c.label)){if(c.description=c.label.slice(1),c.isGroup&&c.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+c.id+"]");c.label=c.label[0]}})},"extract"),S_e=o(function(c,q=Hbe,Y=null,Z=null,re=null,ae=null,se=null,oe=null){let he=c?.trim();if(m_e.states.has(he)?(m_e.states.get(he).doc||(m_e.states.get(he).doc=Y),m_e.states.get(he).type||(m_e.states.get(he).type=q)):(V.info("Adding state ",he,Z),m_e.states.set(he,{id:he,descriptions:[],type:q,doc:Y,note:re,classes:[],styles:[],textStyles:[]})),Z&&(V.info("Setting state description",he,Z),"string"==typeof Z&&X_e(he,Z.trim()),"object"==typeof Z&&Z.forEach(c=>X_e(he,c.trim()))),re){let c=m_e.states.get(he);c.note=re,c.note.text=op.sanitizeText(c.note.text,Xp())}ae&&(V.info("Setting state classes",he,ae),("string"==typeof ae?[ae]:ae).forEach(c=>vEe(he,c.trim()))),se&&(V.info("Setting state styles",he,se),("string"==typeof se?[se]:se).forEach(c=>xEe(he,c.trim()))),oe&&(V.info("Setting state styles",he,se),("string"==typeof oe?[oe]:oe).forEach(c=>bEe(he,c.trim())))},"addState"),A_e=o(function(c){ZTe=[],JTe=[],f_e={root:g_e()},m_e=f_e.root,y_e=0,p_e=s0e(),c||Mp()},"clear"),L_e=o(function(c){return m_e.states.get(c)},"getState"),M_e=o(function(){return m_e.states},"getStates"),D_e=o(function(){V.info("Documents = ",f_e)},"logDocuments"),q_e=o(function(){return m_e.relations},"getRelations"),o(eP,"startIdIfNeeded"),o(tP,"startTypeIfNeeded"),o(eYe,"endIdIfNeeded"),o(tYe,"endTypeIfNeeded"),o(rYe,"addRelationObjs"),j_e=o(function(c,q,Y){if("object"==typeof c)rYe(c,q,Y);else{let V=eP(c.trim()),Z=tP(c),re=eYe(q.trim()),ae=tYe(q);S_e(V,Z),S_e(re,ae),m_e.relations.push({id1:V,id2:re,title:op.sanitizeText(Y,Xp())})}},"addRelation"),X_e=o(function(c,q){let Y=m_e.states.get(c),V=q.startsWith(":")?q.replace(":","").trim():q;Y.descriptions.push(op.sanitizeText(V,Xp()))},"addDescription"),K_e=o(function(c){return":"===c.substring(0,1)?c.substr(2).trim():c.trim()},"cleanupLabel"),Q_e=o(()=>"divider-id-"+ ++v_e,"getDividerId"),Z_e=o(function(c,q=""){p_e.has(c)||p_e.set(c,{id:c,styles:[],textStyles:[]});let Y=p_e.get(c);q?.split(",").forEach(c=>{let q=c.replace(/([^;]*);/,"$1").trim();if(RegExp(KTe).exec(c)){let c=q.replace(QTe,"bgFill").replace(KTe,QTe);Y.textStyles.push(c)}Y.styles.push(q)})},"addStyleClass"),J_e=o(function(){return p_e},"getClasses"),vEe=o(function(c,q){c.split(",").forEach(function(c){let Y=L_e(c);if(void 0===Y){let q=c.trim();S_e(q),Y=L_e(q)}Y.classes.push(q)})},"setCssClass"),xEe=o(function(c,q){let Y=L_e(c);void 0!==Y&&Y.styles.push(q)},"setStyle"),bEe=o(function(c,q){let Y=L_e(c);void 0!==Y&&Y.textStyles.push(q)},"setTextStyle"),wEe=o(()=>h_e,"getDirection"),kEe=o(c=>{h_e=c},"setDirection"),TEe=o(c=>c&&":"===c[0]?c.substr(1).trim():c.trim(),"trimColon"),_Ee=o(()=>{let c=Xp();return{nodes:ZTe,edges:JTe,other:{},config:c,direction:zTe(E_e())}},"getData"),EEe={getConfig:o(()=>Xp().state,"getConfig"),getData:_Ee,addState:S_e,clear:A_e,getState:L_e,getStates:M_e,getRelations:q_e,getClasses:J_e,getDirection:wEe,addRelation:j_e,getDividerId:Q_e,setDirection:kEe,cleanupLabel:K_e,lineType:x_e,relationType:b_e,logDocuments:D_e,getRootDoc:T_e,setRootDoc:k_e,getRootDocV2:E_e,extract:C_e,trimColon:TEe,getAccTitle:Fp,setAccTitle:Rp,getAccDescription:jp,setAccDescription:qp,addStyleClass:Z_e,setCssClass:vEe,addDescription:X_e,setDiagramTitle:Yp,getDiagramTitle:Wp}}),mCe=M(()=>{CEe=o(c=>`\ndefs #statediagram-barbEnd {\n    fill: ${c.transitionColor};\n    stroke: ${c.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${c.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${c.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${c.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${c.mainBkg};\n  stroke: ${c.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${c.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${c.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${c.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${c.noteBorderColor};\n  fill: ${c.noteBkgColor};\n\n  text {\n    fill: ${c.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${c.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${c.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel {\n  background-color: ${c.edgeLabelBackground};\n  p {\n    background-color: ${c.edgeLabelBackground};\n  }\n  rect {\n    opacity: 0.5;\n    background-color: ${c.edgeLabelBackground};\n    fill: ${c.edgeLabelBackground};\n  }\n  text-align: center;\n}\n.edgeLabel .label text {\n  fill: ${c.transitionLabelColor||c.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${c.transitionLabelColor||c.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${c.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${c.specialStateColor};\n  stroke: ${c.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${c.specialStateColor};\n  stroke: ${c.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${c.innerEndBackground};\n  stroke: ${c.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${c.compositeBackground||c.background};\n  // stroke: ${c.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${c.stateBkg||c.mainBkg};\n  stroke: ${c.stateBorder||c.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${c.mainBkg};\n  stroke: ${c.stateBorder||c.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${c.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${c.compositeTitleBackground};\n  stroke: ${c.stateBorder||c.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${c.stateLabelColor};\n  // line-height: 1;\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${c.stateBorder||c.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${c.compositeBackground||c.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${c.altBackground?c.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${c.altBackground?c.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${c.noteBkgColor};\n  stroke: ${c.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${c.noteBkgColor};\n  stroke: ${c.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${c.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${c.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${c.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${c.lineColor};\n  stroke: ${c.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${c.textColor};\n}\n`,"getStyles"),SEe=CEe}),vCe=M(()=>{AEe={},LEe=o((c,q)=>{AEe[c]=q},"set"),NEe=o(c=>AEe[c],"get"),IEe=o(()=>Object.keys(AEe),"keys"),MEe=o(()=>IEe().length,"size"),REe={get:NEe,set:LEe,keys:IEe,size:MEe}}),xCe=M(()=>{U_(),vCe(),fCe(),yM(),bp(),hf(),Ae(),DEe=o(c=>c.append("circle").attr("class","start-state").attr("r",Xp().state.sizeUnit).attr("cx",Xp().state.padding+Xp().state.sizeUnit).attr("cy",Xp().state.padding+Xp().state.sizeUnit),"drawStartState"),OEe=o(c=>c.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Xp().state.textHeight).attr("class","divider").attr("x2",2*Xp().state.textHeight).attr("y1",0).attr("y2",0),"drawDivider"),BEe=o((c,q)=>{let Y=c.append("text").attr("x",2*Xp().state.padding).attr("y",Xp().state.textHeight+2*Xp().state.padding).attr("font-size",Xp().state.fontSize).attr("class","state-title").text(q.id),V=Y.node().getBBox();return c.insert("rect",":first-child").attr("x",Xp().state.padding).attr("y",Xp().state.padding).attr("width",V.width+2*Xp().state.padding).attr("height",V.height+2*Xp().state.padding).attr("rx",Xp().state.radius),Y},"drawSimpleState"),FEe=o((c,q)=>{let Y=o(function(c,q,Y){let V=c.append("tspan").attr("x",2*Xp().state.padding).text(q);Y||V.attr("dy",Xp().state.textHeight)},"addTspan"),V=c.append("text").attr("x",2*Xp().state.padding).attr("y",Xp().state.textHeight+1.3*Xp().state.padding).attr("font-size",Xp().state.fontSize).attr("class","state-title").text(q.descriptions[0]).node().getBBox(),Z=V.height,re=c.append("text").attr("x",Xp().state.padding).attr("y",Z+.4*Xp().state.padding+Xp().state.dividerMargin+Xp().state.textHeight).attr("class","state-description"),ae=!0,se=!0;q.descriptions.forEach(function(c){ae||(Y(re,c,se),se=!1),ae=!1});let oe=c.append("line").attr("x1",Xp().state.padding).attr("y1",Xp().state.padding+Z+Xp().state.dividerMargin/2).attr("y2",Xp().state.padding+Z+Xp().state.dividerMargin/2).attr("class","descr-divider"),he=re.node().getBBox(),de=Math.max(he.width,V.width);return oe.attr("x2",de+3*Xp().state.padding),c.insert("rect",":first-child").attr("x",Xp().state.padding).attr("y",Xp().state.padding).attr("width",de+2*Xp().state.padding).attr("height",he.height+Z+2*Xp().state.padding).attr("rx",Xp().state.radius),c},"drawDescrState"),$Ee=o((c,q,Y)=>{let V=Xp().state.padding,Z=2*Xp().state.padding,re=c.node().getBBox(),ae=re.width,se=re.x,oe=c.append("text").attr("x",0).attr("y",Xp().state.titleShift).attr("font-size",Xp().state.fontSize).attr("class","state-title").text(q.id),he=oe.node().getBBox().width+Z,de=Math.max(he,ae);de===ae&&(de+=Z);let pe,ge=c.node().getBBox();q.doc,pe=se-V,he>ae&&(pe=(ae-de)/2+V),Math.abs(se-ge.x)<V&&he>ae&&(pe=se-(he-ae)/2);let me=1-Xp().state.textHeight;return c.insert("rect",":first-child").attr("x",pe).attr("y",me).attr("class",Y?"alt-composit":"composit").attr("width",de).attr("height",ge.height+Xp().state.textHeight+Xp().state.titleShift+1).attr("rx","0"),oe.attr("x",pe+V),he<=ae&&oe.attr("x",se+(de-Z)/2-he/2+V),c.insert("rect",":first-child").attr("x",pe).attr("y",Xp().state.titleShift-Xp().state.textHeight-Xp().state.padding).attr("width",de).attr("height",3*Xp().state.textHeight).attr("rx",Xp().state.radius),c.insert("rect",":first-child").attr("x",pe).attr("y",Xp().state.titleShift-Xp().state.textHeight-Xp().state.padding).attr("width",de).attr("height",ge.height+3+2*Xp().state.textHeight).attr("rx",Xp().state.radius),c},"addTitleAndBox"),GEe=o(c=>(c.append("circle").attr("class","end-state-outer").attr("r",Xp().state.sizeUnit+Xp().state.miniPadding).attr("cx",Xp().state.padding+Xp().state.sizeUnit+Xp().state.miniPadding).attr("cy",Xp().state.padding+Xp().state.sizeUnit+Xp().state.miniPadding),c.append("circle").attr("class","end-state-inner").attr("r",Xp().state.sizeUnit).attr("cx",Xp().state.padding+Xp().state.sizeUnit+2).attr("cy",Xp().state.padding+Xp().state.sizeUnit+2)),"drawEndState"),qEe=o((c,q)=>{let Y=Xp().state.forkWidth,V=Xp().state.forkHeight;if(q.parentId){let c=Y;Y=V,V=c}return c.append("rect").style("stroke","black").style("fill","black").attr("width",Y).attr("height",V).attr("x",Xp().state.padding).attr("y",Xp().state.padding)},"drawForkJoinState"),jEe=o((c,q,Y,V)=>{let Z=0,re=V.append("text");re.style("text-anchor","start"),re.attr("class","noteText");let ae=c.replace(/\r\n/g,"<br/>");ae=ae.replace(/\n/g,"<br/>");let se=ae.split(op.lineBreakRegex),oe=1.25*Xp().state.noteMargin;for(let c of se){let V=c.trim();if(V.length>0){let c=re.append("tspan");if(c.text(V),0===oe){oe+=c.node().getBBox().height}Z+=oe,c.attr("x",q+Xp().state.noteMargin),c.attr("y",Y+Z+1.25*Xp().state.noteMargin)}}return{textWidth:re.node().getBBox().width,textHeight:Z}},"_drawLongText"),YEe=o((c,q)=>{q.attr("class","state-note");let Y=q.append("rect").attr("x",0).attr("y",Xp().state.padding),V=q.append("g"),{textWidth:Z,textHeight:re}=jEe(c,0,0,V);return Y.attr("height",re+2*Xp().state.noteMargin),Y.attr("width",Z+2*Xp().state.noteMargin),Y},"drawNote"),WEe=o(function(c,q){let Y=q.id,V={id:Y,label:q.id,width:0,height:0},Z=c.append("g").attr("id",Y).attr("class","stateGroup");"start"===q.type&&DEe(Z),"end"===q.type&&GEe(Z),("fork"===q.type||"join"===q.type)&&qEe(Z,q),"note"===q.type&&YEe(q.note.text,Z),"divider"===q.type&&OEe(Z),"default"===q.type&&0===q.descriptions.length&&BEe(Z,q),"default"===q.type&&q.descriptions.length>0&&FEe(Z,q);let re=Z.node().getBBox();return V.width=re.width+2*Xp().state.padding,V.height=re.height+2*Xp().state.padding,REe.set(Y,V),V},"drawState"),HEe=0,QEe=o(function(c,q,Y){let Z=o(function(c){switch(c){case EEe.relationType.AGGREGATION:return"aggregation";case EEe.relationType.EXTENSION:return"extension";case EEe.relationType.COMPOSITION:return"composition";case EEe.relationType.DEPENDENCY:return"dependency"}},"getRelationType");q.points=q.points.filter(c=>!Number.isNaN(c.y));let re=q.points,ae=Ka().x(function(c){return c.x}).y(function(c){return c.y}).curve(Do),se=c.append("path").attr("d",ae(re)).attr("id","edge"+HEe).attr("class","transition"),oe="";if(Xp().state.arrowMarkerAbsolute&&(oe=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,oe=oe.replace(/\(/g,"\\("),oe=oe.replace(/\)/g,"\\)")),se.attr("marker-end","url("+oe+"#"+Z(EEe.relationType.DEPENDENCY)+"End)"),void 0!==Y.title){let Z=c.append("g").attr("class","stateLabel"),{x:re,y:ae}=hM.calcLabelPosition(q.points),se=op.getRows(Y.title),oe=0,he=[],de=0,pe=0;for(let c=0;c<=se.length;c++){let q=Z.append("text").attr("text-anchor","middle").text(se[c]).attr("x",re).attr("y",ae+oe),Y=q.node().getBBox();de=Math.max(de,Y.width),pe=Math.min(pe,Y.x),V.info(Y.x,re,ae+oe),0===oe&&(oe=q.node().getBBox().height,V.info("Title height",oe,ae)),he.push(q)}let ge=oe*se.length;if(se.length>1){let c=(se.length-1)*oe*.5;he.forEach((q,Y)=>q.attr("y",ae+Y*oe-c)),ge=oe*se.length}let me=Z.node().getBBox();Z.insert("rect",":first-child").attr("class","box").attr("x",re-de/2-Xp().state.padding/2).attr("y",ae-ge/2-Xp().state.padding/2-3.5).attr("width",de+Xp().state.padding).attr("height",ge+Xp().state.padding),V.info(me)}HEe++},"drawEdge")}),_Ce=M(()=>{U_(),E2(),u1(),Ae(),bp(),xCe(),hf(),kp(),rCe={},nCe=o(function(){},"setConf"),iCe=o(function(c){c.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),sCe=o(function(c,q,Y,Z){ZEe=Xp().state;let re,ae=Xp().securityLevel;"sandbox"===ae&&(re=ze("#i"+q));let se=ze("sandbox"===ae?re.nodes()[0].contentDocument.body:"body"),oe="sandbox"===ae?re.nodes()[0].contentDocument:document;V.debug("Rendering diagram "+c);let he=se.select(`[id='${q}']`);iCe(he);let de=Z.db.getRootDoc();hCe(de,he,void 0,!1,se,oe,Z);let pe=ZEe.padding,ge=he.node().getBBox(),me=ge.width+2*pe,ve=ge.height+2*pe;hp(he,ve,1.75*me,ZEe.useMaxWidth),he.attr("viewBox",`${ge.x-ZEe.padding}  ${ge.y-ZEe.padding} `+me+" "+ve)},"draw"),oCe=o(c=>c?c.length*ZEe.fontSizeFactor:1,"getLabelWidth"),hCe=o((c,q,Y,Z,re,ae,se)=>{let oe,he=new c1({compound:!0,multigraph:!0}),de=!0;for(oe=0;oe<c.length;oe++)if("relation"===c[oe].stmt){de=!1;break}Y?he.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:de?1:ZEe.edgeLengthFactor,nodeSep:de?1:50,isMultiGraph:!0}):he.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:de?1:ZEe.edgeLengthFactor,nodeSep:de?1:50,ranker:"tight-tree",isMultiGraph:!0}),he.setDefaultEdgeLabel(function(){return{}}),se.db.extract(c);let pe=se.db.getStates(),ge=se.db.getRelations(),me=Object.keys(pe);for(let c of me){let V,oe=pe[c];if(Y&&(oe.parentId=Y),oe.doc){let c=q.append("g").attr("id",oe.id).attr("class","stateGroup");V=hCe(oe.doc,c,oe.id,!Z,re,ae,se);{c=$Ee(c,oe,Z);let q=c.node().getBBox();V.width=q.width,V.height=q.height+ZEe.padding/2,rCe[oe.id]={y:ZEe.compositTitleSize}}}else V=WEe(q,oe,he);if(oe.note){let c={descriptions:[],id:oe.id+"-note",note:oe.note,type:"note"},Y=WEe(q,c,he);"left of"===oe.note.position?(he.setNode(V.id+"-note",Y),he.setNode(V.id,V)):(he.setNode(V.id,V),he.setNode(V.id+"-note",Y)),he.setParent(V.id,V.id+"-group"),he.setParent(V.id+"-note",V.id+"-group")}else he.setNode(V.id,V)}V.debug("Count=",he.nodeCount(),he);let ve=0;ge.forEach(function(c){ve++,V.debug("Setting edge",c),he.setEdge(c.id1,c.id2,{relation:c,width:oCe(c.title),height:ZEe.labelHeight*op.getRows(c.title).length,labelpos:"c"},"id"+ve)}),Du(he),V.debug("Graph after layout",he.nodes());let be=q.node();he.nodes().forEach(function(c){void 0!==c&&void 0!==he.node(c)?(V.warn("Node "+c+": "+JSON.stringify(he.node(c))),re.select("#"+be.id+" #"+c).attr("transform","translate("+(he.node(c).x-he.node(c).width/2)+","+(he.node(c).y+(rCe[c]?rCe[c].y:0)-he.node(c).height/2)+" )"),re.select("#"+be.id+" #"+c).attr("data-x-shift",he.node(c).x-he.node(c).width/2),ae.querySelectorAll("#"+be.id+" #"+c+" .divider").forEach(c=>{let q=c.parentElement,Y=0,V=0;q&&(q.parentElement&&(Y=q.parentElement.getBBox().width),V=parseInt(q.getAttribute("data-x-shift"),10),Number.isNaN(V)&&(V=0)),c.setAttribute("x1",0-V+8),c.setAttribute("x2",Y-V-8)})):V.debug("No Node "+c+": "+JSON.stringify(he.node(c)))});let we=be.getBBox();he.edges().forEach(function(c){void 0!==c&&void 0!==he.edge(c)&&(V.debug("Edge "+c.v+" -> "+c.w+": "+JSON.stringify(he.edge(c))),QEe(q,he.edge(c),he.edge(c).relation))}),we=be.getBBox();let Te={id:Y||"root",label:Y||"root",width:0,height:0};return Te.width=we.width+2*ZEe.padding,Te.height=we.height+2*ZEe.padding,V.debug("Doc rendered",Te,he),Te},"renderDoc"),pCe={setConf:nCe,draw:sCe}}),LCe={};vr(LCe,{diagram:()=>NCe});var NCe,MCe=M(()=>{ETe(),fCe(),mCe(),_Ce(),NCe={parser:Fbe,db:EEe,renderer:pCe,styles:SEe,init:o(c=>{c.state||(c.state={}),c.state.arrowMarkerAbsolute=c.arrowMarkerAbsolute,EEe.clear()},"init")}}),DCe={};vr(DCe,{diagram:()=>BCe});var BCe,FCe,$Ce,zCe,GCe,UCe,jCe,YCe,KCe,QCe,ZCe,JCe,nSe,aSe,sSe,uSe,dSe,pSe,gSe,fSe,mSe,wSe,kSe,TSe,_Se,ESe,CSe,SSe,ASe,NSe,ISe,MSe=M(()=>{ETe(),fCe(),mCe(),YTe(),BCe={parser:Fbe,db:EEe,renderer:qTe,styles:SEe,init:o(c=>{c.state||(c.state={}),c.state.arrowMarkerAbsolute=c.arrowMarkerAbsolute,EEe.clear()},"init")}}),RSe=M(()=>{(FCe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[6,8,10,11,12,14,16,17,18],Y=[1,9],V=[1,10],Z=[1,11],re=[1,12],ae=[1,13],se=[1,14],oe={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 1:return re[se-1];case 2:case 6:case 7:this.$=[];break;case 3:re[se-1].push(re[se]),this.$=re[se-1];break;case 4:case 5:this.$=re[se];break;case 8:V.setDiagramTitle(re[se].substr(6)),this.$=re[se].substr(6);break;case 9:this.$=re[se].trim(),V.setAccTitle(this.$);break;case 10:case 11:this.$=re[se].trim(),V.setAccDescription(this.$);break;case 12:V.addSection(re[se].substr(8)),this.$=re[se].substr(8);break;case 13:V.addTask(re[se-1],re[se]),this.$="task"}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},c(q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Y,12:V,14:Z,16:re,17:ae,18:se},c(q,[2,7],{1:[2,1]}),c(q,[2,3]),{9:15,11:Y,12:V,14:Z,16:re,17:ae,18:se},c(q,[2,5]),c(q,[2,6]),c(q,[2,8]),{13:[1,16]},{15:[1,17]},c(q,[2,11]),c(q,[2,12]),{19:[1,18]},c(q,[2,4]),c(q,[2,9]),c(q,[2,10]),c(q,[2,13])],defaultActions:{},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function N(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function O(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(N,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=N()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},he={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};function f(){this.yy={}}return oe.lexer=he,o(f,"Parser"),f.prototype=oe,oe.Parser=f,new f}()).parser=FCe,$Ce=FCe}),DSe=M(()=>{hf(),cf(),zCe="",GCe=[],UCe=[],jCe=[],YCe=o(function(){GCe.length=0,UCe.length=0,zCe="",jCe.length=0,Mp()},"clear"),KCe=o(function(c){zCe=c,GCe.push(c)},"addSection"),QCe=o(function(){return GCe},"getSections"),ZCe=o(function(){let c=sSe(),q=0;for(;!c&&q<100;)c=sSe(),q++;return UCe.push(...jCe),UCe},"getTasks"),JCe=o(function(){let c=[];return UCe.forEach(q=>{q.people&&c.push(...q.people)}),[...new Set(c)].sort()},"updateActors"),nSe=o(function(c,q){let Y=q.substr(1).split(":"),V=0,Z=[];1===Y.length?(V=Number(Y[0]),Z=[]):(V=Number(Y[0]),Z=Y[1].split(","));let re=Z.map(c=>c.trim()),ae={section:zCe,type:zCe,people:re,task:c,score:V};jCe.push(ae)},"addTask"),aSe=o(function(c){let q={section:zCe,type:zCe,description:c,task:c,classes:[]};UCe.push(q)},"addTaskOrg"),sSe=o(function(){let c=o(function(c){return jCe[c].processed},"compileTask"),q=!0;for(let[Y,V]of jCe.entries())c(Y),q=q&&V.processed;return q},"compileTasks"),uSe=o(function(){return JCe()},"getActors"),dSe={getConfig:o(()=>Xp().journey,"getConfig"),clear:YCe,setDiagramTitle:Yp,getDiagramTitle:Wp,setAccTitle:Rp,getAccTitle:Fp,setAccDescription:qp,getAccDescription:jp,addSection:KCe,getSections:QCe,getTasks:ZCe,addTask:nSe,addTaskOrg:aSe,getActors:uSe}}),OSe=M(()=>{pSe=o(c=>`.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${c.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${c.textColor}\n  }\n\n  .legend {\n    fill: ${c.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${c.textColor}\n  }\n\n  .face {\n    ${c.faceColor?`fill: ${c.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${c.mainBkg};\n    stroke: ${c.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${c.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${c.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${c.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${c.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${c.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${c.tertiaryColor};\n    border: 1px solid ${c.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${c.fillType0?`fill: ${c.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${c.fillType0?`fill: ${c.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${c.fillType0?`fill: ${c.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${c.fillType0?`fill: ${c.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${c.fillType0?`fill: ${c.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${c.fillType0?`fill: ${c.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${c.fillType0?`fill: ${c.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${c.fillType0?`fill: ${c.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${c.actor0?`fill: ${c.actor0}`:""};\n  }\n  .actor-1 {\n    ${c.actor1?`fill: ${c.actor1}`:""};\n  }\n  .actor-2 {\n    ${c.actor2?`fill: ${c.actor2}`:""};\n  }\n  .actor-3 {\n    ${c.actor3?`fill: ${c.actor3}`:""};\n  }\n  .actor-4 {\n    ${c.actor4?`fill: ${c.actor4}`:""};\n  }\n  .actor-5 {\n    ${c.actor5?`fill: ${c.actor5}`:""};\n  }\n`,"getStyles"),gSe=pSe}),PSe=M(()=>{U_(),Y_(),fSe=o(function(c,q){return qT(c,q)},"drawRect"),mSe=o(function(c,q){let Y=c.append("circle").attr("cx",q.cx).attr("cy",q.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),V=c.append("g");function a(c){let Y=El().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);c.append("path").attr("class","mouth").attr("d",Y).attr("transform","translate("+q.cx+","+(q.cy+2)+")")}function s(c){let Y=El().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);c.append("path").attr("class","mouth").attr("d",Y).attr("transform","translate("+q.cx+","+(q.cy+7)+")")}function l(c){c.append("line").attr("class","mouth").attr("stroke",2).attr("x1",q.cx-5).attr("y1",q.cy+7).attr("x2",q.cx+5).attr("y2",q.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return V.append("circle").attr("cx",q.cx-5).attr("cy",q.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),V.append("circle").attr("cx",q.cx+5).attr("cy",q.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o(a,"smile"),o(s,"sad"),o(l,"ambivalent"),q.score>3?a(V):q.score<3?s(V):l(V),Y},"drawFace"),wSe=o(function(c,q){let Y=c.append("circle");return Y.attr("cx",q.cx),Y.attr("cy",q.cy),Y.attr("class","actor-"+q.pos),Y.attr("fill",q.fill),Y.attr("stroke",q.stroke),Y.attr("r",q.r),void 0!==Y.class&&Y.attr("class",Y.class),void 0!==q.title&&Y.append("title").text(q.title),Y},"drawCircle"),kSe=o(function(c,q){return WT(c,q)},"drawText"),TSe=o(function(c,q){function r(c,q,Y,V,Z){return c+","+q+" "+(c+Y)+","+q+" "+(c+Y)+","+(q+V-Z)+" "+(c+Y-1.2*Z)+","+(q+V)+" "+c+","+(q+V)}o(r,"genPoints");let Y=c.append("polygon");Y.attr("points",r(q.x,q.y,50,20,7)),Y.attr("class","labelBox"),q.y=q.y+q.labelMargin,q.x=q.x+.5*q.labelMargin,kSe(c,q)},"drawLabel"),_Se=o(function(c,q,Y){let V=c.append("g"),Z=t_();Z.x=q.x,Z.y=q.y,Z.fill=q.fill,Z.width=Y.width*q.taskCount+Y.diagramMarginX*(q.taskCount-1),Z.height=Y.height,Z.class="journey-section section-type-"+q.num,Z.rx=3,Z.ry=3,fSe(V,Z),ASe(Y)(q.text,V,Z.x,Z.y,Z.width,Z.height,{class:"journey-section section-type-"+q.num},Y,q.colour)},"drawSection"),ESe=-1,CSe=o(function(c,q,Y){let V=q.x+Y.width/2,Z=c.append("g");ESe++;Z.append("line").attr("id","task"+ESe).attr("x1",V).attr("y1",q.y).attr("x2",V).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),mSe(Z,{cx:V,cy:300+30*(5-q.score),score:q.score});let re=t_();re.x=q.x,re.y=q.y,re.fill=q.fill,re.width=Y.width,re.height=Y.height,re.class="task task-type-"+q.num,re.rx=3,re.ry=3,fSe(Z,re);let ae=q.x+14;q.people.forEach(c=>{let Y=q.actors[c].color,V={cx:ae,cy:q.y,r:7,fill:Y,stroke:"#000",title:c,pos:q.actors[c].position};wSe(Z,V),ae+=10}),ASe(Y)(q.task,Z,re.x,re.y,re.width,re.height,{class:"task"},Y,q.colour)},"drawTask"),SSe=o(function(c,q){YT(c,q)},"drawBackgroundRect"),ASe=function(){function t(c,q,Y,V,Z,re,ae,se){n(q.append("text").attr("x",Y+Z/2).attr("y",V+re/2+5).style("font-color",se).style("text-anchor","middle").text(c),ae)}function e(c,q,Y,V,Z,re,ae,se,oe){let{taskFontSize:he,taskFontFamily:de}=se,pe=c.split(/<br\s*\/?>/gi);for(let c=0;c<pe.length;c++){let se=c*he-he*(pe.length-1)/2,ge=q.append("text").attr("x",Y+Z/2).attr("y",V).attr("fill",oe).style("text-anchor","middle").style("font-size",he).style("font-family",de);ge.append("tspan").attr("x",Y+Z/2).attr("dy",se).text(pe[c]),ge.attr("y",V+re/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(ge,ae)}}function r(c,q,Y,V,Z,re,ae,se){let oe=q.append("switch"),he=oe.append("foreignObject").attr("x",Y).attr("y",V).attr("width",Z).attr("height",re).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");he.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(c),e(c,oe,Y,V,Z,re,ae,se),n(he,ae)}function n(c,q){for(let Y in q)Y in q&&c.attr(Y,q[Y])}return o(t,"byText"),o(e,"byTspan"),o(r,"byFo"),o(n,"_setTextAttrs"),function(c){return"fo"===c.textPlacement?r:"old"===c.textPlacement?t:e}}(),NSe=o(function(c){c.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),ISe={drawRect:fSe,drawCircle:wSe,drawSection:_Se,drawText:kSe,drawLabel:TSe,drawTask:CSe,drawBackgroundRect:SSe,initGraphics:NSe}});function ZYe(c){let q=Xp().journey,Y=60;Object.keys(FSe).forEach(V=>{let Z=FSe[V].color,re={cx:20,cy:Y,r:7,fill:Z,stroke:"#000",pos:FSe[V].position};ISe.drawCircle(c,re);let ae={x:40,y:Y+7,fill:"#666",text:V,textMargin:5|q.boxTextMargin};ISe.drawText(c,ae),Y+=20})}var BSe,FSe,$Se,zSe,GSe,USe,qSe,jSe,YSe,WSe,HSe=M(()=>{U_(),PSe(),hf(),kp(),BSe=o(function(c){Object.keys(c).forEach(function(q){$Se[q]=c[q]})},"setConf"),FSe={},o(ZYe,"drawActorLegend"),$Se=Xp().journey,zSe=$Se.leftMargin,GSe=o(function(c,q,Y,V){let Z,re=Xp().journey,ae=Xp().securityLevel;"sandbox"===ae&&(Z=ze("#i"+q));let se=ze("sandbox"===ae?Z.nodes()[0].contentDocument.body:"body");USe.init();let oe=se.select("#"+q);ISe.initGraphics(oe);let he=V.db.getTasks(),de=V.db.getDiagramTitle(),pe=V.db.getActors();for(let c in FSe)delete FSe[c];let ge=0;pe.forEach(c=>{FSe[c]={color:re.actorColours[ge%re.actorColours.length],position:ge},ge++}),ZYe(oe),USe.insert(0,0,zSe,50*Object.keys(FSe).length),YSe(oe,he,0);let me=USe.getBounds();de&&oe.append("text").text(de).attr("x",zSe).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let ve=me.stopy-me.starty+2*re.diagramMarginY,be=zSe+me.stopx+2*re.diagramMarginX;hp(oe,ve,be,re.useMaxWidth),oe.append("line").attr("x1",zSe).attr("y1",4*re.height).attr("x2",be-zSe-4).attr("y2",4*re.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let we=de?70:0;oe.attr("viewBox",`${me.startx} -25 ${be} ${ve+we}`),oe.attr("preserveAspectRatio","xMinYMin meet"),oe.attr("height",ve+we+25)},"draw"),USe={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:o(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:o(function(c,q,Y,V){void 0===c[q]?c[q]=Y:c[q]=V(Y,c[q])},"updateVal"),updateBounds:o(function(c,q,Y,V){let Z=Xp().journey,re=this,ae=0;function l(se){return o(function(oe){ae++;let he=re.sequenceItems.length-ae+1;re.updateVal(oe,"starty",q-he*Z.boxMargin,Math.min),re.updateVal(oe,"stopy",V+he*Z.boxMargin,Math.max),re.updateVal(USe.data,"startx",c-he*Z.boxMargin,Math.min),re.updateVal(USe.data,"stopx",Y+he*Z.boxMargin,Math.max),"activation"!==se&&(re.updateVal(oe,"startx",c-he*Z.boxMargin,Math.min),re.updateVal(oe,"stopx",Y+he*Z.boxMargin,Math.max),re.updateVal(USe.data,"starty",q-he*Z.boxMargin,Math.min),re.updateVal(USe.data,"stopy",V+he*Z.boxMargin,Math.max))},"updateItemBounds")}o(l,"updateFn"),this.sequenceItems.forEach(l())},"updateBounds"),insert:o(function(c,q,Y,V){let Z=Math.min(c,Y),re=Math.max(c,Y),ae=Math.min(q,V),se=Math.max(q,V);this.updateVal(USe.data,"startx",Z,Math.min),this.updateVal(USe.data,"starty",ae,Math.min),this.updateVal(USe.data,"stopx",re,Math.max),this.updateVal(USe.data,"stopy",se,Math.max),this.updateBounds(Z,ae,re,se)},"insert"),bumpVerticalPos:o(function(c){this.verticalPos=this.verticalPos+c,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return this.data},"getBounds")},qSe=$Se.sectionFills,jSe=$Se.sectionColours,YSe=o(function(c,q,Y){let V=Xp().journey,Z="",re=Y+(2*V.height+V.diagramMarginY),ae=0,se="#CCC",oe="black",he=0;for(let[Y,de]of q.entries()){if(Z!==de.section){se=qSe[ae%qSe.length],he=ae%qSe.length,oe=jSe[ae%jSe.length];let re=0,pe=de.section;for(let c=Y;c<q.length&&q[c].section==pe;c++)re+=1;let ge={x:Y*V.taskMargin+Y*V.width+zSe,y:50,text:de.section,fill:se,num:he,colour:oe,taskCount:re};ISe.drawSection(c,ge,V),Z=de.section,ae++}let pe=de.people.reduce((c,q)=>(FSe[q]&&(c[q]=FSe[q]),c),{});de.x=Y*V.taskMargin+Y*V.width+zSe,de.y=re,de.width=V.diagramMarginX,de.height=V.diagramMarginY,de.colour=oe,de.fill=se,de.num=he,de.actors=pe,ISe.drawTask(c,de,V),USe.insert(de.x,de.y,de.x+de.width+V.taskMargin,450)}},"drawTasks"),WSe={setConf:BSe,draw:GSe}}),VSe={};vr(VSe,{diagram:()=>XSe});var XSe,KSe,QSe,ZSe=M(()=>{RSe(),DSe(),OSe(),HSe(),XSe={parser:$Ce,db:dSe,renderer:WSe,styles:gSe,init:o(c=>{WSe.setConf(c.journey),dSe.clear()},"init")}}),JSe=M(()=>{(KSe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[6,8,10,11,12,14,16,17,20,21],Y=[1,9],V=[1,10],Z=[1,11],re=[1,12],ae=[1,13],se=[1,16],oe=[1,17],he={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 1:return re[se-1];case 2:case 6:case 7:this.$=[];break;case 3:re[se-1].push(re[se]),this.$=re[se-1];break;case 4:case 5:this.$=re[se];break;case 8:V.getCommonDb().setDiagramTitle(re[se].substr(6)),this.$=re[se].substr(6);break;case 9:this.$=re[se].trim(),V.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=re[se].trim(),V.getCommonDb().setAccDescription(this.$);break;case 12:V.addSection(re[se].substr(8)),this.$=re[se].substr(8);break;case 15:V.addTask(re[se],0,""),this.$=re[se];break;case 16:V.addEvent(re[se].substr(2)),this.$=re[se]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},c(q,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Y,12:V,14:Z,16:re,17:ae,18:14,19:15,20:se,21:oe},c(q,[2,7],{1:[2,1]}),c(q,[2,3]),{9:18,11:Y,12:V,14:Z,16:re,17:ae,18:14,19:15,20:se,21:oe},c(q,[2,5]),c(q,[2,6]),c(q,[2,8]),{13:[1,19]},{15:[1,20]},c(q,[2,11]),c(q,[2,12]),c(q,[2,13]),c(q,[2,14]),c(q,[2,15]),c(q,[2,16]),c(q,[2,4]),c(q,[2,9]),c(q,[2,10])],defaultActions:{},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function P(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function N(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(P,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=P()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},de={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};function d(){this.yy={}}return he.lexer=de,o(d,"Parser"),d.prototype=he,he.Parser=d,new d}()).parser=KSe,QSe=KSe}),eAe={};vr(eAe,{addEvent:()=>wAe,addSection:()=>fAe,addTask:()=>vAe,addTaskOrg:()=>kAe,clear:()=>gAe,default:()=>EAe,getCommonDb:()=>pAe,getSections:()=>mAe,getTasks:()=>yAe});var tAe,iAe,aAe,hAe,dAe,pAe,gAe,fAe,mAe,yAe,vAe,wAe,kAe,TAe,EAe,CAe=M(()=>{cf(),tAe="",iAe=0,aAe=[],hAe=[],dAe=[],pAe=o(()=>Ep,"getCommonDb"),gAe=o(function(){aAe.length=0,hAe.length=0,tAe="",dAe.length=0,Mp()},"clear"),fAe=o(function(c){tAe=c,aAe.push(c)},"addSection"),mAe=o(function(){return aAe},"getSections"),yAe=o(function(){let c=TAe(),q=0;for(;!c&&q<100;)c=TAe(),q++;return hAe.push(...dAe),hAe},"getTasks"),vAe=o(function(c,q,Y){let V={id:iAe++,section:tAe,type:tAe,task:c,score:q||0,events:Y?[Y]:[]};dAe.push(V)},"addTask"),wAe=o(function(c){dAe.find(c=>c.id===iAe-1).events.push(c)},"addEvent"),kAe=o(function(c){let q={section:tAe,type:tAe,description:c,task:c,classes:[]};hAe.push(q)},"addTaskOrg"),TAe=o(function(){let c=o(function(c){return dAe[c].processed},"compileTask"),q=!0;for(let[Y,V]of dAe.entries())c(Y),q=q&&V.processed;return q},"compileTasks"),EAe={clear:gAe,getCommonDb:pAe,addSection:fAe,getSections:mAe,getTasks:yAe,addTask:vAe,addTaskOrg:kAe,addEvent:wAe}});function ppe(c,q){c.each(function(){var c,Y=ze(this),V=Y.text().split(/(\s+|<br>)/).reverse(),Z=[],re=Y.attr("y"),ae=parseFloat(Y.attr("dy")),se=Y.text(null).append("tspan").attr("x",0).attr("y",re).attr("dy",ae+"em");for(let ae=0;ae<V.length;ae++)c=V[V.length-1-ae],Z.push(c),se.text(Z.join(" ").trim()),(se.node().getComputedTextLength()>q||"<br>"===c)&&(Z.pop(),se.text(Z.join(" ").trim()),Z="<br>"===c?[""]:[c],se=Y.append("tspan").attr("x",0).attr("y",re).attr("dy","1.1em").text(c))})}var SAe,AAe,IAe,MAe,OAe,PAe,BAe,FAe,$Ae,GAe,qAe,jAe,YAe,VAe,XAe,KAe,tLe,nLe,iLe,aLe,sLe,lLe,hLe,xLe,bLe=M(()=>{U_(),SAe=o(function(c,q){let Y=c.append("rect");return Y.attr("x",q.x),Y.attr("y",q.y),Y.attr("fill",q.fill),Y.attr("stroke",q.stroke),Y.attr("width",q.width),Y.attr("height",q.height),Y.attr("rx",q.rx),Y.attr("ry",q.ry),void 0!==q.class&&Y.attr("class",q.class),Y},"drawRect"),AAe=o(function(c,q){let Y=c.append("circle").attr("cx",q.cx).attr("cy",q.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),V=c.append("g");function a(c){let Y=El().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(6.8181818181818175);c.append("path").attr("class","mouth").attr("d",Y).attr("transform","translate("+q.cx+","+(q.cy+2)+")")}function s(c){let Y=El().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(6.8181818181818175);c.append("path").attr("class","mouth").attr("d",Y).attr("transform","translate("+q.cx+","+(q.cy+7)+")")}function l(c){c.append("line").attr("class","mouth").attr("stroke",2).attr("x1",q.cx-5).attr("y1",q.cy+7).attr("x2",q.cx+5).attr("y2",q.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return V.append("circle").attr("cx",q.cx-5).attr("cy",q.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),V.append("circle").attr("cx",q.cx+5).attr("cy",q.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o(a,"smile"),o(s,"sad"),o(l,"ambivalent"),q.score>3?a(V):q.score<3?s(V):l(V),Y},"drawFace"),IAe=o(function(c,q){let Y=c.append("circle");return Y.attr("cx",q.cx),Y.attr("cy",q.cy),Y.attr("class","actor-"+q.pos),Y.attr("fill",q.fill),Y.attr("stroke",q.stroke),Y.attr("r",q.r),void 0!==Y.class&&Y.attr("class",Y.class),void 0!==q.title&&Y.append("title").text(q.title),Y},"drawCircle"),MAe=o(function(c,q){let Y=q.text.replace(/<br\s*\/?>/gi," "),V=c.append("text");V.attr("x",q.x),V.attr("y",q.y),V.attr("class","legend"),V.style("text-anchor",q.anchor),void 0!==q.class&&V.attr("class",q.class);let Z=V.append("tspan");return Z.attr("x",q.x+2*q.textMargin),Z.text(Y),V},"drawText"),OAe=o(function(c,q){function r(c,q,Y,V,Z){return c+","+q+" "+(c+Y)+","+q+" "+(c+Y)+","+(q+V-Z)+" "+(c+Y-1.2*Z)+","+(q+V)+" "+c+","+(q+V)}o(r,"genPoints");let Y=c.append("polygon");Y.attr("points",r(q.x,q.y,50,20,7)),Y.attr("class","labelBox"),q.y=q.y+q.labelMargin,q.x=q.x+.5*q.labelMargin,MAe(c,q)},"drawLabel"),PAe=o(function(c,q,Y){let V=c.append("g"),Z=qAe();Z.x=q.x,Z.y=q.y,Z.fill=q.fill,Z.width=Y.width,Z.height=Y.height,Z.class="journey-section section-type-"+q.num,Z.rx=3,Z.ry=3,SAe(V,Z),jAe(Y)(q.text,V,Z.x,Z.y,Z.width,Z.height,{class:"journey-section section-type-"+q.num},Y,q.colour)},"drawSection"),BAe=-1,FAe=o(function(c,q,Y){let V=q.x+Y.width/2,Z=c.append("g");BAe++;Z.append("line").attr("id","task"+BAe).attr("x1",V).attr("y1",q.y).attr("x2",V).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),AAe(Z,{cx:V,cy:300+30*(5-q.score),score:q.score});let re=qAe();re.x=q.x,re.y=q.y,re.fill=q.fill,re.width=Y.width,re.height=Y.height,re.class="task task-type-"+q.num,re.rx=3,re.ry=3,SAe(Z,re),jAe(Y)(q.task,Z,re.x,re.y,re.width,re.height,{class:"task"},Y,q.colour)},"drawTask"),$Ae=o(function(c,q){SAe(c,{x:q.startx,y:q.starty,width:q.stopx-q.startx,height:q.stopy-q.starty,fill:q.fill,class:"rect"}).lower()},"drawBackgroundRect"),GAe=o(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),qAe=o(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),jAe=function(){function t(c,q,Y,V,Z,re,ae,se){n(q.append("text").attr("x",Y+Z/2).attr("y",V+re/2+5).style("font-color",se).style("text-anchor","middle").text(c),ae)}function e(c,q,Y,V,Z,re,ae,se,oe){let{taskFontSize:he,taskFontFamily:de}=se,pe=c.split(/<br\s*\/?>/gi);for(let c=0;c<pe.length;c++){let se=c*he-he*(pe.length-1)/2,ge=q.append("text").attr("x",Y+Z/2).attr("y",V).attr("fill",oe).style("text-anchor","middle").style("font-size",he).style("font-family",de);ge.append("tspan").attr("x",Y+Z/2).attr("dy",se).text(pe[c]),ge.attr("y",V+re/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(ge,ae)}}function r(c,q,Y,V,Z,re,ae,se){let oe=q.append("switch"),he=oe.append("foreignObject").attr("x",Y).attr("y",V).attr("width",Z).attr("height",re).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");he.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(c),e(c,oe,Y,V,Z,re,ae,se),n(he,ae)}function n(c,q){for(let Y in q)Y in q&&c.attr(Y,q[Y])}return o(t,"byText"),o(e,"byTspan"),o(r,"byFo"),o(n,"_setTextAttrs"),function(c){return"fo"===c.textPlacement?r:"old"===c.textPlacement?t:e}}(),YAe=o(function(c){c.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),o(ppe,"wrap"),VAe=o(function(c,q,Y,V){let Z=Y%12-1,re=c.append("g");q.section=Z,re.attr("class",(q.class?q.class+" ":"")+"timeline-node section-"+Z);let ae=re.append("g"),se=re.append("g"),oe=se.append("text").text(q.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(ppe,q.width).node().getBBox(),he=V.fontSize?.replace?V.fontSize.replace("px",""):V.fontSize;return q.height=oe.height+1.1*he*.5+q.padding,q.height=Math.max(q.height,q.maxHeight),q.width=q.width+2*q.padding,se.attr("transform","translate("+q.width/2+", "+q.padding/2+")"),KAe(ae,q,Z,V),q},"drawNode"),XAe=o(function(c,q,Y){let V=c.append("g"),Z=V.append("text").text(q.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(ppe,q.width).node().getBBox(),re=Y.fontSize?.replace?Y.fontSize.replace("px",""):Y.fontSize;return V.remove(),Z.height+1.1*re*.5+q.padding},"getVirtualNodeHeight"),KAe=o(function(c,q,Y){c.append("path").attr("id","node-"+q.id).attr("class","node-bkg node-"+q.type).attr("d",`M0 ${q.height-5} v${10-q.height} q0,-5 5,-5 h${q.width-10} q5,0 5,5 v${q.height-5} H0 Z`),c.append("line").attr("class","node-line-"+Y).attr("x1",0).attr("y1",q.height).attr("x2",q.width).attr("y2",q.height)},"defaultBkg"),tLe={drawRect:SAe,drawCircle:IAe,drawSection:PAe,drawText:MAe,drawLabel:OAe,drawTask:FAe,drawBackgroundRect:$Ae,getTextObj:GAe,getNoteRect:qAe,initGraphics:YAe,drawNode:VAe,getVirtualNodeHeight:XAe}}),wLe=M(()=>{U_(),bLe(),Ae(),hf(),kp(),nLe=o(function(c,q,Y,Z){let re=Xp(),ae=re.leftMargin??50;V.debug("timeline",Z.db);let se,oe=re.securityLevel;"sandbox"===oe&&(se=ze("#i"+q));let he=ze("sandbox"===oe?se.nodes()[0].contentDocument.body:"body").select("#"+q);he.append("g");let de=Z.db.getTasks(),pe=Z.db.getCommonDb().getDiagramTitle();V.debug("task",de),tLe.initGraphics(he);let ge=Z.db.getSections();V.debug("sections",ge);let me=0,ve=0,be=0,we=0,Te=50+ae,_e=50;we=50;let Ee=0,Ce=!0;ge.forEach(function(c){let q={number:Ee,descr:c,section:Ee,width:150,padding:20,maxHeight:me},Y=tLe.getVirtualNodeHeight(he,q,re);V.debug("sectionHeight before draw",Y),me=Math.max(me,Y+20)});let Se=0,Ae=0;V.debug("tasks.length",de.length);for(let[c,q]of de.entries()){let Y={number:c,descr:q,section:q.section,width:150,padding:20,maxHeight:ve},Z=tLe.getVirtualNodeHeight(he,Y,re);V.debug("taskHeight before draw",Z),ve=Math.max(ve,Z+20),Se=Math.max(Se,q.events.length);let ae=0;for(let c of q.events){let Y={descr:c,section:q.section,number:q.section,width:150,padding:20,maxHeight:50};ae+=tLe.getVirtualNodeHeight(he,Y,re)}Ae=Math.max(Ae,ae)}V.debug("maxSectionHeight before draw",me),V.debug("maxTaskHeight before draw",ve),ge&&ge.length>0?ge.forEach(c=>{let q=de.filter(q=>q.section===c),Y={number:Ee,descr:c,section:Ee,width:200*Math.max(q.length,1)-50,padding:20,maxHeight:me};V.debug("sectionNode",Y);let Z=he.append("g"),ae=tLe.drawNode(Z,Y,Ee,re);V.debug("sectionNode output",ae),Z.attr("transform",`translate(${Te}, 50)`),_e+=me+50,q.length>0&&iLe(he,q,Ee,Te,_e,ve,re,Se,Ae,me,!1),Te+=200*Math.max(q.length,1),_e=50,Ee++}):(Ce=!1,iLe(he,de,Ee,Te,_e,ve,re,Se,Ae,me,!0));let Le=he.node().getBBox();V.debug("bounds",Le),pe&&he.append("text").text(pe).attr("x",Le.width/2-ae).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),be=Ce?me+ve+150:ve+100,he.append("g").attr("class","lineWrapper").append("line").attr("x1",ae).attr("y1",be).attr("x2",Le.width+3*ae).attr("y2",be).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),up(void 0,he,re.timeline?.padding??50,re.timeline?.useMaxWidth??!1)},"draw"),iLe=o(function(c,q,Y,Z,re,ae,se,oe,he,de,pe){for(let oe of q){let q={descr:oe.task,section:Y,number:Y,width:150,padding:20,maxHeight:ae};V.debug("taskNode",q);let ge=c.append("g").attr("class","taskWrapper"),me=tLe.drawNode(ge,q,Y,se).height;if(V.debug("taskHeight after draw",me),ge.attr("transform",`translate(${Z}, ${re})`),ae=Math.max(ae,me),oe.events){let q=c.append("g").attr("class","lineWrapper"),V=ae;re+=100,V+=aLe(c,oe.events,Y,Z,re,se),re-=100,q.append("line").attr("x1",Z+95).attr("y1",re+ae).attr("x2",Z+95).attr("y2",re+ae+(pe?ae:de)+he+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}Z+=200,pe&&!se.timeline?.disableMulticolor&&Y++}re-=10},"drawTasks"),aLe=o(function(c,q,Y,Z,re,ae){let se=0,oe=re;re+=100;for(let oe of q){let q={descr:oe,section:Y,number:Y,width:150,padding:20,maxHeight:50};V.debug("eventNode",q);let he=c.append("g").attr("class","eventWrapper"),de=tLe.drawNode(he,q,Y,ae).height;se+=de,he.attr("transform",`translate(${Z}, ${re})`),re=re+10+de}return re=oe,se},"drawEvents"),sLe={setConf:o(()=>{},"setConf"),draw:nLe}}),_Le=M(()=>{hi(),lLe=o(c=>{let q="";for(let q=0;q<c.THEME_COLOR_LIMIT;q++)c["lineColor"+q]=c["lineColor"+q]||c["cScaleInv"+q],br(c["lineColor"+q])?c["lineColor"+q]=_r(c["lineColor"+q],20):c["lineColor"+q]=Sr(c["lineColor"+q],20);for(let Y=0;Y<c.THEME_COLOR_LIMIT;Y++){let V=""+(17-3*Y);q+=`\n    .section-${Y-1} rect, .section-${Y-1} path, .section-${Y-1} circle, .section-${Y-1} path  {\n      fill: ${c["cScale"+Y]};\n    }\n    .section-${Y-1} text {\n     fill: ${c["cScaleLabel"+Y]};\n    }\n    .node-icon-${Y-1} {\n      font-size: 40px;\n      color: ${c["cScaleLabel"+Y]};\n    }\n    .section-edge-${Y-1}{\n      stroke: ${c["cScale"+Y]};\n    }\n    .edge-depth-${Y-1}{\n      stroke-width: ${V};\n    }\n    .section-${Y-1} line {\n      stroke: ${c["cScaleInv"+Y]} ;\n      stroke-width: 3;\n    }\n\n    .lineWrapper line{\n      stroke: ${c["cScaleLabel"+Y]} ;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return q},"genSections"),hLe=o(c=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${lLe(c)}\n  .section-root rect, .section-root path, .section-root circle  {\n    fill: ${c.git0};\n  }\n  .section-root text {\n    fill: ${c.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .eventWrapper  {\n   filter: brightness(120%);\n  }\n`,"getStyles"),xLe=hLe}),ELe={};vr(ELe,{diagram:()=>CLe});var CLe,SLe,ALe,ILe,MLe,RLe,DLe,BLe,qLe,jLe,YLe,XLe,KLe,QLe,ZLe,JLe,eNe,tNe,nNe=M(()=>{JSe(),CAe(),wLe(),_Le(),CLe={db:eAe,renderer:sLe,parser:QSe,styles:xLe}}),iNe=M(()=>{(SLe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,4],Y=[1,13],V=[1,12],Z=[1,15],re=[1,16],ae=[1,20],se=[1,19],oe=[6,7,8],he=[1,26],de=[1,24],pe=[1,25],ge=[6,7,11],me=[1,6,13,15,16,19,22],ve=[1,33],be=[1,34],we=[1,6,7,11,13,15,16,19,22],Te={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 6:case 7:return V;case 8:V.getLogger().trace("Stop NL ");break;case 9:V.getLogger().trace("Stop EOF ");break;case 11:V.getLogger().trace("Stop NL2 ");break;case 12:V.getLogger().trace("Stop EOF2 ");break;case 15:V.getLogger().info("Node: ",re[se].id),V.addNode(re[se-1].length,re[se].id,re[se].descr,re[se].type);break;case 16:V.getLogger().trace("Icon: ",re[se]),V.decorateNode({icon:re[se]});break;case 17:case 21:V.decorateNode({class:re[se]});break;case 18:V.getLogger().trace("SPACELIST");break;case 19:V.getLogger().trace("Node: ",re[se].id),V.addNode(0,re[se].id,re[se].descr,re[se].type);break;case 20:V.decorateNode({icon:re[se]});break;case 25:V.getLogger().trace("node found ..",re[se-2]),this.$={id:re[se-1],descr:re[se-1],type:V.getType(re[se-2],re[se])};break;case 26:this.$={id:re[se],descr:re[se],type:V.nodeType.DEFAULT};break;case 27:V.getLogger().trace("node found ..",re[se-3]),this.$={id:re[se-3],descr:re[se-1],type:V.getType(re[se-2],re[se])}}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:q},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:q},{6:Y,7:[1,10],9:9,12:11,13:V,14:14,15:Z,16:re,17:17,18:18,19:ae,22:se},c(oe,[2,3]),{1:[2,2]},c(oe,[2,4]),c(oe,[2,5]),{1:[2,6],6:Y,12:21,13:V,14:14,15:Z,16:re,17:17,18:18,19:ae,22:se},{6:Y,9:22,12:11,13:V,14:14,15:Z,16:re,17:17,18:18,19:ae,22:se},{6:he,7:de,10:23,11:pe},c(ge,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:ae,22:se}),c(ge,[2,18]),c(ge,[2,19]),c(ge,[2,20]),c(ge,[2,21]),c(ge,[2,23]),c(ge,[2,24]),c(ge,[2,26],{19:[1,30]}),{20:[1,31]},{6:he,7:de,10:32,11:pe},{1:[2,7],6:Y,12:21,13:V,14:14,15:Z,16:re,17:17,18:18,19:ae,22:se},c(me,[2,14],{7:ve,11:be}),c(we,[2,8]),c(we,[2,9]),c(we,[2,10]),c(ge,[2,15]),c(ge,[2,16]),c(ge,[2,17]),{20:[1,35]},{21:[1,36]},c(me,[2,13],{7:ve,11:be}),c(we,[2,11]),c(we,[2,12]),{21:[1,37]},c(ge,[2,25]),c(ge,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function ie(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function K(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(ie,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=ie()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},_e={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return c.getLogger().trace("Found comment",q.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:c.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return c.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:c.getLogger().trace("end icon"),this.popState();break;case 10:return c.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return c.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return c.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return c.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:c.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return c.getLogger().trace("description:",q.yytext),"NODE_DESCR";case 27:return this.popState(),c.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),c.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),c.getLogger().trace("node end ...",q.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),c.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),c.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return c.getLogger().trace("Long description:",q.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};function w(){this.yy={}}return Te.lexer=_e,o(w,"Parser"),w.prototype=Te,Te.Parser=w,new w}()).parser=SLe,ALe=SLe}),aNe=M(()=>{hf(),bp(),Ae(),bi(),ILe=[],MLe=0,RLe={},DLe=o(()=>{ILe=[],MLe=0,RLe={}},"clear"),BLe=o(function(c){for(let q=ILe.length-1;q>=0;q--)if(ILe[q].level<c)return ILe[q];return null},"getParent"),qLe=o(()=>ILe.length>0?ILe[0]:null,"getMindmap"),jLe=o((c,q,Y,Z)=>{V.info("addNode",c,q,Y,Z);let re=Xp(),ae=re.mindmap?.padding??nn.mindmap.padding;switch(Z){case YLe.ROUNDED_RECT:case YLe.RECT:case YLe.HEXAGON:ae*=2}let se={id:MLe++,nodeId:Md(q,re),level:c,descr:Md(Y,re),type:Z,children:[],width:re.mindmap?.maxNodeWidth??nn.mindmap.maxNodeWidth,padding:ae},oe=BLe(c);if(oe)oe.children.push(se),ILe.push(se);else{if(0!==ILe.length)throw new Error('There can be only one root. No parent could be found for ("'+se.descr+'")');ILe.push(se)}},"addNode"),YLe={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},XLe=o((c,q)=>{switch(V.debug("In get type",c,q),c){case"[":return YLe.RECT;case"(":return")"===q?YLe.ROUNDED_RECT:YLe.CLOUD;case"((":return YLe.CIRCLE;case")":return YLe.CLOUD;case"))":return YLe.BANG;case"{{":return YLe.HEXAGON;default:return YLe.DEFAULT}},"getType"),KLe=o((c,q)=>{RLe[c]=q},"setElementForId"),QLe=o(c=>{if(!c)return;let q=Xp(),Y=ILe[ILe.length-1];c.icon&&(Y.icon=Md(c.icon,q)),c.class&&(Y.class=Md(c.class,q))},"decorateNode"),ZLe=o(c=>{switch(c){case YLe.DEFAULT:return"no-border";case YLe.RECT:return"rect";case YLe.ROUNDED_RECT:return"rounded-rect";case YLe.CIRCLE:return"circle";case YLe.CLOUD:return"cloud";case YLe.BANG:return"bang";case YLe.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),JLe=o(()=>V,"getLogger"),eNe=o(c=>RLe[c],"getElementById"),tNe={clear:DLe,addNode:jLe,getMindmap:qLe,nodeType:YLe,getType:XLe,setElementForId:KLe,decorateNode:QLe,type2Str:ZLe,getLogger:JLe,getElementById:eNe}});function Yi(c){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(c)}function JP(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}function Dpe(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}function eB(c,q,Y){return q&&Dpe(c.prototype,q),Y&&Dpe(c,Y),Object.defineProperty(c,"prototype",{writable:!1}),c}function Hme(c,q,Y){return q in c?Object.defineProperty(c,q,{value:Y,enumerable:!0,configurable:!0,writable:!0}):c[q]=Y,c}function Ul(c,q){return Vqe(c)||Uqe(c,q)||Wme(c,q)||Hqe()}function Vqe(c){if(Array.isArray(c))return c}function Uqe(c,q){var Y=null==c?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(null!=Y){var V,Z,re=[],ae=!0,se=!1;try{for(Y=Y.call(c);!(ae=(V=Y.next()).done)&&(re.push(V.value),!q||re.length!==q);ae=!0);}catch(c){se=!0,Z=c}finally{try{!ae&&null!=Y.return&&Y.return()}finally{if(se)throw Z}}return re}}function Wme(c,q){if(c){if("string"==typeof c)return Npe(c,q);var Y=Object.prototype.toString.call(c).slice(8,-1);if("Object"===Y&&c.constructor&&(Y=c.constructor.name),"Map"===Y||"Set"===Y)return Array.from(c);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return Npe(c,q)}}function Npe(c,q){(null==q||q>c.length)&&(q=c.length);for(var Y=0,V=new Array(q);Y<q;Y++)V[Y]=c[Y];return V}function Hqe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yme(c,q){var Y=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!Y){if(Array.isArray(c)||(Y=Wme(c))||q&&c&&"number"==typeof c.length){Y&&(c=Y);var V=0,Z=o(function(){},"F");return{s:Z,n:o(function(){return V>=c.length?{done:!0}:{done:!1,value:c[V++]}},"n"),e:o(function(c){throw c},"e"),f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var re,ae=!0,se=!1;return{s:o(function(){Y=Y.call(c)},"s"),n:o(function(){var c=Y.next();return ae=c.done,c},"n"),e:o(function(c){se=!0,re=c},"e"),f:o(function(){try{!ae&&null!=Y.return&&Y.return()}finally{if(se)throw re}},"f")}}function pXe(c){var q=typeof c;return null!=c&&("object"==q||"function"==q)}function mXe(c,q){return c(q={exports:{}},q.exports),q.exports}function TXe(c){for(var q=c.length;q--&&RIe.test(c.charAt(q)););return q}function SXe(c){return c&&c.slice(0,PIe(c)+1).replace(zIe,"")}function DXe(c){var q=JIe.call(c,rMe),Y=c[rMe];try{c[rMe]=void 0;var V=!0}catch{}var Z=eMe.call(c);return V&&(q?c[rMe]=Y:delete c[rMe]),Z}function IXe(c){return uMe.call(c)}function FXe(c){return null==c?void 0===c?yMe:pMe:wMe&&wMe in Object(c)?cMe(c):dMe(c)}function zXe(c){return null!=c&&"object"==typeof c}function VXe(c){return"symbol"==typeof c||_Me(c)&&kMe(c)==CMe}function qXe(c){if("number"==typeof c)return c;if(SMe(c))return AMe;if(fIe(c)){var q="function"==typeof c.valueOf?c.valueOf():c;c=fIe(q)?q+"":q}if("string"!=typeof c)return 0===c?c:+c;c=WIe(c);var Y=DMe.test(c);return Y||GMe.test(c)?jMe(c.slice(2),Y?2:8):RMe.test(c)?AMe:+c}function QXe(c,q,Y){var V,Z,re,ae,se,oe,he=0,de=!1,pe=!1,ge=!0;if("function"!=typeof c)throw new TypeError(QMe);function m(q){var Y=V,re=Z;return V=Z=void 0,he=q,ae=c.apply(re,Y)}function g(c){return he=c,se=setTimeout(x,q),de?m(c):ae}function y(c){var Y=q-(c-oe);return pe?JMe(Y,re-(c-he)):Y}function v(c){var Y=c-oe;return void 0===oe||Y>=q||Y<0||pe&&c-he>=re}function x(){var c=LIe();if(v(c))return b(c);se=setTimeout(x,y(c))}function b(c){return se=void 0,ge&&V?m(c):(V=Z=void 0,ae)}function w(){void 0!==se&&clearTimeout(se),he=0,V=oe=Z=se=void 0}function _(){return void 0===se?ae:b(LIe())}function T(){var c=LIe(),Y=v(c);if(V=arguments,Z=this,oe=c,Y){if(void 0===se)return g(oe);if(pe)return clearTimeout(se),se=setTimeout(x,q),m(oe)}return void 0===se&&(se=setTimeout(x,q)),ae}return q=KMe(q)||0,fIe(Y)&&(de=!!Y.leading,re=(pe="maxWait"in Y)?ZMe(KMe(Y.maxWait)||0,q):re,ge="trailing"in Y?!!Y.trailing:ge),o(m,"invokeFunc"),o(g,"leadingEdge"),o(y,"remainingWait"),o(v,"shouldInvoke"),o(x,"timerExpired"),o(b,"trailingEdge"),o(w,"cancel"),o(_,"flush"),o(T,"debounced"),T.cancel=w,T.flush=_,T}function D6(c,q,Y,V,Z,re){var ae;return ae=gNe(c)?c:S$e[c]||S$e.euclidean,0===q&&gNe(c)?ae(Z,re):ae(q,Y,V,Z,re)}function UKe(c,q){if(gGe(c))return!1;var Y=typeof c;return!("number"!=Y&&"symbol"!=Y&&"boolean"!=Y&&null!=c&&!SMe(c))||(mGe.test(c)||!fGe.test(c)||null!=q&&c in Object(q))}function jKe(c){if(!fIe(c))return!1;var q=kMe(c);return q==xGe||q==bGe||q==vGe||q==wGe}function ZKe(c){return!!CGe&&CGe in c}function rQe(c){if(null!=c){try{return LGe.call(c)}catch{}try{return c+""}catch{}}return""}function hQe(c){return!(!fIe(c)||SGe(c))&&(kGe(c)?BGe:MGe).test(NGe(c))}function dQe(c,q){return c?.[q]}function mQe(c,q){var Y=$Ge(c,q);return FGe(Y)?Y:void 0}function yQe(){this.__data__=UGe?UGe(null):{},this.size=0}function xQe(c){var q=this.has(c)&&delete this.__data__[c];return this.size-=q?1:0,q}function EQe(c){var q=this.__data__;if(UGe){var Y=q[c];return Y===YGe?void 0:Y}return HGe.call(q,c)?q[c]:void 0}function _Qe(c){var q=this.__data__;return UGe?void 0!==q[c]:KGe.call(q,c)}function NQe(c,q){var Y=this.__data__;return this.size+=this.has(c)?0:1,Y[c]=UGe&&void 0===q?ZGe:q,this}function p1(c){var q=-1,Y=null==c?0:c.length;for(this.clear();++q<Y;){var V=c[q];this.set(V[0],V[1])}}function MQe(){this.__data__=[],this.size=0}function OQe(c,q){return c===q||c!=c&&q!=q}function PQe(c,q){for(var Y=c.length;Y--;)if(dUe(c[Y][0],q))return Y;return-1}function zQe(c){var q=this.__data__,Y=pUe(q,c);return!(Y<0)&&(Y==q.length-1?q.pop():fUe.call(q,Y,1),--this.size,!0)}function $Qe(c){var q=this.__data__,Y=pUe(q,c);return Y<0?void 0:q[Y][1]}function UQe(c){return pUe(this.__data__,c)>-1}function WQe(c,q){var Y=this.__data__,V=pUe(Y,c);return V<0?(++this.size,Y.push([c,q])):Y[V][1]=q,this}function m1(c){var q=-1,Y=null==c?0:c.length;for(this.clear();++q<Y;){var V=c[q];this.set(V[0],V[1])}}function KQe(){this.size=0,this.__data__={hash:new hUe,map:new(kUe||bUe),string:new hUe}}function ZQe(c){var q=typeof c;return"string"==q||"number"==q||"symbol"==q||"boolean"==q?"__proto__"!==c:null===c}function eZe(c,q){var Y=c.__data__;return _Ue(q)?Y["string"==typeof q?"string":"hash"]:Y.map}function tZe(c){var q=EUe(this,c).delete(c);return this.size-=q?1:0,q}function nZe(c){return EUe(this,c).get(c)}function aZe(c){return EUe(this,c).has(c)}function oZe(c,q){var Y=EUe(this,c),V=Y.size;return Y.set(c,q),this.size+=Y.size==V?0:1,this}function g1(c){var q=-1,Y=null==c?0:c.length;for(this.clear();++q<Y;){var V=c[q];this.set(V[0],V[1])}}function hB(c,q){if("function"!=typeof c||null!=q&&"function"!=typeof q)throw new TypeError(IUe);var Y=o(function(){var V=arguments,Z=q?q.apply(this,V):V[0],re=Y.cache;if(re.has(Z))return re.get(Z);var ae=c.apply(this,V);return Y.cache=re.set(Z,ae)||re,ae},"memoized");return Y.cache=new(hB.Cache||NUe),Y}function fZe(c){var q=MUe(c,function(c){return Y.size===RUe&&Y.clear(),c}),Y=q.cache;return q}function yZe(c,q){for(var Y=-1,V=null==c?0:c.length,Z=Array(V);++Y<V;)Z[Y]=q(c[Y],Y,c);return Z}function Dge(c){if("string"==typeof c)return c;if(gGe(c))return FUe(c,Dge)+"";if(SMe(c))return GUe?GUe.call(c):"";var q=c+"";return"0"==q&&1/c==-$Ue?"-0":q}function bZe(c){return null==c?"":UUe(c)}function wZe(c,q){return gGe(c)?c:yGe(c,q)?[c]:BUe(qUe(c))}function kZe(c){if("string"==typeof c||SMe(c))return c;var q=c+"";return"0"==q&&1/c==-YUe?"-0":q}function EZe(c,q){for(var Y=0,V=(q=jUe(q,c)).length;null!=c&&Y<V;)c=c[WUe(q[Y++])];return Y&&Y==V?c:void 0}function CZe(c,q,Y){var V=null==c?void 0:HUe(c,q);return void 0===V?Y:V}function LZe(c,q,Y){"__proto__"==q&&KUe?KUe(c,q,{configurable:!0,enumerable:!0,value:Y,writable:!0}):c[q]=Y}function MZe(c,q,Y){var V=c[q];(!JUe.call(c,q)||!dUe(V,Y)||void 0===Y&&!(q in c))&&QUe(c,q,Y)}function BZe(c,q){var Y=typeof c;return!!(q=q??tqe)&&("number"==Y||"symbol"!=Y&&rqe.test(c))&&c>-1&&c%1==0&&c<q}function zZe(c,q,Y,V){if(!fIe(c))return c;for(var Z=-1,re=(q=jUe(q,c)).length,ae=re-1,se=c;null!=se&&++Z<re;){var oe=WUe(q[Z]),he=Y;if("__proto__"===oe||"constructor"===oe||"prototype"===oe)return c;if(Z!=ae){var de=se[oe];void 0===(he=V?V(de,oe,se):void 0)&&(he=fIe(de)?de:nqe(q[Z+1])?[]:{})}eqe(se,oe,he),se=se[oe]}return c}function $Ze(c,q,Y){return null==c?c:iqe(c,q,Y)}function UZe(c,q){var Y=-1,V=c.length;for(q||(q=Array(V));++Y<V;)q[Y]=c[Y];return q}function WZe(c){return gGe(c)?FUe(c,WUe):SMe(c)?[c]:sqe(BUe(qUe(c)))}function pB(c,q,Y,V){for(var Z=[],re=new $De,ae=c.cy().hasCompoundNodes(),se=0;se<c.length;se++){var oe=c[se];Y?Z.push(oe):ae&&V(Z,re,oe)}for(;Z.length>0;){var he=Z.shift();q(he),re.add(he.id()),ae&&V(Z,re,he)}return c}function Ige(c,q,Y){if(Y.isParent())for(var V=Y._private.children,Z=0;Z<V.length;Z++){var re=V[Z];q.has(re.id())||c.push(re)}}function Oge(c,q,Y){if(Y.isChild()){var V=Y._private.parent;q.has(V.id())||c.push(V)}}function uJe(c,q,Y){Oge(c,q,Y),Ige(c,q,Y)}function DP(c){return function(q){var Y=this;if(void 0===q&&(q=!0),0===Y.length);else if(Y.isNode()&&!Y.removed()){for(var V=0,Z=Y[0],re=Z._private.edges,ae=0;ae<re.length;ae++){var se=re[ae];!q&&se.isLoop()||(V+=c(Z,se))}return V}}}function Qg(c,q){return function(Y){for(var V,Z=this.nodes(),re=0;re<Z.length;re++){var ae=Z[re][c](Y);void 0!==ae&&(void 0===V||q(ae,V))&&(V=ae)}return V}}function Rx(){return!1}function e6(){return!0}function O6(){for(var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fje,q=arguments.length>1?arguments[1]:void 0,Y=0;Y<Bje.length;Y++){var V=Bje[Y];this[V]=c[V]||Pje[V]}this.context=q||this.context,this.listeners=[],this.emitting=0}function jge(c,q,Y){var V,Z=Y._private,re=Z.styleCache=Z.styleCache||[];return null!=(V=re[c])||(V=re[c]=q(Y)),V}function P6(c,q){return c=PRe(c),o(function(Y){return jge(c,q,Y)},"cachedStyleFunction")}function B6(c,q){c=PRe(c);var Y=o(function(c){return q.call(c)},"selfFn");return o(function(){var q=this[0];if(q)return jge(c,Y,q)},"cachedPrototypeStyleFunction")}function RP(c,q){var Y=c._private.data.parent?c.parents():null;if(Y)for(var V=0;V<Y.length;V++){if(!q(Y[V]))return!1}return!0}function mB(c){var q=c.ok,Y=c.edgeOkViaNode||c.ok,V=c.parentOk||c.ok;return function(){var c=this.cy();if(!c.styleEnabled())return!0;var Z=this[0],re=c.hasCompoundNodes();if(Z){var ae=Z._private;if(!q(Z))return!1;if(Z.isNode())return!re||RP(Z,V);var se=ae.source,oe=ae.target;return Y(se)&&(!re||RP(se,Y))&&(se===oe||Y(oe)&&(!re||RP(oe,Y)))}}}function pme(c){return function(){var q=arguments,Y=[];if(2===q.length){var V=q[0],Z=q[1];this.on(c.event,V,Z)}else if(1===q.length&&gNe(q[0])){var re=q[0];this.on(c.event,re)}else if(0===q.length||1===q.length&&fNe(q[0])){for(var ae=1===q.length?q[0]:null,se=0;se<this.length;se++){var oe=this[se],he=!c.ableField||oe._private[c.ableField],de=oe._private[c.field]!=c.value;if(c.overrideAble){var pe=c.overrideAble(oe);if(void 0!==pe&&(he=pe,!pe))return this}he&&(oe._private[c.field]=c.value,de&&Y.push(oe))}var ge=this.spawn(Y);ge.updateStyle(),ge.emit(c.event),ae&&ge.emit(ae)}return this}}function v1(c){lYe[c.field]=function(){var q=this[0];if(q){if(c.overrideField){var Y=c.overrideField(q);if(void 0!==Y)return Y}return q._private[c.field]}},lYe[c.on]=pme({event:c.on,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!0}),lYe[c.off]=pme({event:c.off,field:c.field,ableField:c.ableField,overrideAble:c.overrideAble,value:!1})}function vme(c){return o(function(q){for(var Y=[],V=0;V<this.length;V++){var Z=this[V]._private[c.attr];Z&&Y.push(Z)}return this.spawn(Y,!0).filter(q)},"sourceImpl")}function xme(c){return o(function(q){var Y=[],V=this._private.cy,Z=c||{};pNe(q)&&(q=V.$(q));for(var re=0;re<q.length;re++)for(var ae=q[re]._private.edges,se=0;se<ae.length;se++){var oe=ae[se],he=oe._private.data,de=this.hasElementWithId(he.source)&&q.hasElementWithId(he.target),pe=q.hasElementWithId(he.source)&&this.hasElementWithId(he.target);(de||pe)&&((Z.thisIsSrc||Z.thisIsTgt)&&(Z.thisIsSrc&&!de||Z.thisIsTgt&&!pe)||Y.push(oe))}return this.spawn(Y,!0)},"edgesWithImpl")}function bme(c){return c=eIe({},{codirected:!1},c),o(function(q){for(var Y=[],V=this.edges(),Z=c,re=0;re<V.length;re++)for(var ae=V[re]._private,se=ae.source,oe=se._private.data.id,he=ae.data.target,de=se._private.edges,pe=0;pe<de.length;pe++){var ge=de[pe],me=ge._private.data,ve=me.target,be=me.source,we=ve===he&&be===oe,Te=oe===ve&&he===be;(Z.codirected&&we||!Z.codirected&&(we||Te))&&Y.push(ge)}return this.spawn(Y,!0).filter(q)},"parallelEdgesImpl")}function GJe(c,q,Y,V){var Z=.1,re=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var ae=0;ae<4;++ae)if("number"!=typeof arguments[ae]||isNaN(arguments[ae])||!isFinite(arguments[ae]))return!1;c=Math.min(c,1),Y=Math.min(Y,1),c=Math.max(c,0),Y=Math.max(Y,0);var se=re?new Float32Array(11):new Array(11);function m(c,q){return 1-3*q+3*c}function g(c,q){return 3*q-6*c}function y(c){return 3*c}function v(c,q,Y){return((m(q,Y)*c+g(q,Y))*c+y(q))*c}function x(c,q,Y){return 3*m(q,Y)*c*c+2*g(q,Y)*c+y(q)}function b(q,V){for(var Z=0;Z<4;++Z){var re=x(V,c,Y);if(0===re)return V;V-=(v(V,c,Y)-q)/re}return V}function w(){for(var q=0;q<11;++q)se[q]=v(q*Z,c,Y)}function _(q,V,Z){var re,ae,se=0;do{(re=v(ae=V+(Z-V)/2,c,Y)-q)>0?Z=ae:V=ae}while(Math.abs(re)>1e-7&&++se<10);return ae}function T(q){for(var V=0,re=1;10!==re&&se[re]<=q;++re)V+=Z;--re;var ae=V+(q-se[re])/(se[re+1]-se[re])*Z,oe=x(ae,c,Y);return oe>=.001?b(q,ae):0===oe?ae:_(q,V,V+Z)}o(m,"A"),o(g,"B"),o(y,"C"),o(v,"calcBezier"),o(x,"getSlope"),o(b,"newtonRaphsonIterate"),o(w,"calcSampleValues"),o(_,"binarySubdivide"),o(T,"getTForX");var oe=!1;function L(){oe=!0,(c!==q||Y!==V)&&w()}o(L,"precompute");var he=o(function(Z){return oe||L(),c===q&&Y===V?Z:0===Z?0:1===Z?1:v(T(Z),q,V)},"f");he.getControlPoints=function(){return[{x:c,y:q},{x:Y,y:V}]};var de="generateBezier("+[c,q,Y,V]+")";return he.toString=function(){return de},he}function wme(c,q,Y,V,Z){if(1===V||q===Y)return Y;var re=Z(q,Y,V);return null==c||((c.roundValue||c.color)&&(re=Math.round(re)),void 0!==c.min&&(re=Math.max(re,c.min)),void 0!==c.max&&(re=Math.min(re,c.max))),re}function Tme(c,q){return null!=c.pfValue||null!=c.value?null==c.pfValue||null!=q&&"%"===q.type.units?c.value:c.pfValue:c}function Zg(c,q,Y,V,Z){var re=null!=Z?Z.type:null;Y<0?Y=0:Y>1&&(Y=1);var ae=Tme(c,Z),se=Tme(q,Z);if(vNe(ae)&&vNe(se))return wme(re,ae,se,Y,V);if(fNe(ae)&&fNe(se)){for(var oe=[],he=0;he<se.length;he++){var de=ae[he],pe=se[he];if(null!=de&&null!=pe){var ge=wme(re,de,pe,Y,V);oe.push(ge)}else oe.push(pe)}return oe}}function VJe(c,q,Y,V){var Z=!V,re=c._private,ae=q._private,se=ae.easing,oe=ae.startTime,he=(V?c:c.cy()).style();if(!ae.easingImpl)if(null==se)ae.easingImpl=vYe.linear;else{var de,pe,ge;if(pNe(se))de=he.parse("transition-timing-function",se).value;else de=se;pNe(de)?(pe=de,ge=[]):(pe=de[1],ge=de.slice(2).map(function(c){return+c})),ge.length>0?("spring"===pe&&ge.push(ae.duration),ae.easingImpl=vYe[pe].apply(null,ge)):ae.easingImpl=vYe[pe]}var me,ve=ae.easingImpl;if(me=0===ae.duration?1:(Y-oe)/ae.duration,ae.applying&&(me=ae.progress),me<0?me=0:me>1&&(me=1),null==ae.delay){var be=ae.startPosition,we=ae.position;if(we&&Z&&!c.locked()){var Te={};Mx(be.x,we.x)&&(Te.x=Zg(be.x,we.x,me,ve)),Mx(be.y,we.y)&&(Te.y=Zg(be.y,we.y,me,ve)),c.position(Te)}var _e=ae.startPan,Ee=ae.pan,Ce=re.pan,Se=null!=Ee&&V;Se&&(Mx(_e.x,Ee.x)&&(Ce.x=Zg(_e.x,Ee.x,me,ve)),Mx(_e.y,Ee.y)&&(Ce.y=Zg(_e.y,Ee.y,me,ve)),c.emit("pan"));var Ae=ae.startZoom,Le=ae.zoom,Ne=null!=Le&&V;Ne&&(Mx(Ae,Le)&&(re.zoom=mPe(re.minZoom,Zg(Ae,Le,me,ve),re.maxZoom)),c.emit("zoom")),(Se||Ne)&&c.emit("viewport");var Ie=ae.style;if(Ie&&Ie.length>0&&Z){for(var Me=0;Me<Ie.length;Me++){var Re=Ie[Me],Oe=Re.name,Be=Re,$e=ae.startStyle[Oe],Ue=Zg($e,Be,me,ve,he.properties[$e.name]);he.overrideBypass(c,Oe,Ue)}c.emit("style")}}return ae.progress=me,me}function Mx(c,q){return null!=c&&null!=q&&(!(!vNe(c)||!vNe(q))||!(!c||!q))}function UJe(c,q,Y,V){var Z=q._private;Z.started=!0,Z.startTime=Y-Z.progress*Z.duration}function kme(c,q){var Y=q._private.aniEles,V=[];function i(q,Y){var Z=q._private,re=Z.animation.current,ae=Z.animation.queue,se=!1;if(0===re.length){var oe=ae.shift();oe&&re.push(oe)}for(var he=o(function(c){for(var q=c.length-1;q>=0;q--){(0,c[q])()}c.splice(0,c.length)},"callbacks"),de=re.length-1;de>=0;de--){var pe=re[de],ge=pe._private;ge.stopped?(re.splice(de,1),ge.hooked=!1,ge.playing=!1,ge.started=!1,he(ge.frames)):!ge.playing&&!ge.applying||(ge.playing&&ge.applying&&(ge.applying=!1),ge.started||UJe(0,pe,c),VJe(q,pe,c,Y),ge.applying&&(ge.applying=!1),he(ge.frames),null!=ge.step&&ge.step(c),pe.completed()&&(re.splice(de,1),ge.hooked=!1,ge.playing=!1,ge.started=!1,he(ge.completes)),se=!0)}return!Y&&0===re.length&&0===ae.length&&V.push(q),se}o(i,"stepOne");for(var Z=!1,re=0;re<Y.length;re++){var ae=i(Y[re]);Z=Z||ae}var se=i(q,!0);(Z||se)&&(Y.length>0?q.notify("draw",Y):q.notify("draw")),Y.unmerge(V),q.emit("step")}function Qge(c){this.options=eIe({},YYe,WYe,c)}function Zge(c){this.options=eIe({},XYe,c)}function Jge(c){this.options=eIe({},KYe,c)}function G6(c){this.options=eIe({},JYe,c),this.options.layout=this;var q=this.options.eles.nodes(),Y=this.options.eles.edges().filter(function(c){var Y=c.source().data("id"),V=c.target().data("id"),Z=q.some(function(c){return c.data("id")===Y}),re=q.some(function(c){return c.data("id")===V});return!Z||!re});this.options.eles=this.options.eles.not(Y)}function t1e(c){this.options=eIe({},xWe,c)}function vB(c){this.options=eIe({},bWe,c)}function r1e(c){this.options=eIe({},wWe,c)}function n1e(c){this.options=eIe({},kWe,c)}function i1e(c){this.options=c,this.notifications=0}function o1e(c,q){0===q.radius?c.lineTo(q.cx,q.cy):c.arc(q.cx,q.cy,q.radius,q.startAngle,q.endAngle,q.counterClockwise)}function bB(c,q,Y,V){var Z=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===V||0===q.radius?{cx:q.x,cy:q.y,radius:0,startX:q.x,startY:q.y,stopX:q.x,stopY:q.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(ZWe(c,q,Y,V,Z),{cx:LWe,cy:NWe,radius:zWe,startX:jWe,startY:YWe,stopX:WWe,stopY:HWe,startAngle:IWe.ang+Math.PI/2*OWe,endAngle:MWe.ang-Math.PI/2*OWe,counterClockwise:PWe})}function l1e(c){var q=[];if(null!=c){for(var Y=0;Y<c.length;Y+=2){var V=c[Y],Z=c[Y+1];q.push({x:V,y:Z})}return q}}function Aet(c,q,Y){for(var V=o(function(c,q,Y,V){return pPe(c,q,Y,V)},"qbezierAt$1"),Z=q._private.rstyle.bezierPts,re=0;re<c.bezierProjPcts.length;re++){var ae=c.bezierProjPcts[re];Z.push({x:V(Y[0],Y[2],Y[4],ae),y:V(Y[1],Y[3],Y[5],ae)})}}function itt(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];c.lineTo(V.x,V.y)}}function att(c,q,Y){for(var V,Z=0;Z<q.length;Z++){var re=q[Z];0===Z&&(V=re),c.lineTo(re.x,re.y)}c.quadraticCurveTo(Y.x,Y.y,V.x,V.y)}function Gme(c,q,Y){c.beginPath&&c.beginPath();for(var V=q,Z=0;Z<V.length;Z++){var re=V[Z];c.lineTo(re.x,re.y)}var ae=Y,se=Y[0];c.moveTo(se.x,se.y);for(Z=1;Z<ae.length;Z++){re=ae[Z];c.lineTo(re.x,re.y)}c.closePath&&c.closePath()}function stt(c,q,Y,V,Z){c.beginPath&&c.beginPath(),c.arc(Y,V,Z,0,2*Math.PI,!1);var re=q,ae=re[0];c.moveTo(ae.x,ae.y);for(var se=0;se<re.length;se++){var oe=re[se];c.lineTo(oe.x,oe.y)}c.closePath&&c.closePath()}function ott(c,q,Y,V){c.arc(q,Y,V,0,2*Math.PI,!1)}function PP(c,q,Y,V,Z){var re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,ae=arguments.length>6?arguments[6]:void 0;c.beginPath(),c.moveTo(q+re,Y),c.lineTo(q+V-re,Y),c.quadraticCurveTo(q+V,Y,q+V,Y+re),c.lineTo(q+V,Y+Z-re),c.quadraticCurveTo(q+V,Y+Z,q+V-re,Y+Z),c.lineTo(q+re,Y+Z),c.quadraticCurveTo(q,Y+Z,q,Y+Z-re),c.lineTo(q,Y+re),c.quadraticCurveTo(q,Y,q+re,Y),c.closePath(),ae?c.stroke():c.fill()}function ptt(c,q){for(var Y=atob(c),V=new ArrayBuffer(Y.length),Z=new Uint8Array(V),re=0;re<Y.length;re++)Z[re]=Y.charCodeAt(re);return new Blob([V],{type:q})}function Ume(c){var q=c.indexOf(",");return c.substr(q+1)}function w1e(c,q,Y){var V=o(function(){return q.toDataURL(Y,c.quality)},"getB64Uri");switch(c.output){case"blob-promise":return new cGe(function(V,Z){try{q.toBlob(function(c){null!=c?V(c):Z(new Error("`canvas.toBlob()` sent a null value in its callback"))},Y,c.quality)}catch(c){Z(c)}});case"blob":return ptt(Ume(V()),Y);case"base64":return Ume(V());default:return V()}}function k1e(c){var q=this,Y=q.cy.window().document;q.data={canvases:new Array(oVe.CANVAS_LAYERS),contexts:new Array(oVe.CANVAS_LAYERS),canvasNeedsRedraw:new Array(oVe.CANVAS_LAYERS),bufferCanvases:new Array(oVe.BUFFER_COUNT),bufferContexts:new Array(oVe.CANVAS_LAYERS)};var V="-webkit-tap-highlight-color",Z="rgba(0,0,0,0)";q.data.canvasContainer=Y.createElement("div");var re=q.data.canvasContainer.style;q.data.canvasContainer.style[V]=Z,re.position="relative",re.zIndex="0",re.overflow="hidden";var ae=c.cy.container();ae.appendChild(q.data.canvasContainer),ae.style[V]=Z;var se={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};RNe()&&(se["-ms-touch-action"]="none",se["touch-action"]="none");for(var oe=0;oe<oVe.CANVAS_LAYERS;oe++){var he=q.data.canvases[oe]=Y.createElement("canvas");q.data.contexts[oe]=he.getContext("2d"),Object.keys(se).forEach(function(c){he.style[c]=se[c]}),he.style.position="absolute",he.setAttribute("data-id","layer"+oe),he.style.zIndex=String(oVe.CANVAS_LAYERS-oe),q.data.canvasContainer.appendChild(he),q.data.canvasNeedsRedraw[oe]=!1}q.data.topCanvas=q.data.canvases[0],q.data.canvases[oVe.NODE].setAttribute("data-id","layer"+oVe.NODE+"-node"),q.data.canvases[oVe.SELECT_BOX].setAttribute("data-id","layer"+oVe.SELECT_BOX+"-selectbox"),q.data.canvases[oVe.DRAG].setAttribute("data-id","layer"+oVe.DRAG+"-drag");for(oe=0;oe<oVe.BUFFER_COUNT;oe++)q.data.bufferCanvases[oe]=Y.createElement("canvas"),q.data.bufferContexts[oe]=q.data.bufferCanvases[oe].getContext("2d"),q.data.bufferCanvases[oe].style.position="absolute",q.data.bufferCanvases[oe].setAttribute("data-id","buffer"+oe),q.data.bufferCanvases[oe].style.zIndex=String(-oe-1),q.data.bufferCanvases[oe].style.visibility="hidden";q.pathsEnabled=!0;var de=yPe(),pe=o(function(c){return{x:(c.x1+c.x2)/2,y:(c.y1+c.y2)/2}},"getBoxCenter"),ge=o(function(c){return{x:-c.w/2,y:-c.h/2}},"getCenterOffset"),me=o(function(c){var q=c[0]._private;return!(q.oldBackgroundTimestamp===q.backgroundTimestamp)},"backgroundTimestampHasChanged"),ve=o(function(c){return c[0]._private.nodeKey},"getStyleKey"),be=o(function(c){return c[0]._private.labelStyleKey},"getLabelKey"),we=o(function(c){return c[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),Te=o(function(c){return c[0]._private.targetLabelStyleKey},"getTargetLabelKey"),_e=o(function(c,Y,V,Z,re){return q.drawElement(c,Y,V,!1,!1,re)},"drawElement"),Ee=o(function(c,Y,V,Z,re){return q.drawElementText(c,Y,V,Z,"main",re)},"drawLabel"),Ce=o(function(c,Y,V,Z,re){return q.drawElementText(c,Y,V,Z,"source",re)},"drawSourceLabel"),Se=o(function(c,Y,V,Z,re){return q.drawElementText(c,Y,V,Z,"target",re)},"drawTargetLabel"),Ae=o(function(c){return c.boundingBox(),c[0]._private.bodyBounds},"getElementBox"),Le=o(function(c){return c.boundingBox(),c[0]._private.labelBounds.main||de},"getLabelBox"),Ne=o(function(c){return c.boundingBox(),c[0]._private.labelBounds.source||de},"getSourceLabelBox"),Ie=o(function(c){return c.boundingBox(),c[0]._private.labelBounds.target||de},"getTargetLabelBox"),Me=o(function(c,q){return q},"isLabelVisibleAtScale"),Re=o(function(c){return pe(Ae(c))},"getElementRotationPoint"),Oe=o(function(c,q,Y){var V=c?c+"-":"";return{x:q.x+Y.pstyle(V+"text-margin-x").pfValue,y:q.y+Y.pstyle(V+"text-margin-y").pfValue}},"addTextMargin"),Be=o(function(c,q,Y){var V=c[0]._private.rscratch;return{x:V[q],y:V[Y]}},"getRsPt"),$e=o(function(c){return Oe("",Be(c,"labelX","labelY"),c)},"getLabelRotationPoint"),Ue=o(function(c){return Oe("source",Be(c,"sourceLabelX","sourceLabelY"),c)},"getSourceLabelRotationPoint"),qe=o(function(c){return Oe("target",Be(c,"targetLabelX","targetLabelY"),c)},"getTargetLabelRotationPoint"),je=o(function(c){return ge(Ae(c))},"getElementRotationOffset"),We=o(function(c){return ge(Ne(c))},"getSourceLabelRotationOffset"),He=o(function(c){return ge(Ie(c))},"getTargetLabelRotationOffset"),Ve=o(function(c){var q=Le(c),Y=ge(Le(c));if(c.isNode()){switch(c.pstyle("text-halign").value){case"left":Y.x=-q.w;break;case"right":Y.x=0}switch(c.pstyle("text-valign").value){case"top":Y.y=-q.h;break;case"bottom":Y.y=0}}return Y},"getLabelRotationOffset"),Ke=q.data.eleTxrCache=new EHe(q,{getKey:ve,doesEleInvalidateKey:me,drawElement:_e,getBoundingBox:Ae,getRotationPoint:Re,getRotationOffset:je,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Qe=q.data.lblTxrCache=new EHe(q,{getKey:be,drawElement:Ee,getBoundingBox:Le,getRotationPoint:$e,getRotationOffset:Ve,isVisible:Me}),Ze=q.data.slbTxrCache=new EHe(q,{getKey:we,drawElement:Ce,getBoundingBox:Ne,getRotationPoint:Ue,getRotationOffset:We,isVisible:Me}),Je=q.data.tlbTxrCache=new EHe(q,{getKey:Te,drawElement:Se,getBoundingBox:Ie,getRotationPoint:qe,getRotationOffset:He,isVisible:Me}),et=q.data.lyrTxrCache=new SHe(q);q.onUpdateEleCalcs(o(function(c,q){Ke.invalidateElements(q),Qe.invalidateElements(q),Ze.invalidateElements(q),Je.invalidateElements(q),et.invalidateElements(q);for(var Y=0;Y<q.length;Y++){var V=q[Y]._private;V.oldBackgroundTimestamp=V.backgroundTimestamp}},"invalidateTextureCaches"));var tt=o(function(c){for(var q=0;q<c.length;q++)et.enqueueElementRefinement(c[q].ele)},"refineInLayers");Ke.onDequeue(tt),Qe.onDequeue(tt),Ze.onDequeue(tt),Je.onDequeue(tt)}function C1e(c,q,Y){var V=Y,Z=o(function(Y){xDe("Can not register `"+q+"` for `"+c+"` since `"+Y+"` already exists in the prototype and can not be overridden")},"overrideErr");if("core"===c){if(qYe.prototype[q])return Z(q);qYe.prototype[q]=Y}else if("collection"===c){if(pYe.prototype[q])return Z(q);pYe.prototype[q]=Y}else if("layout"===c){for(var re=o(function(c){this.options=c,Y.call(this,c),mNe(this._private)||(this._private={}),this._private.cy=c.cy,this._private.listeners=[],this.createEmitter()},"Layout"),ae=re.prototype=Object.create(Y.prototype),se=[],oe=0;oe<se.length;oe++){var he=se[oe];ae[he]=ae[he]||function(){return this}}ae.start&&!ae.run?ae.run=function(){return this.start(),this}:!ae.start&&ae.run&&(ae.start=function(){return this.run(),this});var de=Y.prototype.stop;ae.stop=function(){var c=this.options;if(c&&c.animate){var q=this.animations;if(q)for(var Y=0;Y<q.length;Y++)q[Y].stop()}return de?de.call(this):this.emit("layoutstop"),this},ae.destroy||(ae.destroy=function(){return this}),ae.cy=function(){return this._private.cy};var pe=o(function(c){return c._private.cy},"getCy"),ge={addEventFields:o(function(c,q){q.layout=c,q.cy=pe(c),q.target=c},"addEventFields"),bubble:o(function(){return!0},"bubble"),parent:o(function(c){return pe(c)},"parent")};eIe(ae,{createEmitter:o(function(){return this._private.emitter=new O6(ge,this),this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(c,q){return this.emitter().on(c,q),this},"on"),one:o(function(c,q){return this.emitter().one(c,q),this},"one"),once:o(function(c,q){return this.emitter().one(c,q),this},"once"),removeListener:o(function(c,q){return this.emitter().removeListener(c,q),this},"removeListener"),removeAllListeners:o(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:o(function(c,q){return this.emitter().emit(c,q),this},"emit")}),hqe.eventAliasesOn(ae),V=re}else if("renderer"===c&&"null"!==q&&"base"!==q){var me=A1e("renderer","base"),ve=me.prototype,be=Y,we=Y.prototype,Te=o(function(){me.apply(this,arguments),be.apply(this,arguments)},"Renderer"),_e=Te.prototype;for(var Ee in ve){var Ce=ve[Ee];if(null!=we[Ee])return Z(Ee);_e[Ee]=Ce}for(var Se in we)_e[Se]=we[Se];ve.clientFunctions.forEach(function(c){_e[c]=_e[c]||function(){yDe("Renderer does not implement `renderer."+c+"()` on its prototype")}}),V=Te}else if("__proto__"===c||"constructor"===c||"prototype"===c)return yDe(c+" is an illegal type to be registered, possibly lead to prototype pollutions");return hIe({map:hVe,keys:[c,q],value:V})}function A1e(c,q){return uIe({map:hVe,keys:[c,q]})}function xtt(c,q,Y,V,Z){return hIe({map:uVe,keys:[c,q,Y,V],value:Z})}function btt(c,q,Y,V){return uIe({map:uVe,keys:[c,q,Y,V]})}var sNe,oNe,lNe,cNe,hNe,uNe,dNe,pNe,gNe,fNe,mNe,yNe,vNe,xNe,bNe,wNe,kNe,TNe,_Ne,ENe,CNe,SNe,ANe,LNe,MNe,RNe,DNe,PNe,$Ne,qNe,jNe,YNe,VNe,XNe,KNe,QNe,ZNe,JNe,eIe,tIe,rIe,nIe,iIe,aIe,sIe,hIe,uIe,fIe,mIe,xIe,bIe,EIe,CIe,SIe,AIe,LIe,RIe,PIe,zIe,WIe,KIe,QIe,ZIe,JIe,eMe,rMe,cMe,hMe,uMe,dMe,pMe,yMe,wMe,kMe,_Me,CMe,SMe,AMe,RMe,DMe,GMe,jMe,KMe,QMe,ZMe,JMe,eRe,tRe,rRe,nRe,iRe,sRe,oRe,lRe,hRe,uRe,dRe,pRe,kRe,ERe,MRe,PRe,BRe,FRe,GRe,VRe,sDe,oDe,lDe,hDe,uDe,gDe,yDe,vDe,xDe,bDe,wDe,kDe,TDe,EDe,CDe,SDe,LDe,IDe,MDe,RDe,ODe,PDe,BDe,FDe,$De,zDe,GDe,UDe,qDe,jDe,YDe,WDe,HDe,VDe,XDe,KDe,ZDe,nOe,oOe,IOe,MOe,OOe,POe,BOe,FOe,zOe,GOe,rPe,nPe,iPe,aPe,sPe,oPe,lPe,cPe,hPe,uPe,dPe,pPe,gPe,fPe,mPe,yPe,vPe,xPe,bPe,wPe,kPe,TPe,EPe,CPe,SPe,NPe,IPe,DPe,OPe,PPe,BPe,FPe,$Pe,zPe,GPe,UPe,qPe,jPe,YPe,WPe,VPe,XPe,nBe,bBe,wBe,zBe,qBe,HBe,hFe,_Fe,EFe,LFe,NFe,IFe,MFe,RFe,OFe,PFe,e$e,t$e,r$e,n$e,i$e,a$e,s$e,o$e,l$e,c$e,h$e,u$e,d$e,p$e,g$e,f$e,m$e,y$e,v$e,x$e,b$e,w$e,k$e,T$e,_$e,E$e,C$e,S$e,A$e,L$e,N$e,I$e,M$e,R$e,D$e,O$e,P$e,B$e,F$e,$$e,z$e,G$e,U$e,q$e,j$e,Y$e,W$e,H$e,V$e,X$e,K$e,Q$e,Z$e,J$e,gze,Nze,Ize,Mze,Rze,Pze,Bze,$ze,Gze,jze,Kze,Zze,Jze,eGe,tGe,rGe,nGe,iGe,aGe,sGe,oGe,lGe,cGe,hGe,uGe,dGe,pGe,gGe,fGe,mGe,yGe,vGe,xGe,bGe,wGe,kGe,TGe,EGe,CGe,SGe,AGe,LGe,NGe,IGe,MGe,RGe,DGe,OGe,PGe,BGe,FGe,$Ge,zGe,GGe,UGe,qGe,jGe,YGe,WGe,HGe,VGe,XGe,KGe,QGe,ZGe,JGe,hUe,uUe,dUe,pUe,gUe,fUe,mUe,yUe,vUe,xUe,bUe,wUe,kUe,TUe,_Ue,EUe,CUe,SUe,AUe,LUe,NUe,IUe,MUe,RUe,DUe,OUe,PUe,BUe,FUe,$Ue,zUe,GUe,UUe,qUe,jUe,YUe,WUe,HUe,VUe,XUe,KUe,QUe,ZUe,JUe,eqe,tqe,rqe,nqe,iqe,aqe,sqe,oqe,lqe,cqe,hqe,uqe,dqe,pqe,gqe,fqe,mqe,yqe,vqe,xqe,bqe,wqe,kqe,Tqe,_qe,Eqe,Cqe,Sqe,Aqe,Lqe,Nqe,Iqe,Mqe,Rqe,Dqe,Oqe,Pqe,Bqe,Fqe,$qe,zqe,Gqe,qqe,jqe,Yqe,Wqe,Xqe,Kqe,Qqe,Zqe,Jqe,eje,tje,rje,nje,ije,aje,sje,oje,lje,cje,hje,uje,dje,pje,gje,fje,mje,yje,vje,xje,bje,wje,kje,Tje,_je,Eje,Cje,Sje,Aje,Lje,Nje,Ije,Mje,Rje,Dje,Oje,Pje,Bje,Fje,$je,zje,Gje,Uje,qje,jje,Yje,Wje,Hje,Vje,Xje,Kje,Qje,Zje,Jje,nYe,iYe,aYe,sYe,oYe,lYe,cYe,hYe,uYe,dYe,pYe,gYe,fYe,mYe,yYe,vYe,xYe,bYe,wYe,kYe,TYe,_Ye,EYe,CYe,SYe,AYe,LYe,NYe,IYe,MYe,RYe,DYe,OYe,PYe,BYe,FYe,$Ye,zYe,GYe,UYe,qYe,jYe,YYe,WYe,HYe,VYe,XYe,KYe,QYe,JYe,eWe,tWe,rWe,nWe,iWe,aWe,sWe,oWe,lWe,cWe,hWe,uWe,dWe,pWe,gWe,fWe,mWe,yWe,vWe,xWe,bWe,wWe,kWe,TWe,_We,EWe,CWe,SWe,AWe,LWe,NWe,IWe,MWe,RWe,DWe,OWe,PWe,BWe,FWe,zWe,GWe,UWe,qWe,jWe,YWe,WWe,HWe,XWe,KWe,QWe,ZWe,JWe,eHe,tHe,rHe,nHe,iHe,aHe,sHe,oHe,lHe,cHe,hHe,uHe,pHe,gHe,fHe,mHe,yHe,vHe,xHe,bHe,wHe,kHe,THe,_He,EHe,CHe,SHe,AHe,LHe,NHe,IHe,MHe,RHe,DHe,OHe,BHe,FHe,GHe,qHe,jHe,YHe,WHe,HHe,VHe,XHe,KHe,QHe,ZHe,JHe,eVe,tVe,rVe,nVe,iVe,aVe,sVe,oVe,lVe,cVe,hVe,uVe,dVe,pVe,gVe,fVe,mVe=M(()=>{var c;for(o(Yi,"_typeof"),o(JP,"_classCallCheck"),o(Dpe,"_defineProperties"),o(eB,"_createClass"),o(Hme,"_defineProperty$1"),o(Ul,"_slicedToArray"),o(Vqe,"_arrayWithHoles"),o(Uqe,"_iterableToArrayLimit"),o(Wme,"_unsupportedIterableToArray"),o(Npe,"_arrayLikeToArray"),o(Hqe,"_nonIterableRest"),o(Yme,"_createForOfIteratorHelper"),sNe=typeof window>"u"?null:window,oNe=sNe?sNe.navigator:null,sNe&&sNe.document,lNe=Yi(""),cNe=Yi({}),hNe=Yi(function(){}),uNe=typeof HTMLElement>"u"?"undefined":Yi(HTMLElement),dNe=o(function(c){return c&&c.instanceString&&gNe(c.instanceString)?c.instanceString():null},"instanceStr"),pNe=o(function(c){return null!=c&&Yi(c)==lNe},"string"),gNe=o(function(c){return null!=c&&Yi(c)===hNe},"fn"),fNe=o(function(c){return!wNe(c)&&(Array.isArray?Array.isArray(c):null!=c&&c instanceof Array)},"array"),mNe=o(function(c){return null!=c&&Yi(c)===cNe&&!fNe(c)&&c.constructor===Object},"plainObject"),yNe=o(function(c){return null!=c&&Yi(c)===cNe},"object"),vNe=o(function(c){return null!=c&&Yi(c)===Yi(1)&&!isNaN(c)},"number"),xNe=o(function(c){return vNe(c)&&Math.floor(c)===c},"integer"),bNe=o(function(c){if("undefined"!==uNe)return null!=c&&c instanceof HTMLElement},"htmlElement"),wNe=o(function(c){return kNe(c)||TNe(c)},"elementOrCollection"),kNe=o(function(c){return"collection"===dNe(c)&&c._private.single},"element"),TNe=o(function(c){return"collection"===dNe(c)&&!c._private.single},"collection"),_Ne=o(function(c){return"core"===dNe(c)},"core"),ENe=o(function(c){return"stylesheet"===dNe(c)},"stylesheet"),CNe=o(function(c){return"event"===dNe(c)},"event"),SNe=o(function(c){return null==c||!(""!==c&&!c.match(/^\s+$/))},"emptyString"),ANe=o(function(c){return!(typeof HTMLElement>"u")&&c instanceof HTMLElement},"domElement"),LNe=o(function(c){return mNe(c)&&vNe(c.x1)&&vNe(c.x2)&&vNe(c.y1)&&vNe(c.y2)},"boundingBox"),MNe=o(function(c){return yNe(c)&&gNe(c.then)},"promise"),RNe=o(function(){return oNe&&oNe.userAgent.match(/msie|trident|edge/i)},"ms"),DNe=o(function(c,q){q||(q=o(function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var c=[],q=0;q<arguments.length;q++)c.push(arguments[q]);return c.join("$")},"keyFn"));var Y=o(function i(){var Y,V=arguments,Z=q.apply(this,V),re=i.cache;return(Y=re[Z])||(Y=re[Z]=c.apply(this,V)),Y},"memoizedFn");return Y.cache={},Y},"memoize"),PNe=DNe(function(c){return c.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})}),$Ne=DNe(function(c){return c.replace(/(-\w)/g,function(c){return c[1].toUpperCase()})}),qNe=DNe(function(c,q){return c+q[0].toUpperCase()+q.substring(1)},function(c,q){return c+"$"+q}),jNe=o(function(c){return SNe(c)?c:c.charAt(0).toUpperCase()+c.substring(1)},"capitalize"),VNe="rgb[a]?\\(("+(YNe="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))")+"[%]?)\\s*,\\s*("+YNe+"[%]?)\\s*,\\s*("+YNe+"[%]?)(?:\\s*,\\s*("+YNe+"))?\\)",XNe="rgb[a]?\\((?:"+YNe+"[%]?)\\s*,\\s*(?:"+YNe+"[%]?)\\s*,\\s*(?:"+YNe+"[%]?)(?:\\s*,\\s*(?:"+YNe+"))?\\)",KNe="hsl[a]?\\(("+YNe+")\\s*,\\s*("+YNe+"[%])\\s*,\\s*("+YNe+"[%])(?:\\s*,\\s*("+YNe+"))?\\)",QNe="hsl[a]?\\((?:"+YNe+")\\s*,\\s*(?:"+YNe+"[%])\\s*,\\s*(?:"+YNe+"[%])(?:\\s*,\\s*(?:"+YNe+"))?\\)",ZNe=o(function(c,q){return c<q?-1:c>q?1:0},"ascending"),JNe=o(function(c,q){return-1*ZNe(c,q)},"descending"),eIe=null!=Object.assign?Object.assign.bind(Object):function(c){for(var q=arguments,Y=1;Y<q.length;Y++){var V=q[Y];if(null!=V)for(var Z=Object.keys(V),re=0;re<Z.length;re++){var ae=Z[re];c[ae]=V[ae]}}return c},tIe=o(function(c){if((4===c.length||7===c.length)&&"#"===c[0]){var q,Y,V,Z=16;return 4===c.length?(q=parseInt(c[1]+c[1],Z),Y=parseInt(c[2]+c[2],Z),V=parseInt(c[3]+c[3],Z)):(q=parseInt(c[1]+c[2],Z),Y=parseInt(c[3]+c[4],Z),V=parseInt(c[5]+c[6],Z)),[q,Y,V]}},"hex2tuple"),rIe=o(function(c){var q,Y,V,Z,re,ae,se,oe;function f(c,q,Y){return Y<0&&(Y+=1),Y>1&&(Y-=1),Y<1/6?c+6*(q-c)*Y:Y<.5?q:Y<2/3?c+(q-c)*(2/3-Y)*6:c}o(f,"hue2rgb");var he=new RegExp("^"+KNe+"$").exec(c);if(he){if((Y=parseInt(he[1]))<0?Y=(360- -1*Y%360)%360:Y>360&&(Y%=360),Y/=360,(V=parseFloat(he[2]))<0||V>100||(V/=100,(Z=parseFloat(he[3]))<0||Z>100)||(Z/=100,void 0!==(re=he[4])&&((re=parseFloat(re))<0||re>1)))return;if(0===V)ae=se=oe=Math.round(255*Z);else{var de=Z<.5?Z*(1+V):Z+V-Z*V,pe=2*Z-de;ae=Math.round(255*f(pe,de,Y+1/3)),se=Math.round(255*f(pe,de,Y)),oe=Math.round(255*f(pe,de,Y-1/3))}q=[ae,se,oe,re]}return q},"hsl2tuple"),nIe=o(function(c){var q,Y=new RegExp("^"+VNe+"$").exec(c);if(Y){q=[];for(var V=[],Z=1;Z<=3;Z++){var re=Y[Z];if("%"===re[re.length-1]&&(V[Z]=!0),re=parseFloat(re),V[Z]&&(re=re/100*255),re<0||re>255)return;q.push(Math.floor(re))}var ae=V[1]||V[2]||V[3],se=V[1]&&V[2]&&V[3];if(ae&&!se)return;var oe=Y[4];if(void 0!==oe){if((oe=parseFloat(oe))<0||oe>1)return;q.push(oe)}}return q},"rgb2tuple"),iIe=o(function(c){return sIe[c.toLowerCase()]},"colorname2tuple"),aIe=o(function(c){return(fNe(c)?c:null)||iIe(c)||tIe(c)||nIe(c)||rIe(c)},"color2tuple"),sIe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hIe=o(function(c){for(var q=c.map,Y=c.keys,V=Y.length,Z=0;Z<V;Z++){var re=Y[Z];if(mNe(re))throw Error("Tried to set map with object key");Z<Y.length-1?(null==q[re]&&(q[re]={}),q=q[re]):q[re]=c.value}},"setMap"),uIe=o(function(c){for(var q=c.map,Y=c.keys,V=Y.length,Z=0;Z<V;Z++){var re=Y[Z];if(mNe(re))throw Error("Tried to get map with object key");if(null==(q=q[re]))return q}return q},"getMap"),o(pXe,"isObject"),fIe=pXe,mIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o(mXe,"createCommonjsModule"),xIe="object"==typeof mIe&&mIe&&mIe.Object===Object&&mIe,bIe=xIe,EIe="object"==typeof self&&self&&self.Object===Object&&self,CIe=bIe||EIe||Function("return this")(),SIe=CIe,AIe=o(function(){return SIe.Date.now()},"now"),LIe=AIe,RIe=/\s/,o(TXe,"trimmedEndIndex"),PIe=TXe,zIe=/^\s+/,o(SXe,"baseTrim"),WIe=SXe,KIe=SIe.Symbol,QIe=KIe,ZIe=Object.prototype,JIe=ZIe.hasOwnProperty,eMe=ZIe.toString,rMe=QIe?QIe.toStringTag:void 0,o(DXe,"getRawTag"),cMe=DXe,hMe=Object.prototype,uMe=hMe.toString,o(IXe,"objectToString"),dMe=IXe,pMe="[object Null]",yMe="[object Undefined]",wMe=QIe?QIe.toStringTag:void 0,o(FXe,"baseGetTag"),kMe=FXe,o(zXe,"isObjectLike"),_Me=zXe,CMe="[object Symbol]",o(VXe,"isSymbol"),SMe=VXe,AMe=NaN,RMe=/^[-+]0x[0-9a-f]+$/i,DMe=/^0b[01]+$/i,GMe=/^0o[0-7]+$/i,jMe=parseInt,o(qXe,"toNumber"),KMe=qXe,QMe="Expected a function",ZMe=Math.max,JMe=Math.min,o(QXe,"debounce"),eRe=QXe,tRe=sNe?sNe.performance:null,rRe=tRe&&tRe.now?function(){return tRe.now()}:function(){return Date.now()},nRe=function(){if(sNe){if(sNe.requestAnimationFrame)return function(c){sNe.requestAnimationFrame(c)};if(sNe.mozRequestAnimationFrame)return function(c){sNe.mozRequestAnimationFrame(c)};if(sNe.webkitRequestAnimationFrame)return function(c){sNe.webkitRequestAnimationFrame(c)};if(sNe.msRequestAnimationFrame)return function(c){sNe.msRequestAnimationFrame(c)}}return function(c){c&&setTimeout(function(){c(rRe())},1e3/60)}}(),iRe=o(function(c){return nRe(c)},"requestAnimationFrame"),sRe=rRe,oRe=9261,lRe=5381,hRe=o(function(c){for(var q,Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oRe;!(q=c.next()).done;)Y=65599*Y+q.value|0;return Y},"hashIterableInts"),uRe=o(function(c){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:oRe)+c|0},"hashInt"),dRe=o(function(c){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lRe;return(q<<5)+q+c|0},"hashIntAlt"),pRe=o(function(c,q){return 2097152*c+q},"combineHashes"),kRe=o(function(c){return 2097152*c[0]+c[1]},"combineHashesArray"),ERe=o(function(c,q){return[uRe(c[0],q[0]),dRe(c[1],q[1])]},"hashArrays"),MRe=o(function(c,q){var Y={value:0,done:!1},V=0,Z=c.length,re={next:o(function(){return V<Z?Y.value=c[V++]:Y.done=!0,Y},"next")};return hRe(re,q)},"hashIntsArray"),PRe=o(function(c,q){var Y={value:0,done:!1},V=0,Z=c.length,re={next:o(function(){return V<Z?Y.value=c.charCodeAt(V++):Y.done=!0,Y},"next")};return hRe(re,q)},"hashString"),BRe=o(function(){return FRe(arguments)},"hashStrings"),FRe=o(function(c){for(var q,Y=0;Y<c.length;Y++){var V=c[Y];q=0===Y?PRe(V):PRe(V,q)}return q},"hashStringsArray"),GRe=!0,VRe=null!=console.warn,sDe=null!=console.trace,oDe=Number.MAX_SAFE_INTEGER||9007199254740991,lDe=o(function(){return!0},"trueify"),hDe=o(function(){return!1},"falsify"),uDe=o(function(){return 0},"zeroify"),gDe=o(function(){},"noop"),yDe=o(function(c){throw new Error(c)},"error"),vDe=o(function(c){if(void 0===c)return GRe;GRe=!!c},"warnings"),xDe=o(function(c){vDe()&&(VRe?console.warn(c):(console.log(c),sDe&&console.trace()))},"warn"),bDe=o(function(c){return eIe({},c)},"clone"),wDe=o(function(c){return null==c?c:fNe(c)?c.slice():mNe(c)?bDe(c):c},"copy"),kDe=o(function(c){return c.slice()},"copyArray"),TDe=o(function(c,q){for(q=c="";c++<36;q+=51*c&52?(15^c?8^Math.random()*(20^c?16:4):4).toString(16):"-");return q},"uuid"),EDe={},CDe=o(function(){return EDe},"staticEmptyObject"),SDe=o(function(c){var q=Object.keys(c);return function(Y){for(var V={},Z=0;Z<q.length;Z++){var re=q[Z],ae=Y?.[re];V[re]=void 0===ae?c[re]:ae}return V}},"defaults"),LDe=o(function(c,q,Y){for(var V=c.length-1;V>=0&&(c[V]!==q||(c.splice(V,1),!Y));V--);},"removeFromArray"),IDe=o(function(c){c.splice(0,c.length)},"clearArray"),MDe=o(function(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];c.push(V)}},"push"),RDe=o(function(c,q,Y){return Y&&(q=qNe(Y,q)),c[q]},"getPrefixedProperty"),ODe=o(function(c,q,Y,V){Y&&(q=qNe(Y,q)),c[q]=V},"setPrefixedProperty"),PDe=function(){function t(){JP(this,t),this._obj={}}return o(t,"ObjectMap"),eB(t,[{key:"set",value:o(function(c,q){return this._obj[c]=q,this},"set")},{key:"delete",value:o(function(c){return this._obj[c]=void 0,this},"_delete")},{key:"clear",value:o(function(){this._obj={}},"clear")},{key:"has",value:o(function(c){return void 0!==this._obj[c]},"has")},{key:"get",value:o(function(c){return this._obj[c]},"get")}]),t}(),BDe=typeof Map<"u"?Map:PDe,FDe=function(){function t(c){if(JP(this,t),this._obj=Object.create(null),this.size=0,null!=c){var q;q=null!=c.instanceString&&c.instanceString()===this.instanceString()?c.toArray():c;for(var Y=0;Y<q.length;Y++)this.add(q[Y])}}return o(t,"ObjectSet"),eB(t,[{key:"instanceString",value:o(function(){return"set"},"instanceString")},{key:"add",value:o(function(c){var q=this._obj;1!==q[c]&&(q[c]=1,this.size++)},"add")},{key:"delete",value:o(function(c){var q=this._obj;1===q[c]&&(q[c]=0,this.size--)},"_delete")},{key:"clear",value:o(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:o(function(c){return 1===this._obj[c]},"has")},{key:"toArray",value:o(function(){var c=this;return Object.keys(this._obj).filter(function(q){return c.has(q)})},"toArray")},{key:"forEach",value:o(function(c,q){return this.toArray().forEach(c,q)},"forEach")}]),t}(),$De="undefined"!==(typeof Set>"u"?"undefined":Yi(Set))?Set:FDe,zDe=o(function(c,q){var Y=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==c&&void 0!==q&&_Ne(c)){var V=q.group;if(null==V&&(V=q.data&&null!=q.data.source&&null!=q.data.target?"edges":"nodes"),"nodes"===V||"edges"===V){this.length=1,this[0]=this;var Z=this._private={cy:c,single:!0,data:q.data||{},position:q.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:V,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!q.selected,selectable:void 0===q.selectable||!!q.selectable,locked:!!q.locked,grabbed:!1,grabbable:void 0===q.grabbable||!!q.grabbable,pannable:void 0===q.pannable?"edges"===V:!!q.pannable,active:!1,classes:new $De,animation:{current:[],queue:[]},rscratch:{},scratch:q.scratch||{},edges:[],children:[],parent:q.parent&&q.parent.isNode()?q.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==Z.position.x&&(Z.position.x=0),null==Z.position.y&&(Z.position.y=0),q.renderedPosition){var re=q.renderedPosition,ae=c.pan(),se=c.zoom();Z.position={x:(re.x-ae.x)/se,y:(re.y-ae.y)/se}}var oe=[];fNe(q.classes)?oe=q.classes:pNe(q.classes)&&(oe=q.classes.split(/\s+/));for(var he=0,de=oe.length;he<de;he++){var pe=oe[he];!pe||""===pe||Z.classes.add(pe)}this.createEmitter();var ge=q.style||q.css;ge&&(xDe("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(ge)),(void 0===Y||Y)&&this.restore()}else yDe("An element must be of type `nodes` or `edges`; you specified `"+V+"`")}else yDe("An element must have a core reference and parameters set")},"Element"),GDe=o(function(c){return c={bfs:c.bfs||!c.dfs,dfs:c.dfs||!c.bfs},o(function(q,Y,V){var Z;mNe(q)&&!wNe(q)&&(q=(Z=q).roots||Z.root,Y=Z.visit,V=Z.directed),V=2!==arguments.length||gNe(Y)?V:Y,Y=gNe(Y)?Y:function(){};for(var re,ae=this._private.cy,se=q=pNe(q)?this.filter(q):q,oe=[],he=[],de={},pe={},ge={},me=0,ve=this.byGroup(),be=ve.nodes,we=ve.edges,Te=0;Te<se.length;Te++){var _e=se[Te],Ee=_e.id();_e.isNode()&&(oe.unshift(_e),c.bfs&&(ge[Ee]=!0,he.push(_e)),pe[Ee]=0)}for(var Ce=o(function(){var q=c.bfs?oe.shift():oe.pop(),Z=q.id();if(c.dfs){if(ge[Z])return"continue";ge[Z]=!0,he.push(q)}var ae,se=pe[Z],ve=de[Z],Te=null!=ve?ve.source():null,_e=null!=ve?ve.target():null,Ee=null==ve?void 0:q.same(Te)?_e[0]:Te[0];if(!0===(ae=Y(q,ve,Ee,me++,se)))return re=q,"break";if(!1===ae)return"break";for(var Ce=q.connectedEdges().filter(function(c){return(!V||c.source().same(q))&&we.has(c)}),Se=0;Se<Ce.length;Se++){var Ae=Ce[Se],Le=Ae.connectedNodes().filter(function(c){return!c.same(q)&&be.has(c)}),Ne=Le.id();0!==Le.length&&!ge[Ne]&&(Le=Le[0],oe.push(Le),c.bfs&&(ge[Ne]=!0,he.push(Le)),de[Ne]=Ae,pe[Ne]=pe[Z]+1)}},"_loop");0!==oe.length;){var Se=Ce();if("continue"!==Se&&"break"===Se)break}for(var Ae=ae.collection(),Le=0;Le<he.length;Le++){var Ne=he[Le],Ie=de[Ne.id()];null!=Ie&&Ae.push(Ie),Ae.push(Ne)}return{path:ae.collection(Ae),found:ae.collection(re)}},"searchFn")},"defineSearch"),(UDe={breadthFirstSearch:GDe({bfs:!0}),depthFirstSearch:GDe({dfs:!0})}).bfs=UDe.breadthFirstSearch,UDe.dfs=UDe.depthFirstSearch,qDe=mXe(function(c,q){(function(){var q,Y,V,Z,re,ae,se,oe,he,de,pe,ge,me,ve,be;V=Math.floor,de=Math.min,Y=o(function(c,q){return c<q?-1:c>q?1:0},"defaultCmp"),he=o(function(c,q,Z,re,ae){var se;if(null==Z&&(Z=0),null==ae&&(ae=Y),Z<0)throw new Error("lo must be non-negative");for(null==re&&(re=c.length);Z<re;)ae(q,c[se=V((Z+re)/2)])<0?re=se:Z=se+1;return[].splice.apply(c,[Z,Z-Z].concat(q)),q},"insort"),ae=o(function(c,q,V){return null==V&&(V=Y),c.push(q),ve(c,0,c.length-1,V)},"heappush"),re=o(function(c,q){var V,Z;return null==q&&(q=Y),V=c.pop(),c.length?(Z=c[0],c[0]=V,be(c,0,q)):Z=V,Z},"heappop"),oe=o(function(c,q,V){var Z;return null==V&&(V=Y),Z=c[0],c[0]=q,be(c,0,V),Z},"heapreplace"),se=o(function(c,q,V){var Z;return null==V&&(V=Y),c.length&&V(c[0],q)<0&&(q=(Z=[c[0],q])[0],c[0]=Z[1],be(c,0,V)),q},"heappushpop"),Z=o(function(c,q){var Z,re,ae,se,oe,he;for(null==q&&(q=Y),oe=[],re=0,ae=(se=function(){he=[];for(var q=0,Y=V(c.length/2);0<=Y?q<Y:q>Y;0<=Y?q++:q--)he.push(q);return he}.apply(this).reverse()).length;re<ae;re++)Z=se[re],oe.push(be(c,Z,q));return oe},"heapify"),me=o(function(c,q,V){var Z;if(null==V&&(V=Y),-1!==(Z=c.indexOf(q)))return ve(c,0,Z,V),be(c,Z,V)},"updateItem"),pe=o(function(c,q,V){var re,ae,oe,he,de;if(null==V&&(V=Y),!(ae=c.slice(0,q)).length)return ae;for(Z(ae,V),oe=0,he=(de=c.slice(q)).length;oe<he;oe++)re=de[oe],se(ae,re,V);return ae.sort(V).reverse()},"nlargest"),ge=o(function(c,q,V){var ae,se,oe,pe,ge,me,ve,be,we;if(null==V&&(V=Y),10*q<=c.length){if(!(oe=c.slice(0,q).sort(V)).length)return oe;for(se=oe[oe.length-1],pe=0,me=(ve=c.slice(q)).length;pe<me;pe++)V(ae=ve[pe],se)<0&&(he(oe,ae,0,null,V),oe.pop(),se=oe[oe.length-1]);return oe}for(Z(c,V),we=[],ge=0,be=de(q,c.length);0<=be?ge<be:ge>be;0<=be?++ge:--ge)we.push(re(c,V));return we},"nsmallest"),ve=o(function(c,q,V,Z){var re,ae,se;for(null==Z&&(Z=Y),re=c[V];V>q&&Z(re,ae=c[se=V-1>>1])<0;)c[V]=ae,V=se;return c[V]=re},"_siftdown"),be=o(function(c,q,V){var Z,re,ae,se,oe;for(null==V&&(V=Y),re=c.length,oe=q,ae=c[q],Z=2*q+1;Z<re;)(se=Z+1)<re&&!(V(c[Z],c[se])<0)&&(Z=se),c[q]=c[Z],Z=2*(q=Z)+1;return c[q]=ae,ve(c,oe,q,V)},"_siftup"),q=function(){function x(c){this.cmp=c??Y,this.nodes=[]}return x.push=ae,x.pop=re,x.replace=oe,x.pushpop=se,x.heapify=Z,x.updateItem=me,x.nlargest=pe,x.nsmallest=ge,o(x,"Heap"),x.prototype.push=function(c){return ae(this.nodes,c,this.cmp)},x.prototype.pop=function(){return re(this.nodes,this.cmp)},x.prototype.peek=function(){return this.nodes[0]},x.prototype.contains=function(c){return-1!==this.nodes.indexOf(c)},x.prototype.replace=function(c){return oe(this.nodes,c,this.cmp)},x.prototype.pushpop=function(c){return se(this.nodes,c,this.cmp)},x.prototype.heapify=function(){return Z(this.nodes,this.cmp)},x.prototype.updateItem=function(c){return me(this.nodes,c,this.cmp)},x.prototype.clear=function(){return this.nodes=[]},x.prototype.empty=function(){return 0===this.nodes.length},x.prototype.size=function(){return this.nodes.length},x.prototype.clone=function(){var c;return(c=new x).nodes=this.nodes.slice(0),c},x.prototype.toArray=function(){return this.nodes.slice(0)},x.prototype.insert=x.prototype.push,x.prototype.top=x.prototype.peek,x.prototype.front=x.prototype.peek,x.prototype.has=x.prototype.contains,x.prototype.copy=x.prototype.clone,x}(),c.exports=q}).call(mIe)}),jDe=qDe,YDe=SDe({root:null,weight:o(function(c){return 1},"weight"),directed:!1}),WDe={dijkstra:o(function(c){if(!mNe(c)){var q=arguments;c={root:q[0],weight:q[1],directed:q[2]}}var Y=YDe(c),V=Y.root,Z=Y.weight,re=Y.directed,ae=this,se=Z,oe=pNe(V)?this.filter(V)[0]:V[0],he={},de={},pe={},ge=this.byGroup(),me=ge.nodes,ve=ge.edges;ve.unmergeBy(function(c){return c.isLoop()});for(var be=o(function(c){return he[c.id()]},"getDist"),we=o(function(c,q){he[c.id()]=q,Te.updateItem(c)},"setDist"),Te=new jDe(function(c,q){return be(c)-be(q)}),_e=0;_e<me.length;_e++){var Ee=me[_e];he[Ee.id()]=Ee.same(oe)?0:1/0,Te.push(Ee)}for(var Ce=o(function(c,q){for(var Y,V=(re?c.edgesTo(q):c.edgesWith(q)).intersect(ve),Z=1/0,ae=0;ae<V.length;ae++){var oe=V[ae],he=se(oe);(he<Z||!Y)&&(Z=he,Y=oe)}return{edge:Y,dist:Z}},"distBetween");Te.size()>0;){var Se=Te.pop(),Ae=be(Se),Le=Se.id();if(pe[Le]=Ae,Ae!==1/0)for(var Ne=Se.neighborhood().intersect(me),Ie=0;Ie<Ne.length;Ie++){var Me=Ne[Ie],Re=Me.id(),Oe=Ce(Se,Me),Be=Ae+Oe.dist;Be<be(Me)&&(we(Me,Be),de[Re]={node:Se,edge:Oe.edge})}}return{distanceTo:o(function(c){var q=pNe(c)?me.filter(c)[0]:c[0];return pe[q.id()]},"distanceTo"),pathTo:o(function(c){var q=pNe(c)?me.filter(c)[0]:c[0],Y=[],V=q,Z=V.id();if(q.length>0)for(Y.unshift(q);de[Z];){var re=de[Z];Y.unshift(re.edge),Y.unshift(re.node),Z=(V=re.node).id()}return ae.spawn(Y)},"pathTo")}},"dijkstra")},HDe={kruskal:o(function(c){c=c||function(c){return 1};for(var q=this.byGroup(),Y=q.nodes,V=q.edges,Z=Y.length,re=new Array(Z),ae=Y,se=o(function(c){for(var q=0;q<re.length;q++){if(re[q].has(c))return q}},"findSetIndex"),oe=0;oe<Z;oe++)re[oe]=this.spawn(Y[oe]);for(var he=V.sort(function(q,Y){return c(q)-c(Y)}),de=0;de<he.length;de++){var pe=he[de],ge=pe.source()[0],me=pe.target()[0],ve=se(ge),be=se(me),we=re[ve],Te=re[be];ve!==be&&(ae.merge(pe),we.merge(Te),re.splice(be,1))}return ae},"kruskal")},VDe=SDe({root:null,goal:null,weight:o(function(c){return 1},"weight"),heuristic:o(function(c){return 0},"heuristic"),directed:!1}),XDe={aStar:o(function(c){var q=this.cy(),Y=VDe(c),V=Y.root,Z=Y.goal,re=Y.heuristic,ae=Y.directed,se=Y.weight;V=q.collection(V)[0],Z=q.collection(Z)[0];var oe,he,de=V.id(),pe=Z.id(),ge={},me={},ve={},be=new jDe(function(c,q){return me[c.id()]-me[q.id()]}),we=new $De,Te={},_e={},Ee=o(function(c,q){be.push(c),we.add(q)},"addToOpenSet"),Ce=o(function(){oe=be.pop(),he=oe.id(),we.delete(he)},"popFromOpenSet"),Se=o(function(c){return we.has(c)},"isInOpenSet");Ee(V,de),ge[de]=0,me[de]=re(V);for(var Ae=0;be.size()>0;){if(Ce(),Ae++,he===pe){for(var Le=[],Ne=Z,Ie=pe,Me=_e[Ie];Le.unshift(Ne),null!=Me&&Le.unshift(Me),null!=(Ne=Te[Ie]);)Me=_e[Ie=Ne.id()];return{found:!0,distance:ge[he],path:this.spawn(Le),steps:Ae}}ve[he]=!0;for(var Re=oe._private.edges,Oe=0;Oe<Re.length;Oe++){var Be=Re[Oe];if(this.hasElementWithId(Be.id())&&(!ae||Be.data("source")===he)){var $e=Be.source(),Ue=Be.target(),qe=$e.id()!==he?$e:Ue,je=qe.id();if(this.hasElementWithId(je)&&!ve[je]){var We=ge[he]+se(Be);if(!Se(je)){ge[je]=We,me[je]=We+re(qe),Ee(qe,je),Te[je]=oe,_e[je]=Be;continue}We<ge[je]&&(ge[je]=We,me[je]=We+re(qe),Te[je]=oe,_e[je]=Be)}}}}return{found:!1,distance:void 0,path:void 0,steps:Ae}},"aStar")},KDe=SDe({weight:o(function(c){return 1},"weight"),directed:!1}),ZDe={floydWarshall:o(function(c){for(var q=this.cy(),Y=KDe(c),V=Y.weight,Z=Y.directed,re=V,ae=this.byGroup(),se=ae.nodes,oe=ae.edges,he=se.length,de=he*he,pe=o(function(c){return se.indexOf(c)},"indexOf"),ge=o(function(c){return se[c]},"atIndex"),me=new Array(de),ve=0;ve<de;ve++){var be=ve%he,we=(ve-be)/he;me[ve]=we===be?0:1/0}for(var Te=new Array(de),_e=new Array(de),Ee=0;Ee<oe.length;Ee++){var Ce=oe[Ee],Se=Ce.source()[0],Ae=Ce.target()[0];if(Se!==Ae){var Le=pe(Se),Ne=pe(Ae),Ie=Le*he+Ne,Me=re(Ce);if(me[Ie]>Me&&(me[Ie]=Me,Te[Ie]=Ne,_e[Ie]=Ce),!Z){var Re=Ne*he+Le;!Z&&me[Re]>Me&&(me[Re]=Me,Te[Re]=Le,_e[Re]=Ce)}}}for(var Oe=0;Oe<he;Oe++)for(var Be=0;Be<he;Be++)for(var $e=Be*he+Oe,Ue=0;Ue<he;Ue++){var qe=Be*he+Ue,je=Oe*he+Ue;me[$e]+me[je]<me[qe]&&(me[qe]=me[$e]+me[je],Te[qe]=Te[$e])}var We=o(function(c){return(pNe(c)?q.filter(c):c)[0]},"getArgEle"),He=o(function(c){return pe(We(c))},"indexOfArgEle");return{distance:o(function(c,q){var Y=He(c),V=He(q);return me[Y*he+V]},"distance"),path:o(function(c,Y){var V=He(c),Z=He(Y),re=ge(V);if(V===Z)return re.collection();if(null==Te[V*he+Z])return q.collection();var ae,se=q.collection(),oe=V;for(se.merge(re);V!==Z;)oe=V,V=Te[V*he+Z],ae=_e[oe*he+V],se.merge(ae),se.merge(ge(V));return se},"path")}},"floydWarshall")},nOe=SDe({weight:o(function(c){return 1},"weight"),directed:!1,root:null}),oOe={bellmanFord:o(function(c){var q=this,Y=nOe(c),V=Y.weight,Z=Y.directed,re=Y.root,ae=V,se=this,oe=this.cy(),he=this.byGroup(),de=he.edges,pe=he.nodes,ge=pe.length,me=new BDe,ve=!1,be=[];re=oe.collection(re)[0],de.unmergeBy(function(c){return c.isLoop()});for(var we=de.length,Te=o(function(c){var q=me.get(c.id());return q||(q={},me.set(c.id(),q)),q},"getInfo"),_e=o(function(c){return(pNe(c)?oe.$(c):c)[0]},"getNodeFromTo"),Ee=o(function(c){return Te(_e(c)).dist},"distanceTo"),Ce=o(function(c){for(var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re,V=[],Z=_e(c);;){if(null==Z)return q.spawn();var ae=Te(Z),oe=ae.edge,he=ae.pred;if(V.unshift(Z[0]),Z.same(Y)&&V.length>0)break;null!=oe&&V.unshift(oe),Z=he}return se.spawn(V)},"pathTo"),Se=0;Se<ge;Se++){var Ae=pe[Se],Le=Te(Ae);Ae.same(re)?Le.dist=0:Le.dist=1/0,Le.pred=null,Le.edge=null}for(var Ne=!1,Ie=o(function(c,q,Y,V,Z,re){var ae=V.dist+re;ae<Z.dist&&!Y.same(V.edge)&&(Z.dist=ae,Z.pred=c,Z.edge=Y,Ne=!0)},"checkForEdgeReplacement"),Me=1;Me<ge;Me++){Ne=!1;for(var Re=0;Re<we;Re++){var Oe=de[Re],Be=Oe.source(),$e=Oe.target(),Ue=ae(Oe),qe=Te(Be),je=Te($e);Ie(Be,$e,Oe,qe,je,Ue),Z||Ie($e,Be,Oe,je,qe,Ue)}if(!Ne)break}if(Ne)for(var We=[],He=0;He<we;He++){var Ve=de[He],Ke=Ve.source(),Qe=Ve.target(),Ze=ae(Ve),Je=Te(Ke).dist,et=Te(Qe).dist;if(Je+Ze<et||!Z&&et+Ze<Je){if(ve||(xDe("Graph contains a negative weight cycle for Bellman-Ford"),ve=!0),!1===c.findNegativeWeightCycles)break;var tt=[];Je+Ze<et&&tt.push(Ke),!Z&&et+Ze<Je&&tt.push(Qe);for(var rt=tt.length,nt=0;nt<rt;nt++){var it=tt[nt],at=[it];at.push(Te(it).edge);for(var st=Te(it).pred;-1===at.indexOf(st);)at.push(st),at.push(Te(st).edge),st=Te(st).pred;for(var ot=(at=at.slice(at.indexOf(st)))[0].id(),lt=0,ht=2;ht<at.length;ht+=2)at[ht].id()<ot&&(ot=at[ht].id(),lt=ht);(at=at.slice(lt).concat(at.slice(0,lt))).push(at[0]);var ut=at.map(function(c){return c.id()}).join(",");-1===We.indexOf(ut)&&(be.push(se.spawn(at)),We.push(ut))}}}return{distanceTo:Ee,pathTo:Ce,hasNegativeWeightCycle:ve,negativeWeightCycles:be}},"bellmanFord")},IOe=Math.sqrt(2),MOe=o(function(c,q,Y){0===Y.length&&yDe("Karger-Stein must be run on a connected (sub)graph");for(var V=Y[c],Z=V[1],re=V[2],ae=q[Z],se=q[re],oe=Y,he=oe.length-1;he>=0;he--){var de=oe[he],pe=de[1],ge=de[2];(q[pe]===ae&&q[ge]===se||q[pe]===se&&q[ge]===ae)&&oe.splice(he,1)}for(var me=0;me<oe.length;me++){var ve=oe[me];ve[1]===se?(oe[me]=ve.slice(),oe[me][1]=ae):ve[2]===se&&(oe[me]=ve.slice(),oe[me][2]=ae)}for(var be=0;be<q.length;be++)q[be]===se&&(q[be]=ae);return oe},"collapse"),OOe=o(function(c,q,Y,V){for(;Y>V;){var Z=Math.floor(Math.random()*q.length);q=MOe(Z,c,q),Y--}return q},"contractUntil"),POe={kargerStein:o(function(){var c=this,q=this.byGroup(),Y=q.nodes,V=q.edges;V.unmergeBy(function(c){return c.isLoop()});var Z=Y.length,re=V.length,ae=Math.ceil(Math.pow(Math.log(Z)/Math.LN2,2)),se=Math.floor(Z/IOe);if(!(Z<2)){for(var oe=[],he=0;he<re;he++){var de=V[he];oe.push([he,Y.indexOf(de.source()),Y.indexOf(de.target())])}for(var pe=1/0,ge=[],me=new Array(Z),ve=new Array(Z),be=new Array(Z),we=o(function(c,q){for(var Y=0;Y<Z;Y++)q[Y]=c[Y]},"copyNodesMap"),Te=0;Te<=ae;Te++){for(var _e=0;_e<Z;_e++)ve[_e]=_e;var Ee=OOe(ve,oe.slice(),Z,se),Ce=Ee.slice();we(ve,be);var Se=OOe(ve,Ee,se,2),Ae=OOe(be,Ce,se,2);Se.length<=Ae.length&&Se.length<pe?(pe=Se.length,ge=Se,we(ve,me)):Ae.length<=Se.length&&Ae.length<pe&&(pe=Ae.length,ge=Ae,we(be,me))}for(var Le=this.spawn(ge.map(function(c){return V[c[0]]})),Ne=this.spawn(),Ie=this.spawn(),Me=me[0],Re=0;Re<me.length;Re++){var Oe=me[Re],Be=Y[Re];Oe===Me?Ne.merge(Be):Ie.merge(Be)}var $e=o(function(q){var Y=c.spawn();return q.forEach(function(q){Y.merge(q),q.connectedEdges().forEach(function(q){c.contains(q)&&!Le.contains(q)&&Y.merge(q)})}),Y},"constructComponent"),Ue=[$e(Ne),$e(Ie)];return{cut:Le,components:Ue,partition1:Ne,partition2:Ie}}yDe("At least 2 nodes are required for Karger-Stein algorithm")},"kargerStein")},BOe=o(function(c){return{x:c.x,y:c.y}},"copyPosition"),FOe=o(function(c,q,Y){return{x:c.x*q+Y.x,y:c.y*q+Y.y}},"modelToRenderedPosition"),zOe=o(function(c,q,Y){return{x:(c.x-Y.x)/q,y:(c.y-Y.y)/q}},"renderedToModelPosition"),GOe=o(function(c){return{x:c[0],y:c[1]}},"array2point"),rPe=o(function(c){for(var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.length,V=1/0,Z=q;Z<Y;Z++){var re=c[Z];isFinite(re)&&(V=Math.min(re,V))}return V},"min"),nPe=o(function(c){for(var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.length,V=-1/0,Z=q;Z<Y;Z++){var re=c[Z];isFinite(re)&&(V=Math.max(re,V))}return V},"max"),iPe=o(function(c){for(var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.length,V=0,Z=0,re=q;re<Y;re++){var ae=c[re];isFinite(ae)&&(V+=ae,Z++)}return V/Z},"mean"),aPe=o(function(c){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.length,V=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],Z=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?c=c.slice(q,Y):(Y<c.length&&c.splice(Y,c.length-Y),q>0&&c.splice(0,q));for(var re=0,ae=c.length-1;ae>=0;ae--){var se=c[ae];Z?isFinite(se)||(c[ae]=-1/0,re++):c.splice(ae,1)}V&&c.sort(function(c,q){return c-q});var oe=c.length,he=Math.floor(oe/2);return oe%2!=0?c[he+1+re]:(c[he-1+re]+c[he+re])/2},"median"),sPe=o(function(c){return Math.PI*c/180},"deg2rad"),oPe=o(function(c,q){return Math.atan2(q,c)-Math.PI/2},"getAngleFromDisp"),lPe=Math.log2||function(c){return Math.log(c)/Math.log(2)},cPe=o(function(c){return c>0?1:c<0?-1:0},"signum"),hPe=o(function(c,q){return Math.sqrt(uPe(c,q))},"dist"),uPe=o(function(c,q){var Y=q.x-c.x,V=q.y-c.y;return Y*Y+V*V},"sqdist"),dPe=o(function(c){for(var q=c.length,Y=0,V=0;V<q;V++)Y+=c[V];for(var Z=0;Z<q;Z++)c[Z]=c[Z]/Y;return c},"inPlaceSumNormalize"),pPe=o(function(c,q,Y,V){return(1-V)*(1-V)*c+2*(1-V)*V*q+V*V*Y},"qbezierAt"),gPe=o(function(c,q,Y,V){return{x:pPe(c.x,q.x,Y.x,V),y:pPe(c.y,q.y,Y.y,V)}},"qbezierPtAt"),fPe=o(function(c,q,Y,V){var Z=q.x-c.x,re=q.y-c.y,ae=hPe(c,q),se=Z/ae,oe=re/ae;return Y=Y??0,V=V??Y*ae,{x:c.x+se*V,y:c.y+oe*V}},"lineAt"),mPe=o(function(c,q,Y){return Math.max(c,Math.min(Y,q))},"bound"),yPe=o(function(c){if(null==c)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=c.x1&&null!=c.y1){if(null!=c.x2&&null!=c.y2&&c.x2>=c.x1&&c.y2>=c.y1)return{x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,w:c.x2-c.x1,h:c.y2-c.y1};if(null!=c.w&&null!=c.h&&c.w>=0&&c.h>=0)return{x1:c.x1,y1:c.y1,x2:c.x1+c.w,y2:c.y1+c.h,w:c.w,h:c.h}}},"makeBoundingBox"),vPe=o(function(c){return{x1:c.x1,x2:c.x2,w:c.w,y1:c.y1,y2:c.y2,h:c.h}},"copyBoundingBox"),xPe=o(function(c){c.x1=1/0,c.y1=1/0,c.x2=-1/0,c.y2=-1/0,c.w=0,c.h=0},"clearBoundingBox"),bPe=o(function(c,q,Y){return{x1:c.x1+q,x2:c.x2+q,y1:c.y1+Y,y2:c.y2+Y,w:c.w,h:c.h}},"shiftBoundingBox"),wPe=o(function(c,q){c.x1=Math.min(c.x1,q.x1),c.x2=Math.max(c.x2,q.x2),c.w=c.x2-c.x1,c.y1=Math.min(c.y1,q.y1),c.y2=Math.max(c.y2,q.y2),c.h=c.y2-c.y1},"updateBoundingBox"),kPe=o(function(c,q,Y){c.x1=Math.min(c.x1,q),c.x2=Math.max(c.x2,q),c.w=c.x2-c.x1,c.y1=Math.min(c.y1,Y),c.y2=Math.max(c.y2,Y),c.h=c.y2-c.y1},"expandBoundingBoxByPoint"),TPe=o(function(c){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c.x1-=q,c.x2+=q,c.y1-=q,c.y2+=q,c.w=c.x2-c.x1,c.h=c.y2-c.y1,c},"expandBoundingBox"),EPe=o(function(c){var q,Y,V,Z,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===re.length)q=Y=V=Z=re[0];else if(2===re.length)q=V=re[0],Z=Y=re[1];else if(4===re.length){var ae=Ul(re,4);q=ae[0],Y=ae[1],V=ae[2],Z=ae[3]}return c.x1-=Z,c.x2+=Y,c.y1-=q,c.y2+=V,c.w=c.x2-c.x1,c.h=c.y2-c.y1,c},"expandBoundingBoxSides"),CPe=o(function(c,q){c.x1=q.x1,c.y1=q.y1,c.x2=q.x2,c.y2=q.y2,c.w=c.x2-c.x1,c.h=c.y2-c.y1},"assignBoundingBox"),SPe=o(function(c,q){return!(c.x1>q.x2||q.x1>c.x2||c.x2<q.x1||q.x2<c.x1||c.y2<q.y1||q.y2<c.y1||c.y1>q.y2||q.y1>c.y2)},"boundingBoxesIntersect"),NPe=o(function(c,q,Y){return c.x1<=q&&q<=c.x2&&c.y1<=Y&&Y<=c.y2},"inBoundingBox"),IPe=o(function(c,q){return NPe(c,q.x,q.y)},"pointInBoundingBox"),DPe=o(function(c,q){return NPe(c,q.x1,q.y1)&&NPe(c,q.x2,q.y2)},"boundingBoxInBoundingBox"),OPe=o(function(c,q,Y,V,Z,re,ae){var se,oe,he=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",de="auto"===he?LFe(Z,re):he,pe=Z/2,ge=re/2,me=(de=Math.min(de,pe,ge))!==pe,ve=de!==ge;if(me){var be=V-ge-ae;if((se=wBe(c,q,Y,V,Y-pe+de-ae,be,Y+pe-de+ae,be,!1)).length>0)return se}if(ve){var we=Y+pe+ae;if((se=wBe(c,q,Y,V,we,V-ge+de-ae,we,V+ge-de+ae,!1)).length>0)return se}if(me){var Te=V+ge+ae;if((se=wBe(c,q,Y,V,Y-pe+de-ae,Te,Y+pe-de+ae,Te,!1)).length>0)return se}if(ve){var _e=Y-pe-ae;if((se=wBe(c,q,Y,V,_e,V-ge+de-ae,_e,V+ge-de+ae,!1)).length>0)return se}var Ee=Y-pe+de,Ce=V-ge+de;if((oe=nBe(c,q,Y,V,Ee,Ce,de+ae)).length>0&&oe[0]<=Ee&&oe[1]<=Ce)return[oe[0],oe[1]];var Se=Y+pe-de,Ae=V-ge+de;if((oe=nBe(c,q,Y,V,Se,Ae,de+ae)).length>0&&oe[0]>=Se&&oe[1]<=Ae)return[oe[0],oe[1]];var Le=Y+pe-de,Ne=V+ge-de;if((oe=nBe(c,q,Y,V,Le,Ne,de+ae)).length>0&&oe[0]>=Le&&oe[1]>=Ne)return[oe[0],oe[1]];var Ie=Y-pe+de,Me=V+ge-de;return(oe=nBe(c,q,Y,V,Ie,Me,de+ae)).length>0&&oe[0]<=Ie&&oe[1]>=Me?[oe[0],oe[1]]:[]},"roundRectangleIntersectLine"),PPe=o(function(c,q,Y,V,Z,re,ae){var se=ae,oe=Math.min(Y,Z),he=Math.max(Y,Z),de=Math.min(V,re),pe=Math.max(V,re);return oe-se<=c&&c<=he+se&&de-se<=q&&q<=pe+se},"inLineVicinity"),BPe=o(function(c,q,Y,V,Z,re,ae,se,oe){var he=Math.min(Y,ae,Z)-oe,de=Math.max(Y,ae,Z)+oe,pe=Math.min(V,se,re)-oe,ge=Math.max(V,se,re)+oe;return!(c<he||c>de||q<pe||q>ge)},"inBezierVicinity"),FPe=o(function(c,q,Y,V){var Z=q*q-4*c*(Y-=V);if(Z<0)return[];var re=Math.sqrt(Z),ae=2*c;return[(-q+re)/ae,(-q-re)/ae]},"solveQuadratic"),$Pe=o(function(c,q,Y,V,Z){var re,ae,se,oe,he,de,pe,ge;return 0===c&&(c=1e-5),se=-27*(V/=c)+(q/=c)*(9*(Y/=c)-q*q*2),re=(ae=(3*Y-q*q)/9)*ae*ae+(se/=54)*se,Z[1]=0,pe=q/3,re>0?(he=(he=se+Math.sqrt(re))<0?-Math.pow(-he,1/3):Math.pow(he,1/3),de=(de=se-Math.sqrt(re))<0?-Math.pow(-de,1/3):Math.pow(de,1/3),Z[0]=-pe+he+de,pe+=(he+de)/2,Z[4]=Z[2]=-pe,pe=Math.sqrt(3)*(-de+he)/2,Z[3]=pe,void(Z[5]=-pe)):(Z[5]=Z[3]=0,0===re?(ge=se<0?-Math.pow(-se,1/3):Math.pow(se,1/3),Z[0]=2*ge-pe,void(Z[4]=Z[2]=-(ge+pe))):(oe=(ae=-ae)*ae*ae,oe=Math.acos(se/Math.sqrt(oe)),ge=2*Math.sqrt(ae),Z[0]=-pe+ge*Math.cos(oe/3),Z[2]=-pe+ge*Math.cos((oe+2*Math.PI)/3),void(Z[4]=-pe+ge*Math.cos((oe+4*Math.PI)/3))))},"solveCubic"),zPe=o(function(c,q,Y,V,Z,re,ae,se){var oe=[];$Pe(1*Y*Y-4*Y*Z+2*Y*ae+4*Z*Z-4*Z*ae+ae*ae+V*V-4*V*re+2*V*se+4*re*re-4*re*se+se*se,9*Y*Z-3*Y*Y-3*Y*ae-6*Z*Z+3*Z*ae+9*V*re-3*V*V-3*V*se-6*re*re+3*re*se,3*Y*Y-6*Y*Z+Y*ae-Y*c+2*Z*Z+2*Z*c-ae*c+3*V*V-6*V*re+V*se-V*q+2*re*re+2*re*q-se*q,1*Y*Z-Y*Y+Y*c-Z*c+V*re-V*V+V*q-re*q,oe);for(var he=[],de=0;de<6;de+=2)Math.abs(oe[de+1])<1e-7&&oe[de]>=0&&oe[de]<=1&&he.push(oe[de]);he.push(1),he.push(0);for(var pe,ge,me,ve=-1,be=0;be<he.length;be++)pe=Math.pow(1-he[be],2)*Y+2*(1-he[be])*he[be]*Z+he[be]*he[be]*ae,ge=Math.pow(1-he[be],2)*V+2*(1-he[be])*he[be]*re+he[be]*he[be]*se,me=Math.pow(pe-c,2)+Math.pow(ge-q,2),ve>=0?me<ve&&(ve=me):ve=me;return ve},"sqdistToQuadraticBezier"),GPe=o(function(c,q,Y,V,Z,re){var ae=[c-Y,q-V],se=[Z-Y,re-V],oe=se[0]*se[0]+se[1]*se[1],he=ae[0]*ae[0]+ae[1]*ae[1],de=ae[0]*se[0]+ae[1]*se[1],pe=de*de/oe;return de<0?he:pe>oe?(c-Z)*(c-Z)+(q-re)*(q-re):he-pe},"sqdistToFiniteLine"),UPe=o(function(c,q,Y){for(var V,Z,re,ae,se=0,oe=0;oe<Y.length/2;oe++)if(V=Y[2*oe],Z=Y[2*oe+1],oe+1<Y.length/2?(re=Y[2*(oe+1)],ae=Y[2*(oe+1)+1]):(re=Y[2*(oe+1-Y.length/2)],ae=Y[2*(oe+1-Y.length/2)+1]),V!=c||re!=c){if(!(V>=c&&c>=re||V<=c&&c<=re))continue;(c-V)/(re-V)*(ae-Z)+Z>q&&se++}return se%2!=0},"pointInsidePolygonPoints"),qPe=o(function(c,q,Y,V,Z,re,ae,se,oe){var he,de,pe=new Array(Y.length);null!=se[0]?(he=Math.atan(se[1]/se[0]),se[0]<0?he+=Math.PI/2:he=-he-Math.PI/2):he=se;for(var ge=Math.cos(-he),me=Math.sin(-he),ve=0;ve<pe.length/2;ve++)pe[2*ve]=re/2*(Y[2*ve]*ge-Y[2*ve+1]*me),pe[2*ve+1]=ae/2*(Y[2*ve+1]*ge+Y[2*ve]*me),pe[2*ve]+=V,pe[2*ve+1]+=Z;if(oe>0){var be=WPe(pe,-oe);de=YPe(be)}else de=pe;return UPe(c,q,de)},"pointInsidePolygon"),jPe=o(function(c,q,Y,V,Z,re,ae,se){for(var oe=new Array(2*Y.length),he=0;he<se.length;he++){var de=se[he];if(oe[4*he+0]=de.startX,oe[4*he+1]=de.startY,oe[4*he+2]=de.stopX,oe[4*he+3]=de.stopY,Math.pow(de.cx-c,2)+Math.pow(de.cy-q,2)<=Math.pow(de.radius,2))return!0}return UPe(c,q,oe)},"pointInsideRoundPolygon"),YPe=o(function(c){for(var q,Y,V,Z,re,ae,se,oe,he=new Array(c.length/2),de=0;de<c.length/4;de++){q=c[4*de],Y=c[4*de+1],V=c[4*de+2],Z=c[4*de+3],de<c.length/4-1?(re=c[4*(de+1)],ae=c[4*(de+1)+1],se=c[4*(de+1)+2],oe=c[4*(de+1)+3]):(re=c[0],ae=c[1],se=c[2],oe=c[3]);var pe=wBe(q,Y,V,Z,re,ae,se,oe,!0);he[2*de]=pe[0],he[2*de+1]=pe[1]}return he},"joinLines"),WPe=o(function(c,q){for(var Y,V,Z,re,ae=new Array(2*c.length),se=0;se<c.length/2;se++){Y=c[2*se],V=c[2*se+1],se<c.length/2-1?(Z=c[2*(se+1)],re=c[2*(se+1)+1]):(Z=c[0],re=c[1]);var oe=re-V,he=-(Z-Y),de=Math.sqrt(oe*oe+he*he),pe=oe/de,ge=he/de;ae[4*se]=Y+pe*q,ae[4*se+1]=V+ge*q,ae[4*se+2]=Z+pe*q,ae[4*se+3]=re+ge*q}return ae},"expandPolygon"),VPe=o(function(c,q,Y,V,Z,re){var ae=Y-c,se=V-q;ae/=Z,se/=re;var oe=Math.sqrt(ae*ae+se*se),he=oe-1;if(he<0)return[];var de=he/oe;return[(Y-c)*de+c,(V-q)*de+q]},"intersectLineEllipse"),XPe=o(function(c,q,Y,V,Z,re,ae){return c-=Z,q-=re,(c/=Y/2+ae)*c+(q/=V/2+ae)*q<=1},"checkInEllipse"),nBe=o(function(c,q,Y,V,Z,re,ae){var se=[Y-c,V-q],oe=[c-Z,q-re],he=se[0]*se[0]+se[1]*se[1],de=2*(oe[0]*se[0]+oe[1]*se[1]),pe=de*de-4*he*(oe[0]*oe[0]+oe[1]*oe[1]-ae*ae);if(pe<0)return[];var ge=(-de+Math.sqrt(pe))/(2*he),me=(-de-Math.sqrt(pe))/(2*he),ve=Math.min(ge,me),be=Math.max(ge,me),we=[];if(ve>=0&&ve<=1&&we.push(ve),be>=0&&be<=1&&we.push(be),0===we.length)return[];var Te=we[0]*se[0]+c,_e=we[0]*se[1]+q;return we.length>1?we[0]==we[1]?[Te,_e]:[Te,_e,we[1]*se[0]+c,we[1]*se[1]+q]:[Te,_e]},"intersectLineCircle"),bBe=o(function(c,q,Y){return q<=c&&c<=Y||Y<=c&&c<=q?c:c<=q&&q<=Y||Y<=q&&q<=c?q:Y},"midOfThree"),wBe=o(function(c,q,Y,V,Z,re,ae,se,oe){var he=c-Z,de=Y-c,pe=ae-Z,ge=q-re,me=V-q,ve=se-re,be=pe*ge-ve*he,we=de*ge-me*he,Te=ve*de-pe*me;if(0!==Te){var _e=be/Te,Ee=we/Te,Ce=-.001;return Ce<=_e&&_e<=1.001&&Ce<=Ee&&Ee<=1.001||oe?[c+_e*de,q+_e*me]:[]}return 0===be||0===we?bBe(c,Y,ae)===ae?[ae,se]:bBe(c,Y,Z)===Z?[Z,re]:bBe(Z,ae,Y)===Y?[Y,V]:[]:[]},"finiteLinesIntersect"),zBe=o(function(c,q,Y,V,Z,re,ae,se){var oe,he,de=[],pe=new Array(Y.length),ge=!0;if(null==re&&(ge=!1),ge){for(var me=0;me<pe.length/2;me++)pe[2*me]=Y[2*me]*re+V,pe[2*me+1]=Y[2*me+1]*ae+Z;if(se>0){var ve=WPe(pe,-se);he=YPe(ve)}else he=pe}else he=Y;for(var be,we,Te,_e,Ee=0;Ee<he.length/2;Ee++)be=he[2*Ee],we=he[2*Ee+1],Ee<he.length/2-1?(Te=he[2*(Ee+1)],_e=he[2*(Ee+1)+1]):(Te=he[0],_e=he[1]),0!==(oe=wBe(c,q,V,Z,be,we,Te,_e)).length&&de.push(oe[0],oe[1]);return de},"polygonIntersectLine"),qBe=o(function(c,q,Y,V,Z,re,ae,se,oe){var he,de=[],pe=new Array(2*Y.length);oe.forEach(function(Y,re){0===re?(pe[pe.length-2]=Y.startX,pe[pe.length-1]=Y.startY):(pe[4*re-2]=Y.startX,pe[4*re-1]=Y.startY),pe[4*re]=Y.stopX,pe[4*re+1]=Y.stopY,0!==(he=nBe(c,q,V,Z,Y.cx,Y.cy,Y.radius)).length&&de.push(he[0],he[1])});for(var ge=0;ge<pe.length/4;ge++)0!==(he=wBe(c,q,V,Z,pe[4*ge],pe[4*ge+1],pe[4*ge+2],pe[4*ge+3],!1)).length&&de.push(he[0],he[1]);if(de.length>2){for(var me=[de[0],de[1]],ve=Math.pow(me[0]-c,2)+Math.pow(me[1]-q,2),be=1;be<de.length/2;be++){var we=Math.pow(de[2*be]-c,2)+Math.pow(de[2*be+1]-q,2);we<=ve&&(me[0]=de[2*be],me[1]=de[2*be+1],ve=we)}return me}return de},"roundPolygonIntersectLine"),HBe=o(function(c,q,Y){var V=[c[0]-q[0],c[1]-q[1]],Z=Math.sqrt(V[0]*V[0]+V[1]*V[1]),re=(Z-Y)/Z;return re<0&&(re=1e-5),[q[0]+re*V[0],q[1]+re*V[1]]},"shortenIntersection"),hFe=o(function(c,q){var Y=EFe(c,q);return Y=_Fe(Y)},"generateUnitNgonPointsFitToSquare"),_Fe=o(function(c){for(var q,Y,V=c.length/2,Z=1/0,re=1/0,ae=-1/0,se=-1/0,oe=0;oe<V;oe++)q=c[2*oe],Y=c[2*oe+1],Z=Math.min(Z,q),ae=Math.max(ae,q),re=Math.min(re,Y),se=Math.max(se,Y);for(var he=2/(ae-Z),de=2/(se-re),pe=0;pe<V;pe++)q=c[2*pe]=c[2*pe]*he,Y=c[2*pe+1]=c[2*pe+1]*de,Z=Math.min(Z,q),ae=Math.max(ae,q),re=Math.min(re,Y),se=Math.max(se,Y);if(re<-1)for(var ge=0;ge<V;ge++)Y=c[2*ge+1]=c[2*ge+1]+(-1-re);return c},"fitPolygonToSquare"),EFe=o(function(c,q){var Y=1/c*2*Math.PI,V=c%2==0?Math.PI/2+Y/2:Math.PI/2;V+=q;for(var Z,re=new Array(2*c),ae=0;ae<c;ae++)Z=ae*Y+V,re[2*ae]=Math.cos(Z),re[2*ae+1]=Math.sin(-Z);return re},"generateUnitNgonPoints"),LFe=o(function(c,q){return Math.min(c/4,q/4,8)},"getRoundRectangleRadius"),NFe=o(function(c,q){return Math.min(c/10,q/10,8)},"getRoundPolygonRadius"),IFe=o(function(){return 8},"getCutRectangleCornerLength"),MFe=o(function(c,q,Y){return[c-2*q+Y,2*(q-c),c]},"bezierPtsToQuadCoeff"),RFe=o(function(c,q){return{heightOffset:Math.min(15,.05*q),widthOffset:Math.min(100,.25*c),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),OFe=SDe({dampingFactor:.8,precision:1e-6,iterations:200,weight:o(function(c){return 1},"weight")}),PFe={pageRank:o(function(c){for(var q=OFe(c),Y=q.dampingFactor,V=q.precision,Z=q.iterations,re=q.weight,ae=this._private.cy,se=this.byGroup(),oe=se.nodes,he=se.edges,de=oe.length,pe=de*de,ge=he.length,me=new Array(pe),ve=new Array(de),be=(1-Y)/de,we=0;we<de;we++){for(var Te=0;Te<de;Te++){me[we*de+Te]=0}ve[we]=0}for(var _e=0;_e<ge;_e++){var Ee=he[_e],Ce=Ee.data("source"),Se=Ee.data("target");if(Ce!==Se){var Ae=oe.indexOfId(Ce),Le=oe.indexOfId(Se),Ne=re(Ee);me[Le*de+Ae]+=Ne,ve[Ae]+=Ne}}for(var Ie=1/de+be,Me=0;Me<de;Me++)if(0===ve[Me])for(var Re=0;Re<de;Re++){me[Re*de+Me]=Ie}else for(var Oe=0;Oe<de;Oe++){var Be=Oe*de+Me;me[Be]=me[Be]/ve[Me]+be}for(var $e,Ue=new Array(de),qe=new Array(de),je=0;je<de;je++)Ue[je]=1;for(var We=0;We<Z;We++){for(var He=0;He<de;He++)qe[He]=0;for(var Ve=0;Ve<de;Ve++)for(var Ke=0;Ke<de;Ke++){var Qe=Ve*de+Ke;qe[Ve]+=me[Qe]*Ue[Ke]}dPe(qe),$e=Ue,Ue=qe,qe=$e;for(var Ze=0,Je=0;Je<de;Je++){var et=$e[Je]-Ue[Je];Ze+=et*et}if(Ze<V)break}return{rank:o(function(c){return c=ae.collection(c)[0],Ue[oe.indexOf(c)]},"rank")}},"pageRank")},e$e=SDe({root:null,weight:o(function(c){return 1},"weight"),directed:!1,alpha:0}),(t$e={degreeCentralityNormalized:o(function(c){c=e$e(c);var q=this.cy(),Y=this.nodes(),V=Y.length;if(c.directed){for(var Z={},re={},ae=0,se=0,oe=0;oe<V;oe++){var he=Y[oe],de=he.id();c.root=he;var pe=this.degreeCentrality(c);ae<pe.indegree&&(ae=pe.indegree),se<pe.outdegree&&(se=pe.outdegree),Z[de]=pe.indegree,re[de]=pe.outdegree}return{indegree:o(function(c){return 0==ae?0:(pNe(c)&&(c=q.filter(c)),Z[c.id()]/ae)},"indegree"),outdegree:o(function(c){return 0===se?0:(pNe(c)&&(c=q.filter(c)),re[c.id()]/se)},"outdegree")}}for(var ge={},me=0,ve=0;ve<V;ve++){var be=Y[ve];c.root=be;var we=this.degreeCentrality(c);me<we.degree&&(me=we.degree),ge[be.id()]=we.degree}return{degree:o(function(c){return 0===me?0:(pNe(c)&&(c=q.filter(c)),ge[c.id()]/me)},"degree")}},"degreeCentralityNormalized"),degreeCentrality:o(function(c){c=e$e(c);var q=this.cy(),Y=this,V=c,Z=V.root,re=V.weight,ae=V.directed,se=V.alpha;if(Z=q.collection(Z)[0],ae){for(var oe=Z.connectedEdges(),he=oe.filter(function(c){return c.target().same(Z)&&Y.has(c)}),de=oe.filter(function(c){return c.source().same(Z)&&Y.has(c)}),pe=he.length,ge=de.length,me=0,ve=0,be=0;be<he.length;be++)me+=re(he[be]);for(var we=0;we<de.length;we++)ve+=re(de[we]);return{indegree:Math.pow(pe,1-se)*Math.pow(me,se),outdegree:Math.pow(ge,1-se)*Math.pow(ve,se)}}for(var Te=Z.connectedEdges().intersection(Y),_e=Te.length,Ee=0,Ce=0;Ce<Te.length;Ce++)Ee+=re(Te[Ce]);return{degree:Math.pow(_e,1-se)*Math.pow(Ee,se)}},"degreeCentrality")}).dc=t$e.degreeCentrality,t$e.dcn=t$e.degreeCentralityNormalised=t$e.degreeCentralityNormalized,r$e=SDe({harmonic:!0,weight:o(function(){return 1},"weight"),directed:!1,root:null}),(n$e={closenessCentralityNormalized:o(function(c){for(var q=r$e(c),Y=q.harmonic,V=q.weight,Z=q.directed,re=this.cy(),ae={},se=0,oe=this.nodes(),he=this.floydWarshall({weight:V,directed:Z}),de=0;de<oe.length;de++){for(var pe=0,ge=oe[de],me=0;me<oe.length;me++)if(de!==me){var ve=he.distance(ge,oe[me]);pe+=Y?1/ve:ve}Y||(pe=1/pe),se<pe&&(se=pe),ae[ge.id()]=pe}return{closeness:o(function(c){return 0==se?0:(c=pNe(c)?re.filter(c)[0].id():c.id(),ae[c]/se)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:o(function(c){var q=r$e(c),Y=q.root,V=q.weight,Z=q.directed,re=q.harmonic;Y=this.filter(Y)[0];for(var ae=this.dijkstra({root:Y,weight:V,directed:Z}),se=0,oe=this.nodes(),he=0;he<oe.length;he++){var de=oe[he];if(!de.same(Y)){var pe=ae.distanceTo(de);se+=re?1/pe:pe}}return re?se:1/se},"closenessCentrality")}).cc=n$e.closenessCentrality,n$e.ccn=n$e.closenessCentralityNormalised=n$e.closenessCentralityNormalized,i$e=SDe({weight:null,directed:!1}),(a$e={betweennessCentrality:o(function(c){for(var q=i$e(c),Y=q.directed,V=q.weight,Z=null!=V,re=this.cy(),ae=this.nodes(),se={},oe={},he=0,de={set:o(function(c,q){oe[c]=q,q>he&&(he=q)},"set"),get:o(function(c){return oe[c]},"get")},pe=0;pe<ae.length;pe++){var ge=ae[pe],me=ge.id();se[me]=Y?ge.outgoers().nodes():ge.openNeighborhood().nodes(),de.set(me,0)}for(var ve=o(function(c){for(var q=ae[c].id(),Y=[],oe={},he={},pe={},ge=new jDe(function(c,q){return pe[c]-pe[q]}),me=0;me<ae.length;me++){var ve=ae[me].id();oe[ve]=[],he[ve]=0,pe[ve]=1/0}for(he[q]=1,pe[q]=0,ge.push(q);!ge.empty();){var be=ge.pop();if(Y.push(be),Z)for(var we=0;we<se[be].length;we++){var Te=se[be][we],_e=re.getElementById(be),Ee=void 0;Ee=_e.edgesTo(Te).length>0?_e.edgesTo(Te)[0]:Te.edgesTo(_e)[0];var Ce=V(Ee);Te=Te.id(),pe[Te]>pe[be]+Ce&&(pe[Te]=pe[be]+Ce,ge.nodes.indexOf(Te)<0?ge.push(Te):ge.updateItem(Te),he[Te]=0,oe[Te]=[]),pe[Te]==pe[be]+Ce&&(he[Te]=he[Te]+he[be],oe[Te].push(be))}else for(var Se=0;Se<se[be].length;Se++){var Ae=se[be][Se].id();pe[Ae]==1/0&&(ge.push(Ae),pe[Ae]=pe[be]+1),pe[Ae]==pe[be]+1&&(he[Ae]=he[Ae]+he[be],oe[Ae].push(be))}}for(var Le={},Ne=0;Ne<ae.length;Ne++)Le[ae[Ne].id()]=0;for(;Y.length>0;){for(var Ie=Y.pop(),Me=0;Me<oe[Ie].length;Me++){var Re=oe[Ie][Me];Le[Re]=Le[Re]+he[Re]/he[Ie]*(1+Le[Ie])}Ie!=ae[c].id()&&de.set(Ie,de.get(Ie)+Le[Ie])}},"_loop"),be=0;be<ae.length;be++)ve(be);var we={betweenness:o(function(c){var q=re.collection(c).id();return de.get(q)},"betweenness"),betweennessNormalized:o(function(c){if(0==he)return 0;var q=re.collection(c).id();return de.get(q)/he},"betweennessNormalized")};return we.betweennessNormalised=we.betweennessNormalized,we},"betweennessCentrality")}).bc=a$e.betweennessCentrality,s$e=SDe({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(c){return 1}]}),o$e=o(function(c){return s$e(c)},"setOptions"),l$e=o(function(c,q){for(var Y=0,V=0;V<q.length;V++)Y+=q[V](c);return Y},"getSimilarity"),c$e=o(function(c,q,Y){for(var V=0;V<q;V++)c[V*q+V]=Y},"addLoops"),h$e=o(function(c,q){for(var Y,V=0;V<q;V++){Y=0;for(var Z=0;Z<q;Z++)Y+=c[Z*q+V];for(var re=0;re<q;re++)c[re*q+V]=c[re*q+V]/Y}},"normalize"),u$e=o(function(c,q,Y){for(var V=new Array(Y*Y),Z=0;Z<Y;Z++){for(var re=0;re<Y;re++)V[Z*Y+re]=0;for(var ae=0;ae<Y;ae++)for(var se=0;se<Y;se++)V[Z*Y+se]+=c[Z*Y+ae]*q[ae*Y+se]}return V},"mmult"),d$e=o(function(c,q,Y){for(var V=c.slice(0),Z=1;Z<Y;Z++)c=u$e(c,V,q);return c},"expand"),p$e=o(function(c,q,Y){for(var V=new Array(q*q),Z=0;Z<q*q;Z++)V[Z]=Math.pow(c[Z],Y);return h$e(V,q),V},"inflate"),g$e=o(function(c,q,Y,V){for(var Z=0;Z<Y;Z++){if(Math.round(c[Z]*Math.pow(10,V))/Math.pow(10,V)!==Math.round(q[Z]*Math.pow(10,V))/Math.pow(10,V))return!1}return!0},"hasConverged"),f$e=o(function(c,q,Y,V){for(var Z=[],re=0;re<q;re++){for(var ae=[],se=0;se<q;se++)Math.round(1e3*c[re*q+se])/1e3>0&&ae.push(Y[se]);0!==ae.length&&Z.push(V.collection(ae))}return Z},"assign"),m$e=o(function(c,q){for(var Y=0;Y<c.length;Y++)if(!q[Y]||c[Y].id()!==q[Y].id())return!1;return!0},"isDuplicate"),y$e=o(function(c){for(var q=0;q<c.length;q++)for(var Y=0;Y<c.length;Y++)q!=Y&&m$e(c[q],c[Y])&&c.splice(Y,1);return c},"removeDuplicates"),v$e=o(function(c){for(var q=this.nodes(),Y=this.edges(),V=this.cy(),Z=o$e(c),re={},ae=0;ae<q.length;ae++)re[q[ae].id()]=ae;for(var se,oe=q.length,he=oe*oe,de=new Array(he),pe=0;pe<he;pe++)de[pe]=0;for(var ge=0;ge<Y.length;ge++){var me=Y[ge],ve=re[me.source().id()],be=re[me.target().id()],we=l$e(me,Z.attributes);de[ve*oe+be]+=we,de[be*oe+ve]+=we}c$e(de,oe,Z.multFactor),h$e(de,oe);for(var Te=!0,_e=0;Te&&_e<Z.maxIterations;)Te=!1,se=d$e(de,oe,Z.expandFactor),de=p$e(se,oe,Z.inflateFactor),g$e(de,se,he,4)||(Te=!0),_e++;var Ee=f$e(de,oe,q,V);return Ee=y$e(Ee)},"markovClustering"),x$e={markovClustering:v$e,mcl:v$e},b$e=o(function(c){return c},"identity"),w$e=o(function(c,q){return Math.abs(q-c)},"absDiff"),k$e=o(function(c,q,Y){return c+w$e(q,Y)},"addAbsDiff"),T$e=o(function(c,q,Y){return c+Math.pow(Y-q,2)},"addSquaredDiff"),_$e=o(function(c){return Math.sqrt(c)},"sqrt"),E$e=o(function(c,q,Y){return Math.max(c,w$e(q,Y))},"maxAbsDiff"),C$e=o(function(c,q,Y,V,Z){for(var re=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b$e,ae=V,se=0;se<c;se++)ae=Z(ae,q(se),Y(se));return re(ae)},"getDistance"),(S$e={euclidean:o(function(c,q,Y){return c>=2?C$e(c,q,Y,0,T$e,_$e):C$e(c,q,Y,0,k$e)},"euclidean"),squaredEuclidean:o(function(c,q,Y){return C$e(c,q,Y,0,T$e)},"squaredEuclidean"),manhattan:o(function(c,q,Y){return C$e(c,q,Y,0,k$e)},"manhattan"),max:o(function(c,q,Y){return C$e(c,q,Y,-1/0,E$e)},"max")})["squared-euclidean"]=S$e.squaredEuclidean,S$e.squaredeuclidean=S$e.squaredEuclidean,o(D6,"clusteringDistance"),A$e=SDe({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),L$e=o(function(c){return A$e(c)},"setOptions"),N$e=o(function(c,q,Y,V,Z){var re="kMedoids"!==Z?function(c){return Y[c]}:function(c){return V[c](Y)},ae=o(function(c){return V[c](q)},"getQ"),se=Y,oe=q;return D6(c,V.length,re,ae,se,oe)},"getDist"),I$e=o(function(c,q,Y){for(var V=Y.length,Z=new Array(V),re=new Array(V),ae=new Array(q),se=null,oe=0;oe<V;oe++)Z[oe]=c.min(Y[oe]).value,re[oe]=c.max(Y[oe]).value;for(var he=0;he<q;he++){se=[];for(var de=0;de<V;de++)se[de]=Math.random()*(re[de]-Z[de])+Z[de];ae[he]=se}return ae},"randomCentroids"),M$e=o(function(c,q,Y,V,Z){for(var re=1/0,ae=0,se=0;se<q.length;se++){var oe=N$e(Y,c,q[se],V,Z);oe<re&&(re=oe,ae=se)}return ae},"classify"),R$e=o(function(c,q,Y){for(var V=[],Z=null,re=0;re<q.length;re++)Y[(Z=q[re]).id()]===c&&V.push(Z);return V},"buildCluster"),D$e=o(function(c,q,Y){return Math.abs(q-c)<=Y},"haveValuesConverged"),O$e=o(function(c,q,Y){for(var V=0;V<c.length;V++)for(var Z=0;Z<c[V].length;Z++){if(Math.abs(c[V][Z]-q[V][Z])>Y)return!1}return!0},"haveMatricesConverged"),P$e=o(function(c,q,Y){for(var V=0;V<Y;V++)if(c===q[V])return!0;return!1},"seenBefore"),B$e=o(function(c,q){var Y=new Array(q);if(c.length<50)for(var V=0;V<q;V++){for(var Z=c[Math.floor(Math.random()*c.length)];P$e(Z,Y,V);)Z=c[Math.floor(Math.random()*c.length)];Y[V]=Z}else for(var re=0;re<q;re++)Y[re]=c[Math.floor(Math.random()*c.length)];return Y},"randomMedoids"),F$e=o(function(c,q,Y){for(var V=0,Z=0;Z<q.length;Z++)V+=N$e("manhattan",q[Z],c,Y,"kMedoids");return V},"findCost"),$$e=o(function(c){var q,Y=this.cy(),V=this.nodes(),Z=null,re=L$e(c),ae=new Array(re.k),se={};re.testMode?"number"==typeof re.testCentroids?(re.testCentroids,q=I$e(V,re.k,re.attributes)):q="object"===Yi(re.testCentroids)?re.testCentroids:I$e(V,re.k,re.attributes):q=I$e(V,re.k,re.attributes);for(var oe=!0,he=0;oe&&he<re.maxIterations;){for(var de=0;de<V.length;de++)se[(Z=V[de]).id()]=M$e(Z,q,re.distance,re.attributes,"kMeans");oe=!1;for(var pe=0;pe<re.k;pe++){var ge=R$e(pe,V,se);if(0!==ge.length){for(var me=re.attributes.length,ve=q[pe],be=new Array(me),we=new Array(me),Te=0;Te<me;Te++){we[Te]=0;for(var _e=0;_e<ge.length;_e++)Z=ge[_e],we[Te]+=re.attributes[Te](Z);be[Te]=we[Te]/ge.length,D$e(be[Te],ve[Te],re.sensitivityThreshold)||(oe=!0)}q[pe]=be,ae[pe]=Y.collection(ge)}}he++}return ae},"kMeans"),z$e=o(function(c){var q,Y,V=this.cy(),Z=this.nodes(),re=null,ae=L$e(c),se=new Array(ae.k),oe={},he=new Array(ae.k);ae.testMode?"number"==typeof ae.testCentroids||(q="object"===Yi(ae.testCentroids)?ae.testCentroids:B$e(Z,ae.k)):q=B$e(Z,ae.k);for(var de=!0,pe=0;de&&pe<ae.maxIterations;){for(var ge=0;ge<Z.length;ge++)oe[(re=Z[ge]).id()]=M$e(re,q,ae.distance,ae.attributes,"kMedoids");de=!1;for(var me=0;me<q.length;me++){var ve=R$e(me,Z,oe);if(0!==ve.length){he[me]=F$e(q[me],ve,ae.attributes);for(var be=0;be<ve.length;be++)(Y=F$e(ve[be],ve,ae.attributes))<he[me]&&(he[me]=Y,q[me]=ve[be],de=!0);se[me]=V.collection(ve)}}pe++}return se},"kMedoids"),G$e=o(function(c,q,Y,V,Z){for(var re,ae,se=0;se<q.length;se++)for(var oe=0;oe<c.length;oe++)V[se][oe]=Math.pow(Y[se][oe],Z.m);for(var he=0;he<c.length;he++)for(var de=0;de<Z.attributes.length;de++){re=0,ae=0;for(var pe=0;pe<q.length;pe++)re+=V[pe][he]*Z.attributes[de](q[pe]),ae+=V[pe][he];c[he][de]=re/ae}},"updateCentroids"),U$e=o(function(c,q,Y,V,Z){for(var re=0;re<c.length;re++)q[re]=c[re].slice();for(var ae,se,oe,he=2/(Z.m-1),de=0;de<Y.length;de++)for(var pe=0;pe<V.length;pe++){ae=0;for(var ge=0;ge<Y.length;ge++)se=N$e(Z.distance,V[pe],Y[de],Z.attributes,"cmeans"),oe=N$e(Z.distance,V[pe],Y[ge],Z.attributes,"cmeans"),ae+=Math.pow(se/oe,he);c[pe][de]=1/ae}},"updateMembership"),q$e=o(function(c,q,Y,V){for(var Z=new Array(Y.k),re=0;re<Z.length;re++)Z[re]=[];for(var ae,se,oe=0;oe<q.length;oe++){ae=-1/0,se=-1;for(var he=0;he<q[0].length;he++)q[oe][he]>ae&&(ae=q[oe][he],se=he);Z[se].push(c[oe])}for(var de=0;de<Z.length;de++)Z[de]=V.collection(Z[de]);return Z},"assign"),j$e=o(function(c){var q,Y,V,Z,re=this.cy(),ae=this.nodes(),se=L$e(c);V=new Array(ae.length);for(var oe=0;oe<ae.length;oe++)V[oe]=new Array(se.k);Y=new Array(ae.length);for(var he=0;he<ae.length;he++)Y[he]=new Array(se.k);for(var de=0;de<ae.length;de++){for(var pe=0,ge=0;ge<se.k;ge++)Y[de][ge]=Math.random(),pe+=Y[de][ge];for(var me=0;me<se.k;me++)Y[de][me]=Y[de][me]/pe}q=new Array(se.k);for(var ve=0;ve<se.k;ve++)q[ve]=new Array(se.attributes.length);Z=new Array(ae.length);for(var be=0;be<ae.length;be++)Z[be]=new Array(se.k);for(var we=!0,Te=0;we&&Te<se.maxIterations;)we=!1,G$e(q,ae,Y,Z,se),U$e(Y,V,q,ae,se),O$e(Y,V,se.sensitivityThreshold)||(we=!0),Te++;return{clusters:q$e(ae,Y,se,re),degreeOfMembership:Y}},"fuzzyCMeans"),Y$e={kMeans:$$e,kMedoids:z$e,fuzzyCMeans:j$e,fcm:j$e},W$e=SDe({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),H$e={single:"min",complete:"max"},V$e=o(function(c){var q=W$e(c),Y=H$e[q.linkage];return null!=Y&&(q.linkage=Y),q},"setOptions"),X$e=o(function(c,q,Y,V,Z){for(var re,ae=0,se=1/0,oe=Z.attributes,he=o(function(c,q){return D6(Z.distance,oe.length,function(q){return oe[q](c)},function(c){return oe[c](q)},c,q)},"getDist"),de=0;de<c.length;de++){var pe=c[de].key,ge=Y[pe][V[pe]];ge<se&&(ae=pe,se=ge)}if("threshold"===Z.mode&&se>=Z.threshold||"dendrogram"===Z.mode&&1===c.length)return!1;var me,ve=q[ae],be=q[V[ae]];me="dendrogram"===Z.mode?{left:ve,right:be,key:ve.key}:{value:ve.value.concat(be.value),key:ve.key},c[ve.index]=me,c.splice(be.index,1),q[ve.key]=me;for(var we=0;we<c.length;we++){var Te=c[we];ve.key===Te.key?re=1/0:"min"===Z.linkage?(re=Y[ve.key][Te.key],Y[ve.key][Te.key]>Y[be.key][Te.key]&&(re=Y[be.key][Te.key])):"max"===Z.linkage?(re=Y[ve.key][Te.key],Y[ve.key][Te.key]<Y[be.key][Te.key]&&(re=Y[be.key][Te.key])):re="mean"===Z.linkage?(Y[ve.key][Te.key]*ve.size+Y[be.key][Te.key]*be.size)/(ve.size+be.size):"dendrogram"===Z.mode?he(Te.value,ve.value):he(Te.value[0],ve.value[0]),Y[ve.key][Te.key]=Y[Te.key][ve.key]=re}for(var _e=0;_e<c.length;_e++){var Ee=c[_e].key;if(V[Ee]===ve.key||V[Ee]===be.key){for(var Ce=Ee,Se=0;Se<c.length;Se++){var Ae=c[Se].key;Y[Ee][Ae]<Y[Ee][Ce]&&(Ce=Ae)}V[Ee]=Ce}c[_e].index=_e}return ve.key=be.key=ve.index=be.index=null,!0},"mergeClosest"),K$e=o(function t(c,q,Y){c&&(c.value?q.push(c.value):(c.left&&t(c.left,q),c.right&&t(c.right,q)))},"getAllChildren"),Q$e=o(function t(c,q){if(!c)return"";if(c.left&&c.right){var Y=t(c.left,q),V=t(c.right,q),Z=q.add({group:"nodes",data:{id:Y+","+V}});return q.add({group:"edges",data:{source:Y,target:Z.id()}}),q.add({group:"edges",data:{source:V,target:Z.id()}}),Z.id()}return c.value?c.value.id():void 0},"buildDendrogram"),Z$e=o(function t(c,q,Y){if(!c)return[];var V=[],Z=[],re=[];return 0===q?(c.left&&K$e(c.left,V),c.right&&K$e(c.right,Z),re=V.concat(Z),[Y.collection(re)]):1===q?c.value?[Y.collection(c.value)]:(c.left&&K$e(c.left,V),c.right&&K$e(c.right,Z),[Y.collection(V),Y.collection(Z)]):c.value?[Y.collection(c.value)]:(c.left&&(V=t(c.left,q-1,Y)),c.right&&(Z=t(c.right,q-1,Y)),V.concat(Z))},"buildClustersFromTree"),J$e=o(function(c){for(var q=this.cy(),Y=this.nodes(),V=V$e(c),Z=V.attributes,re=o(function(c,q){return D6(V.distance,Z.length,function(q){return Z[q](c)},function(c){return Z[c](q)},c,q)},"getDist"),ae=[],se=[],oe=[],he=[],de=0;de<Y.length;de++){var pe={value:"dendrogram"===V.mode?Y[de]:[Y[de]],key:de,index:de};ae[de]=pe,he[de]=pe,se[de]=[],oe[de]=0}for(var ge=0;ge<ae.length;ge++)for(var me=0;me<=ge;me++){var ve=void 0;ve="dendrogram"===V.mode?ge===me?1/0:re(ae[ge].value,ae[me].value):ge===me?1/0:re(ae[ge].value[0],ae[me].value[0]),se[ge][me]=ve,se[me][ge]=ve,ve<se[ge][oe[ge]]&&(oe[ge]=me)}for(var be=X$e(ae,he,se,oe,V);be;)be=X$e(ae,he,se,oe,V);var we;return"dendrogram"===V.mode?(we=Z$e(ae[0],V.dendrogramDepth,q),V.addDendrogram&&Q$e(ae[0],q)):(we=new Array(ae.length),ae.forEach(function(c,Y){c.key=c.index=null,we[Y]=q.collection(c.value)})),we},"hierarchicalClustering"),gze={hierarchicalClustering:J$e,hca:J$e},Nze=SDe({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ize=o(function(c){var q=c.damping,Y=c.preference;.5<=q&&q<1||yDe("Damping must range on [0.5, 1).  Got: ".concat(q));var V=["median","mean","min","max"];return V.some(function(c){return c===Y})||vNe(Y)||yDe("Preference must be one of [".concat(V.map(function(c){return"'".concat(c,"'")}).join(", "),"] or a number.  Got: ").concat(Y)),Nze(c)},"setOptions"),Mze=o(function(c,q,Y,V){var Z=o(function(c,q){return V[q](c)},"attr");return-D6(c,V.length,function(c){return Z(q,c)},function(c){return Z(Y,c)},q,Y)},"getSimilarity"),Rze=o(function(c,q){return"median"===q?aPe(c):"mean"===q?iPe(c):"min"===q?rPe(c):"max"===q?nPe(c):q},"getPreference"),Pze=o(function(c,q,Y){for(var V=[],Z=0;Z<c;Z++)q[Z*c+Z]+Y[Z*c+Z]>0&&V.push(Z);return V},"findExemplars"),Bze=o(function(c,q,Y){for(var V=[],Z=0;Z<c;Z++){for(var re=-1,ae=-1/0,se=0;se<Y.length;se++){var oe=Y[se];q[Z*c+oe]>ae&&(re=oe,ae=q[Z*c+oe])}re>0&&V.push(re)}for(var he=0;he<Y.length;he++)V[Y[he]]=Y[he];return V},"assignClusters"),$ze=o(function(c,q,Y){for(var V=Bze(c,q,Y),Z=0;Z<Y.length;Z++){for(var re=[],ae=0;ae<V.length;ae++)V[ae]===Y[Z]&&re.push(ae);for(var se=-1,oe=-1/0,he=0;he<re.length;he++){for(var de=0,pe=0;pe<re.length;pe++)de+=q[re[pe]*c+re[he]];de>oe&&(se=he,oe=de)}Y[Z]=re[se]}return V=Bze(c,q,Y)},"assign"),Gze=o(function(c){for(var q=this.cy(),Y=this.nodes(),V=Ize(c),Z={},re=0;re<Y.length;re++)Z[Y[re].id()]=re;var ae,se,oe,he,de,pe,ge;se=(ae=Y.length)*ae,oe=new Array(se);for(var me=0;me<se;me++)oe[me]=-1/0;for(var ve=0;ve<ae;ve++)for(var be=0;be<ae;be++)ve!==be&&(oe[ve*ae+be]=Mze(V.distance,Y[ve],Y[be],V.attributes));he=Rze(oe,V.preference);for(var we=0;we<ae;we++)oe[we*ae+we]=he;de=new Array(se);for(var Te=0;Te<se;Te++)de[Te]=0;pe=new Array(se);for(var _e=0;_e<se;_e++)pe[_e]=0;for(var Ee=new Array(ae),Ce=new Array(ae),Se=new Array(ae),Ae=0;Ae<ae;Ae++)Ee[Ae]=0,Ce[Ae]=0,Se[Ae]=0;for(var Le=new Array(ae*V.minIterations),Ne=0;Ne<Le.length;Ne++)Le[Ne]=0;for(ge=0;ge<V.maxIterations;ge++){for(var Ie=0;Ie<ae;Ie++){for(var Me=-1/0,Re=-1/0,Oe=-1,Be=0,$e=0;$e<ae;$e++)Ee[$e]=de[Ie*ae+$e],(Be=pe[Ie*ae+$e]+oe[Ie*ae+$e])>=Me?(Re=Me,Me=Be,Oe=$e):Be>Re&&(Re=Be);for(var Ue=0;Ue<ae;Ue++)de[Ie*ae+Ue]=(1-V.damping)*(oe[Ie*ae+Ue]-Me)+V.damping*Ee[Ue];de[Ie*ae+Oe]=(1-V.damping)*(oe[Ie*ae+Oe]-Re)+V.damping*Ee[Oe]}for(var qe=0;qe<ae;qe++){for(var je=0,We=0;We<ae;We++)Ee[We]=pe[We*ae+qe],Ce[We]=Math.max(0,de[We*ae+qe]),je+=Ce[We];je-=Ce[qe],Ce[qe]=de[qe*ae+qe],je+=Ce[qe];for(var He=0;He<ae;He++)pe[He*ae+qe]=(1-V.damping)*Math.min(0,je-Ce[He])+V.damping*Ee[He];pe[qe*ae+qe]=(1-V.damping)*(je-Ce[qe])+V.damping*Ee[qe]}for(var Ve=0,Ke=0;Ke<ae;Ke++){var Qe=pe[Ke*ae+Ke]+de[Ke*ae+Ke]>0?1:0;Le[ge%V.minIterations*ae+Ke]=Qe,Ve+=Qe}if(Ve>0&&(ge>=V.minIterations-1||ge==V.maxIterations-1)){for(var Ze=0,Je=0;Je<ae;Je++){Se[Je]=0;for(var et=0;et<V.minIterations;et++)Se[Je]+=Le[et*ae+Je];(0===Se[Je]||Se[Je]===V.minIterations)&&Ze++}if(Ze===ae)break}}for(var tt=Pze(ae,de,pe),rt=$ze(ae,oe,tt),nt={},it=0;it<tt.length;it++)nt[tt[it]]=[];for(var at=0;at<Y.length;at++){var st=rt[Z[Y[at].id()]];null!=st&&nt[st].push(Y[at])}for(var ot=new Array(tt.length),lt=0;lt<tt.length;lt++)ot[lt]=q.collection(nt[tt[lt]]);return ot},"affinityPropagation"),jze={affinityPropagation:Gze,ap:Gze},Kze=SDe({root:void 0,directed:!1}),Zze={hierholzer:o(function(c){if(!mNe(c)){var q=arguments;c={root:q[0],directed:q[1]}}var Y,V,Z,re=Kze(c),ae=re.root,se=re.directed,oe=this,he=!1;ae&&(Z=pNe(ae)?this.filter(ae)[0].id():ae[0].id());var de={},pe={};se?oe.forEach(function(c){var q=c.id();if(c.isNode()){var Z=c.indegree(!0),re=c.outdegree(!0),ae=Z-re,se=re-Z;1==ae?Y?he=!0:Y=q:1==se?V?he=!0:V=q:(se>1||ae>1)&&(he=!0),de[q]=[],c.outgoers().forEach(function(c){c.isEdge()&&de[q].push(c.id())})}else pe[q]=[void 0,c.target().id()]}):oe.forEach(function(c){var q=c.id();c.isNode()?(c.degree(!0)%2&&(Y?V?he=!0:V=q:Y=q),de[q]=[],c.connectedEdges().forEach(function(c){return de[q].push(c.id())})):pe[q]=[c.source().id(),c.target().id()]});var ge={found:!1,trail:void 0};if(he)return ge;if(V&&Y)if(se){if(Z&&V!=Z)return ge;Z=V}else{if(Z&&V!=Z&&Y!=Z)return ge;Z||(Z=V)}else Z||(Z=oe[0].id());var me=o(function(c){for(var q,Y,V,Z=c,re=[c];de[Z].length;)q=de[Z].shift(),Y=pe[q][0],Z!=(V=pe[q][1])?(de[V]=de[V].filter(function(c){return c!=q}),Z=V):!se&&Z!=Y&&(de[Y]=de[Y].filter(function(c){return c!=q}),Z=Y),re.unshift(q),re.unshift(Z);return re},"walk"),ve=[],be=[];for(be=me(Z);1!=be.length;)0==de[be[0]].length?(ve.unshift(oe.getElementById(be.shift())),ve.unshift(oe.getElementById(be.shift()))):be=me(be.shift()).concat(be);for(var we in ve.unshift(oe.getElementById(be.shift())),de)if(de[we].length)return ge;return ge.found=!0,ge.trail=this.spawn(ve,!0),ge},"hierholzer")},Jze=o(function(){var c=this,q={},Y=0,V=0,Z=[],re=[],ae={},se=o(function(Y,V){for(var ae=re.length-1,se=[],oe=c.spawn();re[ae].x!=Y||re[ae].y!=V;)se.push(re.pop().edge),ae--;se.push(re.pop().edge),se.forEach(function(Y){var V=Y.connectedNodes().intersection(c);oe.merge(Y),V.forEach(function(Y){var V=Y.id(),Z=Y.connectedEdges().intersection(c);oe.merge(Y),q[V].cutVertex?oe.merge(Z.filter(function(c){return c.isLoop()})):oe.merge(Z)})}),Z.push(oe)},"buildComponent"),oe=o(function d(oe,he,de){oe===de&&(V+=1),q[he]={id:Y,low:Y++,cutVertex:!1};var pe,ge,me,ve,be=c.getElementById(he).connectedEdges().intersection(c);0===be.size()?Z.push(c.spawn(c.getElementById(he))):be.forEach(function(c){pe=c.source().id(),ge=c.target().id(),(me=pe===he?ge:pe)!==de&&(ve=c.id(),ae[ve]||(ae[ve]=!0,re.push({x:he,y:me,edge:c})),me in q?q[he].low=Math.min(q[he].low,q[me].id):(d(oe,me,he),q[he].low=Math.min(q[he].low,q[me].low),q[he].id<=q[me].low&&(q[he].cutVertex=!0,se(he,me))))})},"biconnectedSearch");c.forEach(function(c){if(c.isNode()){var Y=c.id();Y in q||(V=0,oe(Y,Y),q[Y].cutVertex=V>1)}});var he=Object.keys(q).filter(function(c){return q[c].cutVertex}).map(function(q){return c.getElementById(q)});return{cut:c.spawn(he),components:Z}},"hopcroftTarjanBiconnected"),eGe={hopcroftTarjanBiconnected:Jze,htbc:Jze,htb:Jze,hopcroftTarjanBiconnectedComponents:Jze},tGe=o(function(){var c=this,q={},Y=0,V=[],Z=[],re=c.spawn(c),ae=o(function u(ae){if(Z.push(ae),q[ae]={index:Y,low:Y++,explored:!1},c.getElementById(ae).connectedEdges().intersection(c).forEach(function(c){var Y=c.target().id();Y!==ae&&(Y in q||u(Y),q[Y].explored||(q[ae].low=Math.min(q[ae].low,q[Y].low)))}),q[ae].index===q[ae].low){for(var se=c.spawn();;){var oe=Z.pop();if(se.merge(c.getElementById(oe)),q[oe].low=q[ae].index,q[oe].explored=!0,oe===ae)break}var he=se.edgesWith(se),de=se.merge(he);V.push(de),re=re.difference(de)}},"stronglyConnectedSearch");return c.forEach(function(c){if(c.isNode()){var Y=c.id();Y in q||ae(Y)}}),{cut:re,components:V}},"tarjanStronglyConnected"),rGe={},[UDe,WDe,HDe,XDe,ZDe,oOe,POe,PFe,t$e,n$e,a$e,x$e,Y$e,gze,jze,Zze,eGe,{tarjanStronglyConnected:tGe,tsc:tGe,tscc:tGe,tarjanStronglyConnectedComponents:tGe}].forEach(function(c){eIe(rGe,c)}),nGe=o(function t(c){if(!(this instanceof t))return new t(c);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof c&&c.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api"),nGe.prototype={fulfill:o(function(c){return iGe(this,1,"fulfillValue",c)},"fulfill"),reject:o(function(c){return iGe(this,2,"rejectReason",c)},"reject"),then:o(function(c,q){var Y=this,V=new nGe;return Y.onFulfilled.push(oGe(c,V,"fulfill")),Y.onRejected.push(oGe(q,V,"reject")),aGe(Y),V.proxy},"then")},iGe=o(function(c,q,Y,V){return 0===c.state&&(c.state=q,c[Y]=V,aGe(c)),c},"deliver"),aGe=o(function(c){1===c.state?sGe(c,"onFulfilled",c.fulfillValue):2===c.state&&sGe(c,"onRejected",c.rejectReason)},"execute"),sGe=o(function(c,q,Y){if(0!==c[q].length){var V=c[q];c[q]=[];var Z=o(function(){for(var c=0;c<V.length;c++)V[c](Y)},"func");"function"==typeof setImmediate?setImmediate(Z):setTimeout(Z,0)}},"execute_handlers"),oGe=o(function(c,q,Y){return function(V){if("function"!=typeof c)q[Y].call(q,V);else{var Z;try{Z=c(V)}catch(c){return void q.reject(c)}lGe(q,Z)}}},"resolver"),lGe=o(function t(c,q){if(c!==q&&c.proxy!==q){var Y;if("object"===Yi(q)&&null!==q||"function"==typeof q)try{Y=q.then}catch(q){return void c.reject(q)}if("function"!=typeof Y)c.fulfill(q);else{var V=!1;try{Y.call(q,function(Y){V||(V=!0,Y===q?c.reject(new TypeError("circular thenable chain")):t(c,Y))},function(q){V||(V=!0,c.reject(q))})}catch(q){V||c.reject(q)}}}else c.reject(new TypeError("cannot resolve promise with itself"))},"resolve"),nGe.all=function(c){return new nGe(function(q,Y){for(var V=new Array(c.length),Z=0,re=o(function(Y,re){V[Y]=re,++Z===c.length&&q(V)},"fulfill"),ae=0;ae<c.length;ae++)(function(q){var V=c[q];null!=V&&null!=V.then?V.then(function(c){re(q,c)},function(c){Y(c)}):re(q,V)})(ae)})},nGe.resolve=function(c){return new nGe(function(q,Y){q(c)})},nGe.reject=function(c){return new nGe(function(q,Y){Y(c)})},cGe=typeof Promise<"u"?Promise:nGe,hGe=o(function(c,q,Y){var V=_Ne(c),Z=!V,re=this._private=eIe({duration:1e3},q,Y);if(re.target=c,re.style=re.style||re.css,re.started=!1,re.playing=!1,re.hooked=!1,re.applying=!1,re.progress=0,re.completes=[],re.frames=[],re.complete&&gNe(re.complete)&&re.completes.push(re.complete),Z){var ae=c.position();re.startPosition=re.startPosition||{x:ae.x,y:ae.y},re.startStyle=re.startStyle||c.cy().style().getAnimationStartStyle(c,re.style)}if(V){var se=c.pan();re.startPan={x:se.x,y:se.y},re.startZoom=c.zoom()}this.length=1,this[0]=this},"Animation"),uGe=hGe.prototype,eIe(uGe,{instanceString:o(function(){return"animation"},"instanceString"),hook:o(function(){var c=this._private;if(!c.hooked){var q=c.target._private.animation;(c.queue?q.queue:q.current).push(this),wNe(c.target)&&c.target.cy().addToAnimationPool(c.target),c.hooked=!0}return this},"hook"),play:o(function(){var c=this._private;return 1===c.progress&&(c.progress=0),c.playing=!0,c.started=!1,c.stopped=!1,this.hook(),this},"play"),playing:o(function(){return this._private.playing},"playing"),apply:o(function(){var c=this._private;return c.applying=!0,c.started=!1,c.stopped=!1,this.hook(),this},"apply"),applying:o(function(){return this._private.applying},"applying"),pause:o(function(){var c=this._private;return c.playing=!1,c.started=!1,this},"pause"),stop:o(function(){var c=this._private;return c.playing=!1,c.started=!1,c.stopped=!0,this},"stop"),rewind:o(function(){return this.progress(0)},"rewind"),fastforward:o(function(){return this.progress(1)},"fastforward"),time:o(function(c){var q=this._private;return void 0===c?q.progress*q.duration:this.progress(c/q.duration)},"time"),progress:o(function(c){var q=this._private,Y=q.playing;return void 0===c?q.progress:(Y&&this.pause(),q.progress=c,q.started=!1,Y&&this.play(),this)},"progress"),completed:o(function(){return 1===this._private.progress},"completed"),reverse:o(function(){var c=this._private,q=c.playing;q&&this.pause(),c.progress=1-c.progress,c.started=!1;var Y=o(function(q,Y){var V=c[q];null!=V&&(c[q]=c[Y],c[Y]=V)},"swap");if(Y("zoom","startZoom"),Y("pan","startPan"),Y("position","startPosition"),c.style)for(var V=0;V<c.style.length;V++){var Z=c.style[V],re=Z.name,ae=c.startStyle[re];c.startStyle[re]=Z,c.style[V]=ae}return q&&this.play(),this},"reverse"),promise:o(function(c){var q,Y=this._private;if("frame"===c)q=Y.frames;else q=Y.completes;return new cGe(function(c,Y){q.push(function(){c()})})},"promise")}),uGe.complete=uGe.completed,uGe.run=uGe.play,uGe.running=uGe.playing,dGe={animated:o(function(){return o(function(){var c=this,q=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return!1;var Y=q[0];return Y?Y._private.animation.current.length>0:void 0},"animatedImpl")},"animated"),clearQueue:o(function(){return o(function(){var c=this,q=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return this;for(var Y=0;Y<q.length;Y++){q[Y]._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:o(function(){return o(function(c,q){return(this._private.cy||this).styleEnabled()?this.animate({delay:c,duration:c,complete:q}):this},"delayImpl")},"delay"),delayAnimation:o(function(){return o(function(c,q){return(this._private.cy||this).styleEnabled()?this.animation({delay:c,duration:c,complete:q}):this},"delayAnimationImpl")},"delayAnimation"),animation:o(function(){return o(function(c,q){var Y=this,V=void 0!==Y.length,Z=V?Y:[Y],re=this._private.cy||this,ae=!V,se=!ae;if(!re.styleEnabled())return this;var oe=re.style();if(c=eIe({},c,q),0===Object.keys(c).length)return new hGe(Z[0],c);switch(void 0===c.duration&&(c.duration=400),c.duration){case"slow":c.duration=600;break;case"fast":c.duration=200}if(se&&(c.style=oe.getPropsList(c.style||c.css),c.css=void 0),se&&null!=c.renderedPosition){var he=c.renderedPosition,de=re.pan(),pe=re.zoom();c.position=zOe(he,pe,de)}if(ae&&null!=c.panBy){var ge=c.panBy,me=re.pan();c.pan={x:me.x+ge.x,y:me.y+ge.y}}var ve=c.center||c.centre;if(ae&&null!=ve){var be=re.getCenterPan(ve.eles,c.zoom);null!=be&&(c.pan=be)}if(ae&&null!=c.fit){var we=c.fit,Te=re.getFitViewport(we.eles||we.boundingBox,we.padding);null!=Te&&(c.pan=Te.pan,c.zoom=Te.zoom)}if(ae&&mNe(c.zoom)){var _e=re.getZoomedViewport(c.zoom);null!=_e?(_e.zoomed&&(c.zoom=_e.zoom),_e.panned&&(c.pan=_e.pan)):c.zoom=null}return new hGe(Z[0],c)},"animationImpl")},"animation"),animate:o(function(){return o(function(c,q){var Y=this,V=void 0!==Y.length?Y:[Y];if(!(this._private.cy||this).styleEnabled())return this;q&&(c=eIe({},c,q));for(var Z=0;Z<V.length;Z++){var re=V[Z],ae=re.animated()&&(void 0===c.queue||c.queue);re.animation(c,ae?{queue:!0}:void 0).play()}return this},"animateImpl")},"animate"),stop:o(function(){return o(function(c,q){var Y=this,V=void 0!==Y.length?Y:[Y],Z=this._private.cy||this;if(!Z.styleEnabled())return this;for(var re=0;re<V.length;re++){for(var ae=V[re]._private,se=ae.animation.current,oe=0;oe<se.length;oe++){var he=se[oe]._private;q&&(he.duration=0)}c&&(ae.animation.queue=[]),q||(ae.animation.current=[])}return Z.notify("draw"),this},"stopImpl")},"stop")},pGe=Array.isArray,gGe=pGe,fGe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mGe=/^\w*$/,o(UKe,"isKey"),yGe=UKe,vGe="[object AsyncFunction]",xGe="[object Function]",bGe="[object GeneratorFunction]",wGe="[object Proxy]",o(jKe,"isFunction"),kGe=jKe,TGe=SIe["__core-js_shared__"],c=/[^.]+$/.exec((EGe=TGe)&&EGe.keys&&EGe.keys.IE_PROTO||""),CGe=c?"Symbol(src)_1."+c:"",o(ZKe,"isMasked"),SGe=ZKe,AGe=Function.prototype,LGe=AGe.toString,o(rQe,"toSource"),NGe=rQe,IGe=/[\\^$.*+?()[\]{}|]/g,MGe=/^\[object .+?Constructor\]$/,RGe=Function.prototype,DGe=Object.prototype,OGe=RGe.toString,PGe=DGe.hasOwnProperty,BGe=RegExp("^"+OGe.call(PGe).replace(IGe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o(hQe,"baseIsNative"),FGe=hQe,o(dQe,"getValue$1"),$Ge=dQe,o(mQe,"getNative"),GGe=(zGe=mQe)(Object,"create"),UGe=GGe,o(yQe,"hashClear"),qGe=yQe,o(xQe,"hashDelete"),jGe=xQe,YGe="__lodash_hash_undefined__",WGe=Object.prototype,HGe=WGe.hasOwnProperty,o(EQe,"hashGet"),VGe=EQe,XGe=Object.prototype,KGe=XGe.hasOwnProperty,o(_Qe,"hashHas"),QGe=_Qe,ZGe="__lodash_hash_undefined__",o(NQe,"hashSet"),JGe=NQe,o(p1,"Hash"),p1.prototype.clear=qGe,p1.prototype.delete=jGe,p1.prototype.get=VGe,p1.prototype.has=QGe,p1.prototype.set=JGe,hUe=p1,o(MQe,"listCacheClear"),uUe=MQe,o(OQe,"eq"),dUe=OQe,o(PQe,"assocIndexOf"),pUe=PQe,gUe=Array.prototype,fUe=gUe.splice,o(zQe,"listCacheDelete"),mUe=zQe,o($Qe,"listCacheGet"),yUe=$Qe,o(UQe,"listCacheHas"),vUe=UQe,o(WQe,"listCacheSet"),xUe=WQe,o(m1,"ListCache"),m1.prototype.clear=uUe,m1.prototype.delete=mUe,m1.prototype.get=yUe,m1.prototype.has=vUe,m1.prototype.set=xUe,bUe=m1,wUe=zGe(SIe,"Map"),kUe=wUe,o(KQe,"mapCacheClear"),TUe=KQe,o(ZQe,"isKeyable"),_Ue=ZQe,o(eZe,"getMapData"),EUe=eZe,o(tZe,"mapCacheDelete"),CUe=tZe,o(nZe,"mapCacheGet"),SUe=nZe,o(aZe,"mapCacheHas"),AUe=aZe,o(oZe,"mapCacheSet"),LUe=oZe,o(g1,"MapCache"),g1.prototype.clear=TUe,g1.prototype.delete=CUe,g1.prototype.get=SUe,g1.prototype.has=AUe,g1.prototype.set=LUe,NUe=g1,IUe="Expected a function",o(hB,"memoize"),hB.Cache=NUe,MUe=hB,RUe=500,o(fZe,"memoizeCapped"),DUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OUe=/\\(\\)?/g,PUe=fZe(function(c){var q=[];return 46===c.charCodeAt(0)&&q.push(""),c.replace(DUe,function(c,Y,V,Z){q.push(V?Z.replace(OUe,"$1"):Y||c)}),q}),BUe=PUe,o(yZe,"arrayMap"),FUe=yZe,$Ue=1/0,zUe=QIe?QIe.prototype:void 0,GUe=zUe?zUe.toString:void 0,o(Dge,"baseToString"),UUe=Dge,o(bZe,"toString$1"),qUe=bZe,o(wZe,"castPath"),jUe=wZe,YUe=1/0,o(kZe,"toKey"),WUe=kZe,o(EZe,"baseGet"),HUe=EZe,o(CZe,"get"),VUe=CZe,XUe=function(){try{var c=zGe(Object,"defineProperty");return c({},"",{}),c}catch{}}(),KUe=XUe,o(LZe,"baseAssignValue"),QUe=LZe,ZUe=Object.prototype,JUe=ZUe.hasOwnProperty,o(MZe,"assignValue"),eqe=MZe,tqe=9007199254740991,rqe=/^(?:0|[1-9]\d*)$/,o(BZe,"isIndex"),nqe=BZe,o(zZe,"baseSet"),iqe=zZe,o($Ze,"set"),aqe=$Ze,o(UZe,"copyArray"),sqe=UZe,o(WZe,"toPath"),oqe=WZe,lqe={data:o(function(c){var q={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:o(function(c){},"beforeGet"),beforeSet:o(function(c,q){},"beforeSet"),onSet:o(function(c){},"onSet"),canSet:o(function(c){return!0},"canSet")};return c=eIe({},q,c),o(function(q,Y){var V=c,Z=this,re=void 0!==Z.length,ae=re?Z:[Z],se=re?Z[0]:Z;if(pNe(q)){var oe,he=-1!==q.indexOf(".")&&oqe(q);if(V.allowGetting&&void 0===Y)return se&&(V.beforeGet(se),oe=he&&void 0===se._private[V.field][q]?VUe(se._private[V.field],he):se._private[V.field][q]),oe;if(V.allowSetting&&void 0!==Y&&!V.immutableKeys[q]){var de=Hme({},q,Y);V.beforeSet(Z,de);for(var pe=0,ge=ae.length;pe<ge;pe++){var me=ae[pe];V.canSet(me)&&(he&&void 0===se._private[V.field][q]?aqe(me._private[V.field],he,Y):me._private[V.field][q]=Y)}V.updateStyle&&Z.updateStyle(),V.onSet(Z),V.settingTriggersEvent&&Z[V.triggerFnName](V.settingEvent)}}else if(V.allowSetting&&mNe(q)){var ve,be,we=q,Te=Object.keys(we);V.beforeSet(Z,we);for(var _e=0;_e<Te.length;_e++){if(be=we[ve=Te[_e]],!V.immutableKeys[ve])for(var Ee=0;Ee<ae.length;Ee++){var Ce=ae[Ee];V.canSet(Ce)&&(Ce._private[V.field][ve]=be)}}V.updateStyle&&Z.updateStyle(),V.onSet(Z),V.settingTriggersEvent&&Z[V.triggerFnName](V.settingEvent)}else if(V.allowBinding&&gNe(q)){var Se=q;Z.on(V.bindingEvent,Se)}else if(V.allowGetting&&void 0===q){var Ae;return se&&(V.beforeGet(se),Ae=se._private[V.field]),Ae}return Z},"dataImpl")},"data"),removeData:o(function(c){return c=eIe({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},c),o(function(q){var Y=c,V=this,Z=void 0!==V.length?V:[V];if(pNe(q)){for(var re=q.split(/\s+/),ae=re.length,se=0;se<ae;se++){var oe=re[se];if(!SNe(oe))if(!Y.immutableKeys[oe])for(var he=0,de=Z.length;he<de;he++)Z[he]._private[Y.field][oe]=void 0}Y.triggerEvent&&V[Y.triggerFnName](Y.event)}else if(void 0===q){for(var pe=0,ge=Z.length;pe<ge;pe++)for(var me=Z[pe]._private[Y.field],ve=Object.keys(me),be=0;be<ve.length;be++){var we=ve[be];!Y.immutableKeys[we]&&(me[we]=void 0)}Y.triggerEvent&&V[Y.triggerFnName](Y.event)}return V},"removeDataImpl")},"removeData")},cqe={eventAliasesOn:o(function(c){var q=c;q.addListener=q.listen=q.bind=q.on,q.unlisten=q.unbind=q.off=q.removeListener,q.trigger=q.emit,q.pon=q.promiseOn=function(c,q){var Y=this,V=Array.prototype.slice.call(arguments,0);return new cGe(function(c,q){var Z=o(function(q){Y.off.apply(Y,ae),c(q)},"callback"),re=V.concat([Z]),ae=re.concat([]);Y.on.apply(Y,re)})}},"eventAliasesOn")},hqe={},[dGe,lqe,cqe].forEach(function(c){eIe(hqe,c)}),uqe={animate:hqe.animate(),animation:hqe.animation(),animated:hqe.animated(),clearQueue:hqe.clearQueue(),delay:hqe.delay(),delayAnimation:hqe.delayAnimation(),stop:hqe.stop()},(dqe={classes:o(function(c){var q=this;if(void 0===c){var Y=[];return q[0]._private.classes.forEach(function(c){return Y.push(c)}),Y}fNe(c)||(c=(c||"").match(/\S+/g)||[]);for(var V=[],Z=new $De(c),re=0;re<q.length;re++){for(var ae=q[re],se=ae._private,oe=se.classes,he=!1,de=0;de<c.length;de++){var pe=c[de];if(!oe.has(pe)){he=!0;break}}he||(he=oe.size!==c.length),he&&(se.classes=Z,V.push(ae))}return V.length>0&&this.spawn(V).updateStyle().emit("class"),q},"classes"),addClass:o(function(c){return this.toggleClass(c,!0)},"addClass"),hasClass:o(function(c){var q=this[0];return null!=q&&q._private.classes.has(c)},"hasClass"),toggleClass:o(function(c,q){fNe(c)||(c=c.match(/\S+/g)||[]);for(var Y=this,V=void 0===q,Z=[],re=0,ae=Y.length;re<ae;re++)for(var se=Y[re],oe=se._private.classes,he=!1,de=0;de<c.length;de++){var pe=c[de],ge=oe.has(pe),me=!1;q||V&&!ge?(oe.add(pe),me=!0):(!q||V&&ge)&&(oe.delete(pe),me=!0),!he&&me&&(Z.push(se),he=!0)}return Z.length>0&&this.spawn(Z).updateStyle().emit("class"),Y},"toggleClass"),removeClass:o(function(c){return this.toggleClass(c,!1)},"removeClass"),flashClass:o(function(c,q){var Y=this;if(null==q)q=250;else if(0===q)return Y;return Y.addClass(c),setTimeout(function(){Y.removeClass(c)},q),Y},"flashClass")}).className=dqe.classNames=dqe.classes,(pqe={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:YNe,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"}).variable="(?:[\\w-.]|(?:\\\\"+pqe.metaChar+"))+",pqe.className="(?:[\\w-]|(?:\\\\"+pqe.metaChar+"))+",pqe.value=pqe.string+"|"+pqe.number,pqe.id=pqe.variable,function(){var c,q,Y;for(c=pqe.comparatorOp.split("|"),Y=0;Y<c.length;Y++)q=c[Y],pqe.comparatorOp+="|@"+q;for(c=pqe.comparatorOp.split("|"),Y=0;Y<c.length;Y++)!((q=c[Y]).indexOf("!")>=0)&&"="!==q&&(pqe.comparatorOp+="|\\!"+q)}(),gqe=o(function(){return{checks:[]}},"newQuery"),fqe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},mqe=[{selector:":selected",matches:o(function(c){return c.selected()},"matches")},{selector:":unselected",matches:o(function(c){return!c.selected()},"matches")},{selector:":selectable",matches:o(function(c){return c.selectable()},"matches")},{selector:":unselectable",matches:o(function(c){return!c.selectable()},"matches")},{selector:":locked",matches:o(function(c){return c.locked()},"matches")},{selector:":unlocked",matches:o(function(c){return!c.locked()},"matches")},{selector:":visible",matches:o(function(c){return c.visible()},"matches")},{selector:":hidden",matches:o(function(c){return!c.visible()},"matches")},{selector:":transparent",matches:o(function(c){return c.transparent()},"matches")},{selector:":grabbed",matches:o(function(c){return c.grabbed()},"matches")},{selector:":free",matches:o(function(c){return!c.grabbed()},"matches")},{selector:":removed",matches:o(function(c){return c.removed()},"matches")},{selector:":inside",matches:o(function(c){return!c.removed()},"matches")},{selector:":grabbable",matches:o(function(c){return c.grabbable()},"matches")},{selector:":ungrabbable",matches:o(function(c){return!c.grabbable()},"matches")},{selector:":animated",matches:o(function(c){return c.animated()},"matches")},{selector:":unanimated",matches:o(function(c){return!c.animated()},"matches")},{selector:":parent",matches:o(function(c){return c.isParent()},"matches")},{selector:":childless",matches:o(function(c){return c.isChildless()},"matches")},{selector:":child",matches:o(function(c){return c.isChild()},"matches")},{selector:":orphan",matches:o(function(c){return c.isOrphan()},"matches")},{selector:":nonorphan",matches:o(function(c){return c.isChild()},"matches")},{selector:":compound",matches:o(function(c){return c.isNode()?c.isParent():c.source().isParent()||c.target().isParent()},"matches")},{selector:":loop",matches:o(function(c){return c.isLoop()},"matches")},{selector:":simple",matches:o(function(c){return c.isSimple()},"matches")},{selector:":active",matches:o(function(c){return c.active()},"matches")},{selector:":inactive",matches:o(function(c){return!c.active()},"matches")},{selector:":backgrounding",matches:o(function(c){return c.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:o(function(c){return!c.backgrounding()},"matches")}].sort(function(c,q){return JNe(c.selector,q.selector)}),yqe=function(){for(var c,q={},Y=0;Y<mqe.length;Y++)q[(c=mqe[Y]).selector]=c.matches;return q}(),vqe=o(function(c,q){return yqe[c](q)},"stateSelectorMatches"),xqe="("+mqe.map(function(c){return c.selector}).join("|")+")",bqe=o(function(c){return c.replace(new RegExp("\\\\("+pqe.metaChar+")","g"),function(c,q){return q})},"cleanMetaChars"),wqe=o(function(c,q,Y){c[c.length-1]=Y},"replaceLastQuery"),(kqe=[{name:"group",query:!0,regex:"("+pqe.group+")",populate:o(function(c,q,Y){var V=Ul(Y,1)[0];q.checks.push({type:fqe.GROUP,value:"*"===V?V:V+"s"})},"populate")},{name:"state",query:!0,regex:xqe,populate:o(function(c,q,Y){var V=Ul(Y,1)[0];q.checks.push({type:fqe.STATE,value:V})},"populate")},{name:"id",query:!0,regex:"\\#("+pqe.id+")",populate:o(function(c,q,Y){var V=Ul(Y,1)[0];q.checks.push({type:fqe.ID,value:bqe(V)})},"populate")},{name:"className",query:!0,regex:"\\.("+pqe.className+")",populate:o(function(c,q,Y){var V=Ul(Y,1)[0];q.checks.push({type:fqe.CLASS,value:bqe(V)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+pqe.variable+")\\s*\\]",populate:o(function(c,q,Y){var V=Ul(Y,1)[0];q.checks.push({type:fqe.DATA_EXIST,field:bqe(V)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+pqe.variable+")\\s*("+pqe.comparatorOp+")\\s*("+pqe.value+")\\s*\\]",populate:o(function(c,q,Y){var V=Ul(Y,3),Z=V[0],re=V[1],ae=V[2];ae=null!=new RegExp("^"+pqe.string+"$").exec(ae)?ae.substring(1,ae.length-1):parseFloat(ae),q.checks.push({type:fqe.DATA_COMPARE,field:bqe(Z),operator:re,value:ae})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+pqe.boolOp+")\\s*("+pqe.variable+")\\s*\\]",populate:o(function(c,q,Y){var V=Ul(Y,2),Z=V[0],re=V[1];q.checks.push({type:fqe.DATA_BOOL,field:bqe(re),operator:Z})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+pqe.meta+")\\s*("+pqe.comparatorOp+")\\s*("+pqe.number+")\\s*\\]\\]",populate:o(function(c,q,Y){var V=Ul(Y,3),Z=V[0],re=V[1],ae=V[2];q.checks.push({type:fqe.META_COMPARE,field:bqe(Z),operator:re,value:parseFloat(ae)})},"populate")},{name:"nextQuery",separator:!0,regex:pqe.separator,populate:o(function(c,q){var Y=c.currentSubject,V=c.edgeCount,Z=c.compoundCount,re=c[c.length-1];return null!=Y&&(re.subject=Y,c.currentSubject=null),re.edgeCount=V,re.compoundCount=Z,c.edgeCount=0,c.compoundCount=0,c[c.length++]=gqe()},"populate")},{name:"directedEdge",separator:!0,regex:pqe.directedEdge,populate:o(function(c,q){if(null==c.currentSubject){var Y=gqe(),V=q,Z=gqe();return Y.checks.push({type:fqe.DIRECTED_EDGE,source:V,target:Z}),wqe(c,q,Y),c.edgeCount++,Z}var re=gqe(),ae=q,se=gqe();return re.checks.push({type:fqe.NODE_SOURCE,source:ae,target:se}),wqe(c,q,re),c.edgeCount++,se},"populate")},{name:"undirectedEdge",separator:!0,regex:pqe.undirectedEdge,populate:o(function(c,q){if(null==c.currentSubject){var Y=gqe(),V=q,Z=gqe();return Y.checks.push({type:fqe.UNDIRECTED_EDGE,nodes:[V,Z]}),wqe(c,q,Y),c.edgeCount++,Z}var re=gqe(),ae=q,se=gqe();return re.checks.push({type:fqe.NODE_NEIGHBOR,node:ae,neighbor:se}),wqe(c,q,re),se},"populate")},{name:"child",separator:!0,regex:pqe.child,populate:o(function(c,q){if(null==c.currentSubject){var Y=gqe(),V=gqe(),Z=c[c.length-1];return Y.checks.push({type:fqe.CHILD,parent:Z,child:V}),wqe(c,q,Y),c.compoundCount++,V}if(c.currentSubject===q){var re=gqe(),ae=c[c.length-1],se=gqe(),oe=gqe(),he=gqe(),de=gqe();return re.checks.push({type:fqe.COMPOUND_SPLIT,left:ae,right:se,subject:oe}),oe.checks=q.checks,q.checks=[{type:fqe.TRUE}],de.checks.push({type:fqe.TRUE}),se.checks.push({type:fqe.PARENT,parent:de,child:he}),wqe(c,ae,re),c.currentSubject=oe,c.compoundCount++,he}var pe=gqe(),ge=gqe(),me=[{type:fqe.PARENT,parent:pe,child:ge}];return pe.checks=q.checks,q.checks=me,c.compoundCount++,ge},"populate")},{name:"descendant",separator:!0,regex:pqe.descendant,populate:o(function(c,q){if(null==c.currentSubject){var Y=gqe(),V=gqe(),Z=c[c.length-1];return Y.checks.push({type:fqe.DESCENDANT,ancestor:Z,descendant:V}),wqe(c,q,Y),c.compoundCount++,V}if(c.currentSubject===q){var re=gqe(),ae=c[c.length-1],se=gqe(),oe=gqe(),he=gqe(),de=gqe();return re.checks.push({type:fqe.COMPOUND_SPLIT,left:ae,right:se,subject:oe}),oe.checks=q.checks,q.checks=[{type:fqe.TRUE}],de.checks.push({type:fqe.TRUE}),se.checks.push({type:fqe.ANCESTOR,ancestor:de,descendant:he}),wqe(c,ae,re),c.currentSubject=oe,c.compoundCount++,he}var pe=gqe(),ge=gqe(),me=[{type:fqe.ANCESTOR,ancestor:pe,descendant:ge}];return pe.checks=q.checks,q.checks=me,c.compoundCount++,ge},"populate")},{name:"subject",modifier:!0,regex:pqe.subject,populate:o(function(c,q){if(null!=c.currentSubject&&c.currentSubject!==q)return xDe("Redefinition of subject in selector `"+c.toString()+"`"),!1;c.currentSubject=q;var Y=c[c.length-1].checks[0],V=null==Y?null:Y.type;V===fqe.DIRECTED_EDGE?Y.type=fqe.NODE_TARGET:V===fqe.UNDIRECTED_EDGE&&(Y.type=fqe.NODE_NEIGHBOR,Y.node=Y.nodes[1],Y.neighbor=Y.nodes[0],Y.nodes=null)},"populate")}]).forEach(function(c){return c.regexObj=new RegExp("^"+c.regex)}),Tqe=o(function(c){for(var q,Y,V,Z=0;Z<kqe.length;Z++){var re=kqe[Z],ae=re.name,se=c.match(re.regexObj);if(null!=se){Y=se,q=re,V=ae;var oe=se[0];c=c.substring(oe.length);break}}return{expr:q,match:Y,name:V,remaining:c}},"consumeExpr"),_qe=o(function(c){var q=c.match(/^\s+/);if(q){var Y=q[0];c=c.substring(Y.length)}return c},"consumeWhitespace"),Eqe=o(function(c){var q=this,Y=q.inputText=c,V=q[0]=gqe();for(q.length=1,Y=_qe(Y);;){var Z=Tqe(Y);if(null==Z.expr)return xDe("The selector `"+c+"`is invalid"),!1;var re=Z.match.slice(1),ae=Z.expr.populate(q,V,re);if(!1===ae)return!1;if(null!=ae&&(V=ae),(Y=Z.remaining).match(/^\s*$/))break}var se=q[q.length-1];null!=q.currentSubject&&(se.subject=q.currentSubject),se.edgeCount=q.edgeCount,se.compoundCount=q.compoundCount;for(var oe=0;oe<q.length;oe++){var he=q[oe];if(he.compoundCount>0&&he.edgeCount>0)return xDe("The selector `"+c+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(he.edgeCount>1)return xDe("The selector `"+c+"` is invalid because it uses multiple edge selectors"),!1;1===he.edgeCount&&xDe("The selector `"+c+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),Cqe=o(function(){if(null!=this.toStringCache)return this.toStringCache;for(var c=o(function(c){return c??""},"clean"),q=o(function(q){return pNe(q)?'"'+q+'"':c(q)},"cleanVal"),Y=o(function(c){return" "+c+" "},"space"),V=o(function(V,re){var ae=V.type,se=V.value;switch(ae){case fqe.GROUP:var oe=c(se);return oe.substring(0,oe.length-1);case fqe.DATA_COMPARE:var he=V.field,de=V.operator;return"["+he+Y(c(de))+q(se)+"]";case fqe.DATA_BOOL:var pe=V.operator,ge=V.field;return"["+c(pe)+ge+"]";case fqe.DATA_EXIST:return"["+V.field+"]";case fqe.META_COMPARE:var me=V.operator;return"[["+V.field+Y(c(me))+q(se)+"]]";case fqe.STATE:return se;case fqe.ID:return"#"+se;case fqe.CLASS:return"."+se;case fqe.PARENT:case fqe.CHILD:return Z(V.parent,re)+Y(">")+Z(V.child,re);case fqe.ANCESTOR:case fqe.DESCENDANT:return Z(V.ancestor,re)+" "+Z(V.descendant,re);case fqe.COMPOUND_SPLIT:var ve=Z(V.left,re),be=Z(V.subject,re),we=Z(V.right,re);return ve+(ve.length>0?" ":"")+be+we;case fqe.TRUE:return""}},"checkToString"),Z=o(function(c,q){return c.checks.reduce(function(Y,Z,re){return Y+(q===c&&0===re?"$":"")+V(Z,q)},"")},"queryToString"),re="",ae=0;ae<this.length;ae++){var se=this[ae];re+=Z(se,se.subject),this.length>1&&ae<this.length-1&&(re+=", ")}return this.toStringCache=re,re},"toString"),Sqe={parse:Eqe,toString:Cqe},Aqe=o(function(c,q,Y){var V,Z,re,ae=pNe(c),se=vNe(c),oe=pNe(Y),he=!1,de=!1,pe=!1;switch(q.indexOf("!")>=0&&(q=q.replace("!",""),de=!0),q.indexOf("@")>=0&&(q=q.replace("@",""),he=!0),(ae||oe||he)&&(Z=ae||se?""+c:"",re=""+Y),he&&(c=Z=Z.toLowerCase(),Y=re=re.toLowerCase()),q){case"*=":V=Z.indexOf(re)>=0;break;case"$=":V=Z.indexOf(re,Z.length-re.length)>=0;break;case"^=":V=0===Z.indexOf(re);break;case"=":V=c===Y;break;case">":pe=!0,V=c>Y;break;case">=":pe=!0,V=c>=Y;break;case"<":pe=!0,V=c<Y;break;case"<=":pe=!0,V=c<=Y;break;default:V=!1}return de&&(null!=c||!pe)&&(V=!V),V},"valCmp"),Lqe=o(function(c,q){switch(q){case"?":return!!c;case"!":return!c;case"^":return void 0===c}},"boolCmp"),Nqe=o(function(c){return void 0!==c},"existCmp"),Iqe=o(function(c,q){return c.data(q)},"data"),Mqe=o(function(c,q){return c[q]()},"meta"),Rqe=[],Dqe=o(function(c,q){return c.checks.every(function(c){return Rqe[c.type](c,q)})},"matches"),Rqe[fqe.GROUP]=function(c,q){var Y=c.value;return"*"===Y||Y===q.group()},Rqe[fqe.STATE]=function(c,q){var Y=c.value;return vqe(Y,q)},Rqe[fqe.ID]=function(c,q){var Y=c.value;return q.id()===Y},Rqe[fqe.CLASS]=function(c,q){var Y=c.value;return q.hasClass(Y)},Rqe[fqe.META_COMPARE]=function(c,q){var Y=c.field,V=c.operator,Z=c.value;return Aqe(Mqe(q,Y),V,Z)},Rqe[fqe.DATA_COMPARE]=function(c,q){var Y=c.field,V=c.operator,Z=c.value;return Aqe(Iqe(q,Y),V,Z)},Rqe[fqe.DATA_BOOL]=function(c,q){var Y=c.field,V=c.operator;return Lqe(Iqe(q,Y),V)},Rqe[fqe.DATA_EXIST]=function(c,q){var Y=c.field;return c.operator,Nqe(Iqe(q,Y))},Rqe[fqe.UNDIRECTED_EDGE]=function(c,q){var Y=c.nodes[0],V=c.nodes[1],Z=q.source(),re=q.target();return Dqe(Y,Z)&&Dqe(V,re)||Dqe(V,Z)&&Dqe(Y,re)},Rqe[fqe.NODE_NEIGHBOR]=function(c,q){return Dqe(c.node,q)&&q.neighborhood().some(function(q){return q.isNode()&&Dqe(c.neighbor,q)})},Rqe[fqe.DIRECTED_EDGE]=function(c,q){return Dqe(c.source,q.source())&&Dqe(c.target,q.target())},Rqe[fqe.NODE_SOURCE]=function(c,q){return Dqe(c.source,q)&&q.outgoers().some(function(q){return q.isNode()&&Dqe(c.target,q)})},Rqe[fqe.NODE_TARGET]=function(c,q){return Dqe(c.target,q)&&q.incomers().some(function(q){return q.isNode()&&Dqe(c.source,q)})},Rqe[fqe.CHILD]=function(c,q){return Dqe(c.child,q)&&Dqe(c.parent,q.parent())},Rqe[fqe.PARENT]=function(c,q){return Dqe(c.parent,q)&&q.children().some(function(q){return Dqe(c.child,q)})},Rqe[fqe.DESCENDANT]=function(c,q){return Dqe(c.descendant,q)&&q.ancestors().some(function(q){return Dqe(c.ancestor,q)})},Rqe[fqe.ANCESTOR]=function(c,q){return Dqe(c.ancestor,q)&&q.descendants().some(function(q){return Dqe(c.descendant,q)})},Rqe[fqe.COMPOUND_SPLIT]=function(c,q){return Dqe(c.subject,q)&&Dqe(c.left,q)&&Dqe(c.right,q)},Rqe[fqe.TRUE]=function(){return!0},Rqe[fqe.COLLECTION]=function(c,q){return c.value.has(q)},Rqe[fqe.FILTER]=function(c,q){return(0,c.value)(q)},Oqe=o(function(c){var q=this;if(1===q.length&&1===q[0].checks.length&&q[0].checks[0].type===fqe.ID)return c.getElementById(q[0].checks[0].value).collection();var Y=o(function(c){for(var Y=0;Y<q.length;Y++){var V=q[Y];if(Dqe(V,c))return!0}return!1},"selectorFunction");return null==q.text()&&(Y=o(function(){return!0},"selectorFunction")),c.filter(Y)},"filter"),Pqe=o(function(c){for(var q=0;q<this.length;q++){var Y=this[q];if(Dqe(Y,c))return!0}return!1},"matches"),Bqe={matches:Pqe,filter:Oqe},Fqe=o(function(c){this.inputText=c,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==c||pNe(c)&&c.match(/^\s*$/)||(wNe(c)?this.addQuery({checks:[{type:fqe.COLLECTION,value:c.collection()}]}):gNe(c)?this.addQuery({checks:[{type:fqe.FILTER,value:c}]}):pNe(c)?this.parse(c)||(this.invalid=!0):yDe("A selector must be created from a string; found "))},"Selector"),$qe=Fqe.prototype,[Sqe,Bqe].forEach(function(c){return eIe($qe,c)}),$qe.text=function(){return this.inputText},$qe.size=function(){return this.length},$qe.eq=function(c){return this[c]},$qe.sameText=function(c){return!this.invalid&&!c.invalid&&this.text()===c.text()},$qe.addQuery=function(c){this[this.length++]=c},$qe.selector=$qe.toString,(zqe={allAre:o(function(c){var q=new Fqe(c);return this.every(function(c){return q.matches(c)})},"allAre"),is:o(function(c){var q=new Fqe(c);return this.some(function(c){return q.matches(c)})},"is"),some:o(function(c,q){for(var Y=0;Y<this.length;Y++){if(q?c.apply(q,[this[Y],Y,this]):c(this[Y],Y,this))return!0}return!1},"some"),every:o(function(c,q){for(var Y=0;Y<this.length;Y++){if(!(q?c.apply(q,[this[Y],Y,this]):c(this[Y],Y,this)))return!1}return!0},"every"),same:o(function(c){if(this===c)return!0;c=this.cy().collection(c);var q=this.length;return q===c.length&&(1===q?this[0]===c[0]:this.every(function(q){return c.hasElementWithId(q.id())}))},"same"),anySame:o(function(c){return c=this.cy().collection(c),this.some(function(q){return c.hasElementWithId(q.id())})},"anySame"),allAreNeighbors:o(function(c){c=this.cy().collection(c);var q=this.neighborhood();return c.every(function(c){return q.hasElementWithId(c.id())})},"allAreNeighbors"),contains:o(function(c){c=this.cy().collection(c);var q=this;return c.every(function(c){return q.hasElementWithId(c.id())})},"contains")}).allAreNeighbours=zqe.allAreNeighbors,zqe.has=zqe.contains,zqe.equal=zqe.equals=zqe.same,Gqe=o(function(c,q){return o(function(Y,V,Z,re){var ae,se=Y,oe=this;if(null==se?ae="":wNe(se)&&1===se.length&&(ae=se.id()),1===oe.length&&ae){var he=oe[0]._private,de=he.traversalCache=he.traversalCache||{},pe=de[q]=de[q]||[],ge=PRe(ae);return pe[ge]||(pe[ge]=c.call(oe,Y,V,Z,re))}return c.call(oe,Y,V,Z,re)},"traversalCache")},"cache"),qqe={parent:o(function(c){var q=[];if(1===this.length){var Y=this[0]._private.parent;if(Y)return Y}for(var V=0;V<this.length;V++){var Z=this[V]._private.parent;Z&&q.push(Z)}return this.spawn(q,!0).filter(c)},"parent"),parents:o(function(c){for(var q=[],Y=this.parent();Y.nonempty();){for(var V=0;V<Y.length;V++){var Z=Y[V];q.push(Z)}Y=Y.parent()}return this.spawn(q,!0).filter(c)},"parents"),commonAncestors:o(function(c){for(var q,Y=0;Y<this.length;Y++){var V=this[Y].parents();q=(q=q||V).intersect(V)}return q.filter(c)},"commonAncestors"),orphans:o(function(c){return this.stdFilter(function(c){return c.isOrphan()}).filter(c)},"orphans"),nonorphans:o(function(c){return this.stdFilter(function(c){return c.isChild()}).filter(c)},"nonorphans"),children:Gqe(function(c){for(var q=[],Y=0;Y<this.length;Y++)for(var V=this[Y]._private.children,Z=0;Z<V.length;Z++)q.push(V[Z]);return this.spawn(q,!0).filter(c)},"children"),siblings:o(function(c){return this.parent().children().not(this).filter(c)},"siblings"),isParent:o(function(){var c=this[0];if(c)return c.isNode()&&0!==c._private.children.length},"isParent"),isChildless:o(function(){var c=this[0];if(c)return c.isNode()&&0===c._private.children.length},"isChildless"),isChild:o(function(){var c=this[0];if(c)return c.isNode()&&null!=c._private.parent},"isChild"),isOrphan:o(function(){var c=this[0];if(c)return c.isNode()&&null==c._private.parent},"isOrphan"),descendants:o(function(c){var q=[];function n(c){for(var Y=0;Y<c.length;Y++){var V=c[Y];q.push(V),V.children().nonempty()&&n(V.children())}}return o(n,"add"),n(this.children()),this.spawn(q,!0).filter(c)},"descendants")},o(pB,"forEachCompound"),o(Ige,"addChildren"),qqe.forEachDown=function(c){return pB(this,c,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ige)},o(Oge,"addParent"),qqe.forEachUp=function(c){return pB(this,c,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Oge)},o(uJe,"addParentAndChildren"),qqe.forEachUpAndDown=function(c){return pB(this,c,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],uJe)},qqe.ancestors=qqe.parents,(jqe=Yqe={data:hqe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:hqe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:hqe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:hqe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:hqe.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:hqe.removeData({field:"rscratch",triggerEvent:!1}),id:o(function(){var c=this[0];if(c)return c._private.data.id},"id")}).attr=jqe.data,jqe.removeAttr=jqe.removeData,Wqe=Yqe,Xqe={},o(DP,"defineDegreeFunction"),eIe(Xqe,{degree:DP(function(c,q){return q.source().same(q.target())?2:1}),indegree:DP(function(c,q){return q.target().same(c)?1:0}),outdegree:DP(function(c,q){return q.source().same(c)?1:0})}),o(Qg,"defineDegreeBoundsFunction"),eIe(Xqe,{minDegree:Qg("degree",function(c,q){return c<q}),maxDegree:Qg("degree",function(c,q){return c>q}),minIndegree:Qg("indegree",function(c,q){return c<q}),maxIndegree:Qg("indegree",function(c,q){return c>q}),minOutdegree:Qg("outdegree",function(c,q){return c<q}),maxOutdegree:Qg("outdegree",function(c,q){return c>q})}),eIe(Xqe,{totalDegree:o(function(c){for(var q=0,Y=this.nodes(),V=0;V<Y.length;V++)q+=Y[V].degree(c);return q},"totalDegree")}),Zqe=o(function(c,q,Y){for(var V=0;V<c.length;V++){var Z=c[V];if(!Z.locked()){var re=Z._private.position,ae={x:null!=q.x?q.x-re.x:0,y:null!=q.y?q.y-re.y:0};Z.isParent()&&!(0===ae.x&&0===ae.y)&&Z.children().shift(ae,Y),Z.dirtyBoundingBoxCache()}}},"beforePositionSet"),Jqe={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:o(function(c){c.updateCompoundBounds()},"beforeGet"),beforeSet:o(function(c,q){Zqe(c,q,!1)},"beforeSet"),onSet:o(function(c){c.dirtyCompoundBoundsCache()},"onSet"),canSet:o(function(c){return!c.locked()},"canSet")},(Kqe=Qqe={position:hqe.data(Jqe),silentPosition:hqe.data(eIe({},Jqe,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:o(function(c,q){Zqe(c,q,!0)},"beforeSet"),onSet:o(function(c){c.dirtyCompoundBoundsCache()},"onSet")})),positions:o(function(c,q){if(mNe(c))q?this.silentPosition(c):this.position(c);else if(gNe(c)){var Y=c,V=this.cy();V.startBatch();for(var Z=0;Z<this.length;Z++){var re,ae=this[Z];(re=Y(ae,Z))&&(q?ae.silentPosition(re):ae.position(re))}V.endBatch()}return this},"positions"),silentPositions:o(function(c){return this.positions(c,!0)},"silentPositions"),shift:o(function(c,q,Y){var V;if(mNe(c)?(V={x:vNe(c.x)?c.x:0,y:vNe(c.y)?c.y:0},Y=q):pNe(c)&&vNe(q)&&((V={x:0,y:0})[c]=q),null!=V){var Z=this.cy();Z.startBatch();for(var re=0;re<this.length;re++){var ae=this[re];if(!(Z.hasCompoundNodes()&&ae.isChild()&&ae.ancestors().anySame(this))){var se=ae.position(),oe={x:se.x+V.x,y:se.y+V.y};Y?ae.silentPosition(oe):ae.position(oe)}}Z.endBatch()}return this},"shift"),silentShift:o(function(c,q){return mNe(c)?this.shift(c,!0):pNe(c)&&vNe(q)&&this.shift(c,q,!0),this},"silentShift"),renderedPosition:o(function(c,q){var Y=this[0],V=this.cy(),Z=V.zoom(),re=V.pan(),ae=mNe(c)?c:void 0,se=void 0!==ae||void 0!==q&&pNe(c);if(Y&&Y.isNode()){if(!se){var oe=Y.position();return ae=FOe(oe,Z,re),void 0===c?ae:ae[c]}for(var he=0;he<this.length;he++){var de=this[he];void 0!==q?de.position(c,(q-re[c])/Z):void 0!==ae&&de.position(zOe(ae,Z,re))}}else if(!se)return;return this},"renderedPosition"),relativePosition:o(function(c,q){var Y=this[0],V=this.cy(),Z=mNe(c)?c:void 0,re=void 0!==Z||void 0!==q&&pNe(c),ae=V.hasCompoundNodes();if(Y&&Y.isNode()){if(!re){var se=Y.position(),oe=ae?Y.parent():null,he=oe&&oe.length>0,de=he;he&&(oe=oe[0]);var pe=de?oe.position():{x:0,y:0};return Z={x:se.x-pe.x,y:se.y-pe.y},void 0===c?Z:Z[c]}for(var ge=0;ge<this.length;ge++){var me=this[ge],ve=ae?me.parent():null,be=ve&&ve.length>0,we=be;be&&(ve=ve[0]);var Te=we?ve.position():{x:0,y:0};void 0!==q?me.position(c,q+Te[c]):void 0!==Z&&me.position({x:Z.x+Te.x,y:Z.y+Te.y})}}else if(!re)return;return this},"relativePosition")}).modelPosition=Kqe.point=Kqe.position,Kqe.modelPositions=Kqe.points=Kqe.positions,Kqe.renderedPoint=Kqe.renderedPosition,Kqe.relativePoint=Kqe.relativePosition,eje=Qqe,tje=rje={},rje.renderedBoundingBox=function(c){var q=this.boundingBox(c),Y=this.cy(),V=Y.zoom(),Z=Y.pan(),re=q.x1*V+Z.x,ae=q.x2*V+Z.x,se=q.y1*V+Z.y,oe=q.y2*V+Z.y;return{x1:re,x2:ae,y1:se,y2:oe,w:ae-re,h:oe-se}},rje.dirtyCompoundBoundsCache=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],q=this.cy();return q.styleEnabled()&&q.hasCompoundNodes()?(this.forEachUp(function(q){if(q.isParent()){var Y=q._private;Y.compoundBoundsClean=!1,Y.bbCache=null,c||q.emitAndNotify("bounds")}}),this):this},rje.updateCompoundBounds=function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],q=this.cy();if(!q.styleEnabled()||!q.hasCompoundNodes())return this;if(!c&&q.batching())return this;function r(c){if(c.isParent()){var q=c._private,Y=c.children(),V="include"===c.pstyle("compound-sizing-wrt-labels").value,Z={width:{val:c.pstyle("min-width").pfValue,left:c.pstyle("min-width-bias-left"),right:c.pstyle("min-width-bias-right")},height:{val:c.pstyle("min-height").pfValue,top:c.pstyle("min-height-bias-top"),bottom:c.pstyle("min-height-bias-bottom")}},re=Y.boundingBox({includeLabels:V,includeOverlays:!1,useCache:!1}),ae=q.position;(0===re.w||0===re.h)&&((re={w:c.pstyle("width").pfValue,h:c.pstyle("height").pfValue}).x1=ae.x-re.w/2,re.x2=ae.x+re.w/2,re.y1=ae.y-re.h/2,re.y2=ae.y+re.h/2),o(m,"computeBiasValues"),o(g,"computePaddingValues");var se=Z.width.left.value;"px"===Z.width.left.units&&Z.width.val>0&&(se=100*se/Z.width.val);var oe=Z.width.right.value;"px"===Z.width.right.units&&Z.width.val>0&&(oe=100*oe/Z.width.val);var he=Z.height.top.value;"px"===Z.height.top.units&&Z.height.val>0&&(he=100*he/Z.height.val);var de=Z.height.bottom.value;"px"===Z.height.bottom.units&&Z.height.val>0&&(de=100*de/Z.height.val);var pe=m(Z.width.val-re.w,se,oe),ge=pe.biasDiff,me=pe.biasComplementDiff,ve=m(Z.height.val-re.h,he,de),be=ve.biasDiff,we=ve.biasComplementDiff;q.autoPadding=g(re.w,re.h,c.pstyle("padding"),c.pstyle("padding-relative-to").value),q.autoWidth=Math.max(re.w,Z.width.val),ae.x=(-ge+re.x1+re.x2+me)/2,q.autoHeight=Math.max(re.h,Z.height.val),ae.y=(-be+re.y1+re.y2+we)/2}function m(c,q,Y){var V=0,Z=0,re=q+Y;return c>0&&re>0&&(V=q/re*c,Z=Y/re*c),{biasDiff:V,biasComplementDiff:Z}}function g(c,q,Y,V){if("%"!==Y.units)return"px"===Y.units?Y.pfValue:0;switch(V){case"width":return c>0?Y.pfValue*c:0;case"height":return q>0?Y.pfValue*q:0;case"average":return c>0&&q>0?Y.pfValue*(c+q)/2:0;case"min":return c>0&&q>0?c>q?Y.pfValue*q:Y.pfValue*c:0;case"max":return c>0&&q>0?c>q?Y.pfValue*c:Y.pfValue*q:0;default:return 0}}}o(r,"update");for(var Y=0;Y<this.length;Y++){var V=this[Y],Z=V._private;(!Z.compoundBoundsClean||c)&&(r(V),q.batching()||(Z.compoundBoundsClean=!0))}return this},nje=o(function(c){return c===1/0||c===-1/0?0:c},"noninf"),ije=o(function(c,q,Y,V,Z){V-q===0||Z-Y===0||null==q||null==Y||null==V||null==Z||(c.x1=q<c.x1?q:c.x1,c.x2=V>c.x2?V:c.x2,c.y1=Y<c.y1?Y:c.y1,c.y2=Z>c.y2?Z:c.y2,c.w=c.x2-c.x1,c.h=c.y2-c.y1)},"updateBounds"),aje=o(function(c,q){return null==q?c:ije(c,q.x1,q.y1,q.x2,q.y2)},"updateBoundsFromBox"),sje=o(function(c,q,Y){return RDe(c,q,Y)},"prefixedProperty"),oje=o(function(c,q,Y){if(!q.cy().headless()){var V,Z,re=q._private,ae=re.rstyle,se=ae.arrowWidth/2;if("none"!==q.pstyle(Y+"-arrow-shape").value){"source"===Y?(V=ae.srcX,Z=ae.srcY):"target"===Y?(V=ae.tgtX,Z=ae.tgtY):(V=ae.midX,Z=ae.midY);var oe=re.arrowBounds=re.arrowBounds||{},he=oe[Y]=oe[Y]||{};he.x1=V-se,he.y1=Z-se,he.x2=V+se,he.y2=Z+se,he.w=he.x2-he.x1,he.h=he.y2-he.y1,TPe(he,1),ije(c,he.x1,he.y1,he.x2,he.y2)}}},"updateBoundsFromArrow"),lje=o(function(c,q,Y){if(!q.cy().headless()){var V;V=Y?Y+"-":"";var Z=q._private,re=Z.rstyle;if(q.pstyle(V+"label").strValue){var ae,se,oe,he,de=q.pstyle("text-halign"),pe=q.pstyle("text-valign"),ge=sje(re,"labelWidth",Y),me=sje(re,"labelHeight",Y),ve=sje(re,"labelX",Y),be=sje(re,"labelY",Y),we=q.pstyle(V+"text-margin-x").pfValue,Te=q.pstyle(V+"text-margin-y").pfValue,_e=q.isEdge(),Ee=q.pstyle(V+"text-rotation"),Ce=q.pstyle("text-outline-width").pfValue,Se=q.pstyle("text-border-width").pfValue/2,Ae=q.pstyle("text-background-padding").pfValue,Le=me,Ne=ge,Ie=Ne/2,Me=Le/2;if(_e)ae=ve-Ie,se=ve+Ie,oe=be-Me,he=be+Me;else{switch(de.value){case"left":ae=ve-Ne,se=ve;break;case"center":ae=ve-Ie,se=ve+Ie;break;case"right":ae=ve,se=ve+Ne}switch(pe.value){case"top":oe=be-Le,he=be;break;case"center":oe=be-Me,he=be+Me;break;case"bottom":oe=be,he=be+Le}}ae+=we-Math.max(Ce,Se)-Ae-2,se+=we+Math.max(Ce,Se)+Ae+2,oe+=Te-Math.max(Ce,Se)-Ae-2,he+=Te+Math.max(Ce,Se)+Ae+2;var Re=Y||"main",Oe=Z.labelBounds,Be=Oe[Re]=Oe[Re]||{};Be.x1=ae,Be.y1=oe,Be.x2=se,Be.y2=he,Be.w=se-ae,Be.h=he-oe;var $e=_e&&"autorotate"===Ee.strValue,Ue=null!=Ee.pfValue&&0!==Ee.pfValue;if($e||Ue){var qe=$e?sje(Z.rstyle,"labelAngle",Y):Ee.pfValue,je=Math.cos(qe),We=Math.sin(qe),He=(ae+se)/2,Ve=(oe+he)/2;if(!_e){switch(de.value){case"left":He=se;break;case"right":He=ae}switch(pe.value){case"top":Ve=he;break;case"bottom":Ve=oe}}var Ke=o(function(c,q){return{x:(c-=He)*je-(q-=Ve)*We+He,y:c*We+q*je+Ve}},"rotate"),Qe=Ke(ae,oe),Ze=Ke(ae,he),Je=Ke(se,oe),et=Ke(se,he);ae=Math.min(Qe.x,Ze.x,Je.x,et.x),se=Math.max(Qe.x,Ze.x,Je.x,et.x),oe=Math.min(Qe.y,Ze.y,Je.y,et.y),he=Math.max(Qe.y,Ze.y,Je.y,et.y)}var tt=Re+"Rot",rt=Oe[tt]=Oe[tt]||{};rt.x1=ae,rt.y1=oe,rt.x2=se,rt.y2=he,rt.w=se-ae,rt.h=he-oe,ije(c,ae,oe,se,he),ije(Z.labelBounds.all,ae,oe,se,he)}return c}},"updateBoundsFromLabel"),cje=o(function(c,q){if(!q.cy().headless()){var Y=q.pstyle("outline-opacity").value,V=q.pstyle("outline-width").value;if(Y>0&&V>0){var Z=q.pstyle("outline-offset").value,re=q.pstyle("shape").value,ae=V+Z,se=(c.w+2*ae)/c.w,oe=(c.h+2*ae)/c.h,he=0;["diamond","pentagon","round-triangle"].includes(re)?(se=(c.w+2.4*ae)/c.w,he=-ae/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(re)?se=(c.w+2.4*ae)/c.w:"star"===re?(se=(c.w+2.8*ae)/c.w,oe=(c.h+2.6*ae)/c.h,he=-ae/3.8):"triangle"===re?(se=(c.w+2.8*ae)/c.w,oe=(c.h+2.4*ae)/c.h,he=-ae/1.4):"vee"===re&&(se=(c.w+4.4*ae)/c.w,oe=(c.h+3.8*ae)/c.h,he=.5*-ae);var de=c.h*oe-c.h,pe=c.w*se-c.w;if(EPe(c,[Math.ceil(de/2),Math.ceil(pe/2)]),0!==he){var ge=bPe(c,0,he);wPe(c,ge)}}}},"updateBoundsFromOutline"),hje=o(function(c,q){var Y,V,Z,re,ae,se,oe=c._private.cy,he=oe.styleEnabled(),de=oe.headless(),pe=yPe(),ge=c._private,me=c.isNode(),ve=c.isEdge(),be=ge.rstyle,we=me&&he?c.pstyle("bounds-expansion").pfValue:[0],Te=o(function(c){return"none"!==c.pstyle("display").value},"isDisplayed"),_e=!he||Te(c)&&(!ve||Te(c.source())&&Te(c.target()));if(_e){var Ee=0;he&&q.includeOverlays&&(0!==c.pstyle("overlay-opacity").value&&(Ee=c.pstyle("overlay-padding").value));var Ce=0;he&&q.includeUnderlays&&(0!==c.pstyle("underlay-opacity").value&&(Ce=c.pstyle("underlay-padding").value));var Se=Math.max(Ee,Ce),Ae=0;if(he&&(Ae=c.pstyle("width").pfValue/2),me&&q.includeNodes){var Le=c.position();ae=Le.x,se=Le.y;var Ne=c.outerWidth()/2,Ie=c.outerHeight()/2;ije(pe,Y=ae-Ne,Z=se-Ie,V=ae+Ne,re=se+Ie),he&&q.includeOutlines&&cje(pe,c)}else if(ve&&q.includeEdges)if(he&&!de){var Me=c.pstyle("curve-style").strValue;if(Y=Math.min(be.srcX,be.midX,be.tgtX),V=Math.max(be.srcX,be.midX,be.tgtX),Z=Math.min(be.srcY,be.midY,be.tgtY),re=Math.max(be.srcY,be.midY,be.tgtY),ije(pe,Y-=Ae,Z-=Ae,V+=Ae,re+=Ae),"haystack"===Me){var Re=be.haystackPts;if(Re&&2===Re.length){if(Y=Re[0].x,Z=Re[0].y,Y>(V=Re[1].x)){var Oe=Y;Y=V,V=Oe}if(Z>(re=Re[1].y)){var Be=Z;Z=re,re=Be}ije(pe,Y-Ae,Z-Ae,V+Ae,re+Ae)}}else if("bezier"===Me||"unbundled-bezier"===Me||Me.endsWith("segments")||Me.endsWith("taxi")){var $e;switch(Me){case"bezier":case"unbundled-bezier":$e=be.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$e=be.linePts}if(null!=$e)for(var Ue=0;Ue<$e.length;Ue++){var qe=$e[Ue];Y=qe.x-Ae,V=qe.x+Ae,Z=qe.y-Ae,re=qe.y+Ae,ije(pe,Y,Z,V,re)}}}else{var je=c.source().position(),We=c.target().position();if((Y=je.x)>(V=We.x)){var He=Y;Y=V,V=He}if((Z=je.y)>(re=We.y)){var Ve=Z;Z=re,re=Ve}ije(pe,Y-=Ae,Z-=Ae,V+=Ae,re+=Ae)}if(he&&q.includeEdges&&ve&&(oje(pe,c,"mid-source"),oje(pe,c,"mid-target"),oje(pe,c,"source"),oje(pe,c,"target")),he)if("yes"===c.pstyle("ghost").value){var Ke=c.pstyle("ghost-offset-x").pfValue,Qe=c.pstyle("ghost-offset-y").pfValue;ije(pe,pe.x1+Ke,pe.y1+Qe,pe.x2+Ke,pe.y2+Qe)}var Ze=ge.bodyBounds=ge.bodyBounds||{};CPe(Ze,pe),EPe(Ze,we),TPe(Ze,1),he&&(Y=pe.x1,V=pe.x2,Z=pe.y1,re=pe.y2,ije(pe,Y-Se,Z-Se,V+Se,re+Se));var Je=ge.overlayBounds=ge.overlayBounds||{};CPe(Je,pe),EPe(Je,we),TPe(Je,1);var et=ge.labelBounds=ge.labelBounds||{};null!=et.all?xPe(et.all):et.all=yPe(),he&&q.includeLabels&&(q.includeMainLabels&&lje(pe,c,null),ve&&(q.includeSourceLabels&&lje(pe,c,"source"),q.includeTargetLabels&&lje(pe,c,"target")))}return pe.x1=nje(pe.x1),pe.y1=nje(pe.y1),pe.x2=nje(pe.x2),pe.y2=nje(pe.y2),pe.w=nje(pe.x2-pe.x1),pe.h=nje(pe.y2-pe.y1),pe.w>0&&pe.h>0&&_e&&(EPe(pe,we),TPe(pe,1)),pe},"boundingBoxImpl"),uje=o(function(c){var q=0,Y=o(function(c){return(c?1:0)<<q++},"tf"),V=0;return V+=Y(c.incudeNodes),V+=Y(c.includeEdges),V+=Y(c.includeLabels),V+=Y(c.includeMainLabels),V+=Y(c.includeSourceLabels),V+=Y(c.includeTargetLabels),V+=Y(c.includeOverlays),V+=Y(c.includeOutlines)},"getKey"),dje=o(function(c){if(c.isEdge()){var q=c.source().position(),Y=c.target().position(),V=o(function(c){return Math.round(c)},"r");return MRe([V(q.x),V(q.y),V(Y.x),V(Y.y)])}return 0},"getBoundingBoxPosKey"),pje=o(function(c,q){var Y,V=c._private,Z=c.isEdge(),re=(null==q?fje:uje(q))===fje,ae=dje(c),se=V.bbCachePosKey===ae,oe=q.useCache&&se,he=o(function(c){return null==c._private.bbCache||c._private.styleDirty},"isDirty");if(!oe||he(c)||Z&&he(c.source())||he(c.target())?(se||c.recalculateRenderedStyle(oe),Y=hje(c,gje),V.bbCache=Y,V.bbCachePosKey=ae):Y=V.bbCache,!re){var de=c.isNode();Y=yPe(),(q.includeNodes&&de||q.includeEdges&&!de)&&(q.includeOverlays?aje(Y,V.overlayBounds):aje(Y,V.bodyBounds)),q.includeLabels&&(q.includeMainLabels&&(!Z||q.includeSourceLabels&&q.includeTargetLabels)?aje(Y,V.labelBounds.all):(q.includeMainLabels&&aje(Y,V.labelBounds.mainRot),q.includeSourceLabels&&aje(Y,V.labelBounds.sourceRot),q.includeTargetLabels&&aje(Y,V.labelBounds.targetRot))),Y.w=Y.x2-Y.x1,Y.h=Y.y2-Y.y1}return Y},"cachedBoundingBoxImpl"),fje=uje(gje={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0}),mje=SDe(gje),rje.boundingBox=function(c){var q;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==c&&void 0!==c.useCache&&!0!==c.useCache){q=yPe();var Y=mje(c=c||gje),V=this;if(V.cy().styleEnabled())for(var Z=0;Z<V.length;Z++){var re=V[Z],ae=re._private,se=dje(re),oe=ae.bbCachePosKey===se,he=Y.useCache&&oe&&!ae.styleDirty;re.recalculateRenderedStyle(he)}this.updateCompoundBounds(!c.useCache);for(var de=0;de<V.length;de++){var pe=V[de];aje(q,pje(pe,Y))}}else c=void 0===c?gje:mje(c),q=pje(this[0],c);return q.x1=nje(q.x1),q.y1=nje(q.y1),q.x2=nje(q.x2),q.y2=nje(q.y2),q.w=nje(q.x2-q.x1),q.h=nje(q.y2-q.y1),q},rje.dirtyBoundingBoxCache=function(){for(var c=0;c<this.length;c++){var q=this[c]._private;q.bbCache=null,q.bbCachePosKey=null,q.bodyBounds=null,q.overlayBounds=null,q.labelBounds.all=null,q.labelBounds.source=null,q.labelBounds.target=null,q.labelBounds.main=null,q.labelBounds.sourceRot=null,q.labelBounds.targetRot=null,q.labelBounds.mainRot=null,q.arrowBounds.source=null,q.arrowBounds.target=null,q.arrowBounds["mid-source"]=null,q.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},rje.boundingBoxAt=function(c){var q=this.nodes(),Y=this.cy(),V=Y.hasCompoundNodes(),Z=Y.collection();if(V&&(Z=q.filter(function(c){return c.isParent()}),q=q.not(Z)),mNe(c)){var re=c;c=o(function(){return re},"fn")}var ae=o(function(q,Y){return q._private.bbAtOldPos=c(q,Y)},"storeOldPos"),se=o(function(c){return c._private.bbAtOldPos},"getOldPos");Y.startBatch(),q.forEach(ae).silentPositions(c),V&&(Z.dirtyCompoundBoundsCache(),Z.dirtyBoundingBoxCache(),Z.updateCompoundBounds(!0));var oe=vPe(this.boundingBox({useCache:!1}));return q.silentPositions(se),V&&(Z.dirtyCompoundBoundsCache(),Z.dirtyBoundingBoxCache(),Z.updateCompoundBounds(!0)),Y.endBatch(),oe},tje.boundingbox=tje.bb=tje.boundingBox,tje.renderedBoundingbox=tje.renderedBoundingBox,yje=rje,vje=xje={},(bje=o(function(c){c.uppercaseName=jNe(c.name),c.autoName="auto"+c.uppercaseName,c.labelName="label"+c.uppercaseName,c.outerName="outer"+c.uppercaseName,c.uppercaseOuterName=jNe(c.outerName),vje[c.name]=o(function(){var q=this[0],Y=q._private,V=Y.cy._private.styleEnabled;if(q){if(V){if(q.isParent())return q.updateCompoundBounds(),Y[c.autoName]||0;var Z=q.pstyle(c.name);return"label"===Z.strValue?(q.recalculateRenderedStyle(),Y.rstyle[c.labelName]||0):Z.pfValue}return 1}},"dimImpl"),vje["outer"+c.uppercaseName]=o(function(){var q=this[0],Y=q._private.cy._private.styleEnabled;if(q)return Y?q[c.name]()+q.pstyle("border-width").pfValue+2*q.padding():1},"outerDimImpl"),vje["rendered"+c.uppercaseName]=o(function(){var q=this[0];if(q)return q[c.name]()*this.cy().zoom()},"renderedDimImpl"),vje["rendered"+c.uppercaseOuterName]=o(function(){var q=this[0];if(q)return q[c.outerName]()*this.cy().zoom()},"renderedOuterDimImpl")},"defineDimFns"))({name:"width"}),bje({name:"height"}),xje.padding=function(){var c=this[0],q=c._private;return c.isParent()?(c.updateCompoundBounds(),void 0!==q.autoPadding?q.autoPadding:c.pstyle("padding").pfValue):c.pstyle("padding").pfValue},xje.paddedHeight=function(){var c=this[0];return c.height()+2*c.padding()},xje.paddedWidth=function(){var c=this[0];return c.width()+2*c.padding()},wje=xje,kje=o(function(c,q){if(c.isEdge())return q(c)},"ifEdge"),Tje=o(function(c,q){if(c.isEdge()){var Y=c.cy();return FOe(q(c),Y.zoom(),Y.pan())}},"ifEdgeRenderedPosition"),_je=o(function(c,q){if(c.isEdge()){var Y=c.cy(),V=Y.pan(),Z=Y.zoom();return q(c).map(function(c){return FOe(c,Z,V)})}},"ifEdgeRenderedPositions"),Eje=o(function(c){return c.renderer().getControlPoints(c)},"controlPoints"),Cje=o(function(c){return c.renderer().getSegmentPoints(c)},"segmentPoints"),Sje=o(function(c){return c.renderer().getSourceEndpoint(c)},"sourceEndpoint"),Aje=o(function(c){return c.renderer().getTargetEndpoint(c)},"targetEndpoint"),Lje=o(function(c){return c.renderer().getEdgeMidpoint(c)},"midpoint"),Nje={controlPoints:{get:Eje,mult:!0},segmentPoints:{get:Cje,mult:!0},sourceEndpoint:{get:Sje},targetEndpoint:{get:Aje},midpoint:{get:Lje}},Ije=o(function(c){return"rendered"+c[0].toUpperCase()+c.substr(1)},"renderedName"),Mje=Object.keys(Nje).reduce(function(c,q){var Y=Nje[q],V=Ije(q);return c[q]=function(){return kje(this,Y.get)},Y.mult?c[V]=function(){return _je(this,Y.get)}:c[V]=function(){return Tje(this,Y.get)},c},{}),Rje=eIe({},eje,yje,wje,Mje),Dje=o(function(c,q){this.recycle(c,q)},"Event"),o(Rx,"returnFalse"),o(e6,"returnTrue"),Dje.prototype={instanceString:o(function(){return"event"},"instanceString"),recycle:o(function(c,q){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Rx,null!=c&&c.preventDefault?(this.type=c.type,this.isDefaultPrevented=c.defaultPrevented?e6:Rx):null!=c&&c.type?q=c:this.type=c,null!=q&&(this.originalEvent=q.originalEvent,this.type=null!=q.type?q.type:this.type,this.cy=q.cy,this.target=q.target,this.position=q.position,this.renderedPosition=q.renderedPosition,this.namespace=q.namespace,this.layout=q.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var Y=this.position,V=this.cy.zoom(),Z=this.cy.pan();this.renderedPosition={x:Y.x*V+Z.x,y:Y.y*V+Z.y}}this.timeStamp=c&&c.timeStamp||Date.now()},"recycle"),preventDefault:o(function(){this.isDefaultPrevented=e6;var c=this.originalEvent;c&&c.preventDefault&&c.preventDefault()},"preventDefault"),stopPropagation:o(function(){this.isPropagationStopped=e6;var c=this.originalEvent;c&&c.stopPropagation&&c.stopPropagation()},"stopPropagation"),stopImmediatePropagation:o(function(){this.isImmediatePropagationStopped=e6,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:Rx,isPropagationStopped:Rx,isImmediatePropagationStopped:Rx},Oje=/^([^.]+)(\.(?:[^.]+))?$/,Pje={qualifierCompare:o(function(c,q){return c===q},"qualifierCompare"),eventMatches:o(function(){return!0},"eventMatches"),addEventFields:o(function(){},"addEventFields"),callbackContext:o(function(c){return c},"callbackContext"),beforeEmit:o(function(){},"beforeEmit"),afterEmit:o(function(){},"afterEmit"),bubble:o(function(){return!1},"bubble"),parent:o(function(){return null},"parent"),context:null},Bje=Object.keys(Pje),Fje={},o(O6,"Emitter"),$je=O6.prototype,zje=o(function(c,q,Y,V,Z,re,ae){gNe(V)&&(Z=V,V=null),ae&&(re=null==re?ae:eIe({},re,ae));for(var se=fNe(Y)?Y:Y.split(/\s+/),oe=0;oe<se.length;oe++){var he=se[oe];if(!SNe(he)){var de=he.match(Oje);if(de)if(!1===q(c,he,de[1],de[2]?de[2]:null,V,Z,re))break}}},"forEachEvent"),Gje=o(function(c,q){return c.addEventFields(c.context,q),new Dje(q.type,q)},"makeEventObj"),Uje=o(function(c,q,Y){if(CNe(Y))q(c,Y);else if(mNe(Y))q(c,Gje(c,Y));else for(var V=fNe(Y)?Y:Y.split(/\s+/),Z=0;Z<V.length;Z++){var re=V[Z];if(!SNe(re)){var ae=re.match(Oje);if(ae){var se=ae[1],oe=ae[2]?ae[2]:null;q(c,Gje(c,{type:se,namespace:oe,target:c.context}))}}}},"forEachEventObj"),$je.on=$je.addListener=function(c,q,Y,V,Z){return zje(this,function(c,q,Y,V,Z,re,ae){gNe(re)&&c.listeners.push({event:q,callback:re,type:Y,namespace:V,qualifier:Z,conf:ae})},c,q,Y,V,Z),this},$je.one=function(c,q,Y,V){return this.on(c,q,Y,V,{one:!0})},$je.removeListener=$je.off=function(c,q,Y,V){var Z=this;0!==this.emitting&&(this.listeners=kDe(this.listeners));for(var re=this.listeners,ae=o(function(ae){var se=re[ae];zje(Z,function(q,Y,V,Z,oe,he){if((se.type===V||"*"===c)&&(!Z&&".*"!==se.namespace||se.namespace===Z)&&(!oe||q.qualifierCompare(se.qualifier,oe))&&(!he||se.callback===he))return re.splice(ae,1),!1},c,q,Y,V)},"_loop"),se=re.length-1;se>=0;se--)ae(se);return this},$je.removeAllListeners=function(){return this.removeListener("*")},$je.emit=$je.trigger=function(c,q,Y){var V=this.listeners,Z=V.length;return this.emitting++,fNe(q)||(q=[q]),Uje(this,function(c,re){null!=Y&&(V=[{event:re.event,type:re.type,namespace:re.namespace,callback:Y}],Z=V.length);for(var ae=o(function(Y){var Z=V[Y];if(Z.type===re.type&&(!Z.namespace||Z.namespace===re.namespace||".*"===Z.namespace)&&c.eventMatches(c.context,Z,re)){var ae=[re];null!=q&&MDe(ae,q),c.beforeEmit(c.context,Z,re),Z.conf&&Z.conf.one&&(c.listeners=c.listeners.filter(function(c){return c!==Z}));var se=c.callbackContext(c.context,Z,re),oe=Z.callback.apply(se,ae);c.afterEmit(c.context,Z,re),!1===oe&&(re.stopPropagation(),re.preventDefault())}},"_loop2"),se=0;se<Z;se++)ae(se);c.bubble(c.context)&&!re.isPropagationStopped()&&c.parent(c.context).emit(re,q)},c),this.emitting--,this},qje={qualifierCompare:o(function(c,q){return null==c||null==q?null==c&&null==q:c.sameText(q)},"qualifierCompare"),eventMatches:o(function(c,q,Y){var V=q.qualifier;return null==V||c!==Y.target&&kNe(Y.target)&&V.matches(Y.target)},"eventMatches"),addEventFields:o(function(c,q){q.cy=c.cy(),q.target=c},"addEventFields"),callbackContext:o(function(c,q,Y){return null!=q.qualifier?Y.target:c},"callbackContext"),beforeEmit:o(function(c,q){q.conf&&q.conf.once&&q.conf.onceCollection.removeListener(q.event,q.qualifier,q.callback)},"beforeEmit"),bubble:o(function(){return!0},"bubble"),parent:o(function(c){return c.isChild()?c.parent():c.cy()},"parent")},jje=o(function(c){return pNe(c)?new Fqe(c):c},"argSelector"),Yje={createEmitter:o(function(){for(var c=0;c<this.length;c++){var q=this[c],Y=q._private;Y.emitter||(Y.emitter=new O6(qje,q))}return this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(c,q,Y){for(var V=jje(q),Z=0;Z<this.length;Z++){this[Z].emitter().on(c,V,Y)}return this},"on"),removeListener:o(function(c,q,Y){for(var V=jje(q),Z=0;Z<this.length;Z++){this[Z].emitter().removeListener(c,V,Y)}return this},"removeListener"),removeAllListeners:o(function(){for(var c=0;c<this.length;c++){this[c].emitter().removeAllListeners()}return this},"removeAllListeners"),one:o(function(c,q,Y){for(var V=jje(q),Z=0;Z<this.length;Z++){this[Z].emitter().one(c,V,Y)}return this},"one"),once:o(function(c,q,Y){for(var V=jje(q),Z=0;Z<this.length;Z++){this[Z].emitter().on(c,V,Y,{once:!0,onceCollection:this})}},"once"),emit:o(function(c,q){for(var Y=0;Y<this.length;Y++){this[Y].emitter().emit(c,q)}return this},"emit"),emitAndNotify:o(function(c,q){if(0!==this.length)return this.cy().notify(c,this),this.emit(c,q),this},"emitAndNotify")},hqe.eventAliasesOn(Yje),Wje={nodes:o(function(c){return this.filter(function(c){return c.isNode()}).filter(c)},"nodes"),edges:o(function(c){return this.filter(function(c){return c.isEdge()}).filter(c)},"edges"),byGroup:o(function(){for(var c=this.spawn(),q=this.spawn(),Y=0;Y<this.length;Y++){var V=this[Y];V.isNode()?c.push(V):q.push(V)}return{nodes:c,edges:q}},"byGroup"),filter:o(function(c,q){if(void 0===c)return this;if(pNe(c)||wNe(c))return new Fqe(c).filter(this);if(gNe(c)){for(var Y=this.spawn(),V=this,Z=0;Z<V.length;Z++){var re=V[Z];(q?c.apply(q,[re,Z,V]):c(re,Z,V))&&Y.push(re)}return Y}return this.spawn()},"filter"),not:o(function(c){if(c){pNe(c)&&(c=this.filter(c));for(var q=this.spawn(),Y=0;Y<this.length;Y++){var V=this[Y];c.has(V)||q.push(V)}return q}return this},"not"),absoluteComplement:o(function(){return this.cy().mutableElements().not(this)},"absoluteComplement"),intersect:o(function(c){if(pNe(c)){var q=c;return this.filter(q)}for(var Y=this.spawn(),V=c,Z=this.length<c.length,re=Z?this:V,ae=Z?V:this,se=0;se<re.length;se++){var oe=re[se];ae.has(oe)&&Y.push(oe)}return Y},"intersect"),xor:o(function(c){var q=this._private.cy;pNe(c)&&(c=q.$(c));var Y=this.spawn(),V=c,Z=o(function(c,q){for(var V=0;V<c.length;V++){var Z=c[V],re=Z._private.data.id;q.hasElementWithId(re)||Y.push(Z)}},"add");return Z(this,V),Z(V,this),Y},"xor"),diff:o(function(c){var q=this._private.cy;pNe(c)&&(c=q.$(c));var Y=this.spawn(),V=this.spawn(),Z=this.spawn(),re=c,ae=o(function(c,q,Y){for(var V=0;V<c.length;V++){var re=c[V],ae=re._private.data.id;q.hasElementWithId(ae)?Z.merge(re):Y.push(re)}},"add");return ae(this,re,Y),ae(re,this,V),{left:Y,right:V,both:Z}},"diff"),add:o(function(c){var q=this._private.cy;if(!c)return this;if(pNe(c)){var Y=c;c=q.mutableElements().filter(Y)}for(var V=this.spawnSelf(),Z=0;Z<c.length;Z++){var re=c[Z];!this.has(re)&&V.push(re)}return V},"add"),merge:o(function(c){var q=this._private,Y=q.cy;if(!c)return this;if(c&&pNe(c)){var V=c;c=Y.mutableElements().filter(V)}for(var Z=q.map,re=0;re<c.length;re++){var ae=c[re],se=ae._private.data.id;if(!Z.has(se)){var oe=this.length++;this[oe]=ae,Z.set(se,{ele:ae,index:oe})}}return this},"merge"),unmergeAt:o(function(c){var q=this[c].id(),Y=this._private.map;this[c]=void 0,Y.delete(q);var V=c===this.length-1;if(this.length>1&&!V){var Z=this.length-1,re=this[Z],ae=re._private.data.id;this[Z]=void 0,this[c]=re,Y.set(ae,{ele:re,index:c})}return this.length--,this},"unmergeAt"),unmergeOne:o(function(c){c=c[0];var q=this._private,Y=c._private.data.id,V=q.map.get(Y);if(!V)return this;var Z=V.index;return this.unmergeAt(Z),this},"unmergeOne"),unmerge:o(function(c){var q=this._private.cy;if(!c)return this;if(c&&pNe(c)){var Y=c;c=q.mutableElements().filter(Y)}for(var V=0;V<c.length;V++)this.unmergeOne(c[V]);return this},"unmerge"),unmergeBy:o(function(c){for(var q=this.length-1;q>=0;q--){c(this[q])&&this.unmergeAt(q)}return this},"unmergeBy"),map:o(function(c,q){for(var Y=[],V=this,Z=0;Z<V.length;Z++){var re=V[Z],ae=q?c.apply(q,[re,Z,V]):c(re,Z,V);Y.push(ae)}return Y},"map"),reduce:o(function(c,q){for(var Y=q,V=this,Z=0;Z<V.length;Z++)Y=c(Y,V[Z],Z,V);return Y},"reduce"),max:o(function(c,q){for(var Y,V=-1/0,Z=this,re=0;re<Z.length;re++){var ae=Z[re],se=q?c.apply(q,[ae,re,Z]):c(ae,re,Z);se>V&&(V=se,Y=ae)}return{value:V,ele:Y}},"max"),min:o(function(c,q){for(var Y,V=1/0,Z=this,re=0;re<Z.length;re++){var ae=Z[re],se=q?c.apply(q,[ae,re,Z]):c(ae,re,Z);se<V&&(V=se,Y=ae)}return{value:V,ele:Y}},"min")},(Hje=Wje).u=Hje["|"]=Hje["+"]=Hje.union=Hje.or=Hje.add,Hje["\\"]=Hje["!"]=Hje["-"]=Hje.difference=Hje.relativeComplement=Hje.subtract=Hje.not,Hje.n=Hje["&"]=Hje["."]=Hje.and=Hje.intersection=Hje.intersect,Hje["^"]=Hje["(+)"]=Hje["(-)"]=Hje.symmetricDifference=Hje.symdiff=Hje.xor,Hje.fnFilter=Hje.filterFn=Hje.stdFilter=Hje.filter,Hje.complement=Hje.abscomp=Hje.absoluteComplement,Vje={isNode:o(function(){return"nodes"===this.group()},"isNode"),isEdge:o(function(){return"edges"===this.group()},"isEdge"),isLoop:o(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:o(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:o(function(){var c=this[0];if(c)return c._private.group},"group")},Xje=o(function(c,q){var Y=c.cy().hasCompoundNodes();function a(c){var q=c.pstyle("z-compound-depth");return"auto"===q.value?Y?c.zDepth():0:"bottom"===q.value?-1:"top"===q.value?oDe:0}o(a,"getDepth");var V=a(c)-a(q);if(0!==V)return V;function l(c){return"auto"===c.pstyle("z-index-compare").value&&c.isNode()?1:0}o(l,"getEleDepth");var Z=l(c)-l(q);if(0!==Z)return Z;var re=c.pstyle("z-index").value-q.pstyle("z-index").value;return 0!==re?re:c.poolIndex()-q.poolIndex()},"zIndexSort"),(Kje={forEach:o(function(c,q){if(gNe(c))for(var Y=this.length,V=0;V<Y;V++){var Z=this[V];if(!1===(q?c.apply(q,[Z,V,this]):c(Z,V,this)))break}return this},"forEach"),toArray:o(function(){for(var c=[],q=0;q<this.length;q++)c.push(this[q]);return c},"toArray"),slice:o(function(c,q){var Y=[],V=this.length;null==q&&(q=V),null==c&&(c=0),c<0&&(c=V+c),q<0&&(q=V+q);for(var Z=c;Z>=0&&Z<q&&Z<V;Z++)Y.push(this[Z]);return this.spawn(Y)},"slice"),size:o(function(){return this.length},"size"),eq:o(function(c){return this[c]||this.spawn()},"eq"),first:o(function(){return this[0]||this.spawn()},"first"),last:o(function(){return this[this.length-1]||this.spawn()},"last"),empty:o(function(){return 0===this.length},"empty"),nonempty:o(function(){return!this.empty()},"nonempty"),sort:o(function(c){if(!gNe(c))return this;var q=this.toArray().sort(c);return this.spawn(q)},"sort"),sortByZIndex:o(function(){return this.sort(Xje)},"sortByZIndex"),zDepth:o(function(){var c=this[0];if(c){var q=c._private;if("nodes"===q.group){var Y=q.data.parent?c.parents().size():0;return c.isParent()?Y:oDe-1}var V=q.source,Z=q.target,re=V.zDepth(),ae=Z.zDepth();return Math.max(re,ae,0)}},"zDepth")}).each=Kje.forEach,o(function(){var c="undefined";(typeof Symbol>"u"?"undefined":Yi(Symbol))!=c&&Yi(Symbol.iterator)!=c&&(Kje[Symbol.iterator]=function(){var c=this,q={value:void 0,done:!1},Y=0,V=this.length;return Hme({next:o(function(){return Y<V?q.value=c[Y++]:(q.value=void 0,q.done=!0),q},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator")(),Qje=SDe({nodeDimensionsIncludeLabels:!1}),(Zje={layoutDimensions:o(function(c){var q;if(c=Qje(c),this.takesUpSpace())if(c.nodeDimensionsIncludeLabels){var Y=this.boundingBox();q={w:Y.w,h:Y.h}}else q={w:this.outerWidth(),h:this.outerHeight()};else q={w:0,h:0};return(0===q.w||0===q.h)&&(q.w=q.h=1),q},"layoutDimensions"),layoutPositions:o(function(c,q,Y){var V=this.nodes().filter(function(c){return!c.isParent()}),Z=this.cy(),re=q.eles,ae=o(function(c){return c.id()},"getMemoizeKey"),se=DNe(Y,ae);c.emit({type:"layoutstart",layout:c}),c.animations=[];var oe=o(function(c,q,Y){var V=q.x1+q.w/2,Z=q.y1+q.h/2;return{x:V+(Y.x-V)*c,y:Z+(Y.y-Z)*c}},"calculateSpacing"),he=q.spacingFactor&&1!==q.spacingFactor,de=o(function(){if(!he)return null;for(var c=yPe(),q=0;q<V.length;q++){var Y=V[q],Z=se(Y,q);kPe(c,Z.x,Z.y)}return c},"spacingBb")(),pe=DNe(function(c,Y){var V=se(c,Y);if(he){var Z=Math.abs(q.spacingFactor);V=oe(Z,de,V)}return null!=q.transform&&(V=q.transform(c,V)),V},ae);if(q.animate){for(var ge=0;ge<V.length;ge++){var me=V[ge],ve=pe(me,ge);if(null==q.animateFilter||q.animateFilter(me,ge)){var be=me.animation({position:ve,duration:q.animationDuration,easing:q.animationEasing});c.animations.push(be)}else me.position(ve)}if(q.fit){var we=Z.animation({fit:{boundingBox:re.boundingBoxAt(pe),padding:q.padding},duration:q.animationDuration,easing:q.animationEasing});c.animations.push(we)}else if(void 0!==q.zoom&&void 0!==q.pan){var Te=Z.animation({zoom:q.zoom,pan:q.pan,duration:q.animationDuration,easing:q.animationEasing});c.animations.push(Te)}c.animations.forEach(function(c){return c.play()}),c.one("layoutready",q.ready),c.emit({type:"layoutready",layout:c}),cGe.all(c.animations.map(function(c){return c.promise()})).then(function(){c.one("layoutstop",q.stop),c.emit({type:"layoutstop",layout:c})})}else V.positions(pe),q.fit&&Z.fit(q.eles,q.padding),null!=q.zoom&&Z.zoom(q.zoom),q.pan&&Z.pan(q.pan),c.one("layoutready",q.ready),c.emit({type:"layoutready",layout:c}),c.one("layoutstop",q.stop),c.emit({type:"layoutstop",layout:c});return this},"layoutPositions"),layout:o(function(c){return this.cy().makeLayout(eIe({},c,{eles:this}))},"layout")}).createLayout=Zje.makeLayout=Zje.layout,o(jge,"styleCache"),o(P6,"cacheStyleFunction"),o(B6,"cachePrototypeStyleFunction"),Jje={recalculateRenderedStyle:o(function(c){var q=this.cy(),Y=q.renderer(),V=q.styleEnabled();return Y&&V&&Y.recalculateRenderedStyle(this,c),this},"recalculateRenderedStyle"),dirtyStyleCache:o(function(){var c,q=this.cy(),Y=o(function(c){return c._private.styleCache=null},"dirty");q.hasCompoundNodes()?((c=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(c.connectedEdges()),c.forEach(Y)):this.forEach(function(c){Y(c),c.connectedEdges().forEach(Y)});return this},"dirtyStyleCache"),updateStyle:o(function(c){var q=this._private.cy;if(!q.styleEnabled())return this;if(q.batching())return q._private.batchStyleEles.merge(this),this;var Y=this;c=!(!c&&void 0!==c),q.hasCompoundNodes()&&(Y=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var V=Y;return c?V.emitAndNotify("style"):V.emit("style"),Y.forEach(function(c){return c._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:o(function(){var c=this.cy();if(c.styleEnabled())for(var q=0;q<this.length;q++){var Y=this[q];Y._private.styleDirty&&(Y._private.styleDirty=!1,c.style().apply(Y))}},"cleanStyle"),parsedStyle:o(function(c){var q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Y=this[0],V=Y.cy();if(V.styleEnabled()&&Y)return this.cleanStyle(),Y._private.style[c]??(q?V.style().getDefaultProperty(c):null)},"parsedStyle"),numericStyle:o(function(c){var q=this[0];if(q.cy().styleEnabled()&&q){var Y=q.pstyle(c);return void 0!==Y.pfValue?Y.pfValue:Y.value}},"numericStyle"),numericStyleUnits:o(function(c){var q=this[0];if(q.cy().styleEnabled()&&q)return q.pstyle(c).units},"numericStyleUnits"),renderedStyle:o(function(c){var q=this.cy();if(!q.styleEnabled())return this;var Y=this[0];return Y?q.style().getRenderedStyle(Y,c):void 0},"renderedStyle"),style:o(function(c,q){var Y=this.cy();if(!Y.styleEnabled())return this;var V=!1,Z=Y.style();if(mNe(c)){var re=c;Z.applyBypass(this,re,V),this.emitAndNotify("style")}else if(pNe(c)){if(void 0===q){var ae=this[0];return ae?Z.getStylePropertyValue(ae,c):void 0}Z.applyBypass(this,c,q,V),this.emitAndNotify("style")}else if(void 0===c){var se=this[0];return se?Z.getRawStyle(se):void 0}return this},"style"),removeStyle:o(function(c){var q=this.cy();if(!q.styleEnabled())return this;var Y=!1,V=q.style(),Z=this;if(void 0===c)for(var re=0;re<Z.length;re++){var ae=Z[re];V.removeAllBypasses(ae,Y)}else{c=c.split(/\s+/);for(var se=0;se<Z.length;se++){var oe=Z[se];V.removeBypasses(oe,c,Y)}}return this.emitAndNotify("style"),this},"removeStyle"),show:o(function(){return this.css("display","element"),this},"show"),hide:o(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:o(function(){var c=this.cy();if(!c.styleEnabled())return 1;var q=c.hasCompoundNodes(),Y=this[0];if(Y){var V=Y._private,Z=Y.pstyle("opacity").value;if(!q)return Z;var re=V.data.parent?Y.parents():null;if(re)for(var ae=0;ae<re.length;ae++){Z*=re[ae].pstyle("opacity").value}return Z}},"effectiveOpacity"),transparent:o(function(){if(!this.cy().styleEnabled())return!1;var c=this[0],q=c.cy().hasCompoundNodes();return c?q?0===c.effectiveOpacity():0===c.pstyle("opacity").value:void 0},"transparent"),backgrounding:o(function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding},"backgrounding")},o(RP,"checkCompound"),o(mB,"defineDerivedStateFunction"),nYe=P6("eleTakesUpSpace",function(c){return"element"===c.pstyle("display").value&&0!==c.width()&&(!c.isNode()||0!==c.height())}),Jje.takesUpSpace=B6("takesUpSpace",mB({ok:nYe})),iYe=P6("eleInteractive",function(c){return"yes"===c.pstyle("events").value&&"visible"===c.pstyle("visibility").value&&nYe(c)}),aYe=P6("parentInteractive",function(c){return"visible"===c.pstyle("visibility").value&&nYe(c)}),Jje.interactive=B6("interactive",mB({ok:iYe,parentOk:aYe,edgeOkViaNode:nYe})),Jje.noninteractive=function(){var c=this[0];if(c)return!c.interactive()},sYe=P6("eleVisible",function(c){return"visible"===c.pstyle("visibility").value&&0!==c.pstyle("opacity").pfValue&&nYe(c)}),oYe=nYe,Jje.visible=B6("visible",mB({ok:sYe,edgeOkViaNode:oYe})),Jje.hidden=function(){var c=this[0];if(c)return!c.visible()},Jje.isBundledBezier=B6("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),Jje.bypass=Jje.css=Jje.style,Jje.renderedCss=Jje.renderedStyle,Jje.removeBypass=Jje.removeCss=Jje.removeStyle,Jje.pstyle=Jje.parsedStyle,lYe={},o(pme,"defineSwitchFunction"),o(v1,"defineSwitchSet"),v1({field:"locked",overrideField:o(function(c){return!!c.cy().autolock()||void 0},"overrideField"),on:"lock",off:"unlock"}),v1({field:"grabbable",overrideField:o(function(c){return!c.cy().autoungrabify()&&!c.pannable()&&void 0},"overrideField"),on:"grabify",off:"ungrabify"}),v1({field:"selected",ableField:"selectable",overrideAble:o(function(c){return!c.cy().autounselectify()&&void 0},"overrideAble"),on:"select",off:"unselect"}),v1({field:"selectable",overrideField:o(function(c){return!c.cy().autounselectify()&&void 0},"overrideField"),on:"selectify",off:"unselectify"}),lYe.deselect=lYe.unselect,lYe.grabbed=function(){var c=this[0];if(c)return c._private.grabbed},v1({field:"active",on:"activate",off:"unactivate"}),v1({field:"pannable",on:"panify",off:"unpanify"}),lYe.inactive=function(){var c=this[0];if(c)return!c._private.active},cYe={},hYe=o(function(c){return o(function(q){for(var Y=[],V=0;V<this.length;V++){var Z=this[V];if(Z.isNode()){for(var re=!1,ae=Z.connectedEdges(),se=0;se<ae.length;se++){var oe=ae[se],he=oe.source(),de=oe.target();if(c.noIncomingEdges&&de===Z&&he!==Z||c.noOutgoingEdges&&he===Z&&de!==Z){re=!0;break}}re||Y.push(Z)}}return this.spawn(Y,!0).filter(q)},"dagExtremityImpl")},"defineDagExtremity"),uYe=o(function(c){return function(q){for(var Y=[],V=0;V<this.length;V++){var Z=this[V];if(Z.isNode())for(var re=Z.connectedEdges(),ae=0;ae<re.length;ae++){var se=re[ae],oe=se.source(),he=se.target();c.outgoing&&oe===Z?(Y.push(se),Y.push(he)):c.incoming&&he===Z&&(Y.push(se),Y.push(oe))}}return this.spawn(Y,!0).filter(q)}},"defineDagOneHop"),dYe=o(function(c){return function(q){for(var Y=this,V=[],Z={};;){var re=c.outgoing?Y.outgoers():Y.incomers();if(0===re.length)break;for(var ae=!1,se=0;se<re.length;se++){var oe=re[se],he=oe.id();Z[he]||(Z[he]=!0,V.push(oe),ae=!0)}if(!ae)break;Y=re}return this.spawn(V,!0).filter(q)}},"defineDagAllHops"),cYe.clearTraversalCache=function(){for(var c=0;c<this.length;c++)this[c]._private.traversalCache=null},eIe(cYe,{roots:hYe({noIncomingEdges:!0}),leaves:hYe({noOutgoingEdges:!0}),outgoers:Gqe(uYe({outgoing:!0}),"outgoers"),successors:dYe({outgoing:!0}),incomers:Gqe(uYe({incoming:!0}),"incomers"),predecessors:dYe({incoming:!0})}),eIe(cYe,{neighborhood:Gqe(function(c){for(var q=[],Y=this.nodes(),V=0;V<Y.length;V++)for(var Z=Y[V],re=Z.connectedEdges(),ae=0;ae<re.length;ae++){var se=re[ae],oe=se.source(),he=se.target(),de=Z===oe?he:oe;de.length>0&&q.push(de[0]),q.push(se[0])}return this.spawn(q,!0).filter(c)},"neighborhood"),closedNeighborhood:o(function(c){return this.neighborhood().add(this).filter(c)},"closedNeighborhood"),openNeighborhood:o(function(c){return this.neighborhood(c)},"openNeighborhood")}),cYe.neighbourhood=cYe.neighborhood,cYe.closedNeighbourhood=cYe.closedNeighborhood,cYe.openNeighbourhood=cYe.openNeighborhood,eIe(cYe,{source:Gqe(o(function(c){var q,Y=this[0];return Y&&(q=Y._private.source||Y.cy().collection()),q&&c?q.filter(c):q},"sourceImpl"),"source"),target:Gqe(o(function(c){var q,Y=this[0];return Y&&(q=Y._private.target||Y.cy().collection()),q&&c?q.filter(c):q},"targetImpl"),"target"),sources:vme({attr:"source"}),targets:vme({attr:"target"})}),o(vme,"defineSourceFunction"),eIe(cYe,{edgesWith:Gqe(xme(),"edgesWith"),edgesTo:Gqe(xme({thisIsSrc:!0}),"edgesTo")}),o(xme,"defineEdgesWithFunction"),eIe(cYe,{connectedEdges:Gqe(function(c){for(var q=[],Y=0;Y<this.length;Y++){var V=this[Y];if(V.isNode())for(var Z=V._private.edges,re=0;re<Z.length;re++){var ae=Z[re];q.push(ae)}}return this.spawn(q,!0).filter(c)},"connectedEdges"),connectedNodes:Gqe(function(c){for(var q=[],Y=0;Y<this.length;Y++){var V=this[Y];V.isEdge()&&(q.push(V.source()[0]),q.push(V.target()[0]))}return this.spawn(q,!0).filter(c)},"connectedNodes"),parallelEdges:Gqe(bme(),"parallelEdges"),codirectedEdges:Gqe(bme({codirected:!0}),"codirectedEdges")}),o(bme,"defineParallelEdgesFunction"),eIe(cYe,{components:o(function(c){var q=this,Y=q.cy(),V=Y.collection(),Z=null==c?q.nodes():c.nodes(),re=[];null!=c&&Z.empty()&&(Z=c.sources());var ae=o(function(c,q){V.merge(c),Z.unmerge(c),q.merge(c)},"visitInComponent");if(Z.empty())return q.spawn();var se=o(function(){var c=Y.collection();re.push(c);var V=Z[0];ae(V,c),q.bfs({directed:!1,roots:V,visit:o(function(q){return ae(q,c)},"visit")}),c.forEach(function(Y){Y.connectedEdges().forEach(function(Y){q.has(Y)&&c.has(Y.source())&&c.has(Y.target())&&c.merge(Y)})})},"_loop");do{se()}while(Z.length>0);return re},"components"),component:o(function(){var c=this[0];return c.cy().mutableElements().components(c)[0]},"component")}),cYe.componentsOf=cYe.components,pYe=o(function(c,q){var Y=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==c){var Z=new BDe,re=!1;if(q){if(q.length>0&&mNe(q[0])&&!kNe(q[0])){re=!0;for(var ae=[],se=new $De,oe=0,he=q.length;oe<he;oe++){var de=q[oe];null==de.data&&(de.data={});var pe=de.data;if(null==pe.id)pe.id=TDe();else if(c.hasElementWithId(pe.id)||se.has(pe.id))continue;var ge=new zDe(c,de,!1);ae.push(ge),se.add(pe.id)}q=ae}}else q=[];this.length=0;for(var me=0,ve=q.length;me<ve;me++){var be=q[me][0];if(null!=be){var we=be._private.data.id;(!Y||!Z.has(we))&&(Y&&Z.set(we,{index:this.length,ele:be}),this[this.length]=be,this.length++)}}this._private={eles:this,cy:c,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(c){this.lazyMap=c},rebuildMap:o(function(){for(var c=this.lazyMap=new BDe,q=this.eles,Y=0;Y<q.length;Y++){var V=q[Y];c.set(V.id(),{index:Y,ele:V})}},"rebuildMap")},Y&&(this._private.map=Z),re&&!V&&this.restore()}else yDe("A collection must have a reference to the core")},"Collection"),(gYe=zDe.prototype=pYe.prototype=Object.create(Array.prototype)).instanceString=function(){return"collection"},gYe.spawn=function(c,q){return new pYe(this.cy(),c,q)},gYe.spawnSelf=function(){return this.spawn(this)},gYe.cy=function(){return this._private.cy},gYe.renderer=function(){return this._private.cy.renderer()},gYe.element=function(){return this[0]},gYe.collection=function(){return TNe(this)?this:new pYe(this._private.cy,[this])},gYe.unique=function(){return new pYe(this._private.cy,this,!0)},gYe.hasElementWithId=function(c){return c=""+c,this._private.map.has(c)},gYe.getElementById=function(c){c=""+c;var q=this._private.cy,Y=this._private.map.get(c);return Y?Y.ele:new pYe(q)},gYe.$id=gYe.getElementById,gYe.poolIndex=function(){var c=this._private.cy._private.elements,q=this[0]._private.data.id;return c._private.map.get(q).index},gYe.indexOf=function(c){var q=c[0]._private.data.id;return this._private.map.get(q).index},gYe.indexOfId=function(c){return c=""+c,this._private.map.get(c).index},gYe.json=function(c){var q=this.element(),Y=this.cy();if(null==q&&c)return this;if(null!=q){var V=q._private;if(mNe(c)){if(Y.startBatch(),c.data){q.data(c.data);var Z=V.data;if(q.isEdge()){var re=!1,ae={},se=c.data.source,oe=c.data.target;null!=se&&se!=Z.source&&(ae.source=""+se,re=!0),null!=oe&&oe!=Z.target&&(ae.target=""+oe,re=!0),re&&(q=q.move(ae))}else{var he="parent"in c.data,de=c.data.parent;he&&(null!=de||null!=Z.parent)&&de!=Z.parent&&(void 0===de&&(de=null),null!=de&&(de=""+de),q=q.move({parent:de}))}}c.position&&q.position(c.position);var pe=o(function(Y,Z,re){var ae=c[Y];null!=ae&&ae!==V[Y]&&(ae?q[Z]():q[re]())},"checkSwitch");return pe("removed","remove","restore"),pe("selected","select","unselect"),pe("selectable","selectify","unselectify"),pe("locked","lock","unlock"),pe("grabbable","grabify","ungrabify"),pe("pannable","panify","unpanify"),null!=c.classes&&q.classes(c.classes),Y.endBatch(),this}if(void 0===c){var ge={data:wDe(V.data),position:wDe(V.position),group:V.group,removed:V.removed,selected:V.selected,selectable:V.selectable,locked:V.locked,grabbable:V.grabbable,pannable:V.pannable,classes:null};ge.classes="";var me=0;return V.classes.forEach(function(c){return ge.classes+=0===me++?c:" "+c}),ge}}},gYe.jsons=function(){for(var c=[],q=0;q<this.length;q++){var Y=this[q].json();c.push(Y)}return c},gYe.clone=function(){for(var c=this.cy(),q=[],Y=0;Y<this.length;Y++){var V=this[Y].json(),Z=new zDe(c,V,!1);q.push(Z)}return new pYe(c,q)},gYe.copy=gYe.clone,gYe.restore=function(){for(var c,q=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],V=this,Z=V.cy(),re=Z._private,ae=[],se=[],oe=0,he=V.length;oe<he;oe++){var de=V[oe];Y&&!de.removed()||(de.isNode()?ae.push(de):se.push(de))}c=ae.concat(se);var pe,ge=o(function(){c.splice(pe,1),pe--},"removeFromElements");for(pe=0;pe<c.length;pe++){var me=c[pe],ve=me._private,be=ve.data;if(me.clearTraversalCache(),Y||ve.removed)if(void 0===be.id)be.id=TDe();else if(vNe(be.id))be.id=""+be.id;else{if(SNe(be.id)||!pNe(be.id)){yDe("Can not create element with invalid string ID `"+be.id+"`"),ge();continue}if(Z.hasElementWithId(be.id)){yDe("Can not create second element with ID `"+be.id+"`"),ge();continue}}var we=be.id;if(me.isNode()){var Te=ve.position;null==Te.x&&(Te.x=0),null==Te.y&&(Te.y=0)}if(me.isEdge()){for(var _e=me,Ee=["source","target"],Ce=Ee.length,Se=!1,Ae=0;Ae<Ce;Ae++){var Le=Ee[Ae],Ne=be[Le];vNe(Ne)&&(Ne=be[Le]=""+be[Le]),null==Ne||""===Ne?(yDe("Can not create edge `"+we+"` with unspecified "+Le),Se=!0):Z.hasElementWithId(Ne)||(yDe("Can not create edge `"+we+"` with nonexistant "+Le+" `"+Ne+"`"),Se=!0)}if(Se){ge();continue}var Ie=Z.getElementById(be.source),Me=Z.getElementById(be.target);Ie.same(Me)?Ie._private.edges.push(_e):(Ie._private.edges.push(_e),Me._private.edges.push(_e)),_e._private.source=Ie,_e._private.target=Me}ve.map=new BDe,ve.map.set(we,{ele:me,index:0}),ve.removed=!1,Y&&Z.addToPool(me)}for(var Re=0;Re<ae.length;Re++){var Oe=ae[Re],Be=Oe._private.data;vNe(Be.parent)&&(Be.parent=""+Be.parent);var $e=Be.parent;if(null!=$e||Oe._private.parent){var Ue=Oe._private.parent?Z.collection().merge(Oe._private.parent):Z.getElementById($e);if(Ue.empty())Be.parent=void 0;else if(Ue[0].removed())xDe("Node added with missing parent, reference to parent removed"),Be.parent=void 0,Oe._private.parent=null;else{for(var qe=!1,je=Ue;!je.empty();){if(Oe.same(je)){qe=!0,Be.parent=void 0;break}je=je.parent()}qe||(Ue[0]._private.children.push(Oe),Oe._private.parent=Ue[0],re.hasCompoundNodes=!0)}}}if(c.length>0){for(var We=c.length===V.length?V:new pYe(Z,c),He=0;He<We.length;He++){var Ve=We[He];Ve.isNode()||(Ve.parallelEdges().clearTraversalCache(),Ve.source().clearTraversalCache(),Ve.target().clearTraversalCache())}(re.hasCompoundNodes?Z.collection().merge(We).merge(We.connectedNodes()).merge(We.parent()):We).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(q),q?We.emitAndNotify("add"):Y&&We.emit("add")}return V},gYe.removed=function(){var c=this[0];return c&&c._private.removed},gYe.inside=function(){var c=this[0];return c&&!c._private.removed},gYe.remove=function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Y=this,V=[],Z={},re=Y._private.cy;function s(c){for(var q=c._private.edges,Y=0;Y<q.length;Y++)u(q[Y])}function l(c){for(var q=c._private.children,Y=0;Y<q.length;Y++)u(q[Y])}function u(c){var Y=Z[c.id()];q&&c.removed()||Y||(Z[c.id()]=!0,c.isNode()?(V.push(c),s(c),l(c)):V.unshift(c))}o(s,"addConnectedEdges"),o(l,"addChildren"),o(u,"add");for(var ae=0,se=Y.length;ae<se;ae++){u(Y[ae])}function p(c,q){var Y=c._private.edges;LDe(Y,q),c.clearTraversalCache()}function m(c){c.clearTraversalCache()}o(p,"removeEdgeRef"),o(m,"removeParallelRef");var oe=[];function y(c,q){q=q[0];var Y=(c=c[0])._private.children,V=c.id();LDe(Y,q),q._private.parent=null,oe.ids[V]||(oe.ids[V]=!0,oe.push(c))}oe.ids={},o(y,"removeChildRef"),Y.dirtyCompoundBoundsCache(),q&&re.removeFromPool(V);for(var he=0;he<V.length;he++){var de=V[he];if(de.isEdge()){var pe=de.source()[0],ge=de.target()[0];p(pe,de),p(ge,de);for(var me=de.parallelEdges(),ve=0;ve<me.length;ve++){var be=me[ve];m(be),be.isBundledBezier()&&be.dirtyBoundingBoxCache()}}else{var we=de.parent();0!==we.length&&y(we,de)}q&&(de._private.removed=!0)}var Te=re._private.elements;re._private.hasCompoundNodes=!1;for(var _e=0;_e<Te.length;_e++){if(Te[_e].isParent()){re._private.hasCompoundNodes=!0;break}}var Ee=new pYe(this.cy(),V);Ee.size()>0&&(c?Ee.emitAndNotify("remove"):q&&Ee.emit("remove"));for(var Ce=0;Ce<oe.length;Ce++){var Se=oe[Ce];(!q||!Se.removed())&&Se.updateStyle()}return Ee},gYe.move=function(c){var q=this._private.cy,Y=this,V=!1,Z=!1,re=o(function(c){return null==c?c:""+c},"toString");if(void 0!==c.source||void 0!==c.target){var ae=re(c.source),se=re(c.target),oe=null!=ae&&q.hasElementWithId(ae),he=null!=se&&q.hasElementWithId(se);(oe||he)&&(q.batch(function(){Y.remove(V,Z),Y.emitAndNotify("moveout");for(var c=0;c<Y.length;c++){var q=Y[c],re=q._private.data;q.isEdge()&&(oe&&(re.source=ae),he&&(re.target=se))}Y.restore(V,Z)}),Y.emitAndNotify("move"))}else if(void 0!==c.parent){var de=re(c.parent);if(null===de||q.hasElementWithId(de)){var pe=null===de?void 0:de;q.batch(function(){var c=Y.remove(V,Z);c.emitAndNotify("moveout");for(var q=0;q<Y.length;q++){var re=Y[q],ae=re._private.data;re.isNode()&&(ae.parent=pe)}c.restore(V,Z)}),Y.emitAndNotify("move")}}return this},[rGe,uqe,dqe,zqe,qqe,Wqe,Xqe,Rje,Yje,Wje,Vje,Kje,Zje,Jje,lYe,cYe].forEach(function(c){eIe(gYe,c)}),fYe={add:o(function(c){var q,Y=this;if(wNe(c)){var V=c;if(V._private.cy===Y)q=V.restore();else{for(var Z=[],re=0;re<V.length;re++){var ae=V[re];Z.push(ae.json())}q=new pYe(Y,Z)}}else if(fNe(c)){q=new pYe(Y,c)}else if(mNe(c)&&(fNe(c.nodes)||fNe(c.edges))){for(var se=c,oe=[],he=["nodes","edges"],de=0,pe=he.length;de<pe;de++){var ge=he[de],me=se[ge];if(fNe(me))for(var ve=0,be=me.length;ve<be;ve++){var we=eIe({group:ge},me[ve]);oe.push(we)}}q=new pYe(Y,oe)}else{q=new zDe(Y,c).collection()}return q},"add"),remove:o(function(c){if(!wNe(c)&&pNe(c)){var q=c;c=this.$(q)}return c.remove()},"remove")},o(GJe,"generateCubicBezier"),mYe=function(){function t(c){return-c.tension*c.x-c.friction*c.v}function e(c,q,Y){var V={x:c.x+Y.dx*q,v:c.v+Y.dv*q,tension:c.tension,friction:c.friction};return{dx:V.v,dv:t(V)}}function r(c,q){var Y={dx:c.v,dv:t(c)},V=e(c,.5*q,Y),Z=e(c,.5*q,V),re=e(c,q,Z),ae=1/6*(Y.dx+2*(V.dx+Z.dx)+re.dx),se=1/6*(Y.dv+2*(V.dv+Z.dv)+re.dv);return c.x=c.x+ae*q,c.v=c.v+se*q,c}return o(t,"springAccelerationForState"),o(e,"springEvaluateStateWithDerivative"),o(r,"springIntegrateState"),o(function n(c,q,Y){var V,Z,re,ae={x:-1,v:0,tension:null,friction:null},se=[0],oe=0,he=1e-4;for(c=parseFloat(c)||500,q=parseFloat(q)||20,Y=Y||null,ae.tension=c,ae.friction=q,(V=null!==Y)?Z=(oe=n(c,q))/Y*.016:Z=.016;re=r(re||ae,Z),se.push(1+re.x),oe+=16,Math.abs(re.x)>he&&Math.abs(re.v)>he;);return V?function(c){return se[c*(se.length-1)|0]}:oe},"springRK4Factory")}(),yYe=o(function(c,q,Y,V){var Z=GJe(c,q,Y,V);return function(c,q,Y){return c+(q-c)*Z(Y)}},"cubicBezier"),vYe={linear:o(function(c,q,Y){return c+(q-c)*Y},"linear"),ease:yYe(.25,.1,.25,1),"ease-in":yYe(.42,0,1,1),"ease-out":yYe(0,0,.58,1),"ease-in-out":yYe(.42,0,.58,1),"ease-in-sine":yYe(.47,0,.745,.715),"ease-out-sine":yYe(.39,.575,.565,1),"ease-in-out-sine":yYe(.445,.05,.55,.95),"ease-in-quad":yYe(.55,.085,.68,.53),"ease-out-quad":yYe(.25,.46,.45,.94),"ease-in-out-quad":yYe(.455,.03,.515,.955),"ease-in-cubic":yYe(.55,.055,.675,.19),"ease-out-cubic":yYe(.215,.61,.355,1),"ease-in-out-cubic":yYe(.645,.045,.355,1),"ease-in-quart":yYe(.895,.03,.685,.22),"ease-out-quart":yYe(.165,.84,.44,1),"ease-in-out-quart":yYe(.77,0,.175,1),"ease-in-quint":yYe(.755,.05,.855,.06),"ease-out-quint":yYe(.23,1,.32,1),"ease-in-out-quint":yYe(.86,0,.07,1),"ease-in-expo":yYe(.95,.05,.795,.035),"ease-out-expo":yYe(.19,1,.22,1),"ease-in-out-expo":yYe(1,0,0,1),"ease-in-circ":yYe(.6,.04,.98,.335),"ease-out-circ":yYe(.075,.82,.165,1),"ease-in-out-circ":yYe(.785,.135,.15,.86),spring:o(function(c,q,Y){if(0===Y)return vYe.linear;var V=mYe(c,q,Y);return function(c,q,Y){return c+(q-c)*V(Y)}},"spring"),"cubic-bezier":yYe},o(wme,"getEasedValue"),o(Tme,"getValue"),o(Zg,"ease"),o(VJe,"step$1"),o(Mx,"valid"),o(UJe,"startAnimation"),o(kme,"stepAll"),xYe={animate:hqe.animate(),animation:hqe.animation(),animated:hqe.animated(),clearQueue:hqe.clearQueue(),delay:hqe.delay(),delayAnimation:hqe.delayAnimation(),stop:hqe.stop(),addToAnimationPool:o(function(c){this.styleEnabled()&&this._private.aniEles.merge(c)},"addToAnimationPool"),stopAnimationLoop:o(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:o(function(){var c=this;if(c._private.animationsRunning=!0,c.styleEnabled()){o(r,"headlessStep");var q=c.renderer();q&&q.beforeRender?q.beforeRender(o(function(q,Y){kme(Y,c)},"rendererAnimationStep"),q.beforeRenderPriorities.animations):r()}function r(){c._private.animationsRunning&&iRe(o(function(q){kme(q,c),r()},"animationStep"))}},"startAnimationLoop")},bYe={qualifierCompare:o(function(c,q){return null==c||null==q?null==c&&null==q:c.sameText(q)},"qualifierCompare"),eventMatches:o(function(c,q,Y){var V=q.qualifier;return null==V||c!==Y.target&&kNe(Y.target)&&V.matches(Y.target)},"eventMatches"),addEventFields:o(function(c,q){q.cy=c,q.target=c},"addEventFields"),callbackContext:o(function(c,q,Y){return null!=q.qualifier?Y.target:c},"callbackContext")},wYe=o(function(c){return pNe(c)?new Fqe(c):c},"argSelector"),kYe={createEmitter:o(function(){var c=this._private;return c.emitter||(c.emitter=new O6(bYe,this)),this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(c,q,Y){return this.emitter().on(c,wYe(q),Y),this},"on"),removeListener:o(function(c,q,Y){return this.emitter().removeListener(c,wYe(q),Y),this},"removeListener"),removeAllListeners:o(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:o(function(c,q,Y){return this.emitter().one(c,wYe(q),Y),this},"one"),once:o(function(c,q,Y){return this.emitter().one(c,wYe(q),Y),this},"once"),emit:o(function(c,q){return this.emitter().emit(c,q),this},"emit"),emitAndNotify:o(function(c,q){return this.emit(c),this.notify(c,q),this},"emitAndNotify")},hqe.eventAliasesOn(kYe),(TYe={png:o(function(c){return c=c||{},this._private.renderer.png(c)},"png"),jpg:o(function(c){var q=this._private.renderer;return(c=c||{}).bg=c.bg||"#fff",q.jpg(c)},"jpg")}).jpeg=TYe.jpg,(_Ye={layout:o(function(c){var q=this;if(null!=c)if(null!=c.name){var Y,V=c.name,Z=q.extension("layout",V);if(null!=Z)return Y=pNe(c.eles)?q.$(c.eles):null!=c.eles?c.eles:q.$(),new Z(eIe({},c,{cy:q,eles:Y}));yDe("No such layout `"+V+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else yDe("A `name` must be specified to make a layout");else yDe("Layout options must be specified to make a layout")},"layout")}).createLayout=_Ye.makeLayout=_Ye.layout,EYe={notify:o(function(c,q){var Y=this._private;if(this.batching()){Y.batchNotifications=Y.batchNotifications||{};var V=Y.batchNotifications[c]=Y.batchNotifications[c]||this.collection();null!=q&&V.merge(q)}else if(Y.notificationsEnabled){var Z=this.renderer();this.destroyed()||!Z||Z.notify(c,q)}},"notify"),notifications:o(function(c){var q=this._private;return void 0===c?q.notificationsEnabled:(q.notificationsEnabled=!!c,this)},"notifications"),noNotifications:o(function(c){this.notifications(!1),c(),this.notifications(!0)},"noNotifications"),batching:o(function(){return this._private.batchCount>0},"batching"),startBatch:o(function(){var c=this._private;return null==c.batchCount&&(c.batchCount=0),0===c.batchCount&&(c.batchStyleEles=this.collection(),c.batchNotifications={}),c.batchCount++,this},"startBatch"),endBatch:o(function(){var c=this._private;if(0===c.batchCount)return this;if(c.batchCount--,0===c.batchCount){c.batchStyleEles.updateStyle();var q=this.renderer();Object.keys(c.batchNotifications).forEach(function(Y){var V=c.batchNotifications[Y];V.empty()?q.notify(Y):q.notify(Y,V)})}return this},"endBatch"),batch:o(function(c){return this.startBatch(),c(),this.endBatch(),this},"batch"),batchData:o(function(c){var q=this;return this.batch(function(){for(var Y=Object.keys(c),V=0;V<Y.length;V++){var Z=Y[V],re=c[Z];q.getElementById(Z).data(re)}})},"batchData")},CYe=SDe({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),(SYe={renderTo:o(function(c,q,Y,V){return this._private.renderer.renderTo(c,q,Y,V),this},"renderTo"),renderer:o(function(){return this._private.renderer},"renderer"),forceRender:o(function(){return this.notify("draw"),this},"forceRender"),resize:o(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:o(function(c){var q=this,Y=q.extension("renderer",c.name);if(null!=Y){void 0!==c.wheelSensitivity&&xDe("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var V=CYe(c);V.cy=q,q._private.renderer=new Y(V),this.notify("init")}else yDe("Can not initialise: No such renderer `".concat(c.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},"initRenderer"),destroyRenderer:o(function(){var c=this;c.notify("destroy");var q=c.container();if(q)for(q._cyreg=null;q.childNodes.length>0;)q.removeChild(q.childNodes[0]);c._private.renderer=null,c.mutableElements().forEach(function(c){var q=c._private;q.rscratch={},q.rstyle={},q.animation.current=[],q.animation.queue=[]})},"destroyRenderer"),onRender:o(function(c){return this.on("render",c)},"onRender"),offRender:o(function(c){return this.off("render",c)},"offRender")}).invalidateDimensions=SYe.resize,(AYe={collection:o(function(c,q){return pNe(c)?this.$(c):wNe(c)?c.collection():fNe(c)?(q||(q={}),new pYe(this,c,q.unique,q.removed)):new pYe(this)},"collection"),nodes:o(function(c){var q=this.$(function(c){return c.isNode()});return c?q.filter(c):q},"nodes"),edges:o(function(c){var q=this.$(function(c){return c.isEdge()});return c?q.filter(c):q},"edges"),$:o(function(c){var q=this._private.elements;return c?q.filter(c):q.spawnSelf()},"$"),mutableElements:o(function(){return this._private.elements},"mutableElements")}).elements=AYe.filter=AYe.$,NYe="t",(LYe={}).apply=function(c){for(var q=this,Y=q._private.cy.collection(),V=0;V<c.length;V++){var Z=c[V],re=q.getContextMeta(Z);if(!re.empty){var ae=q.getContextStyle(re),se=q.applyContextStyle(re,ae,Z);Z._private.appliedInitStyle?q.updateTransitions(Z,se.diffProps):Z._private.appliedInitStyle=!0,q.updateStyleHints(Z)&&Y.push(Z)}}return Y},LYe.getPropertiesDiff=function(c,q){var Y=this,V=Y._private.propDiffs=Y._private.propDiffs||{},Z=c+"-"+q,re=V[Z];if(re)return re;for(var ae=[],se={},oe=0;oe<Y.length;oe++){var he=Y[oe],de=c[oe]===NYe,pe=q[oe]===NYe,ge=de!==pe,me=he.mappedProperties.length>0;if(ge||pe&&me){var ve=void 0;ge&&me||ge?ve=he.properties:me&&(ve=he.mappedProperties);for(var be=0;be<ve.length;be++){for(var we=ve[be],Te=we.name,_e=!1,Ee=oe+1;Ee<Y.length;Ee++){var Ce=Y[Ee];if(q[Ee]===NYe&&(_e=null!=Ce.properties[we.name]))break}!se[Te]&&!_e&&(se[Te]=!0,ae.push(Te))}}}return V[Z]=ae,ae},LYe.getContextMeta=function(c){for(var q,Y=this,V="",Z=c._private.styleCxtKey||"",re=0;re<Y.length;re++){var ae=Y[re];V+=ae.selector&&ae.selector.matches(c)?NYe:"f"}return q=Y.getPropertiesDiff(Z,V),c._private.styleCxtKey=V,{key:V,diffPropNames:q,empty:0===q.length}},LYe.getContextStyle=function(c){var q=c.key,Y=this._private.contextStyles=this._private.contextStyles||{};if(Y[q])return Y[q];for(var V={_private:{key:q}},Z=0;Z<this.length;Z++){var re=this[Z];if(q[Z]===NYe)for(var ae=0;ae<re.properties.length;ae++){var se=re.properties[ae];V[se.name]=se}}return Y[q]=V,V},LYe.applyContextStyle=function(c,q,Y){for(var V=c.diffPropNames,Z={},re=this.types,ae=0;ae<V.length;ae++){var se=V[ae],oe=q[se],he=Y.pstyle(se);if(!oe){if(!he)continue;oe=he.bypass?{name:se,deleteBypassed:!0}:{name:se,delete:!0}}if(he!==oe){if(oe.mapped===re.fn&&null!=he&&null!=he.mapping&&he.mapping.value===oe.value){var de=he.mapping;if((de.fnValue=oe.value(Y))===de.prevFnValue)continue}var pe=Z[se]={prev:he};this.applyParsedProperty(Y,oe),pe.next=Y.pstyle(se),pe.next&&pe.next.bypass&&(pe.next=pe.next.bypassed)}}return{diffProps:Z}},LYe.updateStyleHints=function(c){var q=c._private,Y=this,V=Y.propertyGroupNames,Z=Y.propertyGroupKeys,re=o(function(c,q,V){return Y.getPropertiesHash(c,q,V)},"propHash"),ae=q.styleKey;if(c.removed())return!1;var se="nodes"===q.group,oe=c._private.style;V=Object.keys(oe);for(var he=0;he<Z.length;he++){var de=Z[he];q.styleKeys[de]=[oRe,lRe]}for(var pe=o(function(c,Y){return q.styleKeys[Y][0]=uRe(c,q.styleKeys[Y][0])},"updateGrKey1"),ge=o(function(c,Y){return q.styleKeys[Y][1]=dRe(c,q.styleKeys[Y][1])},"updateGrKey2"),me=o(function(c,q){pe(c,q),ge(c,q)},"updateGrKey"),ve=o(function(c,q){for(var Y=0;Y<c.length;Y++){var V=c.charCodeAt(Y);pe(V,q),ge(V,q)}},"updateGrKeyWStr"),be=o(function(c){return-128<c&&c<128&&Math.floor(c)!==c?2e9-(1024*c|0):c},"cleanNum"),we=0;we<V.length;we++){var Te=V[we],_e=oe[Te];if(null!=_e){var Ee=this.properties[Te],Ce=Ee.type,Se=Ee.groupKey,Ae=void 0;null!=Ee.hashOverride?Ae=Ee.hashOverride(c,_e):null!=_e.pfValue&&(Ae=_e.pfValue);var Le=null==Ee.enums?_e.value:null,Ne=null!=Ae,Ie=Ne||null!=Le,Me=_e.units;if(Ce.number&&Ie&&!Ce.multiple)me(be(Ne?Ae:Le),Se),!Ne&&null!=Me&&ve(Me,Se);else ve(_e.strValue,Se)}}for(var Re=[oRe,lRe],Oe=0;Oe<Z.length;Oe++){var Be=Z[Oe],$e=q.styleKeys[Be];Re[0]=uRe($e[0],Re[0]),Re[1]=dRe($e[1],Re[1])}q.styleKey=pRe(Re[0],Re[1]);var Ue=q.styleKeys;q.labelDimsKey=kRe(Ue.labelDimensions);var qe=re(c,["label"],Ue.labelDimensions);if(q.labelKey=kRe(qe),q.labelStyleKey=kRe(ERe(Ue.commonLabel,qe)),!se){var je=re(c,["source-label"],Ue.labelDimensions);q.sourceLabelKey=kRe(je),q.sourceLabelStyleKey=kRe(ERe(Ue.commonLabel,je));var We=re(c,["target-label"],Ue.labelDimensions);q.targetLabelKey=kRe(We),q.targetLabelStyleKey=kRe(ERe(Ue.commonLabel,We))}if(se){var He=q.styleKeys,Ve=He.nodeBody,Ke=He.nodeBorder,Qe=He.nodeOutline,Ze=He.backgroundImage,Je=He.compound,et=He.pie,tt=[Ve,Ke,Qe,Ze,Je,et].filter(function(c){return null!=c}).reduce(ERe,[oRe,lRe]);q.nodeKey=kRe(tt),q.hasPie=null!=et&&et[0]!==oRe&&et[1]!==lRe}return ae!==q.styleKey},LYe.clearStyleHints=function(c){var q=c._private;q.styleCxtKey="",q.styleKeys={},q.styleKey=null,q.labelKey=null,q.labelStyleKey=null,q.sourceLabelKey=null,q.sourceLabelStyleKey=null,q.targetLabelKey=null,q.targetLabelStyleKey=null,q.nodeKey=null,q.hasPie=null},LYe.applyParsedProperty=function(c,q){var Y,V=this,Z=q,re=c._private.style,ae=V.types,se=V.properties[Z.name].type,oe=Z.bypass,he=re[Z.name],de=he&&he.bypass,pe=c._private,ge="mapping",me=o(function(c){return null==c?null:null!=c.pfValue?c.pfValue:c.value},"getVal"),ve=o(function(){var q=me(he),Y=me(Z);V.checkTriggers(c,Z.name,q,Y)},"checkTriggers");if("curve-style"===q.name&&c.isEdge()&&("bezier"!==q.value&&c.isLoop()||"haystack"===q.value&&(c.source().isParent()||c.target().isParent()))&&(Z=q=this.parse(q.name,"bezier",oe)),Z.delete)return re[Z.name]=void 0,ve(),!0;if(Z.deleteBypassed)return he?!!he.bypass&&(he.bypassed=void 0,ve(),!0):(ve(),!0);if(Z.deleteBypass)return he?!!he.bypass&&(re[Z.name]=he.bypassed,ve(),!0):(ve(),!0);var be=o(function(){xDe("Do not assign mappings to elements without corresponding data (i.e. ele `"+c.id()+"` has no mapping for property `"+Z.name+"` with data field `"+Z.field+"`); try a `["+Z.field+"]` selector to limit scope to elements with `"+Z.field+"` defined")},"printMappingErr");switch(Z.mapped){case ae.mapData:for(var we=Z.field.split("."),Te=pe.data,_e=0;_e<we.length&&Te;_e++){Te=Te[we[_e]]}if(null==Te)return be(),!1;var Ee;if(!vNe(Te))return xDe("Do not use continuous mappers without specifying numeric data (i.e. `"+Z.field+": "+Te+"` for `"+c.id()+"` is non-numeric)"),!1;var Ce=Z.fieldMax-Z.fieldMin;if((Ee=0===Ce?0:(Te-Z.fieldMin)/Ce)<0?Ee=0:Ee>1&&(Ee=1),se.color){var Se=Z.valueMin[0],Ae=Z.valueMax[0],Le=Z.valueMin[1],Ne=Z.valueMax[1],Ie=Z.valueMin[2],Me=Z.valueMax[2],Re=null==Z.valueMin[3]?1:Z.valueMin[3],Oe=null==Z.valueMax[3]?1:Z.valueMax[3],Be=[Math.round(Se+(Ae-Se)*Ee),Math.round(Le+(Ne-Le)*Ee),Math.round(Ie+(Me-Ie)*Ee),Math.round(Re+(Oe-Re)*Ee)];Y={bypass:Z.bypass,name:Z.name,value:Be,strValue:"rgb("+Be[0]+", "+Be[1]+", "+Be[2]+")"}}else{if(!se.number)return!1;var $e=Z.valueMin+(Z.valueMax-Z.valueMin)*Ee;Y=this.parse(Z.name,$e,Z.bypass,ge)}if(!Y)return be(),!1;Y.mapping=Z,Z=Y;break;case ae.data:for(var Ue=Z.field.split("."),qe=pe.data,je=0;je<Ue.length&&qe;je++){qe=qe[Ue[je]]}if(null!=qe&&(Y=this.parse(Z.name,qe,Z.bypass,ge)),!Y)return be(),!1;Y.mapping=Z,Z=Y;break;case ae.fn:var We=Z.value,He=null!=Z.fnValue?Z.fnValue:We(c);if(Z.prevFnValue=He,null==He)return xDe("Custom function mappers may not return null (i.e. `"+Z.name+"` for ele `"+c.id()+"` is null)"),!1;if(!(Y=this.parse(Z.name,He,Z.bypass,ge)))return xDe("Custom function mappers may not return invalid values for the property type (i.e. `"+Z.name+"` for ele `"+c.id()+"` is invalid)"),!1;Y.mapping=wDe(Z),Z=Y;break;case void 0:break;default:return!1}return oe?(Z.bypassed=de?he.bypassed:he,re[Z.name]=Z):de?he.bypassed=Z:re[Z.name]=Z,ve(),!0},LYe.cleanElements=function(c,q){for(var Y=0;Y<c.length;Y++){var V=c[Y];if(this.clearStyleHints(V),V.dirtyCompoundBoundsCache(),V.dirtyBoundingBoxCache(),q)for(var Z=V._private.style,re=Object.keys(Z),ae=0;ae<re.length;ae++){var se=re[ae],oe=Z[se];null!=oe&&(oe.bypass?oe.bypassed=null:Z[se]=null)}else V._private.style={}}},LYe.update=function(){this._private.cy.mutableElements().updateStyle()},LYe.updateTransitions=function(c,q){var Y=this,V=c._private,Z=c.pstyle("transition-property").value,re=c.pstyle("transition-duration").pfValue,ae=c.pstyle("transition-delay").pfValue;if(Z.length>0&&re>0){for(var se={},oe=!1,he=0;he<Z.length;he++){var de=Z[he],pe=c.pstyle(de),ge=q[de];if(ge){var me=ge.prev,ve=null!=ge.next?ge.next:pe,be=!1,we=void 0,Te=1e-6;me&&(vNe(me.pfValue)&&vNe(ve.pfValue)?(be=ve.pfValue-me.pfValue,we=me.pfValue+Te*be):vNe(me.value)&&vNe(ve.value)?(be=ve.value-me.value,we=me.value+Te*be):fNe(me.value)&&fNe(ve.value)&&(be=me.value[0]!==ve.value[0]||me.value[1]!==ve.value[1]||me.value[2]!==ve.value[2],we=me.strValue),be&&(se[de]=ve.strValue,this.applyBypass(c,de,we),oe=!0))}}if(!oe)return;V.transitioning=!0,new cGe(function(q){ae>0?c.delayAnimation(ae).play().promise().then(q):q()}).then(function(){return c.animation({style:se,duration:re,easing:c.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){Y.removeBypasses(c,Z),c.emitAndNotify("style"),V.transitioning=!1})}else V.transitioning&&(this.removeBypasses(c,Z),c.emitAndNotify("style"),V.transitioning=!1)},LYe.checkTrigger=function(c,q,Y,V,Z,re){var ae=this.properties[q],se=Z(ae);null!=se&&se(Y,V)&&re(ae)},LYe.checkZOrderTrigger=function(c,q,Y,V){var Z=this;this.checkTrigger(c,q,Y,V,function(c){return c.triggersZOrder},function(){Z._private.cy.notify("zorder",c)})},LYe.checkBoundsTrigger=function(c,q,Y,V){this.checkTrigger(c,q,Y,V,function(c){return c.triggersBounds},function(Z){c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),Z.triggersBoundsOfParallelBeziers&&"curve-style"===q&&("bezier"===Y||"bezier"===V)&&c.parallelEdges().forEach(function(c){c.isBundledBezier()&&c.dirtyBoundingBoxCache()}),Z.triggersBoundsOfConnectedEdges&&"display"===q&&("none"===Y||"none"===V)&&c.connectedEdges().forEach(function(c){c.dirtyBoundingBoxCache()})})},LYe.checkTriggers=function(c,q,Y,V){c.dirtyStyleCache(),this.checkZOrderTrigger(c,q,Y,V),this.checkBoundsTrigger(c,q,Y,V)},(IYe={}).applyBypass=function(c,q,Y,V){var Z=[];if("*"===q||"**"===q){if(void 0!==Y)for(var re=0;re<this.properties.length;re++){var ae=this.properties[re].name,se=this.parse(ae,Y,!0);se&&Z.push(se)}}else if(pNe(q)){var oe=this.parse(q,Y,!0);oe&&Z.push(oe)}else{if(!mNe(q))return!1;var he=q;V=Y;for(var de=Object.keys(he),pe=0;pe<de.length;pe++){var ge=de[pe],me=he[ge];if(void 0===me&&(me=he[$Ne(ge)]),void 0!==me){var ve=this.parse(ge,me,!0);ve&&Z.push(ve)}}}if(0===Z.length)return!1;for(var be=!1,we=0;we<c.length;we++){for(var Te=c[we],_e={},Ee=void 0,Ce=0;Ce<Z.length;Ce++){var Se=Z[Ce];if(V){var Ae=Te.pstyle(Se.name);Ee=_e[Se.name]={prev:Ae}}be=this.applyParsedProperty(Te,wDe(Se))||be,V&&(Ee.next=Te.pstyle(Se.name))}be&&this.updateStyleHints(Te),V&&this.updateTransitions(Te,_e,true)}return be},IYe.overrideBypass=function(c,q,Y){q=PNe(q);for(var V=0;V<c.length;V++){var Z=c[V],re=Z._private.style[q],ae=this.properties[q].type,se=ae.color,oe=ae.mutiple,he=re?null!=re.pfValue?re.pfValue:re.value:null;re&&re.bypass?(re.value=Y,null!=re.pfValue&&(re.pfValue=Y),re.strValue=se?"rgb("+Y.join(",")+")":oe?Y.join(" "):""+Y,this.updateStyleHints(Z)):this.applyBypass(Z,q,Y),this.checkTriggers(Z,q,he,Y)}},IYe.removeAllBypasses=function(c,q){return this.removeBypasses(c,this.propertyNames,q)},IYe.removeBypasses=function(c,q,Y){for(var V=0;V<c.length;V++){for(var Z=c[V],re={},ae=0;ae<q.length;ae++){var se=q[ae],oe=this.properties[se],he=Z.pstyle(oe.name);if(he&&he.bypass){var de=this.parse(se,"",!0),pe=re[oe.name]={prev:he};this.applyParsedProperty(Z,de),pe.next=Z.pstyle(oe.name)}}this.updateStyleHints(Z),Y&&this.updateTransitions(Z,re,true)}},(MYe={}).getEmSizeInPixels=function(){var c=this.containerCss("font-size");return null!=c?parseFloat(c):1},MYe.containerCss=function(c){var q=this._private.cy,Y=q.container(),V=q.window();if(V&&Y&&V.getComputedStyle)return V.getComputedStyle(Y).getPropertyValue(c)},(RYe={}).getRenderedStyle=function(c,q){return q?this.getStylePropertyValue(c,q,!0):this.getRawStyle(c,!0)},RYe.getRawStyle=function(c,q){var Y=this;if(c=c[0]){for(var V={},Z=0;Z<Y.properties.length;Z++){var re=Y.properties[Z],ae=Y.getStylePropertyValue(c,re.name,q);null!=ae&&(V[re.name]=ae,V[$Ne(re.name)]=ae)}return V}},RYe.getIndexedStyle=function(c,q,Y,V){return c.pstyle(q)[Y][V]??c.cy().style().getDefaultProperty(q)[Y][0]},RYe.getStylePropertyValue=function(c,q,Y){if(c=c[0]){var V=this.properties[q];V.alias&&(V=V.pointsTo);var Z=V.type,re=c.pstyle(V.name);if(re){var ae=re.value,se=re.units,oe=re.strValue;if(Y&&Z.number&&null!=ae&&vNe(ae)){var he=c.cy().zoom(),de=o(function(c){return c*he},"getRenderedValue"),pe=o(function(c,q){return de(c)+q},"getValueStringWithUnits"),ge=fNe(ae);return(ge?se.every(function(c){return null!=c}):null!=se)?ge?ae.map(function(c,q){return pe(c,se[q])}).join(" "):pe(ae,se):ge?ae.map(function(c){return pNe(c)?c:""+de(c)}).join(" "):""+de(ae)}if(null!=oe)return oe}return null}},RYe.getAnimationStartStyle=function(c,q){for(var Y={},V=0;V<q.length;V++){var Z=q[V].name,re=c.pstyle(Z);void 0!==re&&(re=mNe(re)?this.parse(Z,re.strValue):this.parse(Z,re)),re&&(Y[Z]=re)}return Y},RYe.getPropsList=function(c){var q=[],Y=c,V=this.properties;if(Y)for(var Z=Object.keys(Y),re=0;re<Z.length;re++){var ae=Z[re],se=Y[ae],oe=V[ae]||V[PNe(ae)],he=this.parse(oe.name,se);he&&q.push(he)}return q},RYe.getNonDefaultPropertiesHash=function(c,q,Y){var V,Z,re,ae,se,oe,he=Y.slice();for(se=0;se<q.length;se++)if(V=q[se],null!=(Z=c.pstyle(V,!1)))if(null!=Z.pfValue)he[0]=uRe(ae,he[0]),he[1]=dRe(ae,he[1]);else for(re=Z.strValue,oe=0;oe<re.length;oe++)ae=re.charCodeAt(oe),he[0]=uRe(ae,he[0]),he[1]=dRe(ae,he[1]);return he},RYe.getPropertiesHash=RYe.getNonDefaultPropertiesHash,(DYe={}).appendFromJson=function(c){for(var q=this,Y=0;Y<c.length;Y++){var V=c[Y],Z=V.selector,re=V.style||V.css,ae=Object.keys(re);q.selector(Z);for(var se=0;se<ae.length;se++){var oe=ae[se],he=re[oe];q.css(oe,he)}}return q},DYe.fromJson=function(c){var q=this;return q.resetToDefault(),q.appendFromJson(c),q},DYe.json=function(){for(var c=[],q=this.defaultLength;q<this.length;q++){for(var Y=this[q],V=Y.selector,Z=Y.properties,re={},ae=0;ae<Z.length;ae++){var se=Z[ae];re[se.name]=se.strValue}c.push({selector:V?V.toString():"core",style:re})}return c},(OYe={}).appendFromString=function(c){var q,Y,V,Z=this,re=""+c;function l(){re=re.length>q.length?re.substr(q.length):""}function u(){Y=Y.length>V.length?Y.substr(V.length):""}for(re=re.replace(/[/][*](\s|.)+?[*][/]/g,""),o(l,"removeSelAndBlockFromRemaining"),o(u,"removePropAndValFromRem");;){if(re.match(/^\s*$/))break;var ae=re.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!ae){xDe("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+re);break}q=ae[0];var se=ae[1];if("core"!==se)if(new Fqe(se).invalid){xDe("Skipping parsing of block: Invalid selector found in string stylesheet: "+se),l();continue}var oe=ae[2],he=!1;Y=oe;for(var de=[];;){if(Y.match(/^\s*$/))break;var pe=Y.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!pe){xDe("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+oe),he=!0;break}V=pe[0];var ge=pe[1],me=pe[2];if(this.properties[ge])Z.parse(ge,me)?(de.push({name:ge,val:me}),u()):(xDe("Skipping property: Invalid property definition in: "+V),u());else xDe("Skipping property: Invalid property name in: "+V),u()}if(he){l();break}Z.selector(se);for(var ve=0;ve<de.length;ve++){var be=de[ve];Z.css(be.name,be.val)}l()}return Z},OYe.fromString=function(c){var q=this;return q.resetToDefault(),q.appendFromString(c),q},PYe={},function(){var c=YNe,q=XNe,Y=QNe,V=o(function(c){return"^"+c+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),Z=o(function(V){var Z=c+"|\\w+|"+q+"|"+Y+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+V+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+c+")\\s*\\,\\s*("+c+")\\s*,\\s*("+Z+")\\s*\\,\\s*("+Z+")\\)$"},"mapData"),re=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];PYe.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:V("data")},layoutData:{mapping:!0,regex:V("layoutData")},scratch:{mapping:!0,regex:V("scratch")},mapData:{mapping:!0,regex:Z("mapData")},mapLayoutData:{mapping:!0,regex:Z("mapLayoutData")},mapScratch:{mapping:!0,regex:Z("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:re,singleRegexMatchValue:!0},urls:{regexes:re,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:o(function(c,q){switch(c.length){case 2:return"deg"!==q[0]&&"rad"!==q[0]&&"deg"!==q[1]&&"rad"!==q[1];case 1:return pNe(c[0])||"deg"===q[0]||"rad"===q[0];default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*,\\s*("+c+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:o(function(c){var q=c.length;return 1===q||2===q||4===q},"validate")}};var ae={zeroNonZero:o(function(c,q){return(null==c||null==q)&&c!==q||0==c&&0!=q||0!=c&&0==q},"zeroNonZero"),any:o(function(c,q){return c!=q},"any"),emptyNonEmpty:o(function(c,q){var Y=SNe(c),V=SNe(q);return Y&&!V||!Y&&V},"emptyNonEmpty")},se=PYe.types,oe=[{name:"label",type:se.text,triggersBounds:ae.any,triggersZOrder:ae.emptyNonEmpty},{name:"text-rotation",type:se.textRotation,triggersBounds:ae.any},{name:"text-margin-x",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"text-margin-y",type:se.bidirectionalSize,triggersBounds:ae.any}],he=[{name:"source-label",type:se.text,triggersBounds:ae.any},{name:"source-text-rotation",type:se.textRotation,triggersBounds:ae.any},{name:"source-text-margin-x",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"source-text-margin-y",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"source-text-offset",type:se.size,triggersBounds:ae.any}],de=[{name:"target-label",type:se.text,triggersBounds:ae.any},{name:"target-text-rotation",type:se.textRotation,triggersBounds:ae.any},{name:"target-text-margin-x",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"target-text-margin-y",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"target-text-offset",type:se.size,triggersBounds:ae.any}],pe=[{name:"font-family",type:se.fontFamily,triggersBounds:ae.any},{name:"font-style",type:se.fontStyle,triggersBounds:ae.any},{name:"font-weight",type:se.fontWeight,triggersBounds:ae.any},{name:"font-size",type:se.size,triggersBounds:ae.any},{name:"text-transform",type:se.textTransform,triggersBounds:ae.any},{name:"text-wrap",type:se.textWrap,triggersBounds:ae.any},{name:"text-overflow-wrap",type:se.textOverflowWrap,triggersBounds:ae.any},{name:"text-max-width",type:se.size,triggersBounds:ae.any},{name:"text-outline-width",type:se.size,triggersBounds:ae.any},{name:"line-height",type:se.positiveNumber,triggersBounds:ae.any}],ge=[{name:"text-valign",type:se.valign,triggersBounds:ae.any},{name:"text-halign",type:se.halign,triggersBounds:ae.any},{name:"color",type:se.color},{name:"text-outline-color",type:se.color},{name:"text-outline-opacity",type:se.zeroOneNumber},{name:"text-background-color",type:se.color},{name:"text-background-opacity",type:se.zeroOneNumber},{name:"text-background-padding",type:se.size,triggersBounds:ae.any},{name:"text-border-opacity",type:se.zeroOneNumber},{name:"text-border-color",type:se.color},{name:"text-border-width",type:se.size,triggersBounds:ae.any},{name:"text-border-style",type:se.borderStyle,triggersBounds:ae.any},{name:"text-background-shape",type:se.textBackgroundShape,triggersBounds:ae.any},{name:"text-justification",type:se.justification}],me=[{name:"events",type:se.bool,triggersZOrder:ae.any},{name:"text-events",type:se.bool,triggersZOrder:ae.any}],ve=[{name:"display",type:se.display,triggersZOrder:ae.any,triggersBounds:ae.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:se.visibility,triggersZOrder:ae.any},{name:"opacity",type:se.zeroOneNumber,triggersZOrder:ae.zeroNonZero},{name:"text-opacity",type:se.zeroOneNumber},{name:"min-zoomed-font-size",type:se.size},{name:"z-compound-depth",type:se.zCompoundDepth,triggersZOrder:ae.any},{name:"z-index-compare",type:se.zIndexCompare,triggersZOrder:ae.any},{name:"z-index",type:se.number,triggersZOrder:ae.any}],be=[{name:"overlay-padding",type:se.size,triggersBounds:ae.any},{name:"overlay-color",type:se.color},{name:"overlay-opacity",type:se.zeroOneNumber,triggersBounds:ae.zeroNonZero},{name:"overlay-shape",type:se.overlayShape,triggersBounds:ae.any},{name:"overlay-corner-radius",type:se.cornerRadius}],we=[{name:"underlay-padding",type:se.size,triggersBounds:ae.any},{name:"underlay-color",type:se.color},{name:"underlay-opacity",type:se.zeroOneNumber,triggersBounds:ae.zeroNonZero},{name:"underlay-shape",type:se.overlayShape,triggersBounds:ae.any},{name:"underlay-corner-radius",type:se.cornerRadius}],Te=[{name:"transition-property",type:se.propList},{name:"transition-duration",type:se.time},{name:"transition-delay",type:se.time},{name:"transition-timing-function",type:se.easing}],_e=o(function(c,q){return"label"===q.value?-c.poolIndex():q.pfValue},"nodeSizeHashOverride"),Ee=[{name:"height",type:se.nodeSize,triggersBounds:ae.any,hashOverride:_e},{name:"width",type:se.nodeSize,triggersBounds:ae.any,hashOverride:_e},{name:"shape",type:se.nodeShape,triggersBounds:ae.any},{name:"shape-polygon-points",type:se.polygonPointList,triggersBounds:ae.any},{name:"corner-radius",type:se.cornerRadius},{name:"background-color",type:se.color},{name:"background-fill",type:se.fill},{name:"background-opacity",type:se.zeroOneNumber},{name:"background-blacken",type:se.nOneOneNumber},{name:"background-gradient-stop-colors",type:se.colors},{name:"background-gradient-stop-positions",type:se.percentages},{name:"background-gradient-direction",type:se.gradientDirection},{name:"padding",type:se.sizeMaybePercent,triggersBounds:ae.any},{name:"padding-relative-to",type:se.paddingRelativeTo,triggersBounds:ae.any},{name:"bounds-expansion",type:se.boundsExpansion,triggersBounds:ae.any}],Ce=[{name:"border-color",type:se.color},{name:"border-opacity",type:se.zeroOneNumber},{name:"border-width",type:se.size,triggersBounds:ae.any},{name:"border-style",type:se.borderStyle},{name:"border-cap",type:se.lineCap},{name:"border-join",type:se.lineJoin},{name:"border-dash-pattern",type:se.numbers},{name:"border-dash-offset",type:se.number},{name:"border-position",type:se.linePosition}],Se=[{name:"outline-color",type:se.color},{name:"outline-opacity",type:se.zeroOneNumber},{name:"outline-width",type:se.size,triggersBounds:ae.any},{name:"outline-style",type:se.borderStyle},{name:"outline-offset",type:se.size,triggersBounds:ae.any}],Ae=[{name:"background-image",type:se.urls},{name:"background-image-crossorigin",type:se.bgCrossOrigin},{name:"background-image-opacity",type:se.zeroOneNumbers},{name:"background-image-containment",type:se.bgContainment},{name:"background-image-smoothing",type:se.bools},{name:"background-position-x",type:se.bgPos},{name:"background-position-y",type:se.bgPos},{name:"background-width-relative-to",type:se.bgRelativeTo},{name:"background-height-relative-to",type:se.bgRelativeTo},{name:"background-repeat",type:se.bgRepeat},{name:"background-fit",type:se.bgFit},{name:"background-clip",type:se.bgClip},{name:"background-width",type:se.bgWH},{name:"background-height",type:se.bgWH},{name:"background-offset-x",type:se.bgPos},{name:"background-offset-y",type:se.bgPos}],Le=[{name:"position",type:se.position,triggersBounds:ae.any},{name:"compound-sizing-wrt-labels",type:se.compoundIncludeLabels,triggersBounds:ae.any},{name:"min-width",type:se.size,triggersBounds:ae.any},{name:"min-width-bias-left",type:se.sizeMaybePercent,triggersBounds:ae.any},{name:"min-width-bias-right",type:se.sizeMaybePercent,triggersBounds:ae.any},{name:"min-height",type:se.size,triggersBounds:ae.any},{name:"min-height-bias-top",type:se.sizeMaybePercent,triggersBounds:ae.any},{name:"min-height-bias-bottom",type:se.sizeMaybePercent,triggersBounds:ae.any}],Ne=[{name:"line-style",type:se.lineStyle},{name:"line-color",type:se.color},{name:"line-fill",type:se.fill},{name:"line-cap",type:se.lineCap},{name:"line-opacity",type:se.zeroOneNumber},{name:"line-dash-pattern",type:se.numbers},{name:"line-dash-offset",type:se.number},{name:"line-outline-width",type:se.size},{name:"line-outline-color",type:se.color},{name:"line-gradient-stop-colors",type:se.colors},{name:"line-gradient-stop-positions",type:se.percentages},{name:"curve-style",type:se.curveStyle,triggersBounds:ae.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:se.zeroOneNumber,triggersBounds:ae.any},{name:"source-endpoint",type:se.edgeEndpoint,triggersBounds:ae.any},{name:"target-endpoint",type:se.edgeEndpoint,triggersBounds:ae.any},{name:"control-point-step-size",type:se.size,triggersBounds:ae.any},{name:"control-point-distances",type:se.bidirectionalSizes,triggersBounds:ae.any},{name:"control-point-weights",type:se.numbers,triggersBounds:ae.any},{name:"segment-distances",type:se.bidirectionalSizes,triggersBounds:ae.any},{name:"segment-weights",type:se.numbers,triggersBounds:ae.any},{name:"segment-radii",type:se.numbers,triggersBounds:ae.any},{name:"radius-type",type:se.radiusType,triggersBounds:ae.any},{name:"taxi-turn",type:se.bidirectionalSizeMaybePercent,triggersBounds:ae.any},{name:"taxi-turn-min-distance",type:se.size,triggersBounds:ae.any},{name:"taxi-direction",type:se.axisDirection,triggersBounds:ae.any},{name:"taxi-radius",type:se.number,triggersBounds:ae.any},{name:"edge-distances",type:se.edgeDistances,triggersBounds:ae.any},{name:"arrow-scale",type:se.positiveNumber,triggersBounds:ae.any},{name:"loop-direction",type:se.angle,triggersBounds:ae.any},{name:"loop-sweep",type:se.angle,triggersBounds:ae.any},{name:"source-distance-from-node",type:se.size,triggersBounds:ae.any},{name:"target-distance-from-node",type:se.size,triggersBounds:ae.any}],Ie=[{name:"ghost",type:se.bool,triggersBounds:ae.any},{name:"ghost-offset-x",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"ghost-offset-y",type:se.bidirectionalSize,triggersBounds:ae.any},{name:"ghost-opacity",type:se.zeroOneNumber}],Me=[{name:"selection-box-color",type:se.color},{name:"selection-box-opacity",type:se.zeroOneNumber},{name:"selection-box-border-color",type:se.color},{name:"selection-box-border-width",type:se.size},{name:"active-bg-color",type:se.color},{name:"active-bg-opacity",type:se.zeroOneNumber},{name:"active-bg-size",type:se.size},{name:"outside-texture-bg-color",type:se.color},{name:"outside-texture-bg-opacity",type:se.zeroOneNumber}],Re=[];PYe.pieBackgroundN=16,Re.push({name:"pie-size",type:se.sizeMaybePercent});for(var Oe=1;Oe<=PYe.pieBackgroundN;Oe++)Re.push({name:"pie-"+Oe+"-background-color",type:se.color}),Re.push({name:"pie-"+Oe+"-background-size",type:se.percent}),Re.push({name:"pie-"+Oe+"-background-opacity",type:se.zeroOneNumber});var Be=[],$e=PYe.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:se.arrowShape,triggersBounds:ae.any},{name:"arrow-color",type:se.color},{name:"arrow-fill",type:se.arrowFill},{name:"arrow-width",type:se.arrowWidth}].forEach(function(c){$e.forEach(function(q){var Y=q+"-"+c.name,V=c.type,Z=c.triggersBounds;Be.push({name:Y,type:V,triggersBounds:Z})})},{});var Ue=PYe.properties=[].concat(me,Te,ve,be,we,Ie,ge,pe,oe,he,de,Ee,Ce,Se,Ae,Re,Le,Ne,Be,Me),qe=PYe.propertyGroups={behavior:me,transition:Te,visibility:ve,overlay:be,underlay:we,ghost:Ie,commonLabel:ge,labelDimensions:pe,mainLabel:oe,sourceLabel:he,targetLabel:de,nodeBody:Ee,nodeBorder:Ce,nodeOutline:Se,backgroundImage:Ae,pie:Re,compound:Le,edgeLine:Ne,edgeArrow:Be,core:Me},je=PYe.propertyGroupNames={};(PYe.propertyGroupKeys=Object.keys(qe)).forEach(function(c){je[c]=qe[c].map(function(c){return c.name}),qe[c].forEach(function(q){return q.groupKey=c})});var We=PYe.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];PYe.propertyNames=Ue.map(function(c){return c.name});for(var He=0;He<Ue.length;He++){var Ve=Ue[He];Ue[Ve.name]=Ve}for(var Ke=0;Ke<We.length;Ke++){var Qe=We[Ke],Ze=Ue[Qe.pointsTo],Je={name:Qe.name,alias:!0,pointsTo:Ze};Ue.push(Je),Ue[Qe.name]=Je}}(),PYe.getDefaultProperty=function(c){return this.getDefaultProperties()[c]},PYe.getDefaultProperties=function(){var c=this._private;if(null!=c.defaultProperties)return c.defaultProperties;for(var q=eIe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(c,q){for(var Y=1;Y<=PYe.pieBackgroundN;Y++){var V=q.name.replace("{{i}}",Y),Z=q.value;c[V]=Z}return c},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(c,q){return PYe.arrowPrefixes.forEach(function(Y){var V=Y+"-"+q.name,Z=q.value;c[V]=Z}),c},{})),Y={},V=0;V<this.properties.length;V++){var Z=this.properties[V];if(!Z.pointsTo){var re=Z.name,ae=q[re],se=this.parse(re,ae);Y[re]=se}}return c.defaultProperties=Y,c.defaultProperties},PYe.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length},(BYe={}).parse=function(c,q,Y,V){var Z=this;if(gNe(q))return Z.parseImplWarn(c,q,Y,V);var re,ae=BRe(c,""+q,Y?"t":"f","mapping"===V||!0===V||!1===V||null==V?"dontcare":V),se=Z.propCache=Z.propCache||[];return(re=se[ae])||(re=se[ae]=Z.parseImplWarn(c,q,Y,V)),(Y||"mapping"===V)&&((re=wDe(re))&&(re.value=wDe(re.value))),re},BYe.parseImplWarn=function(c,q,Y,V){var Z=this.parseImpl(c,q,Y,V);return!Z&&null!=q&&xDe("The style property `".concat(c,": ").concat(q,"` is invalid")),Z&&("width"===Z.name||"height"===Z.name)&&"label"===q&&xDe("The style value of `label` is deprecated for `"+Z.name+"`"),Z},BYe.parseImpl=function(c,q,Y,V){var Z=this;c=PNe(c);var re=Z.properties[c],ae=q,se=Z.types;if(!re||void 0===q)return null;re.alias&&(re=re.pointsTo,c=re.name);var oe=pNe(q);oe&&(q=q.trim());var he,de,pe=re.type;if(!pe)return null;if(Y&&(""===q||null===q))return{name:c,value:q,bypass:!0,deleteBypass:!0};if(gNe(q))return{name:c,value:q,strValue:"fn",mapped:se.fn,bypass:Y};if(!(!oe||V||q.length<7||"a"!==q[1])){if(q.length>=7&&"d"===q[0]&&(he=new RegExp(se.data.regex).exec(q))){if(Y)return!1;var ge=se.data;return{name:c,value:he,strValue:""+q,mapped:ge,field:he[1],bypass:Y}}if(q.length>=10&&"m"===q[0]&&(de=new RegExp(se.mapData.regex).exec(q))){if(Y||pe.multiple)return!1;var me=se.mapData;if(!pe.color&&!pe.number)return!1;var ve=this.parse(c,de[4]);if(!ve||ve.mapped)return!1;var be=this.parse(c,de[5]);if(!be||be.mapped)return!1;if(ve.pfValue===be.pfValue||ve.strValue===be.strValue)return xDe("`"+c+": "+q+"` is not a valid mapper because the output range is zero; converting to `"+c+": "+ve.strValue+"`"),this.parse(c,ve.strValue);if(pe.color){var we=ve.value,Te=be.value;if(!(we[0]!==Te[0]||we[1]!==Te[1]||we[2]!==Te[2]||we[3]!==Te[3]&&(null!=we[3]&&1!==we[3]||null!=Te[3]&&1!==Te[3])))return!1}return{name:c,value:de,strValue:""+q,mapped:me,field:de[1],fieldMin:parseFloat(de[2]),fieldMax:parseFloat(de[3]),valueMin:ve.value,valueMax:be.value,bypass:Y}}}if(pe.multiple&&"multiple"!==V){var _e;if(_e=oe?q.split(/\s+/):fNe(q)?q:[q],pe.evenMultiple&&_e.length%2!=0)return null;for(var Ee=[],Ce=[],Se=[],Ae="",Le=!1,Ne=0;Ne<_e.length;Ne++){var Ie=Z.parse(c,_e[Ne],Y,"multiple");Le=Le||pNe(Ie.value),Ee.push(Ie.value),Se.push(null!=Ie.pfValue?Ie.pfValue:Ie.value),Ce.push(Ie.units),Ae+=(Ne>0?" ":"")+Ie.strValue}return pe.validate&&!pe.validate(Ee,Ce)?null:pe.singleEnum&&Le?1===Ee.length&&pNe(Ee[0])?{name:c,value:Ee[0],strValue:Ee[0],bypass:Y}:null:{name:c,value:Ee,pfValue:Se,strValue:Ae,bypass:Y,units:Ce}}var Me=o(function(){for(var V=0;V<pe.enums.length;V++){if(pe.enums[V]===q)return{name:c,value:q,strValue:""+q,bypass:Y}}return null},"checkEnums");if(pe.number){var Re,Oe="px";if(pe.units&&(Re=pe.units),pe.implicitUnits&&(Oe=pe.implicitUnits),!pe.unitless)if(oe){var Be="px|em"+(pe.allowPercent?"|\\%":"");Re&&(Be=Re);var $e=q.match("^("+YNe+")("+Be+")?$");$e&&(q=$e[1],Re=$e[2]||Oe)}else(!Re||pe.implicitUnits)&&(Re=Oe);if(q=parseFloat(q),isNaN(q)&&void 0===pe.enums)return null;if(isNaN(q)&&void 0!==pe.enums)return q=ae,Me();if(pe.integer&&!xNe(q)||void 0!==pe.min&&(q<pe.min||pe.strictMin&&q===pe.min)||void 0!==pe.max&&(q>pe.max||pe.strictMax&&q===pe.max))return null;var Ue={name:c,value:q,strValue:""+q+(Re||""),units:Re,bypass:Y};return pe.unitless||"px"!==Re&&"em"!==Re?Ue.pfValue=q:Ue.pfValue="px"!==Re&&Re?this.getEmSizeInPixels()*q:q,("ms"===Re||"s"===Re)&&(Ue.pfValue="ms"===Re?q:1e3*q),("deg"===Re||"rad"===Re)&&(Ue.pfValue="rad"===Re?q:sPe(q)),"%"===Re&&(Ue.pfValue=q/100),Ue}if(pe.propList){var qe=[],je=""+q;if("none"!==je){for(var We=je.split(/\s*,\s*|\s+/),He=0;He<We.length;He++){var Ve=We[He].trim();Z.properties[Ve]?qe.push(Ve):xDe("`"+Ve+"` is not a valid property name")}if(0===qe.length)return null}return{name:c,value:qe,strValue:0===qe.length?"none":qe.join(" "),bypass:Y}}if(pe.color){var Ke=aIe(q);return Ke?{name:c,value:Ke,pfValue:Ke,strValue:"rgb("+Ke[0]+","+Ke[1]+","+Ke[2]+")",bypass:Y}:null}if(pe.regex||pe.regexes){if(pe.enums){var Qe=Me();if(Qe)return Qe}for(var Ze=pe.regexes?pe.regexes:[pe.regex],Je=0;Je<Ze.length;Je++){var et=new RegExp(Ze[Je]).exec(q);if(et)return{name:c,value:pe.singleRegexMatchValue?et[1]:et,strValue:""+q,bypass:Y}}return null}return pe.string?{name:c,value:""+q,strValue:""+q,bypass:Y}:pe.enums?Me():null},FYe=o(function t(c){if(!(this instanceof t))return new t(c);_Ne(c)?(this._private={cy:c,coreStyle:{}},this.length=0,this.resetToDefault()):yDe("A style must have a core reference")},"Style"),($Ye=FYe.prototype).instanceString=function(){return"style"},$Ye.clear=function(){for(var c=this._private,q=c.cy.elements(),Y=0;Y<this.length;Y++)this[Y]=void 0;return this.length=0,c.contextStyles={},c.propDiffs={},this.cleanElements(q,!0),q.forEach(function(c){var q=c[0]._private;q.styleDirty=!0,q.appliedInitStyle=!1}),this},$Ye.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},$Ye.core=function(c){return this._private.coreStyle[c]||this.getDefaultProperty(c)},$Ye.selector=function(c){var q="core"===c?null:new Fqe(c),Y=this.length++;return this[Y]={selector:q,properties:[],mappedProperties:[],index:Y},this},$Ye.css=function(){var c=arguments;if(1===c.length)for(var q=c[0],Y=0;Y<this.properties.length;Y++){var V=this.properties[Y],Z=q[V.name];void 0===Z&&(Z=q[$Ne(V.name)]),void 0!==Z&&this.cssRule(V.name,Z)}else 2===c.length&&this.cssRule(c[0],c[1]);return this},$Ye.style=$Ye.css,$Ye.cssRule=function(c,q){var Y=this.parse(c,q);if(Y){var V=this.length-1;this[V].properties.push(Y),this[V].properties[Y.name]=Y,Y.name.match(/pie-(\d+)-background-size/)&&Y.value&&(this._private.hasPie=!0),Y.mapped&&this[V].mappedProperties.push(Y),!this[V].selector&&(this._private.coreStyle[Y.name]=Y)}return this},$Ye.append=function(c){return ENe(c)?c.appendToStyle(this):fNe(c)?this.appendFromJson(c):pNe(c)&&this.appendFromString(c),this},FYe.fromJson=function(c,q){var Y=new FYe(c);return Y.fromJson(q),Y},FYe.fromString=function(c,q){return new FYe(c).fromString(q)},[LYe,IYe,MYe,RYe,DYe,OYe,PYe,BYe].forEach(function(c){eIe($Ye,c)}),FYe.types=$Ye.types,FYe.properties=$Ye.properties,FYe.propertyGroups=$Ye.propertyGroups,FYe.propertyGroupNames=$Ye.propertyGroupNames,FYe.propertyGroupKeys=$Ye.propertyGroupKeys,zYe={style:o(function(c){c&&this.setStyle(c).update();return this._private.style},"style"),setStyle:o(function(c){var q=this._private;return ENe(c)?q.style=c.generateStyle(this):fNe(c)?q.style=FYe.fromJson(this,c):pNe(c)?q.style=FYe.fromString(this,c):q.style=FYe(this),q.style},"setStyle"),updateStyle:o(function(){this.mutableElements().updateStyle()},"updateStyle")},(GYe={autolock:o(function(c){return void 0===c?this._private.autolock:(this._private.autolock=!!c,this)},"autolock"),autoungrabify:o(function(c){return void 0===c?this._private.autoungrabify:(this._private.autoungrabify=!!c,this)},"autoungrabify"),autounselectify:o(function(c){return void 0===c?this._private.autounselectify:(this._private.autounselectify=!!c,this)},"autounselectify"),selectionType:o(function(c){var q=this._private;return null==q.selectionType&&(q.selectionType="single"),void 0===c?q.selectionType:(("additive"===c||"single"===c)&&(q.selectionType=c),this)},"selectionType"),panningEnabled:o(function(c){return void 0===c?this._private.panningEnabled:(this._private.panningEnabled=!!c,this)},"panningEnabled"),userPanningEnabled:o(function(c){return void 0===c?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!c,this)},"userPanningEnabled"),zoomingEnabled:o(function(c){return void 0===c?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!c,this)},"zoomingEnabled"),userZoomingEnabled:o(function(c){return void 0===c?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!c,this)},"userZoomingEnabled"),boxSelectionEnabled:o(function(c){return void 0===c?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!c,this)},"boxSelectionEnabled"),pan:o(function(){var c,q,Y,V,Z,re=arguments,ae=this._private.pan;switch(re.length){case 0:return ae;case 1:if(pNe(re[0]))return ae[c=re[0]];if(mNe(re[0])){if(!this._private.panningEnabled)return this;V=(Y=re[0]).x,Z=Y.y,vNe(V)&&(ae.x=V),vNe(Z)&&(ae.y=Z),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;q=re[1],("x"===(c=re[0])||"y"===c)&&vNe(q)&&(ae[c]=q),this.emit("pan viewport")}return this.notify("viewport"),this},"pan"),panBy:o(function(c,q){var Y,V,Z,re,ae,se=arguments,oe=this._private.pan;if(!this._private.panningEnabled)return this;switch(se.length){case 1:mNe(c)&&(re=(Z=se[0]).x,ae=Z.y,vNe(re)&&(oe.x+=re),vNe(ae)&&(oe.y+=ae),this.emit("pan viewport"));break;case 2:V=q,("x"===(Y=c)||"y"===Y)&&vNe(V)&&(oe[Y]+=V),this.emit("pan viewport")}return this.notify("viewport"),this},"panBy"),fit:o(function(c,q){var Y=this.getFitViewport(c,q);if(Y){var V=this._private;V.zoom=Y.zoom,V.pan=Y.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:o(function(c,q){if(vNe(c)&&void 0===q&&(q=c,c=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var Y;if(pNe(c)){var V=c;c=this.$(V)}else if(LNe(c)){var Z=c;(Y={x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2}).w=Y.x2-Y.x1,Y.h=Y.y2-Y.y1}else wNe(c)||(c=this.mutableElements());if(!wNe(c)||!c.empty()){Y=Y||c.boundingBox();var re,ae=this.width(),se=this.height();if(q=vNe(q)?q:0,!isNaN(ae)&&!isNaN(se)&&ae>0&&se>0&&!isNaN(Y.w)&&!isNaN(Y.h)&&Y.w>0&&Y.h>0)return{zoom:re=(re=(re=Math.min((ae-2*q)/Y.w,(se-2*q)/Y.h))>this._private.maxZoom?this._private.maxZoom:re)<this._private.minZoom?this._private.minZoom:re,pan:{x:(ae-re*(Y.x1+Y.x2))/2,y:(se-re*(Y.y1+Y.y2))/2}}}}},"getFitViewport"),zoomRange:o(function(c,q){var Y=this._private;if(null==q){var V=c;c=V.min,q=V.max}return vNe(c)&&vNe(q)&&c<=q?(Y.minZoom=c,Y.maxZoom=q):vNe(c)&&void 0===q&&c<=Y.maxZoom?Y.minZoom=c:vNe(q)&&void 0===c&&q>=Y.minZoom&&(Y.maxZoom=q),this},"zoomRange"),minZoom:o(function(c){return void 0===c?this._private.minZoom:this.zoomRange({min:c})},"minZoom"),maxZoom:o(function(c){return void 0===c?this._private.maxZoom:this.zoomRange({max:c})},"maxZoom"),getZoomedViewport:o(function(c){var q,Y,V=this._private,Z=V.pan,re=V.zoom,ae=!1;if(V.zoomingEnabled||(ae=!0),vNe(c)?Y=c:mNe(c)&&(Y=c.level,null!=c.position?q=FOe(c.position,re,Z):null!=c.renderedPosition&&(q=c.renderedPosition),null!=q&&!V.panningEnabled&&(ae=!0)),Y=(Y=Y>V.maxZoom?V.maxZoom:Y)<V.minZoom?V.minZoom:Y,ae||!vNe(Y)||Y===re||null!=q&&(!vNe(q.x)||!vNe(q.y)))return null;if(null!=q){var se=Z,oe=re,he=Y;return{zoomed:!0,panned:!0,zoom:he,pan:{x:-he/oe*(q.x-se.x)+q.x,y:-he/oe*(q.y-se.y)+q.y}}}return{zoomed:!0,panned:!1,zoom:Y,pan:Z}},"getZoomedViewport"),zoom:o(function(c){if(void 0===c)return this._private.zoom;var q=this.getZoomedViewport(c),Y=this._private;return null!=q&&q.zoomed?(Y.zoom=q.zoom,q.panned&&(Y.pan.x=q.pan.x,Y.pan.y=q.pan.y),this.emit("zoom"+(q.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},"zoom"),viewport:o(function(c){var q=this._private,Y=!0,V=!0,Z=[],re=!1,ae=!1;if(!c)return this;if(vNe(c.zoom)||(Y=!1),mNe(c.pan)||(V=!1),!Y&&!V)return this;if(Y){var se=c.zoom;se<q.minZoom||se>q.maxZoom||!q.zoomingEnabled?re=!0:(q.zoom=se,Z.push("zoom"))}if(V&&(!re||!c.cancelOnFailedZoom)&&q.panningEnabled){var oe=c.pan;vNe(oe.x)&&(q.pan.x=oe.x,ae=!1),vNe(oe.y)&&(q.pan.y=oe.y,ae=!1),ae||Z.push("pan")}return Z.length>0&&(Z.push("viewport"),this.emit(Z.join(" ")),this.notify("viewport")),this},"viewport"),center:o(function(c){var q=this.getCenterPan(c);return q&&(this._private.pan=q,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:o(function(c,q){if(this._private.panningEnabled){if(pNe(c)){var Y=c;c=this.mutableElements().filter(Y)}else wNe(c)||(c=this.mutableElements());if(0!==c.length){var V=c.boundingBox(),Z=this.width(),re=this.height();return{x:(Z-(q=void 0===q?this._private.zoom:q)*(V.x1+V.x2))/2,y:(re-q*(V.y1+V.y2))/2}}}},"getCenterPan"),reset:o(function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},"reset"),invalidateSize:o(function(){this._private.sizeCache=null},"invalidateSize"),size:o(function(){var c,q,Y=this._private,V=Y.container,Z=this;return Y.sizeCache=Y.sizeCache||(V?(c=Z.window().getComputedStyle(V),q=o(function(q){return parseFloat(c.getPropertyValue(q))},"val"),{width:V.clientWidth-q("padding-left")-q("padding-right"),height:V.clientHeight-q("padding-top")-q("padding-bottom")}):{width:1,height:1})},"size"),width:o(function(){return this.size().width},"width"),height:o(function(){return this.size().height},"height"),extent:o(function(){var c=this._private.pan,q=this._private.zoom,Y=this.renderedExtent(),V={x1:(Y.x1-c.x)/q,x2:(Y.x2-c.x)/q,y1:(Y.y1-c.y)/q,y2:(Y.y2-c.y)/q};return V.w=V.x2-V.x1,V.h=V.y2-V.y1,V},"extent"),renderedExtent:o(function(){var c=this.width(),q=this.height();return{x1:0,y1:0,x2:c,y2:q,w:c,h:q}},"renderedExtent"),multiClickDebounceTime:o(function(c){return c?(this._private.multiClickDebounceTime=c,this):this._private.multiClickDebounceTime},"multiClickDebounceTime")}).centre=GYe.center,GYe.autolockNodes=GYe.autolock,GYe.autoungrabifyNodes=GYe.autoungrabify,(UYe={data:hqe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:hqe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:hqe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:hqe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})}).attr=UYe.data,UYe.removeAttr=UYe.removeData,qYe=o(function(c){var q=this,Y=(c=eIe({},c)).container;Y&&!bNe(Y)&&bNe(Y[0])&&(Y=Y[0]);var V=Y?Y._cyreg:null;(V=V||{})&&V.cy&&(V.cy.destroy(),V={});var Z=V.readies=V.readies||[];Y&&(Y._cyreg=V),V.cy=q;var re=void 0!==sNe&&void 0!==Y&&!c.headless,ae=c;ae.layout=eIe({name:re?"grid":"null"},ae.layout),ae.renderer=eIe({name:re?"canvas":"null"},ae.renderer);var se=o(function(c,q,Y){return void 0!==q?q:void 0!==Y?Y:c},"defVal"),oe=this._private={container:Y,ready:!1,options:ae,elements:new pYe(this),listeners:[],aniEles:new pYe(this),data:ae.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:se(!0,ae.zoomingEnabled),userZoomingEnabled:se(!0,ae.userZoomingEnabled),panningEnabled:se(!0,ae.panningEnabled),userPanningEnabled:se(!0,ae.userPanningEnabled),boxSelectionEnabled:se(!0,ae.boxSelectionEnabled),autolock:se(!1,ae.autolock,ae.autolockNodes),autoungrabify:se(!1,ae.autoungrabify,ae.autoungrabifyNodes),autounselectify:se(!1,ae.autounselectify),styleEnabled:void 0===ae.styleEnabled?re:ae.styleEnabled,zoom:vNe(ae.zoom)?ae.zoom:1,pan:{x:mNe(ae.pan)&&vNe(ae.pan.x)?ae.pan.x:0,y:mNe(ae.pan)&&vNe(ae.pan.y)?ae.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:se(250,ae.multiClickDebounceTime)};this.createEmitter(),this.selectionType(ae.selectionType),this.zoomRange({min:ae.minZoom,max:ae.maxZoom});var he=o(function(c,q){if(c.some(MNe))return cGe.all(c).then(q);q(c)},"loadExtData");oe.styleEnabled&&q.setStyle([]);var de=eIe({},ae,ae.renderer);q.initRenderer(de);var pe=o(function(c,Y,V){q.notifications(!1);var Z=q.mutableElements();Z.length>0&&Z.remove(),null!=c&&(mNe(c)||fNe(c))&&q.add(c),q.one("layoutready",function(c){q.notifications(!0),q.emit(c),q.one("load",Y),q.emitAndNotify("load")}).one("layoutstop",function(){q.one("done",V),q.emit("done")});var re=eIe({},q._private.options.layout);re.eles=q.elements(),q.layout(re).run()},"setElesAndLayout");he([ae.style,ae.elements],function(c){var Y=c[0],re=c[1];oe.styleEnabled&&q.style().append(Y),pe(re,function(){q.startAnimationLoop(),oe.ready=!0,gNe(ae.ready)&&q.on("ready",ae.ready);for(var c=0;c<Z.length;c++){var Y=Z[c];q.on("ready",Y)}V&&(V.readies=[]),q.emit("ready")},ae.done)})},"Core"),jYe=qYe.prototype,eIe(jYe,{instanceString:o(function(){return"core"},"instanceString"),isReady:o(function(){return this._private.ready},"isReady"),destroyed:o(function(){return this._private.destroyed},"destroyed"),ready:o(function(c){return this.isReady()?this.emitter().emit("ready",[],c):this.on("ready",c),this},"ready"),destroy:o(function(){var c=this;if(!c.destroyed())return c.stopAnimationLoop(),c.destroyRenderer(),this.emit("destroy"),c._private.destroyed=!0,c},"destroy"),hasElementWithId:o(function(c){return this._private.elements.hasElementWithId(c)},"hasElementWithId"),getElementById:o(function(c){return this._private.elements.getElementById(c)},"getElementById"),hasCompoundNodes:o(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:o(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:o(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:o(function(c){return this._private.elements.merge(c),this},"addToPool"),removeFromPool:o(function(c){return this._private.elements.unmerge(c),this},"removeFromPool"),container:o(function(){return this._private.container||null},"container"),window:o(function(){if(null==this._private.container)return sNe;var c=this._private.container.ownerDocument;return void 0===c||null==c?sNe:c.defaultView||sNe},"window"),mount:o(function(c){if(null!=c){var q=this,Y=q._private,V=Y.options;return!bNe(c)&&bNe(c[0])&&(c=c[0]),q.stopAnimationLoop(),q.destroyRenderer(),Y.container=c,Y.styleEnabled=!0,q.invalidateSize(),q.initRenderer(eIe({},V,V.renderer,{name:"null"===V.renderer.name?"canvas":V.renderer.name})),q.startAnimationLoop(),q.style(V.style),q.emit("mount"),q}},"mount"),unmount:o(function(){var c=this;return c.stopAnimationLoop(),c.destroyRenderer(),c.initRenderer({name:"null"}),c.emit("unmount"),c},"unmount"),options:o(function(){return wDe(this._private.options)},"options"),json:o(function(c){var q=this,Y=q._private,V=q.mutableElements(),Z=o(function(c){return q.getElementById(c.id())},"getFreshRef");if(mNe(c)){if(q.startBatch(),c.elements){var re={},ae=o(function(c,Y){for(var V=[],Z=[],ae=0;ae<c.length;ae++){var se=c[ae];if(se.data.id){var oe=""+se.data.id,he=q.getElementById(oe);re[oe]=!0,0!==he.length?Z.push({ele:he,json:se}):(Y&&(se.group=Y),V.push(se))}else xDe("cy.json() cannot handle elements without an ID attribute")}q.add(V);for(var de=0;de<Z.length;de++){var pe=Z[de],ge=pe.ele,me=pe.json;ge.json(me)}},"updateEles");if(fNe(c.elements))ae(c.elements);else for(var se=["nodes","edges"],oe=0;oe<se.length;oe++){var he=se[oe],de=c.elements[he];fNe(de)&&ae(de,he)}var pe=q.collection();V.filter(function(c){return!re[c.id()]}).forEach(function(c){c.isParent()?pe.merge(c):c.remove()}),pe.forEach(function(c){return c.children().move({parent:null})}),pe.forEach(function(c){return Z(c).remove()})}c.style&&q.style(c.style),null!=c.zoom&&c.zoom!==Y.zoom&&q.zoom(c.zoom),c.pan&&(c.pan.x!==Y.pan.x||c.pan.y!==Y.pan.y)&&q.pan(c.pan),c.data&&q.data(c.data);for(var ge=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],me=0;me<ge.length;me++){var ve=ge[me];null!=c[ve]&&q[ve](c[ve])}return q.endBatch(),this}var be={};!!c?be.elements=this.elements().map(function(c){return c.json()}):(be.elements={},V.forEach(function(c){var q=c.group();be.elements[q]||(be.elements[q]=[]),be.elements[q].push(c.json())})),this._private.styleEnabled&&(be.style=q.style().json()),be.data=wDe(q.data());var we=Y.options;return be.zoomingEnabled=Y.zoomingEnabled,be.userZoomingEnabled=Y.userZoomingEnabled,be.zoom=Y.zoom,be.minZoom=Y.minZoom,be.maxZoom=Y.maxZoom,be.panningEnabled=Y.panningEnabled,be.userPanningEnabled=Y.userPanningEnabled,be.pan=wDe(Y.pan),be.boxSelectionEnabled=Y.boxSelectionEnabled,be.renderer=wDe(we.renderer),be.hideEdgesOnViewport=we.hideEdgesOnViewport,be.textureOnViewport=we.textureOnViewport,be.wheelSensitivity=we.wheelSensitivity,be.motionBlur=we.motionBlur,be.multiClickDebounceTime=we.multiClickDebounceTime,be},"json")}),jYe.$id=jYe.getElementById,[fYe,xYe,kYe,TYe,_Ye,EYe,SYe,AYe,zYe,GYe,UYe].forEach(function(c){eIe(jYe,c)}),YYe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(c,q){return q},"transform")},WYe={maximal:!1,acyclic:!1},HYe=o(function(c){return c.scratch("breadthfirst")},"getInfo"),VYe=o(function(c,q){return c.scratch("breadthfirst",q)},"setInfo"),o(Qge,"BreadthFirstLayout"),Qge.prototype.run=function(){var c,q=this.options,Y=q,V=q.cy,Z=Y.eles,re=Z.nodes().filter(function(c){return!c.isParent()}),ae=Z,se=Y.directed,oe=Y.acyclic||Y.maximal||Y.maximalAdjustments>0,he=yPe(Y.boundingBox?Y.boundingBox:{x1:0,y1:0,w:V.width(),h:V.height()});if(wNe(Y.roots))c=Y.roots;else if(fNe(Y.roots)){for(var de=[],pe=0;pe<Y.roots.length;pe++){var ge=Y.roots[pe],me=V.getElementById(ge);de.push(me)}c=V.collection(de)}else if(pNe(Y.roots))c=V.$(Y.roots);else if(se)c=re.roots();else{var ve=Z.components();c=V.collection();for(var be=o(function(q){var Y=ve[q],V=Y.maxDegree(!1),Z=Y.filter(function(c){return c.degree(!1)===V});c=c.add(Z)},"_loop"),we=0;we<ve.length;we++)be(we)}var Te=[],_e={},Ee=o(function(c,q){null==Te[q]&&(Te[q]=[]);var Y=Te[q].length;Te[q].push(c),VYe(c,{index:Y,depth:q})},"addToDepth"),Ce=o(function(c,q){var Y=HYe(c),V=Y.depth,Z=Y.index;Te[V][Z]=null,Ee(c,q)},"changeDepth");ae.bfs({roots:c,directed:Y.directed,visit:o(function(c,q,Y,V,Z){var re=c[0],ae=re.id();Ee(re,Z),_e[ae]=!0},"visit")});for(var Se=[],Ae=0;Ae<re.length;Ae++){var Le=re[Ae];_e[Le.id()]||Se.push(Le)}var Ne=o(function(c){for(var q=Te[c],Y=0;Y<q.length;Y++){var V=q[Y];null!=V?VYe(V,{depth:c,index:Y}):(q.splice(Y,1),Y--)}},"assignDepthsAt"),Ie=o(function(){for(var c=0;c<Te.length;c++)Ne(c)},"assignDepths"),Me=o(function(c,q){for(var V=HYe(c),re=c.incomers().filter(function(c){return c.isNode()&&Z.has(c)}),ae=-1,se=c.id(),oe=0;oe<re.length;oe++){var he=re[oe],de=HYe(he);ae=Math.max(ae,de.depth)}if(V.depth<=ae){if(!Y.acyclic&&q[se])return null;var pe=ae+1;return Ce(c,pe),q[se]=pe,!0}return!1},"adjustMaximally");if(se&&oe){var Re=[],Oe={},Be=o(function(c){return Re.push(c)},"enqueue"),$e=o(function(){return Re.shift()},"dequeue");for(re.forEach(function(c){return Re.push(c)});Re.length>0;){var Ue=$e(),qe=Me(Ue,Oe);if(qe)Ue.outgoers().filter(function(c){return c.isNode()&&Z.has(c)}).forEach(Be);else if(null===qe){xDe("Detected double maximal shift for node `"+Ue.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}Ie();var je=0;if(Y.avoidOverlap)for(var We=0;We<re.length;We++){var He=re[We].layoutDimensions(Y),Ve=He.w,Ke=He.h;je=Math.max(je,Ve,Ke)}var Qe={},Ze=o(function(c){if(Qe[c.id()])return Qe[c.id()];for(var q=HYe(c).depth,Y=c.neighborhood(),V=0,Z=0,ae=0;ae<Y.length;ae++){var se=Y[ae];if(!se.isEdge()&&!se.isParent()&&re.has(se)){var oe=HYe(se);if(null!=oe){var he=oe.index,de=oe.depth;if(null!=he&&null!=de){var pe=Te[de].length;de<q&&(V+=he/pe,Z++)}}}}return V/=Z=Math.max(1,Z),0===Z&&(V=0),Qe[c.id()]=V,V},"getWeightedPercent"),Je=o(function(c,q){var Y=Ze(c)-Ze(q);return 0===Y?ZNe(c.id(),q.id()):Y},"sortFn");void 0!==Y.depthSort&&(Je=Y.depthSort);for(var et=0;et<Te.length;et++)Te[et].sort(Je),Ne(et);for(var tt=[],rt=0;rt<Se.length;rt++)tt.push(Se[rt]);Te.unshift(tt),Ie();for(var nt=0,it=0;it<Te.length;it++)nt=Math.max(Te[it].length,nt);var at=he.x1+he.w/2,st=he.x1+he.h/2,ot=Te.reduce(function(c,q){return Math.max(c,q.length)},0),lt=o(function(c){var q=HYe(c),V=q.depth,Z=q.index,re=Te[V].length,ae=Math.max(he.w/((Y.grid?ot:re)+1),je),se=Math.max(he.h/(Te.length+1),je),oe=Math.min(he.w/2/Te.length,he.h/2/Te.length);if(oe=Math.max(oe,je),Y.circle){var de=oe*V+oe-(Te.length>0&&Te[0].length<=3?oe/2:0),pe=2*Math.PI/Te[V].length*Z;return 0===V&&1===Te[0].length&&(de=1),{x:at+de*Math.cos(pe),y:st+de*Math.sin(pe)}}return{x:at+(Z+1-(re+1)/2)*ae,y:(V+1)*se}},"getPosition");return Z.nodes().layoutPositions(this,Y,lt),this},XYe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(c,q){return q},"transform")},o(Zge,"CircleLayout"),Zge.prototype.run=function(){var c=this.options,q=c,Y=c.cy,V=q.eles,Z=void 0!==q.counterclockwise?!q.counterclockwise:q.clockwise,re=V.nodes().not(":parent");q.sort&&(re=re.sort(q.sort));for(var ae,se=yPe(q.boundingBox?q.boundingBox:{x1:0,y1:0,w:Y.width(),h:Y.height()}),oe={x:se.x1+se.w/2,y:se.y1+se.h/2},he=(void 0===q.sweep?2*Math.PI-2*Math.PI/re.length:q.sweep)/Math.max(1,re.length-1),de=0,pe=0;pe<re.length;pe++){var ge=re[pe].layoutDimensions(q),me=ge.w,ve=ge.h;de=Math.max(de,me,ve)}if(ae=vNe(q.radius)?q.radius:re.length<=1?0:Math.min(se.h,se.w)/2-de,re.length>1&&q.avoidOverlap){de*=1.75;var be=Math.cos(he)-Math.cos(0),we=Math.sin(he)-Math.sin(0),Te=Math.sqrt(de*de/(be*be+we*we));ae=Math.max(Te,ae)}var _e=o(function(c,Y){var V=q.startAngle+Y*he*(Z?1:-1),re=ae*Math.cos(V),se=ae*Math.sin(V);return{x:oe.x+re,y:oe.y+se}},"getPos");return V.nodes().layoutPositions(this,q,_e),this},KYe={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:o(function(c){return c.degree()},"concentric"),levelWidth:o(function(c){return c.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(c,q){return q},"transform")},o(Jge,"ConcentricLayout"),Jge.prototype.run=function(){for(var c=this.options,q=c,Y=void 0!==q.counterclockwise?!q.counterclockwise:q.clockwise,V=c.cy,Z=q.eles,re=Z.nodes().not(":parent"),ae=yPe(q.boundingBox?q.boundingBox:{x1:0,y1:0,w:V.width(),h:V.height()}),se={x:ae.x1+ae.w/2,y:ae.y1+ae.h/2},oe=[],he=0,de=0;de<re.length;de++){var pe,ge=re[de];pe=q.concentric(ge),oe.push({value:pe,node:ge}),ge._private.scratch.concentric=pe}re.updateStyle();for(var me=0;me<re.length;me++){var ve=re[me].layoutDimensions(q);he=Math.max(he,ve.w,ve.h)}oe.sort(function(c,q){return q.value-c.value});for(var be=q.levelWidth(re),we=[[]],Te=we[0],_e=0;_e<oe.length;_e++){var Ee=oe[_e];if(Te.length>0)Math.abs(Te[0].value-Ee.value)>=be&&(Te=[],we.push(Te));Te.push(Ee)}var Ce=he+q.minNodeSpacing;if(!q.avoidOverlap){var Se=we.length>0&&we[0].length>1,Ae=(Math.min(ae.w,ae.h)/2-Ce)/(we.length+Se?1:0);Ce=Math.min(Ce,Ae)}for(var Le=0,Ne=0;Ne<we.length;Ne++){var Ie=we[Ne],Me=void 0===q.sweep?2*Math.PI-2*Math.PI/Ie.length:q.sweep,Re=Ie.dTheta=Me/Math.max(1,Ie.length-1);if(Ie.length>1&&q.avoidOverlap){var Oe=Math.cos(Re)-Math.cos(0),Be=Math.sin(Re)-Math.sin(0),$e=Math.sqrt(Ce*Ce/(Oe*Oe+Be*Be));Le=Math.max($e,Le)}Ie.r=Le,Le+=Ce}if(q.equidistant){for(var Ue=0,qe=0,je=0;je<we.length;je++){var We=we[je].r-qe;Ue=Math.max(Ue,We)}qe=0;for(var He=0;He<we.length;He++){var Ve=we[He];0===He&&(qe=Ve.r),Ve.r=qe,qe+=Ue}}for(var Ke={},Qe=0;Qe<we.length;Qe++)for(var Ze=we[Qe],Je=Ze.dTheta,et=Ze.r,tt=0;tt<Ze.length;tt++){var rt=Ze[tt],nt=q.startAngle+(Y?1:-1)*Je*tt,it={x:se.x+et*Math.cos(nt),y:se.y+et*Math.sin(nt)};Ke[rt.node.id()]=it}return Z.nodes().layoutPositions(this,q,function(c){var q=c.id();return Ke[q]}),this},JYe={ready:o(function(){},"ready"),stop:o(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:o(function(c){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:o(function(c){return 32},"idealEdgeLength"),edgeElasticity:o(function(c){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},o(G6,"CoseLayout"),G6.prototype.run=function(){var c=this.options,q=c.cy,Y=this;Y.stopped=!1,(!0===c.animate||!1===c.animate)&&Y.emit({type:"layoutstart",layout:Y}),QYe=!0===c.debug;var V=eWe(q,Y,c);QYe&&undefined(V),c.randomize&&nWe(V);var Z=sRe(),re=o(function(){aWe(V,q,c),!0===c.fit&&q.fit(c.padding)},"refresh"),ae=o(function(q){return!(Y.stopped||q>=c.numIter||(sWe(V,c),V.temperature=V.temperature*c.coolingFactor,V.temperature<c.minTemp))},"mainLoop"),se=o(function(){if(!0===c.animate||!1===c.animate)re(),Y.one("layoutstop",c.stop),Y.emit({type:"layoutstop",layout:Y});else{var q=c.eles.nodes(),Z=iWe(V,c,q);q.layoutPositions(Y,c,Z)}},"done"),oe=0,he=!0;if(!0===c.animate){o(function d(){for(var q=0;he&&q<c.refresh;)he=ae(oe),oe++,q++;he?(sRe()-Z>=c.animationThreshold&&re(),iRe(d)):(vWe(V,c),se())},"frame")()}else{for(;he;)he=ae(oe),oe++;vWe(V,c),se()}return this},G6.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},G6.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},eWe=o(function(c,q,Y){for(var V=Y.eles.edges(),Z=Y.eles.nodes(),re=yPe(Y.boundingBox?Y.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),ae={isCompound:c.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:Z.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:V.size(),temperature:Y.initialTemp,clientWidth:re.w,clientHeight:re.h,boundingBox:re},se=Y.eles.components(),oe={},he=0;he<se.length;he++)for(var de=se[he],pe=0;pe<de.length;pe++){oe[de[pe].id()]=he}for(he=0;he<ae.nodeSize;he++){var ge=(Te=Z[he]).layoutDimensions(Y);(je={}).isLocked=Te.locked(),je.id=Te.data("id"),je.parentId=Te.data("parent"),je.cmptId=oe[Te.id()],je.children=[],je.positionX=Te.position("x"),je.positionY=Te.position("y"),je.offsetX=0,je.offsetY=0,je.height=ge.w,je.width=ge.h,je.maxX=je.positionX+je.width/2,je.minX=je.positionX-je.width/2,je.maxY=je.positionY+je.height/2,je.minY=je.positionY-je.height/2,je.padLeft=parseFloat(Te.style("padding")),je.padRight=parseFloat(Te.style("padding")),je.padTop=parseFloat(Te.style("padding")),je.padBottom=parseFloat(Te.style("padding")),je.nodeRepulsion=gNe(Y.nodeRepulsion)?Y.nodeRepulsion(Te):Y.nodeRepulsion,ae.layoutNodes.push(je),ae.idToIndex[je.id]=he}var me=[],ve=0,be=-1,we=[];for(he=0;he<ae.nodeSize;he++){var Te,_e=(Te=ae.layoutNodes[he]).parentId;null!=_e?ae.layoutNodes[ae.idToIndex[_e]].children.push(Te.id):(me[++be]=Te.id,we.push(Te.id))}for(ae.graphSet.push(we);ve<=be;){var Ee=me[ve++],Ce=ae.idToIndex[Ee],Se=ae.layoutNodes[Ce].children;if(Se.length>0){ae.graphSet.push(Se);for(he=0;he<Se.length;he++)me[++be]=Se[he]}}for(he=0;he<ae.graphSet.length;he++){var Ae=ae.graphSet[he];for(pe=0;pe<Ae.length;pe++){var Le=ae.idToIndex[Ae[pe]];ae.indexToGraph[Le]=he}}for(he=0;he<ae.edgeSize;he++){var Ne=V[he],Ie={};Ie.id=Ne.data("id"),Ie.sourceId=Ne.data("source"),Ie.targetId=Ne.data("target");var Me=gNe(Y.idealEdgeLength)?Y.idealEdgeLength(Ne):Y.idealEdgeLength,Re=gNe(Y.edgeElasticity)?Y.edgeElasticity(Ne):Y.edgeElasticity,Oe=ae.idToIndex[Ie.sourceId],Be=ae.idToIndex[Ie.targetId];if(ae.indexToGraph[Oe]!=ae.indexToGraph[Be]){for(var $e=tWe(Ie.sourceId,Ie.targetId,ae),Ue=ae.graphSet[$e],qe=0,je=ae.layoutNodes[Oe];-1===Ue.indexOf(je.id);)je=ae.layoutNodes[ae.idToIndex[je.parentId]],qe++;for(je=ae.layoutNodes[Be];-1===Ue.indexOf(je.id);)je=ae.layoutNodes[ae.idToIndex[je.parentId]],qe++;Me*=qe*Y.nestingFactor}Ie.idealLength=Me,Ie.elasticity=Re,ae.layoutEdges.push(Ie)}return ae},"createLayoutInfo"),tWe=o(function(c,q,Y){var V=rWe(c,q,0,Y);return 2>V.count?0:V.graph},"findLCA"),rWe=o(function t(c,q,Y,V){var Z=V.graphSet[Y];if(-1<Z.indexOf(c)&&-1<Z.indexOf(q))return{count:2,graph:Y};for(var re=0,ae=0;ae<Z.length;ae++){var se=Z[ae],oe=V.idToIndex[se],he=V.layoutNodes[oe].children;if(0!==he.length){var de=t(c,q,V.indexToGraph[V.idToIndex[he[0]]],V);if(0!==de.count){if(1!==de.count)return de;if(2===++re)break}}}return{count:re,graph:Y}},"findLCA_aux"),nWe=o(function(c,q){for(var Y=c.clientWidth,V=c.clientHeight,Z=0;Z<c.nodeSize;Z++){var re=c.layoutNodes[Z];0===re.children.length&&!re.isLocked&&(re.positionX=Math.random()*Y,re.positionY=Math.random()*V)}},"randomizePositions"),iWe=o(function(c,q,Y){var V=c.boundingBox,Z={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return q.boundingBox&&(Y.forEach(function(q){var Y=c.layoutNodes[c.idToIndex[q.data("id")]];Z.x1=Math.min(Z.x1,Y.positionX),Z.x2=Math.max(Z.x2,Y.positionX),Z.y1=Math.min(Z.y1,Y.positionY),Z.y2=Math.max(Z.y2,Y.positionY)}),Z.w=Z.x2-Z.x1,Z.h=Z.y2-Z.y1),function(Y,re){var ae=c.layoutNodes[c.idToIndex[Y.data("id")]];if(q.boundingBox){var se=(ae.positionX-Z.x1)/Z.w,oe=(ae.positionY-Z.y1)/Z.h;return{x:V.x1+se*V.w,y:V.y1+oe*V.h}}return{x:ae.positionX,y:ae.positionY}}},"getScaleInBoundsFn"),aWe=o(function(c,q,Y){var V=Y.layout,Z=Y.eles.nodes(),re=iWe(c,Y,Z);Z.positions(re),!0!==c.ready&&(c.ready=!0,V.one("layoutready",Y.ready),V.emit({type:"layoutready",layout:this}))},"refreshPositions"),sWe=o(function(c,q,Y){oWe(c,q),dWe(c),pWe(c,q),gWe(c),fWe(c)},"step"),oWe=o(function(c,q){for(var Y=0;Y<c.graphSet.length;Y++)for(var V=c.graphSet[Y],Z=V.length,re=0;re<Z;re++)for(var ae=c.layoutNodes[c.idToIndex[V[re]]],se=re+1;se<Z;se++){var oe=c.layoutNodes[c.idToIndex[V[se]]];cWe(ae,oe,c,q)}},"calculateNodeForces"),lWe=o(function(c){return-c+2*c*Math.random()},"randomDistance"),cWe=o(function(c,q,Y,V){if(c.cmptId===q.cmptId||Y.isCompound){var Z=q.positionX-c.positionX,re=q.positionY-c.positionY;0===Z&&0===re&&(Z=lWe(1),re=lWe(1));var ae=hWe(c,q,Z,re);if(ae>0)var se=(he=V.nodeOverlap*ae)*Z/(be=Math.sqrt(Z*Z+re*re)),oe=he*re/be;else{var he,de=uWe(c,Z,re),pe=uWe(q,-1*Z,-1*re),ge=pe.x-de.x,me=pe.y-de.y,ve=ge*ge+me*me,be=Math.sqrt(ve);se=(he=(c.nodeRepulsion+q.nodeRepulsion)/ve)*ge/be,oe=he*me/be}c.isLocked||(c.offsetX-=se,c.offsetY-=oe),q.isLocked||(q.offsetX+=se,q.offsetY+=oe)}},"nodeRepulsion"),hWe=o(function(c,q,Y,V){if(Y>0)var Z=c.maxX-q.minX;else Z=q.maxX-c.minX;if(V>0)var re=c.maxY-q.minY;else re=q.maxY-c.minY;return Z>=0&&re>=0?Math.sqrt(Z*Z+re*re):0},"nodesOverlap"),uWe=o(function(c,q,Y){var V=c.positionX,Z=c.positionY,re=c.height||1,ae=c.width||1,se=Y/q,oe=re/ae,he={};return 0===q&&0<Y||0===q&&0>Y?(he.x=V,he.y=Z+re/2,he):0<q&&-1*oe<=se&&se<=oe?(he.x=V+ae/2,he.y=Z+ae*Y/2/q,he):0>q&&-1*oe<=se&&se<=oe?(he.x=V-ae/2,he.y=Z-ae*Y/2/q,he):0<Y&&(se<=-1*oe||se>=oe)?(he.x=V+re*q/2/Y,he.y=Z+re/2,he):(0>Y&&(se<=-1*oe||se>=oe)&&(he.x=V-re*q/2/Y,he.y=Z-re/2),he)},"findClippingPoint"),dWe=o(function(c,q){for(var Y=0;Y<c.edgeSize;Y++){var V=c.layoutEdges[Y],Z=c.idToIndex[V.sourceId],re=c.layoutNodes[Z],ae=c.idToIndex[V.targetId],se=c.layoutNodes[ae],oe=se.positionX-re.positionX,he=se.positionY-re.positionY;if(0!==oe||0!==he){var de=uWe(re,oe,he),pe=uWe(se,-1*oe,-1*he),ge=pe.x-de.x,me=pe.y-de.y,ve=Math.sqrt(ge*ge+me*me),be=Math.pow(V.idealLength-ve,2)/V.elasticity;if(0!==ve)var we=be*ge/ve,Te=be*me/ve;else we=0,Te=0;re.isLocked||(re.offsetX+=we,re.offsetY+=Te),se.isLocked||(se.offsetX-=we,se.offsetY-=Te)}}},"calculateEdgeForces"),pWe=o(function(c,q){if(0!==q.gravity)for(var Y=0;Y<c.graphSet.length;Y++){var V=c.graphSet[Y],Z=V.length;if(0===Y)var re=c.clientHeight/2,ae=c.clientWidth/2;else{var se=c.layoutNodes[c.idToIndex[V[0]]],oe=c.layoutNodes[c.idToIndex[se.parentId]];re=oe.positionX,ae=oe.positionY}for(var he=0;he<Z;he++){var de=c.layoutNodes[c.idToIndex[V[he]]];if(!de.isLocked){var pe=re-de.positionX,ge=ae-de.positionY,me=Math.sqrt(pe*pe+ge*ge);if(me>1){var ve=q.gravity*pe/me,be=q.gravity*ge/me;de.offsetX+=ve,de.offsetY+=be}}}}},"calculateGravityForces"),gWe=o(function(c,q){var Y=[],V=0,Z=-1;for(Y.push.apply(Y,c.graphSet[0]),Z+=c.graphSet[0].length;V<=Z;){var re=Y[V++],ae=c.idToIndex[re],se=c.layoutNodes[ae],oe=se.children;if(0<oe.length&&!se.isLocked){for(var he=se.offsetX,de=se.offsetY,pe=0;pe<oe.length;pe++){var ge=c.layoutNodes[c.idToIndex[oe[pe]]];ge.offsetX+=he,ge.offsetY+=de,Y[++Z]=oe[pe]}se.offsetX=0,se.offsetY=0}}},"propagateForces"),fWe=o(function(c,q){for(var Y=0;Y<c.nodeSize;Y++){0<(Z=c.layoutNodes[Y]).children.length&&(Z.maxX=void 0,Z.minX=void 0,Z.maxY=void 0,Z.minY=void 0)}for(Y=0;Y<c.nodeSize;Y++){if(!(0<(Z=c.layoutNodes[Y]).children.length||Z.isLocked)){var V=mWe(Z.offsetX,Z.offsetY,c.temperature);Z.positionX+=V.x,Z.positionY+=V.y,Z.offsetX=0,Z.offsetY=0,Z.minX=Z.positionX-Z.width,Z.maxX=Z.positionX+Z.width,Z.minY=Z.positionY-Z.height,Z.maxY=Z.positionY+Z.height,yWe(Z,c)}}for(Y=0;Y<c.nodeSize;Y++){var Z;0<(Z=c.layoutNodes[Y]).children.length&&!Z.isLocked&&(Z.positionX=(Z.maxX+Z.minX)/2,Z.positionY=(Z.maxY+Z.minY)/2,Z.width=Z.maxX-Z.minX,Z.height=Z.maxY-Z.minY)}},"updatePositions"),mWe=o(function(c,q,Y){var V=Math.sqrt(c*c+q*q);if(V>Y)var Z={x:Y*c/V,y:Y*q/V};else Z={x:c,y:q};return Z},"limitForce"),yWe=o(function t(c,q){var Y=c.parentId;if(null!=Y){var V=q.layoutNodes[q.idToIndex[Y]],Z=!1;if((null==V.maxX||c.maxX+V.padRight>V.maxX)&&(V.maxX=c.maxX+V.padRight,Z=!0),(null==V.minX||c.minX-V.padLeft<V.minX)&&(V.minX=c.minX-V.padLeft,Z=!0),(null==V.maxY||c.maxY+V.padBottom>V.maxY)&&(V.maxY=c.maxY+V.padBottom,Z=!0),(null==V.minY||c.minY-V.padTop<V.minY)&&(V.minY=c.minY-V.padTop,Z=!0),Z)return t(V,q)}},"updateAncestryBoundaries"),vWe=o(function(c,q){for(var Y=c.layoutNodes,V=[],Z=0;Z<Y.length;Z++){var re=Y[Z],ae=re.cmptId;(V[ae]=V[ae]||[]).push(re)}var se=0;for(Z=0;Z<V.length;Z++){if(be=V[Z]){be.x1=1/0,be.x2=-1/0,be.y1=1/0,be.y2=-1/0;for(var oe=0;oe<be.length;oe++){var he=be[oe];be.x1=Math.min(be.x1,he.positionX-he.width/2),be.x2=Math.max(be.x2,he.positionX+he.width/2),be.y1=Math.min(be.y1,he.positionY-he.height/2),be.y2=Math.max(be.y2,he.positionY+he.height/2)}be.w=be.x2-be.x1,be.h=be.y2-be.y1,se+=be.w*be.h}}V.sort(function(c,q){return q.w*q.h-c.w*c.h});var de=0,pe=0,ge=0,me=0,ve=Math.sqrt(se)*c.clientWidth/c.clientHeight;for(Z=0;Z<V.length;Z++){var be;if(be=V[Z]){for(oe=0;oe<be.length;oe++){(he=be[oe]).isLocked||(he.positionX+=de-be.x1,he.positionY+=pe-be.y1)}de+=be.w+q.componentSpacing,ge+=be.w+q.componentSpacing,me=Math.max(me,be.h),ge>ve&&(pe+=me+q.componentSpacing,de=0,ge=0,me=0)}}},"separateComponents"),xWe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:o(function(c){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(c,q){return q},"transform")},o(t1e,"GridLayout"),t1e.prototype.run=function(){var c=this.options,q=c,Y=c.cy,V=q.eles,Z=V.nodes().not(":parent");q.sort&&(Z=Z.sort(q.sort));var re=yPe(q.boundingBox?q.boundingBox:{x1:0,y1:0,w:Y.width(),h:Y.height()});if(0===re.h||0===re.w)V.nodes().layoutPositions(this,q,function(c){return{x:re.x1,y:re.y1}});else{var ae=Z.size(),se=Math.sqrt(ae*re.h/re.w),oe=Math.round(se),he=Math.round(re.w/re.h*se),de=o(function(c){if(null==c)return Math.min(oe,he);Math.min(oe,he)==oe?oe=c:he=c},"small"),pe=o(function(c){if(null==c)return Math.max(oe,he);Math.max(oe,he)==oe?oe=c:he=c},"large"),ge=q.rows,me=null!=q.cols?q.cols:q.columns;if(null!=ge&&null!=me)oe=ge,he=me;else if(null!=ge&&null==me)oe=ge,he=Math.ceil(ae/oe);else if(null==ge&&null!=me)he=me,oe=Math.ceil(ae/he);else if(he*oe>ae){var ve=de(),be=pe();(ve-1)*be>=ae?de(ve-1):(be-1)*ve>=ae&&pe(be-1)}else for(;he*oe<ae;){var we=de(),Te=pe();(Te+1)*we>=ae?pe(Te+1):de(we+1)}var _e=re.w/he,Ee=re.h/oe;if(q.condense&&(_e=0,Ee=0),q.avoidOverlap)for(var Ce=0;Ce<Z.length;Ce++){var Se=Z[Ce],Ae=Se._private.position;(null==Ae.x||null==Ae.y)&&(Ae.x=0,Ae.y=0);var Le=Se.layoutDimensions(q),Ne=q.avoidOverlapPadding,Ie=Le.w+Ne,Me=Le.h+Ne;_e=Math.max(_e,Ie),Ee=Math.max(Ee,Me)}for(var Re={},Oe=o(function(c,q){return!!Re["c-"+c+"-"+q]},"used"),Be=o(function(c,q){Re["c-"+c+"-"+q]=!0},"use"),$e=0,Ue=0,qe=o(function(){++Ue>=he&&(Ue=0,$e++)},"moveToNextCell"),je={},We=0;We<Z.length;We++){var He=Z[We],Ve=q.position(He);if(Ve&&(void 0!==Ve.row||void 0!==Ve.col)){var Ke={row:Ve.row,col:Ve.col};if(void 0===Ke.col)for(Ke.col=0;Oe(Ke.row,Ke.col);)Ke.col++;else if(void 0===Ke.row)for(Ke.row=0;Oe(Ke.row,Ke.col);)Ke.row++;je[He.id()]=Ke,Be(Ke.row,Ke.col)}}var Qe=o(function(c,q){var Y,V;if(c.locked()||c.isParent())return!1;var Z=je[c.id()];if(Z)Y=Z.col*_e+_e/2+re.x1,V=Z.row*Ee+Ee/2+re.y1;else{for(;Oe($e,Ue);)qe();Y=Ue*_e+_e/2+re.x1,V=$e*Ee+Ee/2+re.y1,Be($e,Ue),qe()}return{x:Y,y:V}},"getPos");Z.layoutPositions(this,q,Qe)}return this},bWe={ready:o(function(){},"ready"),stop:o(function(){},"stop")},o(vB,"NullLayout"),vB.prototype.run=function(){var c=this.options,q=c.eles,Y=this;return c.cy,Y.emit("layoutstart"),q.nodes().positions(function(){return{x:0,y:0}}),Y.one("layoutready",c.ready),Y.emit("layoutready"),Y.one("layoutstop",c.stop),Y.emit("layoutstop"),this},vB.prototype.stop=function(){return this},wWe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(c,q){return q},"transform")},o(r1e,"PresetLayout"),r1e.prototype.run=function(){var c=this.options,q=c.eles.nodes(),Y=gNe(c.positions);function i(q){return null==c.positions?BOe(q.position()):Y?c.positions(q):c.positions[q._private.data.id]??null}return o(i,"getPosition"),q.layoutPositions(this,c,function(c,q){var Y=i(c);return!c.locked()&&null!=Y&&Y}),this},kWe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(c,q){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(c,q){return q},"transform")},o(n1e,"RandomLayout"),n1e.prototype.run=function(){var c=this.options,q=c.cy,Y=c.eles,V=yPe(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:q.width(),h:q.height()}),Z=o(function(c,q){return{x:V.x1+Math.round(Math.random()*V.w),y:V.y1+Math.round(Math.random()*V.h)}},"getPos");return Y.nodes().layoutPositions(this,c,Z),this},TWe=[{name:"breadthfirst",impl:Qge},{name:"circle",impl:Zge},{name:"concentric",impl:Jge},{name:"cose",impl:G6},{name:"grid",impl:t1e},{name:"null",impl:vB},{name:"preset",impl:r1e},{name:"random",impl:n1e}],o(i1e,"NullRenderer"),_We=o(function(){},"noop"),EWe=o(function(){throw new Error("A headless instance can not render images")},"throwImgErr"),i1e.prototype={recalculateRenderedStyle:_We,notify:o(function(){this.notifications++},"notify"),init:_We,isHeadless:o(function(){return!0},"isHeadless"),png:EWe,jpg:EWe},(CWe={}).arrowShapeWidth=.3,CWe.registerArrowShapes=function(){var c=this.arrowShapes={},q=this,Y=o(function(c,q,Y,V,Z,re,ae){var se=Z.x-Y/2-ae,oe=Z.x+Y/2+ae,he=Z.y-Y/2-ae,de=Z.y+Y/2+ae;return se<=c&&c<=oe&&he<=q&&q<=de},"bbCollide"),V=o(function(c,q,Y,V,Z){var re=c*Math.cos(V)-q*Math.sin(V),ae=(c*Math.sin(V)+q*Math.cos(V))*Y;return{x:re*Y+Z.x,y:ae+Z.y}},"transform"),Z=o(function(c,q,Y,Z){for(var re=[],ae=0;ae<c.length;ae+=2){var se=c[ae],oe=c[ae+1];re.push(V(se,oe,q,Y,Z))}return re},"transformPoints"),re=o(function(c){for(var q=[],Y=0;Y<c.length;Y++){var V=c[Y];q.push(V.x,V.y)}return q},"pointsToArr"),ae=o(function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},"standardGap"),se=o(function(V,se){pNe(se)&&(se=c[se]),c[V]=eIe({name:V,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:o(function(c,q,Y,V,ae,se){var oe=re(Z(this.points,Y+2*se,V,ae));return UPe(c,q,oe)},"collide"),roughCollide:Y,draw:o(function(c,Y,V,re){var ae=Z(this.points,Y,V,re);q.arrowShapeImpl("polygon")(c,ae)},"draw"),spacing:o(function(c){return 0},"spacing"),gap:ae},se)},"defineArrowShape");se("none",{collide:hDe,roughCollide:hDe,draw:gDe,spacing:uDe,gap:uDe}),se("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),se("arrow","triangle"),se("triangle-backcurve",{points:c.triangle.points,controlPoint:[0,-.15],roughCollide:Y,draw:o(function(c,Y,re,ae,se){var oe=Z(this.points,Y,re,ae),he=this.controlPoint,de=V(he[0],he[1],Y,re,ae);q.arrowShapeImpl(this.name)(c,oe,de)},"draw"),gap:o(function(c){return.8*ae(c)},"gap")}),se("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:o(function(c,q,Y,V,ae,se,oe){var he=re(Z(this.points,Y+2*oe,V,ae)),de=re(Z(this.pointsTee,Y+2*oe,V,ae));return UPe(c,q,he)||UPe(c,q,de)},"collide"),draw:o(function(c,Y,V,re,ae){var se=Z(this.points,Y,V,re),oe=Z(this.pointsTee,Y,V,re);q.arrowShapeImpl(this.name)(c,se,oe)},"draw")}),se("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:o(function(c,q,Y,V,ae,se,oe){var he=ae,de=Math.pow(he.x-c,2)+Math.pow(he.y-q,2)<=Math.pow((Y+2*oe)*this.radius,2),pe=re(Z(this.points,Y+2*oe,V,ae));return UPe(c,q,pe)||de},"collide"),draw:o(function(c,Y,V,re,ae){var se=Z(this.pointsTr,Y,V,re);q.arrowShapeImpl(this.name)(c,se,re.x,re.y,this.radius*Y)},"draw"),spacing:o(function(c){return q.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius},"spacing")}),se("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:o(function(c,q){var Y=this.baseCrossLinePts.slice(),V=q/c;return Y[3]=Y[3]-V,Y[5]=Y[5]-V,Y},"crossLinePts"),collide:o(function(c,q,Y,V,ae,se,oe){var he=re(Z(this.points,Y+2*oe,V,ae)),de=re(Z(this.crossLinePts(Y,se),Y+2*oe,V,ae));return UPe(c,q,he)||UPe(c,q,de)},"collide"),draw:o(function(c,Y,V,re,ae){var se=Z(this.points,Y,V,re),oe=Z(this.crossLinePts(Y,ae),Y,V,re);q.arrowShapeImpl(this.name)(c,se,oe)},"draw")}),se("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:o(function(c){return.525*ae(c)},"gap")}),se("circle",{radius:.15,collide:o(function(c,q,Y,V,Z,re,ae){var se=Z;return Math.pow(se.x-c,2)+Math.pow(se.y-q,2)<=Math.pow((Y+2*ae)*this.radius,2)},"collide"),draw:o(function(c,Y,V,Z,re){q.arrowShapeImpl(this.name)(c,Z.x,Z.y,this.radius*Y)},"draw"),spacing:o(function(c){return q.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius},"spacing")}),se("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:o(function(c){return 1},"spacing"),gap:o(function(c){return 1},"gap")}),se("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),se("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:o(function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value},"gap")}),se("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:o(function(c){return.95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value},"gap")})},(SWe={}).projectIntoViewport=function(c,q){var Y=this.cy,V=this.findContainerClientCoords(),Z=V[0],re=V[1],ae=V[4],se=Y.pan(),oe=Y.zoom();return[((c-Z)/ae-se.x)/oe,((q-re)/ae-se.y)/oe]},SWe.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var c=this.container,q=c.getBoundingClientRect(),Y=this.cy.window().getComputedStyle(c),V=o(function(c){return parseFloat(Y.getPropertyValue(c))},"styleValue"),Z=V("padding-left"),re=V("padding-right"),ae=V("padding-top"),se=V("padding-bottom"),oe=V("border-left-width"),he=V("border-right-width"),de=V("border-top-width"),pe=(V("border-bottom-width"),c.clientWidth),ge=c.clientHeight,me=Z+re,ve=ae+se,be=oe+he,we=q.width/(pe+be),Te=pe-me,_e=ge-ve,Ee=q.left+Z+oe,Ce=q.top+ae+de;return this.containerBB=[Ee,Ce,Te,_e,we]},SWe.invalidateContainerClientCoordsCache=function(){this.containerBB=null},SWe.findNearestElement=function(c,q,Y,V){return this.findNearestElements(c,q,Y,V)[0]},SWe.findNearestElements=function(c,q,Y,V){var Z,re,ae=this,se=this,oe=se.getCachedZSortedEles(),he=[],de=se.cy.zoom(),pe=se.cy.hasCompoundNodes(),ge=(V?24:8)/de,me=(V?8:2)/de,ve=(V?8:2)/de,be=1/0;function v(c,q){if(c.isNode()){if(re)return;re=c,he.push(c)}if(c.isEdge()&&(null==q||q<be))if(Z){if(Z.pstyle("z-compound-depth").value===c.pstyle("z-compound-depth").value&&Z.pstyle("z-compound-depth").value===c.pstyle("z-compound-depth").value)for(var Y=0;Y<he.length;Y++)if(he[Y].isEdge()){he[Y]=c,Z=c,be=q??be;break}}else he.push(c),Z=c,be=q??be}function x(Y){var V=Y.outerWidth()+2*me,Z=Y.outerHeight()+2*me,re=V/2,oe=Z/2,he=Y.position(),de="auto"===Y.pstyle("corner-radius").value?"auto":Y.pstyle("corner-radius").pfValue,pe=Y._private.rscratch;if(he.x-re<=c&&c<=he.x+re&&he.y-oe<=q&&q<=he.y+oe&&se.nodeShapes[ae.getNodeShape(Y)].checkPoint(c,q,0,V,Z,he.x,he.y,de,pe))return v(Y,0),!0}function b(Y){var V,Z=Y._private,re=Z.rscratch,oe=Y.pstyle("width").pfValue,de=Y.pstyle("arrow-scale").value,me=oe/2+ge,ve=me*me,be=2*me,we=Z.source,Te=Z.target;if("segments"===re.edgeType||"straight"===re.edgeType||"haystack"===re.edgeType){for(var _e=re.allpts,Ee=0;Ee+3<_e.length;Ee+=2)if(PPe(c,q,_e[Ee],_e[Ee+1],_e[Ee+2],_e[Ee+3],be)&&ve>(V=GPe(c,q,_e[Ee],_e[Ee+1],_e[Ee+2],_e[Ee+3])))return v(Y,V),!0}else if("bezier"===re.edgeType||"multibezier"===re.edgeType||"self"===re.edgeType||"compound"===re.edgeType)for(_e=re.allpts,Ee=0;Ee+5<re.allpts.length;Ee+=4)if(BPe(c,q,_e[Ee],_e[Ee+1],_e[Ee+2],_e[Ee+3],_e[Ee+4],_e[Ee+5],be)&&ve>(V=zPe(c,q,_e[Ee],_e[Ee+1],_e[Ee+2],_e[Ee+3],_e[Ee+4],_e[Ee+5])))return v(Y,V),!0;we=we||Z.source,Te=Te||Z.target;var Ce=ae.getArrowWidth(oe,de),Se=[{name:"source",x:re.arrowStartX,y:re.arrowStartY,angle:re.srcArrowAngle},{name:"target",x:re.arrowEndX,y:re.arrowEndY,angle:re.tgtArrowAngle},{name:"mid-source",x:re.midX,y:re.midY,angle:re.midsrcArrowAngle},{name:"mid-target",x:re.midX,y:re.midY,angle:re.midtgtArrowAngle}];for(Ee=0;Ee<Se.length;Ee++){var Ae=Se[Ee],Le=se.arrowShapes[Y.pstyle(Ae.name+"-arrow-shape").value],Ne=Y.pstyle("width").pfValue;if(Le.roughCollide(c,q,Ce,Ae.angle,{x:Ae.x,y:Ae.y},Ne,ge)&&Le.collide(c,q,Ce,Ae.angle,{x:Ae.x,y:Ae.y},Ne,ge))return v(Y),!0}pe&&he.length>0&&(x(we),x(Te))}function w(c,q,Y){return RDe(c,q,Y)}function _(Y,V){var Z,re=Y._private,ae=ve;Z=V?V+"-":"",Y.boundingBox();var se=re.labelBounds[V||"main"],oe=Y.pstyle(Z+"label").value;if("yes"===Y.pstyle("text-events").strValue&&oe){var he=w(re.rscratch,"labelX",V),de=w(re.rscratch,"labelY",V),pe=w(re.rscratch,"labelAngle",V),ge=Y.pstyle(Z+"text-margin-x").pfValue,me=Y.pstyle(Z+"text-margin-y").pfValue,be=se.x1-ae-ge,we=se.x2+ae-ge,Te=se.y1-ae-me,_e=se.y2+ae-me;if(pe){var Ee=Math.cos(pe),Ce=Math.sin(pe),Se=o(function(c,q){return{x:(c-=he)*Ee-(q-=de)*Ce+he,y:c*Ce+q*Ee+de}},"rotate"),Ae=Se(be,Te),Le=Se(be,_e),Ne=Se(we,Te),Ie=Se(we,_e),Me=[Ae.x+ge,Ae.y+me,Ne.x+ge,Ne.y+me,Ie.x+ge,Ie.y+me,Le.x+ge,Le.y+me];if(UPe(c,q,Me))return v(Y),!0}else if(NPe(se,c,q))return v(Y),!0}}Y&&(oe=oe.interactive),o(v,"addEle"),o(x,"checkNode"),o(b,"checkEdge"),o(w,"preprop"),o(_,"checkLabel");for(var we=oe.length-1;we>=0;we--){var Te=oe[we];Te.isNode()?x(Te)||_(Te):b(Te)||_(Te)||_(Te,"source")||_(Te,"target")}return he},SWe.getAllInBox=function(c,q,Y,V){for(var Z=this.getCachedZSortedEles().interactive,re=[],ae=Math.min(c,Y),se=Math.max(c,Y),oe=Math.min(q,V),he=Math.max(q,V),de=yPe({x1:c=ae,y1:q=oe,x2:Y=se,y2:V=he}),pe=0;pe<Z.length;pe++){var ge=Z[pe];if(ge.isNode()){var me=ge,ve=me.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});SPe(de,ve)&&!DPe(ve,de)&&re.push(me)}else{var be=ge,we=be._private,Te=we.rscratch;if(null!=Te.startX&&null!=Te.startY&&!NPe(de,Te.startX,Te.startY)||null!=Te.endX&&null!=Te.endY&&!NPe(de,Te.endX,Te.endY))continue;if("bezier"===Te.edgeType||"multibezier"===Te.edgeType||"self"===Te.edgeType||"compound"===Te.edgeType||"segments"===Te.edgeType||"haystack"===Te.edgeType){for(var _e=we.rstyle.bezierPts||we.rstyle.linePts||we.rstyle.haystackPts,Ee=!0,Ce=0;Ce<_e.length;Ce++)if(!IPe(de,_e[Ce])){Ee=!1;break}Ee&&re.push(be)}else("haystack"===Te.edgeType||"straight"===Te.edgeType)&&re.push(be)}}return re},(AWe={}).calculateArrowAngles=function(c){var q,Y,V,Z,re,ae,se=c._private.rscratch,oe="haystack"===se.edgeType,he="bezier"===se.edgeType,de="multibezier"===se.edgeType,pe="segments"===se.edgeType,ge="compound"===se.edgeType,me="self"===se.edgeType;if(oe?(V=se.haystackPts[0],Z=se.haystackPts[1],re=se.haystackPts[2],ae=se.haystackPts[3]):(V=se.arrowStartX,Z=se.arrowStartY,re=se.arrowEndX,ae=se.arrowEndY),be=se.midX,we=se.midY,pe)q=V-se.segpts[0],Y=Z-se.segpts[1];else if(de||ge||me||he){var ve=se.allpts;q=V-pPe(ve[0],ve[2],ve[4],.1),Y=Z-pPe(ve[1],ve[3],ve[5],.1)}else q=V-be,Y=Z-we;se.srcArrowAngle=oPe(q,Y);var be=se.midX,we=se.midY;if(oe&&(be=(V+re)/2,we=(Z+ae)/2),q=re-V,Y=ae-Z,pe)if((ve=se.allpts).length/2%2==0){var Te=(Ie=ve.length/2)-2;q=ve[Ie]-ve[Te],Y=ve[Ie+1]-ve[Te+1]}else if(se.isRound)q=se.midVector[1],Y=-se.midVector[0];else{Te=(Ie=ve.length/2-1)-2;q=ve[Ie]-ve[Te],Y=ve[Ie+1]-ve[Te+1]}else if(de||ge||me){var _e,Ee,Ce,Se,ve=se.allpts;if(se.ctrlpts.length/2%2==0){var Ae=(Le=(Ne=ve.length/2-1)+2)+2;_e=pPe(ve[Ne],ve[Le],ve[Ae],0),Ee=pPe(ve[Ne+1],ve[Le+1],ve[Ae+1],0),Ce=pPe(ve[Ne],ve[Le],ve[Ae],1e-4),Se=pPe(ve[Ne+1],ve[Le+1],ve[Ae+1],1e-4)}else{var Le,Ne;Ae=(Le=ve.length/2-1)+2;_e=pPe(ve[Ne=Le-2],ve[Le],ve[Ae],.4999),Ee=pPe(ve[Ne+1],ve[Le+1],ve[Ae+1],.4999),Ce=pPe(ve[Ne],ve[Le],ve[Ae],.5),Se=pPe(ve[Ne+1],ve[Le+1],ve[Ae+1],.5)}q=Ce-_e,Y=Se-Ee}if((se.midtgtArrowAngle=oPe(q,Y),se.midDispX=q,se.midDispY=Y,q*=-1,Y*=-1,pe)&&((ve=se.allpts).length/2%2!=0&&!se.isRound)){var Ie,Me=(Ie=ve.length/2-1)+2;q=-(ve[Me]-ve[Ie]),Y=-(ve[Me+1]-ve[Ie+1])}if(se.midsrcArrowAngle=oPe(q,Y),pe)q=re-se.segpts[se.segpts.length-2],Y=ae-se.segpts[se.segpts.length-1];else if(de||ge||me||he){var Re=(ve=se.allpts).length;q=re-pPe(ve[Re-6],ve[Re-4],ve[Re-2],.9),Y=ae-pPe(ve[Re-5],ve[Re-3],ve[Re-1],.9)}else q=re-be,Y=ae-we;se.tgtArrowAngle=oPe(q,Y)},AWe.getArrowWidth=AWe.getArrowHeight=function(c,q){var Y=this.arrowWidthCache=this.arrowWidthCache||{},V=Y[c+", "+q];return V||(V=Math.max(Math.pow(13.37*c,.9),29)*q,Y[c+", "+q]=V,V)},IWe={},MWe={},KWe=o(function(c,q,Y){Y.x=q.x-c.x,Y.y=q.y-c.y,Y.len=Math.sqrt(Y.x*Y.x+Y.y*Y.y),Y.nx=Y.x/Y.len,Y.ny=Y.y/Y.len,Y.ang=Math.atan2(Y.ny,Y.nx)},"asVec"),QWe=o(function(c,q){q.x=-1*c.x,q.y=-1*c.y,q.nx=-1*c.nx,q.ny=-1*c.ny,q.ang=c.ang>0?-(Math.PI-c.ang):Math.PI+c.ang},"invertVec"),ZWe=o(function(c,q,Y,V,Z){if(c!==XWe?KWe(q,c,IWe):QWe(MWe,IWe),KWe(q,Y,MWe),RWe=IWe.nx*MWe.ny-IWe.ny*MWe.nx,DWe=IWe.nx*MWe.nx-IWe.ny*-MWe.ny,BWe=Math.asin(Math.max(-1,Math.min(1,RWe))),Math.abs(BWe)<1e-6)return LWe=q.x,NWe=q.y,void(zWe=UWe=0);OWe=1,PWe=!1,DWe<0?BWe<0?BWe=Math.PI+BWe:(BWe=Math.PI-BWe,OWe=-1,PWe=!0):BWe>0&&(OWe=-1,PWe=!0),UWe=void 0!==q.radius?q.radius:V,FWe=BWe/2,qWe=Math.min(IWe.len/2,MWe.len/2),Z?(GWe=Math.abs(Math.cos(FWe)*UWe/Math.sin(FWe)))>qWe?(GWe=qWe,zWe=Math.abs(GWe*Math.sin(FWe)/Math.cos(FWe))):zWe=UWe:(GWe=Math.min(qWe,UWe),zWe=Math.abs(GWe*Math.sin(FWe)/Math.cos(FWe))),WWe=q.x+MWe.nx*GWe,HWe=q.y+MWe.ny*GWe,LWe=WWe-MWe.ny*zWe*OWe,NWe=HWe+MWe.nx*zWe*OWe,jWe=q.x+IWe.nx*GWe,YWe=q.y+IWe.ny*GWe,XWe=q},"calcCornerArc"),o(o1e,"drawPreparedRoundCorner"),o(bB,"getRoundCorner"),(JWe={}).findMidptPtsEtc=function(c,q){var Y,V=q.posPts,Z=q.intersectionPts,re=q.vectorNormInverse,ae=c.pstyle("source-endpoint"),se=c.pstyle("target-endpoint"),oe=null!=ae.units&&null!=se.units,he=o(function(c,q,Y,V){var Z=V-q,re=Y-c,ae=Math.sqrt(re*re+Z*Z);return{x:-Z/ae,y:re/ae}},"recalcVectorNormInverse");switch(c.pstyle("edge-distances").value){case"node-position":Y=V;break;case"intersection":Y=Z;break;case"endpoints":if(oe){var de=Ul(this.manualEndptToPx(c.source()[0],ae),2),pe=de[0],ge=de[1],me=Ul(this.manualEndptToPx(c.target()[0],se),2),ve=me[0],be=me[1],we={x1:pe,y1:ge,x2:ve,y2:be};re=he(pe,ge,ve,be),Y=we}else xDe("Edge ".concat(c.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),Y=Z}return{midptPts:Y,vectorNormInverse:re}},JWe.findHaystackPoints=function(c){for(var q=0;q<c.length;q++){var Y=c[q],V=Y._private,Z=V.rscratch;if(!Z.haystack){var re=2*Math.random()*Math.PI;Z.source={x:Math.cos(re),y:Math.sin(re)},re=2*Math.random()*Math.PI,Z.target={x:Math.cos(re),y:Math.sin(re)}}var ae=V.source,se=V.target,oe=ae.position(),he=se.position(),de=ae.width(),pe=se.width(),ge=ae.height(),me=se.height(),ve=Y.pstyle("haystack-radius").value/2;Z.haystackPts=Z.allpts=[Z.source.x*de*ve+oe.x,Z.source.y*ge*ve+oe.y,Z.target.x*pe*ve+he.x,Z.target.y*me*ve+he.y],Z.midX=(Z.allpts[0]+Z.allpts[2])/2,Z.midY=(Z.allpts[1]+Z.allpts[3])/2,Z.edgeType="haystack",Z.haystack=!0,this.storeEdgeProjections(Y),this.calculateArrowAngles(Y),this.recalculateEdgeLabelProjections(Y),this.calculateLabelAngles(Y)}},JWe.findSegmentsPoints=function(c,q){var Y=c._private.rscratch,V=c.pstyle("segment-weights"),Z=c.pstyle("segment-distances"),re=c.pstyle("segment-radii"),ae=c.pstyle("radius-type"),se=Math.min(V.pfValue.length,Z.pfValue.length),oe=re.pfValue[re.pfValue.length-1],he=ae.pfValue[ae.pfValue.length-1];Y.edgeType="segments",Y.segpts=[],Y.radii=[],Y.isArcRadius=[];for(var de=0;de<se;de++){var pe=V.pfValue[de],ge=Z.pfValue[de],me=1-pe,ve=pe,be=this.findMidptPtsEtc(c,q),we=be.midptPts,Te=be.vectorNormInverse,_e={x:we.x1*me+we.x2*ve,y:we.y1*me+we.y2*ve};Y.segpts.push(_e.x+Te.x*ge,_e.y+Te.y*ge),Y.radii.push(void 0!==re.pfValue[de]?re.pfValue[de]:oe),Y.isArcRadius.push("arc-radius"===(void 0!==ae.pfValue[de]?ae.pfValue[de]:he))}},JWe.findLoopPoints=function(c,q,Y,V){var Z=c._private.rscratch,re=q.dirCounts,ae=q.srcPos,se=c.pstyle("control-point-distances"),oe=se?se.pfValue[0]:void 0,he=c.pstyle("loop-direction").pfValue,de=c.pstyle("loop-sweep").pfValue,pe=c.pstyle("control-point-step-size").pfValue;Z.edgeType="self";var ge=Y,me=pe;V&&(ge=0,me=oe);var ve=he-Math.PI/2,be=ve-de/2,we=ve+de/2,Te=he+"_"+de;ge=void 0===re[Te]?re[Te]=0:++re[Te],Z.ctrlpts=[ae.x+1.4*Math.cos(be)*me*(ge/3+1),ae.y+1.4*Math.sin(be)*me*(ge/3+1),ae.x+1.4*Math.cos(we)*me*(ge/3+1),ae.y+1.4*Math.sin(we)*me*(ge/3+1)]},JWe.findCompoundLoopPoints=function(c,q,Y,V){var Z=c._private.rscratch;Z.edgeType="compound";var re=q.srcPos,ae=q.tgtPos,se=q.srcW,oe=q.srcH,he=q.tgtW,de=q.tgtH,pe=c.pstyle("control-point-step-size").pfValue,ge=c.pstyle("control-point-distances"),me=ge?ge.pfValue[0]:void 0,ve=Y,be=pe;V&&(ve=0,be=me);var we={x:re.x-se/2,y:re.y-oe/2},Te={x:ae.x-he/2,y:ae.y-de/2},_e={x:Math.min(we.x,Te.x),y:Math.min(we.y,Te.y)},Ee=Math.max(.5,Math.log(.01*se)),Ce=Math.max(.5,Math.log(.01*he));Z.ctrlpts=[_e.x,_e.y-(1+Math.pow(50,1.12)/100)*be*(ve/3+1)*Ee,_e.x-(1+Math.pow(50,1.12)/100)*be*(ve/3+1)*Ce,_e.y]},JWe.findStraightEdgePoints=function(c){c._private.rscratch.edgeType="straight"},JWe.findBezierPoints=function(c,q,Y,V,Z){var re=c._private.rscratch,ae=c.pstyle("control-point-step-size").pfValue,se=c.pstyle("control-point-distances"),oe=c.pstyle("control-point-weights"),he=se&&oe?Math.min(se.value.length,oe.value.length):1,de=se?se.pfValue[0]:void 0,pe=oe.value[0],ge=V;re.edgeType=ge?"multibezier":"bezier",re.ctrlpts=[];for(var me=0;me<he;me++){var ve=(.5-q.eles.length/2+Y)*ae*(Z?-1:1),be=void 0,we=cPe(ve);ge&&(de=se?se.pfValue[me]:ae,pe=oe.value[me]);var Te=void 0!==(be=V?de:void 0!==de?we*de:void 0)?be:ve,_e=1-pe,Ee=pe,Ce=this.findMidptPtsEtc(c,q),Se=Ce.midptPts,Ae=Ce.vectorNormInverse,Le={x:Se.x1*_e+Se.x2*Ee,y:Se.y1*_e+Se.y2*Ee};re.ctrlpts.push(Le.x+Ae.x*Te,Le.y+Ae.y*Te)}},JWe.findTaxiPoints=function(c,q){var Y=c._private.rscratch;Y.edgeType="segments";var V="vertical",Z="horizontal",re="leftward",ae="rightward",se="downward",oe="upward",he=q.posPts,de=q.srcW,pe=q.srcH,ge=q.tgtW,me=q.tgtH,ve="node-position"!==c.pstyle("edge-distances").value,be=c.pstyle("taxi-direction").value,we=be,Te=c.pstyle("taxi-turn"),_e="%"===Te.units,Ee=Te.pfValue,Ce=Ee<0,Se=c.pstyle("taxi-turn-min-distance").pfValue,Ae=ve?(de+ge)/2:0,Le=ve?(pe+me)/2:0,Ne=he.x2-he.x1,Ie=he.y2-he.y1,Me=o(function(c,q){return c>0?Math.max(c-q,0):Math.min(c+q,0)},"subDWH"),Re=Me(Ne,Ae),Oe=Me(Ie,Le),Be=!1;"auto"===we?be=Math.abs(Re)>Math.abs(Oe)?Z:V:we===oe||we===se?(be=V,Be=!0):(we===re||we===ae)&&(be=Z,Be=!0);var $e,Ue=be===V,qe=Ue?Oe:Re,je=Ue?Ie:Ne,We=cPe(je),He=!1;((!Be||!_e&&!Ce)&&(we===se&&je<0||we===oe&&je>0||we===re&&je>0||we===ae&&je<0)&&(qe=(We*=-1)*Math.abs(qe),He=!0),_e)?$e=(Ee<0?1+Ee:Ee)*qe:$e=(Ee<0?qe:0)+Ee*We;var Ve=o(function(c){return Math.abs(c)<Se||Math.abs(c)>=Math.abs(qe)},"getIsTooClose"),Ke=Ve($e),Qe=Ve(Math.abs(qe)-Math.abs($e));if((Ke||Qe)&&!He)if(Ue){var Ze=Math.abs(je)<=pe/2,Je=Math.abs(Ne)<=ge/2;if(Ze){var et=(he.x1+he.x2)/2,tt=he.y1,rt=he.y2;Y.segpts=[et,tt,et,rt]}else if(Je){var nt=(he.y1+he.y2)/2,it=he.x1,at=he.x2;Y.segpts=[it,nt,at,nt]}else Y.segpts=[he.x1,he.y2]}else{var st=Math.abs(je)<=de/2,ot=Math.abs(Ie)<=me/2;if(st){var lt=(he.y1+he.y2)/2,ht=he.x1,ut=he.x2;Y.segpts=[ht,lt,ut,lt]}else if(ot){var pt=(he.x1+he.x2)/2,gt=he.y1,ft=he.y2;Y.segpts=[pt,gt,pt,ft]}else Y.segpts=[he.x2,he.y1]}else if(Ue){var mt=he.y1+$e+(ve?pe/2*We:0),xt=he.x1,bt=he.x2;Y.segpts=[xt,mt,bt,mt]}else{var wt=he.x1+$e+(ve?de/2*We:0),kt=he.y1,_t=he.y2;Y.segpts=[wt,kt,wt,_t]}if(Y.isRound){var St=c.pstyle("taxi-radius").value,At="arc-radius"===c.pstyle("radius-type").value[0];Y.radii=new Array(Y.segpts.length/2).fill(St),Y.isArcRadius=new Array(Y.segpts.length/2).fill(At)}},JWe.tryToCorrectInvalidPoints=function(c,q){var Y=c._private.rscratch;if("bezier"===Y.edgeType){var V=q.srcPos,Z=q.tgtPos,re=q.srcW,ae=q.srcH,se=q.tgtW,oe=q.tgtH,he=q.srcShape,de=q.tgtShape,pe=q.srcCornerRadius,ge=q.tgtCornerRadius,me=q.srcRs,ve=q.tgtRs,be=!vNe(Y.startX)||!vNe(Y.startY),we=!vNe(Y.arrowStartX)||!vNe(Y.arrowStartY),Te=!vNe(Y.endX)||!vNe(Y.endY),_e=!vNe(Y.arrowEndX)||!vNe(Y.arrowEndY),Ee=3*(this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth),Ce=hPe({x:Y.ctrlpts[0],y:Y.ctrlpts[1]},{x:Y.startX,y:Y.startY}),Se=Ce<Ee,Ae=hPe({x:Y.ctrlpts[0],y:Y.ctrlpts[1]},{x:Y.endX,y:Y.endY}),Le=Ae<Ee,Ne=!1;if(be||we||Se){Ne=!0;var Ie={x:Y.ctrlpts[0]-V.x,y:Y.ctrlpts[1]-V.y},Me=Math.sqrt(Ie.x*Ie.x+Ie.y*Ie.y),Re={x:Ie.x/Me,y:Ie.y/Me},Oe=Math.max(re,ae),Be={x:Y.ctrlpts[0]+2*Re.x*Oe,y:Y.ctrlpts[1]+2*Re.y*Oe},$e=he.intersectLine(V.x,V.y,re,ae,Be.x,Be.y,0,pe,me);Se?(Y.ctrlpts[0]=Y.ctrlpts[0]+Re.x*(Ee-Ce),Y.ctrlpts[1]=Y.ctrlpts[1]+Re.y*(Ee-Ce)):(Y.ctrlpts[0]=$e[0]+Re.x*Ee,Y.ctrlpts[1]=$e[1]+Re.y*Ee)}if(Te||_e||Le){Ne=!0;var Ue={x:Y.ctrlpts[0]-Z.x,y:Y.ctrlpts[1]-Z.y},qe=Math.sqrt(Ue.x*Ue.x+Ue.y*Ue.y),je={x:Ue.x/qe,y:Ue.y/qe},We=Math.max(re,ae),He={x:Y.ctrlpts[0]+2*je.x*We,y:Y.ctrlpts[1]+2*je.y*We},Ve=de.intersectLine(Z.x,Z.y,se,oe,He.x,He.y,0,ge,ve);Le?(Y.ctrlpts[0]=Y.ctrlpts[0]+je.x*(Ee-Ae),Y.ctrlpts[1]=Y.ctrlpts[1]+je.y*(Ee-Ae)):(Y.ctrlpts[0]=Ve[0]+je.x*Ee,Y.ctrlpts[1]=Ve[1]+je.y*Ee)}Ne&&this.findEndpoints(c)}},JWe.storeAllpts=function(c){var q=c._private.rscratch;if("multibezier"===q.edgeType||"bezier"===q.edgeType||"self"===q.edgeType||"compound"===q.edgeType){q.allpts=[],q.allpts.push(q.startX,q.startY);for(var Y=0;Y+1<q.ctrlpts.length;Y+=2)q.allpts.push(q.ctrlpts[Y],q.ctrlpts[Y+1]),Y+3<q.ctrlpts.length&&q.allpts.push((q.ctrlpts[Y]+q.ctrlpts[Y+2])/2,(q.ctrlpts[Y+1]+q.ctrlpts[Y+3])/2);var V;q.allpts.push(q.endX,q.endY),q.ctrlpts.length/2%2==0?(V=q.allpts.length/2-1,q.midX=q.allpts[V],q.midY=q.allpts[V+1]):(V=q.allpts.length/2-3,q.midX=pPe(q.allpts[V],q.allpts[V+2],q.allpts[V+4],.5),q.midY=pPe(q.allpts[V+1],q.allpts[V+3],q.allpts[V+5],.5))}else if("straight"===q.edgeType)q.allpts=[q.startX,q.startY,q.endX,q.endY],q.midX=(q.startX+q.endX+q.arrowStartX+q.arrowEndX)/4,q.midY=(q.startY+q.endY+q.arrowStartY+q.arrowEndY)/4;else if("segments"===q.edgeType){if(q.allpts=[],q.allpts.push(q.startX,q.startY),q.allpts.push.apply(q.allpts,q.segpts),q.allpts.push(q.endX,q.endY),q.isRound){q.roundCorners=[];for(var Z=2;Z+3<q.allpts.length;Z+=2){var re=q.radii[Z/2-1],ae=q.isArcRadius[Z/2-1];q.roundCorners.push(bB({x:q.allpts[Z-2],y:q.allpts[Z-1]},{x:q.allpts[Z],y:q.allpts[Z+1],radius:re},{x:q.allpts[Z+2],y:q.allpts[Z+3]},re,ae))}}if(q.segpts.length%4==0){var se=q.segpts.length/2,oe=se-2;q.midX=(q.segpts[oe]+q.segpts[se])/2,q.midY=(q.segpts[oe+1]+q.segpts[se+1])/2}else{var he=q.segpts.length/2-1;if(q.isRound){var de={x:q.segpts[he],y:q.segpts[he+1]},pe=q.roundCorners[he/2],ge=[de.x-pe.cx,de.y-pe.cy],me=pe.radius/Math.sqrt(Math.pow(ge[0],2)+Math.pow(ge[1],2));ge=ge.map(function(c){return c*me}),q.midX=pe.cx+ge[0],q.midY=pe.cy+ge[1],q.midVector=ge}else q.midX=q.segpts[he],q.midY=q.segpts[he+1]}}},JWe.checkForInvalidEdgeWarning=function(c){var q=c[0]._private.rscratch;q.nodesOverlap||vNe(q.startX)&&vNe(q.startY)&&vNe(q.endX)&&vNe(q.endY)?q.loggedErr=!1:q.loggedErr||(q.loggedErr=!0,xDe("Edge `"+c.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},JWe.findEdgeControlPoints=function(c){var q=this;if(c&&0!==c.length){for(var Y=this,V=Y.cy.hasCompoundNodes(),Z={map:new BDe,get:o(function(c){var q=this.map.get(c[0]);return null!=q?q.get(c[1]):null},"get"),set:o(function(c,q){var Y=this.map.get(c[0]);null==Y&&(Y=new BDe,this.map.set(c[0],Y)),Y.set(c[1],q)},"set")},re=[],ae=[],se=0;se<c.length;se++){var oe=c[se],he=oe._private,de=oe.pstyle("curve-style").value;if(!oe.removed()&&oe.takesUpSpace()){if("haystack"===de){ae.push(oe);continue}var pe="unbundled-bezier"===de||de.endsWith("segments")||"straight"===de||"straight-triangle"===de||de.endsWith("taxi"),ge="unbundled-bezier"===de||"bezier"===de,me=he.source,ve=he.target,be=[me.poolIndex(),ve.poolIndex()].sort(),we=Z.get(be);null==we&&(we={eles:[]},Z.set(be,we),re.push(be)),we.eles.push(oe),pe&&(we.hasUnbundled=!0),ge&&(we.hasBezier=!0)}}for(var Te=o(function(c){var ae=re[c],se=Z.get(ae),oe=void 0;if(!se.hasUnbundled){var he=se.eles[0].parallelEdges().filter(function(c){return c.isBundledBezier()});IDe(se.eles),he.forEach(function(c){return se.eles.push(c)}),se.eles.sort(function(c,q){return c.poolIndex()-q.poolIndex()})}var de=se.eles[0],pe=de.source(),ge=de.target();if(pe.poolIndex()>ge.poolIndex()){var me=pe;pe=ge,ge=me}var ve=se.srcPos=pe.position(),be=se.tgtPos=ge.position(),we=se.srcW=pe.outerWidth(),Te=se.srcH=pe.outerHeight(),_e=se.tgtW=ge.outerWidth(),Ee=se.tgtH=ge.outerHeight(),Ce=se.srcShape=Y.nodeShapes[q.getNodeShape(pe)],Se=se.tgtShape=Y.nodeShapes[q.getNodeShape(ge)],Ae=se.srcCornerRadius="auto"===pe.pstyle("corner-radius").value?"auto":pe.pstyle("corner-radius").pfValue,Le=se.tgtCornerRadius="auto"===ge.pstyle("corner-radius").value?"auto":ge.pstyle("corner-radius").pfValue,Ne=se.tgtRs=ge._private.rscratch,Ie=se.srcRs=pe._private.rscratch;se.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Me=0;Me<se.eles.length;Me++){var Re=se.eles[Me],Oe=Re[0]._private.rscratch,Be=Re.pstyle("curve-style").value,$e="unbundled-bezier"===Be||Be.endsWith("segments")||Be.endsWith("taxi"),Ue=!pe.same(Re.source());if(!se.calculatedIntersection&&pe!==ge&&(se.hasBezier||se.hasUnbundled)){se.calculatedIntersection=!0;var qe=Ce.intersectLine(ve.x,ve.y,we,Te,be.x,be.y,0,Ae,Ie),je=se.srcIntn=qe,We=Se.intersectLine(be.x,be.y,_e,Ee,ve.x,ve.y,0,Le,Ne),He=se.tgtIntn=We,Ve=se.intersectionPts={x1:qe[0],x2:We[0],y1:qe[1],y2:We[1]},Ke=se.posPts={x1:ve.x,x2:be.x,y1:ve.y,y2:be.y},Qe=We[1]-qe[1],Ze=We[0]-qe[0],Je=Math.sqrt(Ze*Ze+Qe*Qe),et=se.vector={x:Ze,y:Qe},tt=se.vectorNorm={x:et.x/Je,y:et.y/Je},rt={x:-tt.y,y:tt.x};se.nodesOverlap=!vNe(Je)||Se.checkPoint(qe[0],qe[1],0,_e,Ee,be.x,be.y,Le,Ne)||Ce.checkPoint(We[0],We[1],0,we,Te,ve.x,ve.y,Ae,Ie),se.vectorNormInverse=rt,oe={nodesOverlap:se.nodesOverlap,dirCounts:se.dirCounts,calculatedIntersection:!0,hasBezier:se.hasBezier,hasUnbundled:se.hasUnbundled,eles:se.eles,srcPos:be,tgtPos:ve,srcW:_e,srcH:Ee,tgtW:we,tgtH:Te,srcIntn:He,tgtIntn:je,srcShape:Se,tgtShape:Ce,posPts:{x1:Ke.x2,y1:Ke.y2,x2:Ke.x1,y2:Ke.y1},intersectionPts:{x1:Ve.x2,y1:Ve.y2,x2:Ve.x1,y2:Ve.y1},vector:{x:-et.x,y:-et.y},vectorNorm:{x:-tt.x,y:-tt.y},vectorNormInverse:{x:-rt.x,y:-rt.y}}}var nt=Ue?oe:se;Oe.nodesOverlap=nt.nodesOverlap,Oe.srcIntn=nt.srcIntn,Oe.tgtIntn=nt.tgtIntn,Oe.isRound=Be.startsWith("round"),V&&(pe.isParent()||pe.isChild()||ge.isParent()||ge.isChild())&&(pe.parents().anySame(ge)||ge.parents().anySame(pe)||pe.same(ge)&&pe.isParent())?q.findCompoundLoopPoints(Re,nt,Me,$e):pe===ge?q.findLoopPoints(Re,nt,Me,$e):Be.endsWith("segments")?q.findSegmentsPoints(Re,nt):Be.endsWith("taxi")?q.findTaxiPoints(Re,nt):"straight"===Be||!$e&&se.eles.length%2==1&&Me===Math.floor(se.eles.length/2)?q.findStraightEdgePoints(Re):q.findBezierPoints(Re,nt,Me,$e,Ue),q.findEndpoints(Re),q.tryToCorrectInvalidPoints(Re,nt),q.checkForInvalidEdgeWarning(Re),q.storeAllpts(Re),q.storeEdgeProjections(Re),q.calculateArrowAngles(Re),q.recalculateEdgeLabelProjections(Re),q.calculateLabelAngles(Re)}},"_loop"),_e=0;_e<re.length;_e++)Te(_e);this.findHaystackPoints(ae)}},o(l1e,"getPts"),JWe.getSegmentPoints=function(c){var q=c[0]._private.rscratch;if("segments"===q.edgeType)return this.recalculateRenderedStyle(c),l1e(q.segpts)},JWe.getControlPoints=function(c){var q=c[0]._private.rscratch,Y=q.edgeType;if("bezier"===Y||"multibezier"===Y||"self"===Y||"compound"===Y)return this.recalculateRenderedStyle(c),l1e(q.ctrlpts)},JWe.getEdgeMidpoint=function(c){var q=c[0]._private.rscratch;return this.recalculateRenderedStyle(c),{x:q.midX,y:q.midY}},(eHe={}).manualEndptToPx=function(c,q){var Y=c.position(),V=c.outerWidth(),Z=c.outerHeight(),re=c._private.rscratch;if(2===q.value.length){var ae=[q.pfValue[0],q.pfValue[1]];return"%"===q.units[0]&&(ae[0]=ae[0]*V),"%"===q.units[1]&&(ae[1]=ae[1]*Z),ae[0]+=Y.x,ae[1]+=Y.y,ae}var se=q.pfValue[0];se=-Math.PI/2+se;var oe=2*Math.max(V,Z),he=[Y.x+Math.cos(se)*oe,Y.y+Math.sin(se)*oe];return this.nodeShapes[this.getNodeShape(c)].intersectLine(Y.x,Y.y,V,Z,he[0],he[1],0,"auto"===c.pstyle("corner-radius").value?"auto":c.pstyle("corner-radius").pfValue,re)},eHe.findEndpoints=function(c){var q,Y,V,Z,re,ae=this,se=c.source()[0],oe=c.target()[0],he=se.position(),de=oe.position(),pe=c.pstyle("target-arrow-shape").value,ge=c.pstyle("source-arrow-shape").value,me=c.pstyle("target-distance-from-node").pfValue,ve=c.pstyle("source-distance-from-node").pfValue,be=se._private.rscratch,we=oe._private.rscratch,Te=c.pstyle("curve-style").value,_e=c._private.rscratch,Ee=_e.edgeType,Ce="self"===Ee||"compound"===Ee,Se="bezier"===Ee||"multibezier"===Ee||Ce,Ae="bezier"!==Ee,Le="straight"===Ee||"segments"===Ee,Ne="segments"===Ee,Ie=Se||Ae||Le,Me=Ce||"taxi"===Te,Re=c.pstyle("source-endpoint"),Oe=Me?"outside-to-node":Re.value,Be="auto"===se.pstyle("corner-radius").value?"auto":se.pstyle("corner-radius").pfValue,$e=c.pstyle("target-endpoint"),Ue=Me?"outside-to-node":$e.value,qe="auto"===oe.pstyle("corner-radius").value?"auto":oe.pstyle("corner-radius").pfValue;if(_e.srcManEndpt=Re,_e.tgtManEndpt=$e,Se){var je=[_e.ctrlpts[0],_e.ctrlpts[1]];Y=Ae?[_e.ctrlpts[_e.ctrlpts.length-2],_e.ctrlpts[_e.ctrlpts.length-1]]:je,V=je}else if(Le){var We=Ne?_e.segpts.slice(0,2):[de.x,de.y];Y=Ne?_e.segpts.slice(_e.segpts.length-2):[he.x,he.y],V=We}if("inside-to-node"===Ue)q=[de.x,de.y];else if($e.units)q=this.manualEndptToPx(oe,$e);else if("outside-to-line"===Ue)q=_e.tgtIntn;else if("outside-to-node"===Ue||"outside-to-node-or-label"===Ue?Z=Y:("outside-to-line"===Ue||"outside-to-line-or-label"===Ue)&&(Z=[he.x,he.y]),q=ae.nodeShapes[this.getNodeShape(oe)].intersectLine(de.x,de.y,oe.outerWidth(),oe.outerHeight(),Z[0],Z[1],0,qe,we),"outside-to-node-or-label"===Ue||"outside-to-line-or-label"===Ue){var He=oe._private.rscratch,Ve=He.labelWidth,Ke=He.labelHeight,Qe=He.labelX,Ze=He.labelY,Je=Ve/2,et=Ke/2,tt=oe.pstyle("text-valign").value;"top"===tt?Ze-=et:"bottom"===tt&&(Ze+=et);var rt=oe.pstyle("text-halign").value;"left"===rt?Qe-=Je:"right"===rt&&(Qe+=Je);var nt=zBe(Z[0],Z[1],[Qe-Je,Ze-et,Qe+Je,Ze-et,Qe+Je,Ze+et,Qe-Je,Ze+et],de.x,de.y);if(nt.length>0){var it=he,at=uPe(it,GOe(q)),st=uPe(it,GOe(nt)),ot=at;if(st<at&&(q=nt,ot=st),nt.length>2)uPe(it,{x:nt[2],y:nt[3]})<ot&&(q=[nt[2],nt[3]])}}var lt=HBe(q,Y,ae.arrowShapes[pe].spacing(c)+me),ht=HBe(q,Y,ae.arrowShapes[pe].gap(c)+me);if(_e.endX=ht[0],_e.endY=ht[1],_e.arrowEndX=lt[0],_e.arrowEndY=lt[1],"inside-to-node"===Oe)q=[he.x,he.y];else if(Re.units)q=this.manualEndptToPx(se,Re);else if("outside-to-line"===Oe)q=_e.srcIntn;else if("outside-to-node"===Oe||"outside-to-node-or-label"===Oe?re=V:("outside-to-line"===Oe||"outside-to-line-or-label"===Oe)&&(re=[de.x,de.y]),q=ae.nodeShapes[this.getNodeShape(se)].intersectLine(he.x,he.y,se.outerWidth(),se.outerHeight(),re[0],re[1],0,Be,be),"outside-to-node-or-label"===Oe||"outside-to-line-or-label"===Oe){var ut=se._private.rscratch,pt=ut.labelWidth,gt=ut.labelHeight,ft=ut.labelX,mt=ut.labelY,xt=pt/2,bt=gt/2,wt=se.pstyle("text-valign").value;"top"===wt?mt-=bt:"bottom"===wt&&(mt+=bt);var kt=se.pstyle("text-halign").value;"left"===kt?ft-=xt:"right"===kt&&(ft+=xt);var _t=zBe(re[0],re[1],[ft-xt,mt-bt,ft+xt,mt-bt,ft+xt,mt+bt,ft-xt,mt+bt],he.x,he.y);if(_t.length>0){var St=de,At=uPe(St,GOe(q)),Lt=uPe(St,GOe(_t)),Nt=At;if(Lt<At&&(q=[_t[0],_t[1]],Nt=Lt),_t.length>2)uPe(St,{x:_t[2],y:_t[3]})<Nt&&(q=[_t[2],_t[3]])}}var It=HBe(q,V,ae.arrowShapes[ge].spacing(c)+ve),Mt=HBe(q,V,ae.arrowShapes[ge].gap(c)+ve);_e.startX=Mt[0],_e.startY=Mt[1],_e.arrowStartX=It[0],_e.arrowStartY=It[1],Ie&&(vNe(_e.startX)&&vNe(_e.startY)&&vNe(_e.endX)&&vNe(_e.endY)?_e.badLine=!1:_e.badLine=!0)},eHe.getSourceEndpoint=function(c){var q=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),q.edgeType)?{x:q.haystackPts[0],y:q.haystackPts[1]}:{x:q.arrowStartX,y:q.arrowStartY}},eHe.getTargetEndpoint=function(c){var q=c[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(c),q.edgeType)?{x:q.haystackPts[2],y:q.haystackPts[3]}:{x:q.arrowEndX,y:q.arrowEndY}},tHe={},o(Aet,"pushBezierPts"),tHe.storeEdgeProjections=function(c){var q=c._private,Y=q.rscratch,V=Y.edgeType;if(q.rstyle.bezierPts=null,q.rstyle.linePts=null,q.rstyle.haystackPts=null,"multibezier"===V||"bezier"===V||"self"===V||"compound"===V){q.rstyle.bezierPts=[];for(var Z=0;Z+5<Y.allpts.length;Z+=4)Aet(this,c,Y.allpts.slice(Z,Z+6))}else if("segments"===V){var re=q.rstyle.linePts=[];for(Z=0;Z+1<Y.allpts.length;Z+=2)re.push({x:Y.allpts[Z],y:Y.allpts[Z+1]})}else if("haystack"===V){var ae=Y.haystackPts;q.rstyle.haystackPts=[{x:ae[0],y:ae[1]},{x:ae[2],y:ae[3]}]}q.rstyle.arrowWidth=this.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.arrowShapeWidth},tHe.recalculateEdgeProjections=function(c){this.findEdgeControlPoints(c)},(rHe={}).recalculateNodeLabelProjection=function(c){var q=c.pstyle("label").strValue;if(!SNe(q)){var Y,V,Z=c._private,re=c.width(),ae=c.height(),se=c.padding(),oe=c.position(),he=c.pstyle("text-halign").strValue,de=c.pstyle("text-valign").strValue,pe=Z.rscratch,ge=Z.rstyle;switch(he){case"left":Y=oe.x-re/2-se;break;case"right":Y=oe.x+re/2+se;break;default:Y=oe.x}switch(de){case"top":V=oe.y-ae/2-se;break;case"bottom":V=oe.y+ae/2+se;break;default:V=oe.y}pe.labelX=Y,pe.labelY=V,ge.labelX=Y,ge.labelY=V,this.calculateLabelAngles(c),this.applyLabelDimensions(c)}},nHe=o(function(c,q){var Y=Math.atan(q/c);return 0===c&&Y<0&&(Y*=-1),Y},"lineAngleFromDelta"),iHe=o(function(c,q){var Y=q.x-c.x,V=q.y-c.y;return nHe(Y,V)},"lineAngle"),aHe=o(function(c,q,Y,V){var Z=mPe(0,V-.001,1),re=mPe(0,V+.001,1),ae=gPe(c,q,Y,Z),se=gPe(c,q,Y,re);return iHe(ae,se)},"bezierAngle"),rHe.recalculateEdgeLabelProjections=function(c){var q,Y=c._private,V=Y.rscratch,Z=this,re={mid:c.pstyle("label").strValue,source:c.pstyle("source-label").strValue,target:c.pstyle("target-label").strValue};if(re.mid||re.source||re.target){q={x:V.midX,y:V.midY};var ae=o(function(c,q,V){ODe(Y.rscratch,c,q,V),ODe(Y.rstyle,c,q,V)},"setRs");ae("labelX",null,q.x),ae("labelY",null,q.y);var se=nHe(V.midDispX,V.midDispY);ae("labelAutoAngle",null,se);var oe=o(function f(){if(f.cache)return f.cache;for(var c=[],q=0;q+5<V.allpts.length;q+=4){var re={x:V.allpts[q],y:V.allpts[q+1]},ae={x:V.allpts[q+2],y:V.allpts[q+3]},se={x:V.allpts[q+4],y:V.allpts[q+5]};c.push({p0:re,p1:ae,p2:se,startDist:0,length:0,segments:[]})}var oe=Y.rstyle.bezierPts,he=Z.bezierProjPcts.length;function b(c,q,Y,V,Z){var re=hPe(q,Y),ae=c.segments[c.segments.length-1],se={p0:q,p1:Y,t0:V,t1:Z,startDist:ae?ae.startDist+ae.length:0,length:re};c.segments.push(se),c.length+=re}o(b,"addSegment");for(var de=0;de<c.length;de++){var pe=c[de],ge=c[de-1];ge&&(pe.startDist=ge.startDist+ge.length),b(pe,pe.p0,oe[de*he],0,Z.bezierProjPcts[0]);for(var me=0;me<he-1;me++)b(pe,oe[de*he+me],oe[de*he+me+1],Z.bezierProjPcts[me],Z.bezierProjPcts[me+1]);b(pe,oe[de*he+he-1],pe.p2,Z.bezierProjPcts[he-1],1)}return f.cache=c},"createControlPointInfo"),he=o(function(Y){var Z,se="source"===Y;if(re[Y]){var he=c.pstyle(Y+"-text-offset").pfValue;switch(V.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var de,pe=oe(),ge=0,me=0,ve=0;ve<pe.length;ve++){for(var be=pe[se?ve:pe.length-1-ve],we=0;we<be.segments.length;we++){var Te=be.segments[se?we:be.segments.length-1-we],_e=ve===pe.length-1&&we===be.segments.length-1;if(ge=me,(me+=Te.length)>=he||_e){de={cp:be,segment:Te};break}}if(de)break}var Ee=de.cp,Ce=de.segment,Se=(he-ge)/Ce.length,Ae=Ce.t1-Ce.t0,Le=se?Ce.t0+Ae*Se:Ce.t1-Ae*Se;Le=mPe(0,Le,1),q=gPe(Ee.p0,Ee.p1,Ee.p2,Le),Z=aHe(Ee.p0,Ee.p1,Ee.p2,Le);break;case"straight":case"segments":case"haystack":for(var Ne,Ie,Me,Re,Oe=0,Be=V.allpts.length,$e=0;$e+3<Be&&(se?(Me={x:V.allpts[$e],y:V.allpts[$e+1]},Re={x:V.allpts[$e+2],y:V.allpts[$e+3]}):(Me={x:V.allpts[Be-2-$e],y:V.allpts[Be-1-$e]},Re={x:V.allpts[Be-4-$e],y:V.allpts[Be-3-$e]}),Ie=Oe,!((Oe+=Ne=hPe(Me,Re))>=he));$e+=2);var Ue=(he-Ie)/Ne;Ue=mPe(0,Ue,1),q=fPe(Me,Re,Ue),Z=iHe(Me,Re)}ae("labelX",Y,q.x),ae("labelY",Y,q.y),ae("labelAutoAngle",Y,Z)}},"calculateEndProjection");he("source"),he("target"),this.applyLabelDimensions(c)}},rHe.applyLabelDimensions=function(c){this.applyPrefixedLabelDimensions(c),c.isEdge()&&(this.applyPrefixedLabelDimensions(c,"source"),this.applyPrefixedLabelDimensions(c,"target"))},rHe.applyPrefixedLabelDimensions=function(c,q){var Y=c._private,V=this.getLabelText(c,q),Z=this.calculateLabelDimensions(c,V),re=c.pstyle("line-height").pfValue,ae=c.pstyle("text-wrap").strValue,se=RDe(Y.rscratch,"labelWrapCachedLines",q)||[],oe="wrap"!==ae?1:Math.max(se.length,1),he=Z.height/oe,de=he*re,pe=Z.width,ge=Z.height+(oe-1)*(re-1)*he;ODe(Y.rstyle,"labelWidth",q,pe),ODe(Y.rscratch,"labelWidth",q,pe),ODe(Y.rstyle,"labelHeight",q,ge),ODe(Y.rscratch,"labelHeight",q,ge),ODe(Y.rscratch,"labelLineHeight",q,de)},rHe.getLabelText=function(c,q){var Y=c._private,V=q?q+"-":"",Z=c.pstyle(V+"label").strValue,re=c.pstyle("text-transform").value,ae=o(function(c,V){return V?(ODe(Y.rscratch,c,q,V),V):RDe(Y.rscratch,c,q)},"rscratch");if(!Z)return"";"none"==re||("uppercase"==re?Z=Z.toUpperCase():"lowercase"==re&&(Z=Z.toLowerCase()));var se=c.pstyle("text-wrap").value;if("wrap"===se){var oe=ae("labelKey");if(null!=oe&&ae("labelWrapKey")===oe)return ae("labelWrapCachedText");for(var he=Z.split("\n"),de=c.pstyle("text-max-width").pfValue,pe="anywhere"===c.pstyle("text-overflow-wrap").value,ge=[],me=/[\s\u200b]+|$/g,ve=0;ve<he.length;ve++){var be=he[ve],we=this.calculateLabelDimensions(c,be).width;if(pe){var Te=be.split("").join("​");be=Te}if(we>de){var _e,Ee="",Ce=0,Se=Yme(be.matchAll(me));try{for(Se.s();!(_e=Se.n()).done;){var Ae=_e.value,Le=Ae[0],Ne=be.substring(Ce,Ae.index);Ce=Ae.index+Le.length;var Ie=0===Ee.length?Ne:Ee+Ne+Le;this.calculateLabelDimensions(c,Ie).width<=de?Ee+=Ne+Le:(Ee&&ge.push(Ee),Ee=Ne+Le)}}catch(c){Se.e(c)}finally{Se.f()}Ee.match(/^[\s\u200b]+$/)||ge.push(Ee)}else ge.push(be)}ae("labelWrapCachedLines",ge),Z=ae("labelWrapCachedText",ge.join("\n")),ae("labelWrapKey",oe)}else if("ellipsis"===se){var Me=c.pstyle("text-max-width").pfValue,Re="",Oe=!1;if(this.calculateLabelDimensions(c,Z).width<Me)return Z;for(var Be=0;Be<Z.length;Be++){if(this.calculateLabelDimensions(c,Re+Z[Be]+"…").width>Me)break;Re+=Z[Be],Be===Z.length-1&&(Oe=!0)}return Oe||(Re+="…"),Re}return Z},rHe.getLabelJustification=function(c){var q=c.pstyle("text-justification").strValue,Y=c.pstyle("text-halign").strValue;if("auto"!==q)return q;if(!c.isNode())return"center";switch(Y){case"left":return"right";case"right":return"left";default:return"center"}},rHe.calculateLabelDimensions=function(c,q){var Y=this,V=Y.cy.window().document,Z=PRe(q,c._private.labelDimsKey),re=Y.labelDimCache||(Y.labelDimCache=[]),ae=re[Z];if(null!=ae)return ae;var se=c.pstyle("font-style").strValue,oe=c.pstyle("font-size").pfValue,he=c.pstyle("font-family").strValue,de=c.pstyle("font-weight").strValue,pe=this.labelCalcCanvas,ge=this.labelCalcCanvasContext;if(!pe){pe=this.labelCalcCanvas=V.createElement("canvas"),ge=this.labelCalcCanvasContext=pe.getContext("2d");var me=pe.style;me.position="absolute",me.left="-9999px",me.top="-9999px",me.zIndex="-1",me.visibility="hidden",me.pointerEvents="none"}ge.font="".concat(se," ").concat(de," ").concat(oe,"px ").concat(he);for(var ve=0,be=0,we=q.split("\n"),Te=0;Te<we.length;Te++){var _e=we[Te],Ee=ge.measureText(_e),Ce=Math.ceil(Ee.width),Se=oe;ve=Math.max(Ce,ve),be+=Se}return ve+=0,be+=0,re[Z]={width:ve,height:be}},rHe.calculateLabelAngle=function(c,q){var Y=c._private.rscratch,V=c.isEdge(),Z=q?q+"-":"",re=c.pstyle(Z+"text-rotation"),ae=re.strValue;return"none"===ae?0:V&&"autorotate"===ae?Y.labelAutoAngle:"autorotate"===ae?0:re.pfValue},rHe.calculateLabelAngles=function(c){var q=this,Y=c.isEdge(),V=c._private.rscratch;V.labelAngle=q.calculateLabelAngle(c),Y&&(V.sourceLabelAngle=q.calculateLabelAngle(c,"source"),V.targetLabelAngle=q.calculateLabelAngle(c,"target"))},oHe=!1,(sHe={}).getNodeShape=function(c){var q=c.pstyle("shape").value;if("cutrectangle"===q&&(c.width()<28||c.height()<28))return oHe||(xDe("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),oHe=!0),"rectangle";if(c.isParent())return"rectangle"===q||"roundrectangle"===q||"round-rectangle"===q||"cutrectangle"===q||"cut-rectangle"===q||"barrel"===q?q:"rectangle";if("polygon"===q){var Y=c.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(Y).name}return q},(lHe={}).registerCalculationListeners=function(){var c=this.cy,q=c.collection(),Y=this,V=o(function(c){var Y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(q.merge(c),Y)for(var V=0;V<c.length;V++){var Z=c[V]._private.rstyle;Z.clean=!1,Z.cleanConnected=!1}},"enqueue");Y.binder(c).on("bounds.* dirty.*",o(function(c){var q=c.target;V(q)},"onDirtyBounds")).on("style.* background.*",o(function(c){var q=c.target;V(q,!1)},"onDirtyStyle"));var Z=o(function(Z){if(Z){var re=Y.onUpdateEleCalcsFns;q.cleanStyle();for(var ae=0;ae<q.length;ae++){var se=q[ae],oe=se._private.rstyle;se.isNode()&&!oe.cleanConnected&&(V(se.connectedEdges()),oe.cleanConnected=!0)}if(re)for(var he=0;he<re.length;he++){(0,re[he])(Z,q)}Y.recalculateRenderedStyle(q),q=c.collection()}},"updateEleCalcs");Y.flushRenderedStyleQueue=function(){Z(!0)},Y.beforeRender(Z,Y.beforeRenderPriorities.eleCalcs)},lHe.onUpdateEleCalcs=function(c){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(c)},lHe.recalculateRenderedStyle=function(c,q){var Y=o(function(c){return c._private.rstyle.cleanConnected},"isCleanConnected"),V=[],Z=[];if(!this.destroyed){void 0===q&&(q=!0);for(var re=0;re<c.length;re++){var ae=c[re],se=ae._private,oe=se.rstyle;ae.isEdge()&&(!Y(ae.source())||!Y(ae.target()))&&(oe.clean=!1),!(q&&oe.clean||ae.removed())&&"none"!==ae.pstyle("display").value&&("nodes"===se.group?Z.push(ae):V.push(ae),oe.clean=!0)}for(var he=0;he<Z.length;he++){var de=Z[he],pe=de._private.rstyle,ge=de.position();this.recalculateNodeLabelProjection(de),pe.nodeX=ge.x,pe.nodeY=ge.y,pe.nodeW=de.pstyle("width").pfValue,pe.nodeH=de.pstyle("height").pfValue}this.recalculateEdgeProjections(V);for(var me=0;me<V.length;me++){var ve=V[me]._private,be=ve.rstyle,we=ve.rscratch;be.srcX=we.arrowStartX,be.srcY=we.arrowStartY,be.tgtX=we.arrowEndX,be.tgtY=we.arrowEndY,be.midX=we.midX,be.midY=we.midY,be.labelAngle=we.labelAngle,be.sourceLabelAngle=we.sourceLabelAngle,be.targetLabelAngle=we.targetLabelAngle}}},(cHe={}).updateCachedGrabbedEles=function(){var c=this.cachedZSortedEles;if(c){c.drag=[],c.nondrag=[];for(var q=[],Y=0;Y<c.length;Y++){var V=(Z=c[Y])._private.rscratch;Z.grabbed()&&!Z.isParent()?q.push(Z):V.inDragLayer?c.drag.push(Z):c.nondrag.push(Z)}for(Y=0;Y<q.length;Y++){var Z=q[Y];c.drag.push(Z)}}},cHe.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},cHe.getCachedZSortedEles=function(c){if(c||!this.cachedZSortedEles){var q=this.cy.mutableElements().toArray();q.sort(Xje),q.interactive=q.filter(function(c){return c.interactive()}),this.cachedZSortedEles=q,this.updateCachedGrabbedEles()}else q=this.cachedZSortedEles;return q},hHe={},[SWe,AWe,JWe,eHe,tHe,rHe,sHe,lHe,cHe].forEach(function(c){eIe(hHe,c)}),(uHe={}).getCachedImage=function(c,q,Y){var V=this.imageCache=this.imageCache||{},Z=V[c];if(Z)return Z.image.complete||Z.image.addEventListener("load",Y),Z.image;var re=(Z=V[c]=V[c]||{}).image=new Image;re.addEventListener("load",Y),re.addEventListener("error",function(){re.error=!0});var ae="data:";return c.substring(0,5).toLowerCase()===ae||(q="null"===q?null:q,re.crossOrigin=q),re.src=c,re},(pHe={}).registerBinding=function(c,q,Y,V){var Z=Array.prototype.slice.apply(arguments,[1]),re=this.binder(c);return re.on.apply(re,Z)},pHe.binder=function(c){var q=this,Y=q.cy.window(),V=c===Y||c===Y.document||c===Y.document.body||ANe(c);if(null==q.supportsPassiveEvents){var Z=!1;try{var re=Object.defineProperty({},"passive",{get:o(function(){return Z=!0,!0},"get")});Y.addEventListener("test",null,re)}catch{}q.supportsPassiveEvents=Z}var ae=o(function(Y,Z,re){var ae=Array.prototype.slice.call(arguments);return V&&q.supportsPassiveEvents&&(ae[2]={capture:re??!1,passive:!1,once:!1}),q.bindings.push({target:c,args:ae}),(c.addEventListener||c.on).apply(c,ae),this},"on");return{on:ae,addEventListener:ae,addListener:ae,bind:ae}},pHe.nodeIsDraggable=function(c){return c&&c.isNode()&&!c.locked()&&c.grabbable()},pHe.nodeIsGrabbable=function(c){return this.nodeIsDraggable(c)&&c.interactive()},pHe.load=function(){var c=this,q=c.cy.window(),Y=o(function(c){return c.selected()},"isSelected"),V=o(function(q,Y,V,Z){null==q&&(q=c.cy);for(var re=0;re<Y.length;re++){var ae=Y[re];q.emit({originalEvent:V,type:ae,position:Z})}},"triggerEvents"),Z=o(function(c){return c.shiftKey||c.metaKey||c.ctrlKey},"isMultSelKeyDown"),re=o(function(q,Y){var V=!0;if(c.cy.hasCompoundNodes()&&q&&q.pannable())for(var Z=0;Y&&Z<Y.length;Z++){if((q=Y[Z]).isNode()&&q.isParent()&&!q.pannable()){V=!1;break}}else V=!0;return V},"allowPanningPassthrough"),ae=o(function(c){c[0]._private.grabbed=!0},"setGrabbed"),se=o(function(c){c[0]._private.grabbed=!1},"setFreed"),oe=o(function(c){c[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),he=o(function(c){c[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),de=o(function(c){c[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),pe=o(function(c){c[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),ge=o(function(c,q){var Y=q.addToList;!Y.has(c)&&c.grabbable()&&!c.locked()&&(Y.merge(c),ae(c))},"addToDragList"),me=o(function(c,q){if(c.cy().hasCompoundNodes()&&(null!=q.inDragLayer||null!=q.addToList)){var Y=c.descendants();q.inDragLayer&&(Y.forEach(oe),Y.connectedEdges().forEach(oe)),q.addToList&&ge(Y,q)}},"addDescendantsToDrag"),ve=o(function(q,Y){Y=Y||{};var V=q.cy().hasCompoundNodes();Y.inDragLayer&&(q.forEach(oe),q.neighborhood().stdFilter(function(c){return!V||c.isEdge()}).forEach(oe)),Y.addToList&&q.forEach(function(c){ge(c,Y)}),me(q,Y),Te(q,{inDragLayer:Y.inDragLayer}),c.updateCachedGrabbedEles()},"addNodesToDrag"),be=ve,we=o(function(q){q&&(c.getCachedZSortedEles().forEach(function(c){se(c),he(c),pe(c)}),c.updateCachedGrabbedEles())},"freeDraggedElements"),Te=o(function(c,q){if((null!=q.inDragLayer||null!=q.addToList)&&c.cy().hasCompoundNodes()){var Y=c.ancestors().orphans();if(!Y.same(c)){var V=Y.descendants().spawnSelf().merge(Y).unmerge(c).unmerge(c.descendants()),Z=V.connectedEdges();q.inDragLayer&&(Z.forEach(oe),V.forEach(oe)),q.addToList&&V.forEach(function(c){ge(c,q)})}}},"updateAncestorsInDragLayer"),_e=o(function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},"blurActiveDomElement"),Ee=typeof MutationObserver<"u",Ce=typeof ResizeObserver<"u";Ee?(c.removeObserver=new MutationObserver(function(q){for(var Y=0;Y<q.length;Y++){var V=q[Y].removedNodes;if(V)for(var Z=0;Z<V.length;Z++){if(V[Z]===c.container){c.destroy();break}}}}),c.container.parentNode&&c.removeObserver.observe(c.container.parentNode,{childList:!0})):c.registerBinding(c.container,"DOMNodeRemoved",function(q){c.destroy()});var Se=eRe(function(){c.cy.resize()},100);Ee&&(c.styleObserver=new MutationObserver(Se),c.styleObserver.observe(c.container,{attributes:!0})),c.registerBinding(q,"resize",Se),Ce&&(c.resizeObserver=new ResizeObserver(Se),c.resizeObserver.observe(c.container));var Ae=o(function(c,q){for(;null!=c;)q(c),c=c.parentNode},"forEachUp"),Le=o(function(){c.invalidateContainerClientCoordsCache()},"invalidateCoords");Ae(c.container,function(q){c.registerBinding(q,"transitionend",Le),c.registerBinding(q,"animationend",Le),c.registerBinding(q,"scroll",Le)}),c.registerBinding(c.container,"contextmenu",function(c){c.preventDefault()});var Ne,Ie,Me,Re=o(function(){return 0!==c.selection[4]},"inBoxSelection"),Oe=o(function(q){for(var Y=c.findContainerClientCoords(),V=Y[0],Z=Y[1],re=Y[2],ae=Y[3],se=q.touches?q.touches:[q],oe=!1,he=0;he<se.length;he++){var de=se[he];if(V<=de.clientX&&de.clientX<=V+re&&Z<=de.clientY&&de.clientY<=Z+ae){oe=!0;break}}if(!oe)return!1;for(var pe=c.container,ge=q.target.parentNode,me=!1;ge;){if(ge===pe){me=!0;break}ge=ge.parentNode}return!!me},"eventInContainer");c.registerBinding(c.container,"mousedown",o(function(q){if(Oe(q)&&(1!==c.hoverData.which||1===q.which)){q.preventDefault(),_e(),c.hoverData.capture=!0,c.hoverData.which=q.which;var Y=c.cy,Z=[q.clientX,q.clientY],re=c.projectIntoViewport(Z[0],Z[1]),ae=c.selection,se=c.findNearestElements(re[0],re[1],!0,!1),oe=se[0],he=c.dragData.possibleDragElements;c.hoverData.mdownPos=re,c.hoverData.mdownGPos=Z;var pe=o(function(){c.hoverData.tapholdCancelled=!1,clearTimeout(c.hoverData.tapholdTimeout),c.hoverData.tapholdTimeout=setTimeout(function(){if(!c.hoverData.tapholdCancelled){var V=c.hoverData.down;V?V.emit({originalEvent:q,type:"taphold",position:{x:re[0],y:re[1]}}):Y.emit({originalEvent:q,type:"taphold",position:{x:re[0],y:re[1]}})}},c.tapholdDuration)},"checkForTaphold");if(3==q.which){c.hoverData.cxtStarted=!0;var ge={originalEvent:q,type:"cxttapstart",position:{x:re[0],y:re[1]}};oe?(oe.activate(),oe.emit(ge),c.hoverData.down=oe):Y.emit(ge),c.hoverData.downTime=(new Date).getTime(),c.hoverData.cxtDragged=!1}else if(1==q.which){if(oe&&oe.activate(),null!=oe&&c.nodeIsGrabbable(oe)){var me=o(function(c){return{originalEvent:q,type:c,position:{x:re[0],y:re[1]}}},"makeEvent"),we=o(function(c){c.emit(me("grab"))},"triggerGrab");if(de(oe),oe.selected()){he=c.dragData.possibleDragElements=Y.collection();var Te=Y.$(function(q){return q.isNode()&&q.selected()&&c.nodeIsGrabbable(q)});ve(Te,{addToList:he}),oe.emit(me("grabon")),Te.forEach(we)}else he=c.dragData.possibleDragElements=Y.collection(),be(oe,{addToList:he}),oe.emit(me("grabon")).emit(me("grab"));c.redrawHint("eles",!0),c.redrawHint("drag",!0)}c.hoverData.down=oe,c.hoverData.downs=se,c.hoverData.downTime=(new Date).getTime(),V(oe,["mousedown","tapstart","vmousedown"],q,{x:re[0],y:re[1]}),null==oe?(ae[4]=1,c.data.bgActivePosistion={x:re[0],y:re[1]},c.redrawHint("select",!0),c.redraw()):oe.pannable()&&(ae[4]=1),pe()}ae[0]=ae[2]=re[0],ae[1]=ae[3]=re[1]}},"mousedownHandler"),!1),c.registerBinding(q,"mousemove",o(function(q){if(c.hoverData.capture||Oe(q)){var Y=!1,ae=c.cy,se=ae.zoom(),oe=[q.clientX,q.clientY],he=c.projectIntoViewport(oe[0],oe[1]),de=c.hoverData.mdownPos,pe=c.hoverData.mdownGPos,ge=c.selection,me=null;!c.hoverData.draggingEles&&!c.hoverData.dragging&&!c.hoverData.selecting&&(me=c.findNearestElement(he[0],he[1],!0,!1));var be,Te=c.hoverData.last,_e=c.hoverData.down,Ee=[he[0]-ge[2],he[1]-ge[3]],Ce=c.dragData.possibleDragElements;if(pe){var Se=oe[0]-pe[0],Ae=Se*Se,Le=oe[1]-pe[1],Ne=Ae+Le*Le;c.hoverData.isOverThresholdDrag=be=Ne>=c.desktopTapThreshold2}var Ie=Z(q);be&&(c.hoverData.tapholdCancelled=!0);var Me=o(function(){var q=c.hoverData.dragDelta=c.hoverData.dragDelta||[];0===q.length?(q.push(Ee[0]),q.push(Ee[1])):(q[0]+=Ee[0],q[1]+=Ee[1])},"updateDragDelta");Y=!0,V(me,["mousemove","vmousemove","tapdrag"],q,{x:he[0],y:he[1]});var Re=o(function(){c.data.bgActivePosistion=void 0,c.hoverData.selecting||ae.emit({originalEvent:q,type:"boxstart",position:{x:he[0],y:he[1]}}),ge[4]=1,c.hoverData.selecting=!0,c.redrawHint("select",!0),c.redraw()},"goIntoBoxMode");if(3===c.hoverData.which){if(be){var Be={originalEvent:q,type:"cxtdrag",position:{x:he[0],y:he[1]}};_e?_e.emit(Be):ae.emit(Be),c.hoverData.cxtDragged=!0,(!c.hoverData.cxtOver||me!==c.hoverData.cxtOver)&&(c.hoverData.cxtOver&&c.hoverData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:he[0],y:he[1]}}),c.hoverData.cxtOver=me,me&&me.emit({originalEvent:q,type:"cxtdragover",position:{x:he[0],y:he[1]}}))}}else if(c.hoverData.dragging){if(Y=!0,ae.panningEnabled()&&ae.userPanningEnabled()){var $e;if(c.hoverData.justStartedPan){var Ue=c.hoverData.mdownPos;$e={x:(he[0]-Ue[0])*se,y:(he[1]-Ue[1])*se},c.hoverData.justStartedPan=!1}else $e={x:Ee[0]*se,y:Ee[1]*se};ae.panBy($e),ae.emit("dragpan"),c.hoverData.dragged=!0}he=c.projectIntoViewport(q.clientX,q.clientY)}else if(1!=ge[4]||null!=_e&&!_e.pannable()){if(_e&&_e.pannable()&&_e.active()&&_e.unactivate(),(!_e||!_e.grabbed())&&me!=Te&&(Te&&V(Te,["mouseout","tapdragout"],q,{x:he[0],y:he[1]}),me&&V(me,["mouseover","tapdragover"],q,{x:he[0],y:he[1]}),c.hoverData.last=me),_e)if(be){if(ae.boxSelectionEnabled()&&Ie)_e&&_e.grabbed()&&(we(Ce),_e.emit("freeon"),Ce.emit("free"),c.dragData.didDrag&&(_e.emit("dragfreeon"),Ce.emit("dragfree"))),Re();else if(_e&&_e.grabbed()&&c.nodeIsDraggable(_e)){var qe=!c.dragData.didDrag;qe&&c.redrawHint("eles",!0),c.dragData.didDrag=!0,c.hoverData.draggingEles||ve(Ce,{inDragLayer:!0});var je={x:0,y:0};if(vNe(Ee[0])&&vNe(Ee[1])&&(je.x+=Ee[0],je.y+=Ee[1],qe)){var We=c.hoverData.dragDelta;We&&vNe(We[0])&&vNe(We[1])&&(je.x+=We[0],je.y+=We[1])}c.hoverData.draggingEles=!0,Ce.silentShift(je).emit("position drag"),c.redrawHint("drag",!0),c.redraw()}}else Me();Y=!0}else if(be){if(c.hoverData.dragging||!ae.boxSelectionEnabled()||!Ie&&ae.panningEnabled()&&ae.userPanningEnabled()){if(!c.hoverData.selecting&&ae.panningEnabled()&&ae.userPanningEnabled()){re(_e,c.hoverData.downs)&&(c.hoverData.dragging=!0,c.hoverData.justStartedPan=!0,ge[4]=0,c.data.bgActivePosistion=GOe(de),c.redrawHint("select",!0),c.redraw())}}else Re();_e&&_e.pannable()&&_e.active()&&_e.unactivate()}if(ge[2]=he[0],ge[3]=he[1],Y)return q.stopPropagation&&q.stopPropagation(),q.preventDefault&&q.preventDefault(),!1}},"mousemoveHandler"),!1),c.registerBinding(q,"mouseup",o(function(q){if((1!==c.hoverData.which||1===q.which||!c.hoverData.capture)&&c.hoverData.capture){c.hoverData.capture=!1;var re=c.cy,ae=c.projectIntoViewport(q.clientX,q.clientY),se=c.selection,oe=c.findNearestElement(ae[0],ae[1],!0,!1),he=c.dragData.possibleDragElements,de=c.hoverData.down,pe=Z(q);if(c.data.bgActivePosistion&&(c.redrawHint("select",!0),c.redraw()),c.hoverData.tapholdCancelled=!0,c.data.bgActivePosistion=void 0,de&&de.unactivate(),3===c.hoverData.which){var ge={originalEvent:q,type:"cxttapend",position:{x:ae[0],y:ae[1]}};if(de?de.emit(ge):re.emit(ge),!c.hoverData.cxtDragged){var me={originalEvent:q,type:"cxttap",position:{x:ae[0],y:ae[1]}};de?de.emit(me):re.emit(me)}c.hoverData.cxtDragged=!1,c.hoverData.which=null}else if(1===c.hoverData.which){if(V(oe,["mouseup","tapend","vmouseup"],q,{x:ae[0],y:ae[1]}),!c.dragData.didDrag&&!c.hoverData.dragged&&!c.hoverData.selecting&&!c.hoverData.isOverThresholdDrag&&(V(de,["click","tap","vclick"],q,{x:ae[0],y:ae[1]}),Ie=!1,q.timeStamp-Me<=re.multiClickDebounceTime()?(Ne&&clearTimeout(Ne),Ie=!0,Me=null,V(de,["dblclick","dbltap","vdblclick"],q,{x:ae[0],y:ae[1]})):(Ne=setTimeout(function(){Ie||V(de,["oneclick","onetap","voneclick"],q,{x:ae[0],y:ae[1]})},re.multiClickDebounceTime()),Me=q.timeStamp)),null==de&&!c.dragData.didDrag&&!c.hoverData.selecting&&!c.hoverData.dragged&&!Z(q)&&(re.$(Y).unselect(["tapunselect"]),he.length>0&&c.redrawHint("eles",!0),c.dragData.possibleDragElements=he=re.collection()),oe==de&&!c.dragData.didDrag&&!c.hoverData.selecting&&null!=oe&&oe._private.selectable&&(c.hoverData.dragging||("additive"===re.selectionType()||pe?oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]):pe||(re.$(Y).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"]))),c.redrawHint("eles",!0)),c.hoverData.selecting){var ve=re.collection(c.getAllInBox(se[0],se[1],se[2],se[3]));c.redrawHint("select",!0),ve.length>0&&c.redrawHint("eles",!0),re.emit({type:"boxend",originalEvent:q,position:{x:ae[0],y:ae[1]}});var be=o(function(c){return c.selectable()&&!c.selected()},"eleWouldBeSelected");"additive"===re.selectionType()||pe||re.$(Y).unmerge(ve).unselect(),ve.emit("box").stdFilter(be).select().emit("boxselect"),c.redraw()}if(c.hoverData.dragging&&(c.hoverData.dragging=!1,c.redrawHint("select",!0),c.redrawHint("eles",!0),c.redraw()),!se[4]){c.redrawHint("drag",!0),c.redrawHint("eles",!0);var Te=de&&de.grabbed();we(he),Te&&(de.emit("freeon"),he.emit("free"),c.dragData.didDrag&&(de.emit("dragfreeon"),he.emit("dragfree")))}}se[4]=0,c.hoverData.down=null,c.hoverData.cxtStarted=!1,c.hoverData.draggingEles=!1,c.hoverData.selecting=!1,c.hoverData.isOverThresholdDrag=!1,c.dragData.didDrag=!1,c.hoverData.dragged=!1,c.hoverData.dragDelta=[],c.hoverData.mdownPos=null,c.hoverData.mdownGPos=null,c.hoverData.which=null}},"mouseupHandler"),!1);var Be=o(function(q){if(!c.scrollingPage){var Y=c.cy,V=Y.zoom(),Z=Y.pan(),re=c.projectIntoViewport(q.clientX,q.clientY),ae=[re[0]*V+Z.x,re[1]*V+Z.y];if(c.hoverData.draggingEles||c.hoverData.dragging||c.hoverData.cxtStarted||Re())return void q.preventDefault();if(Y.panningEnabled()&&Y.userPanningEnabled()&&Y.zoomingEnabled()&&Y.userZoomingEnabled()){var se;q.preventDefault(),c.data.wheelZooming=!0,clearTimeout(c.data.wheelTimeout),c.data.wheelTimeout=setTimeout(function(){c.data.wheelZooming=!1,c.redrawHint("eles",!0),c.redraw()},150),se=null!=q.deltaY?q.deltaY/-250:null!=q.wheelDeltaY?q.wheelDeltaY/1e3:q.wheelDelta/1e3,se*=c.wheelSensitivity,1===q.deltaMode&&(se*=33);var oe=Y.zoom()*Math.pow(10,se);"gesturechange"===q.type&&(oe=c.gestureStartZoom*q.scale),Y.zoom({level:oe,renderedPosition:{x:ae[0],y:ae[1]}}),Y.emit("gesturechange"===q.type?"pinchzoom":"scrollzoom")}}},"wheelHandler");c.registerBinding(c.container,"wheel",Be,!0),c.registerBinding(q,"scroll",o(function(q){c.scrollingPage=!0,clearTimeout(c.scrollingPageTimeout),c.scrollingPageTimeout=setTimeout(function(){c.scrollingPage=!1},250)},"scrollHandler"),!0),c.registerBinding(c.container,"gesturestart",o(function(q){c.gestureStartZoom=c.cy.zoom(),c.hasTouchStarted||q.preventDefault()},"gestureStartHandler"),!0),c.registerBinding(c.container,"gesturechange",function(q){c.hasTouchStarted||Be(q)},!0),c.registerBinding(c.container,"mouseout",o(function(q){var Y=c.projectIntoViewport(q.clientX,q.clientY);c.cy.emit({originalEvent:q,type:"mouseout",position:{x:Y[0],y:Y[1]}})},"mouseOutHandler"),!1),c.registerBinding(c.container,"mouseover",o(function(q){var Y=c.projectIntoViewport(q.clientX,q.clientY);c.cy.emit({originalEvent:q,type:"mouseover",position:{x:Y[0],y:Y[1]}})},"mouseOverHandler"),!1);var $e,Ue,qe,je,We,He,Ve,Ke,Qe,Ze,Je,et,tt,rt,nt,it,at,st,ot,lt,ht=o(function(c,q,Y,V){return Math.sqrt((Y-c)*(Y-c)+(V-q)*(V-q))},"distance"),ut=o(function(c,q,Y,V){return(Y-c)*(Y-c)+(V-q)*(V-q)},"distanceSq");if(c.registerBinding(c.container,"touchstart",rt=o(function(q){if(c.hasTouchStarted=!0,Oe(q)){_e(),c.touchData.capture=!0,c.data.bgActivePosistion=void 0;var Y=c.cy,Z=c.touchData.now,re=c.touchData.earlier;if(q.touches[0]){var ae=c.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);Z[0]=ae[0],Z[1]=ae[1]}if(q.touches[1]){ae=c.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);Z[2]=ae[0],Z[3]=ae[1]}if(q.touches[2]){ae=c.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);Z[4]=ae[0],Z[5]=ae[1]}if(q.touches[1]){c.touchData.singleTouchMoved=!0,we(c.dragData.touchDragEles);var se=c.findContainerClientCoords();Qe=se[0],Ze=se[1],Je=se[2],et=se[3],$e=q.touches[0].clientX-Qe,Ue=q.touches[0].clientY-Ze,qe=q.touches[1].clientX-Qe,je=q.touches[1].clientY-Ze,tt=0<=$e&&$e<=Je&&0<=qe&&qe<=Je&&0<=Ue&&Ue<=et&&0<=je&&je<=et;var oe=Y.pan(),he=Y.zoom();We=ht($e,Ue,qe,je),He=ut($e,Ue,qe,je),Ke=[((Ve=[($e+qe)/2,(Ue+je)/2])[0]-oe.x)/he,(Ve[1]-oe.y)/he];if(He<4e4&&!q.touches[2]){var pe=c.findNearestElement(Z[0],Z[1],!0,!0),ge=c.findNearestElement(Z[2],Z[3],!0,!0);return pe&&pe.isNode()?(pe.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),c.touchData.start=pe):ge&&ge.isNode()?(ge.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),c.touchData.start=ge):Y.emit({originalEvent:q,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!0,c.touchData.cxtDragged=!1,c.data.bgActivePosistion=void 0,void c.redraw()}}if(q.touches[2])Y.boxSelectionEnabled()&&q.preventDefault();else if(!q.touches[1]&&q.touches[0]){var me=c.findNearestElements(Z[0],Z[1],!0,!0),Te=me[0];if(null!=Te&&(Te.activate(),c.touchData.start=Te,c.touchData.starts=me,c.nodeIsGrabbable(Te))){var Ee=c.dragData.touchDragEles=Y.collection(),Ce=null;c.redrawHint("eles",!0),c.redrawHint("drag",!0),Te.selected()?(Ce=Y.$(function(q){return q.selected()&&c.nodeIsGrabbable(q)}),ve(Ce,{addToList:Ee})):be(Te,{addToList:Ee}),de(Te);var Se=o(function(c){return{originalEvent:q,type:c,position:{x:Z[0],y:Z[1]}}},"makeEvent");Te.emit(Se("grabon")),Ce?Ce.forEach(function(c){c.emit(Se("grab"))}):Te.emit(Se("grab"))}V(Te,["touchstart","tapstart","vmousedown"],q,{x:Z[0],y:Z[1]}),null==Te&&(c.data.bgActivePosistion={x:ae[0],y:ae[1]},c.redrawHint("select",!0),c.redraw()),c.touchData.singleTouchMoved=!1,c.touchData.singleTouchStartTime=+new Date,clearTimeout(c.touchData.tapholdTimeout),c.touchData.tapholdTimeout=setTimeout(function(){!1===c.touchData.singleTouchMoved&&!c.pinching&&!c.touchData.selecting&&V(c.touchData.start,["taphold"],q,{x:Z[0],y:Z[1]})},c.tapholdDuration)}if(q.touches.length>=1){for(var Ae=c.touchData.startPosition=[null,null,null,null,null,null],Le=0;Le<Z.length;Le++)Ae[Le]=re[Le]=Z[Le];var Ne=q.touches[0];c.touchData.startGPosition=[Ne.clientX,Ne.clientY]}}},"touchstartHandler"),!1),c.registerBinding(q,"touchmove",nt=o(function(q){var Y=c.touchData.capture;if(Y||Oe(q)){var Z=c.selection,ae=c.cy,se=c.touchData.now,oe=c.touchData.earlier,he=ae.zoom();if(q.touches[0]){var de=c.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);se[0]=de[0],se[1]=de[1]}if(q.touches[1]){de=c.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);se[2]=de[0],se[3]=de[1]}if(q.touches[2]){de=c.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);se[4]=de[0],se[5]=de[1]}var pe,ge=c.touchData.startGPosition;if(Y&&q.touches[0]&&ge){for(var me=[],be=0;be<se.length;be++)me[be]=se[be]-oe[be];var Te=q.touches[0].clientX-ge[0],_e=Te*Te,Ee=q.touches[0].clientY-ge[1];pe=_e+Ee*Ee>=c.touchTapThreshold2}if(Y&&c.touchData.cxt){q.preventDefault();var Ce=q.touches[0].clientX-Qe,Se=q.touches[0].clientY-Ze,Ae=q.touches[1].clientX-Qe,Le=q.touches[1].clientY-Ze,Ne=ut(Ce,Se,Ae,Le);if(Ne/He>=2.25||Ne>=22500){c.touchData.cxt=!1,c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var Ie={originalEvent:q,type:"cxttapend",position:{x:se[0],y:se[1]}};c.touchData.start?(c.touchData.start.unactivate().emit(Ie),c.touchData.start=null):ae.emit(Ie)}}if(Y&&c.touchData.cxt){Ie={originalEvent:q,type:"cxtdrag",position:{x:se[0],y:se[1]}};c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.touchData.start?c.touchData.start.emit(Ie):ae.emit(Ie),c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxtDragged=!0;var Me=c.findNearestElement(se[0],se[1],!0,!0);(!c.touchData.cxtOver||Me!==c.touchData.cxtOver)&&(c.touchData.cxtOver&&c.touchData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:se[0],y:se[1]}}),c.touchData.cxtOver=Me,Me&&Me.emit({originalEvent:q,type:"cxtdragover",position:{x:se[0],y:se[1]}}))}else if(Y&&q.touches[2]&&ae.boxSelectionEnabled())q.preventDefault(),c.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,c.touchData.selecting||ae.emit({originalEvent:q,type:"boxstart",position:{x:se[0],y:se[1]}}),c.touchData.selecting=!0,c.touchData.didSelect=!0,Z[4]=1,Z&&0!==Z.length&&void 0!==Z[0]?(Z[2]=(se[0]+se[2]+se[4])/3,Z[3]=(se[1]+se[3]+se[5])/3):(Z[0]=(se[0]+se[2]+se[4])/3,Z[1]=(se[1]+se[3]+se[5])/3,Z[2]=(se[0]+se[2]+se[4])/3+1,Z[3]=(se[1]+se[3]+se[5])/3+1),c.redrawHint("select",!0),c.redraw();else if(Y&&q.touches[1]&&!c.touchData.didSelect&&ae.zoomingEnabled()&&ae.panningEnabled()&&ae.userZoomingEnabled()&&ae.userPanningEnabled()){if(q.preventDefault(),c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),gt=c.dragData.touchDragEles){c.redrawHint("drag",!0);for(var Re=0;Re<gt.length;Re++){var Be=gt[Re]._private;Be.grabbed=!1,Be.rscratch.inDragLayer=!1}}var Ve=c.touchData.start,Je=(Ce=q.touches[0].clientX-Qe,Se=q.touches[0].clientY-Ze,Ae=q.touches[1].clientX-Qe,Le=q.touches[1].clientY-Ze,ht(Ce,Se,Ae,Le)),et=Je/We;if(tt){var rt=(Ce-$e+(Ae-qe))/2,nt=(Se-Ue+(Le-je))/2,it=ae.zoom(),at=it*et,st=ae.pan(),ot=Ke[0]*it+st.x,lt=Ke[1]*it+st.y,pt={x:-at/it*(ot-st.x-rt)+ot,y:-at/it*(lt-st.y-nt)+lt};if(Ve&&Ve.active()){var gt=c.dragData.touchDragEles;we(gt),c.redrawHint("drag",!0),c.redrawHint("eles",!0),Ve.unactivate().emit("freeon"),gt.emit("free"),c.dragData.didDrag&&(Ve.emit("dragfreeon"),gt.emit("dragfree"))}ae.viewport({zoom:at,pan:pt,cancelOnFailedZoom:!0}),ae.emit("pinchzoom"),We=Je,$e=Ce,Ue=Se,qe=Ae,je=Le,c.pinching=!0}if(q.touches[0]){de=c.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);se[0]=de[0],se[1]=de[1]}if(q.touches[1]){de=c.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);se[2]=de[0],se[3]=de[1]}if(q.touches[2]){de=c.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);se[4]=de[0],se[5]=de[1]}}else if(q.touches[0]&&!c.touchData.didSelect){var ft=c.touchData.start,mt=c.touchData.last;if(!c.hoverData.draggingEles&&!c.swipePanning&&(Me=c.findNearestElement(se[0],se[1],!0,!0)),Y&&null!=ft&&q.preventDefault(),Y&&null!=ft&&c.nodeIsDraggable(ft))if(pe){gt=c.dragData.touchDragEles;var xt=!c.dragData.didDrag;xt&&ve(gt,{inDragLayer:!0}),c.dragData.didDrag=!0;var bt={x:0,y:0};if(vNe(me[0])&&vNe(me[1])&&(bt.x+=me[0],bt.y+=me[1],xt))c.redrawHint("eles",!0),(wt=c.touchData.dragDelta)&&vNe(wt[0])&&vNe(wt[1])&&(bt.x+=wt[0],bt.y+=wt[1]);c.hoverData.draggingEles=!0,gt.silentShift(bt).emit("position drag"),c.redrawHint("drag",!0),c.touchData.startPosition[0]==oe[0]&&c.touchData.startPosition[1]==oe[1]&&c.redrawHint("eles",!0),c.redraw()}else{var wt;0===(wt=c.touchData.dragDelta=c.touchData.dragDelta||[]).length?(wt.push(me[0]),wt.push(me[1])):(wt[0]+=me[0],wt[1]+=me[1])}if(V(ft||Me,["touchmove","tapdrag","vmousemove"],q,{x:se[0],y:se[1]}),(!ft||!ft.grabbed())&&Me!=mt&&(mt&&mt.emit({originalEvent:q,type:"tapdragout",position:{x:se[0],y:se[1]}}),Me&&Me.emit({originalEvent:q,type:"tapdragover",position:{x:se[0],y:se[1]}})),c.touchData.last=Me,Y)for(Re=0;Re<se.length;Re++)se[Re]&&c.touchData.startPosition[Re]&&pe&&(c.touchData.singleTouchMoved=!0);if(Y&&(null==ft||ft.pannable())&&ae.panningEnabled()&&ae.userPanningEnabled()){re(ft,c.touchData.starts)&&(q.preventDefault(),c.data.bgActivePosistion||(c.data.bgActivePosistion=GOe(c.touchData.startPosition)),c.swipePanning?(ae.panBy({x:me[0]*he,y:me[1]*he}),ae.emit("dragpan")):pe&&(c.swipePanning=!0,ae.panBy({x:Te*he,y:Ee*he}),ae.emit("dragpan"),ft&&(ft.unactivate(),c.redrawHint("select",!0),c.touchData.start=null)));de=c.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);se[0]=de[0],se[1]=de[1]}}for(be=0;be<se.length;be++)oe[be]=se[be];Y&&q.touches.length>0&&!c.hoverData.draggingEles&&!c.swipePanning&&null!=c.data.bgActivePosistion&&(c.data.bgActivePosistion=void 0,c.redrawHint("select",!0),c.redraw())}},"touchmoveHandler"),!1),c.registerBinding(q,"touchcancel",it=o(function(q){var Y=c.touchData.start;c.touchData.capture=!1,Y&&Y.unactivate()},"touchcancelHandler")),c.registerBinding(q,"touchend",at=o(function(q){var Z=c.touchData.start;if(c.touchData.capture){0===q.touches.length&&(c.touchData.capture=!1),q.preventDefault();var re=c.selection;c.swipePanning=!1,c.hoverData.draggingEles=!1;var ae,se=c.cy,oe=se.zoom(),he=c.touchData.now,de=c.touchData.earlier;if(q.touches[0]){var pe=c.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);he[0]=pe[0],he[1]=pe[1]}if(q.touches[1]){pe=c.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);he[2]=pe[0],he[3]=pe[1]}if(q.touches[2]){pe=c.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);he[4]=pe[0],he[5]=pe[1]}if(Z&&Z.unactivate(),c.touchData.cxt){if(ae={originalEvent:q,type:"cxttapend",position:{x:he[0],y:he[1]}},Z?Z.emit(ae):se.emit(ae),!c.touchData.cxtDragged){var ge={originalEvent:q,type:"cxttap",position:{x:he[0],y:he[1]}};Z?Z.emit(ge):se.emit(ge)}return c.touchData.start&&(c.touchData.start._private.grabbed=!1),c.touchData.cxt=!1,c.touchData.start=null,void c.redraw()}if(!q.touches[2]&&se.boxSelectionEnabled()&&c.touchData.selecting){c.touchData.selecting=!1;var me=se.collection(c.getAllInBox(re[0],re[1],re[2],re[3]));re[0]=void 0,re[1]=void 0,re[2]=void 0,re[3]=void 0,re[4]=0,c.redrawHint("select",!0),se.emit({type:"boxend",originalEvent:q,position:{x:he[0],y:he[1]}});var ve=o(function(c){return c.selectable()&&!c.selected()},"eleWouldBeSelected");me.emit("box").stdFilter(ve).select().emit("boxselect"),me.nonempty()&&c.redrawHint("eles",!0),c.redraw()}if(Z?.unactivate(),q.touches[2])c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);else if(!q.touches[1]&&!q.touches[0]&&!q.touches[0]){c.data.bgActivePosistion=void 0,c.redrawHint("select",!0);var be=c.dragData.touchDragEles;if(null!=Z){var Te=Z._private.grabbed;we(be),c.redrawHint("drag",!0),c.redrawHint("eles",!0),Te&&(Z.emit("freeon"),be.emit("free"),c.dragData.didDrag&&(Z.emit("dragfreeon"),be.emit("dragfree"))),V(Z,["touchend","tapend","vmouseup","tapdragout"],q,{x:he[0],y:he[1]}),Z.unactivate(),c.touchData.start=null}else{var _e=c.findNearestElement(he[0],he[1],!0,!0);V(_e,["touchend","tapend","vmouseup","tapdragout"],q,{x:he[0],y:he[1]})}var Ee=c.touchData.startPosition[0]-he[0],Ce=Ee*Ee,Se=c.touchData.startPosition[1]-he[1],Ae=(Ce+Se*Se)*oe*oe;c.touchData.singleTouchMoved||(Z||se.$(":selected").unselect(["tapunselect"]),V(Z,["tap","vclick"],q,{x:he[0],y:he[1]}),st=!1,q.timeStamp-lt<=se.multiClickDebounceTime()?(ot&&clearTimeout(ot),st=!0,lt=null,V(Z,["dbltap","vdblclick"],q,{x:he[0],y:he[1]})):(ot=setTimeout(function(){st||V(Z,["onetap","voneclick"],q,{x:he[0],y:he[1]})},se.multiClickDebounceTime()),lt=q.timeStamp)),null!=Z&&!c.dragData.didDrag&&Z._private.selectable&&Ae<c.touchTapThreshold2&&!c.pinching&&("single"===se.selectionType()?(se.$(Y).unmerge(Z).unselect(["tapunselect"]),Z.select(["tapselect"])):Z.selected()?Z.unselect(["tapunselect"]):Z.select(["tapselect"]),c.redrawHint("eles",!0)),c.touchData.singleTouchMoved=!0}for(var Le=0;Le<he.length;Le++)de[Le]=he[Le];c.dragData.didDrag=!1,0===q.touches.length&&(c.touchData.dragDelta=[],c.touchData.startPosition=[null,null,null,null,null,null],c.touchData.startGPosition=null,c.touchData.didSelect=!1),q.touches.length<2&&(1===q.touches.length&&(c.touchData.startGPosition=[q.touches[0].clientX,q.touches[0].clientY]),c.pinching=!1,c.redrawHint("eles",!0),c.redraw())}},"touchendHandler"),!1),typeof TouchEvent>"u"){var pt=[],gt=o(function(c){return{clientX:c.clientX,clientY:c.clientY,force:1,identifier:c.pointerId,pageX:c.pageX,pageY:c.pageY,radiusX:c.width/2,radiusY:c.height/2,screenX:c.screenX,screenY:c.screenY,target:c.target}},"makeTouch"),ft=o(function(c){return{event:c,touch:gt(c)}},"makePointer"),mt=o(function(c){pt.push(ft(c))},"addPointer"),xt=o(function(c){for(var q=0;q<pt.length;q++){if(pt[q].event.pointerId===c.pointerId)return void pt.splice(q,1)}},"removePointer"),bt=o(function(c){var q=pt.filter(function(q){return q.event.pointerId===c.pointerId})[0];q.event=c,q.touch=gt(c)},"updatePointer"),wt=o(function(c){c.touches=pt.map(function(c){return c.touch})},"addTouchesToEvent"),kt=o(function(c){return"mouse"===c.pointerType||4===c.pointerType},"pointerIsMouse");c.registerBinding(c.container,"pointerdown",function(c){kt(c)||(c.preventDefault(),mt(c),wt(c),rt(c))}),c.registerBinding(c.container,"pointerup",function(c){kt(c)||(xt(c),wt(c),at(c))}),c.registerBinding(c.container,"pointercancel",function(c){kt(c)||(xt(c),wt(c),it(c))}),c.registerBinding(c.container,"pointermove",function(c){kt(c)||(c.preventDefault(),bt(c),wt(c),nt(c))})}},(gHe={}).generatePolygon=function(c,q){return this.nodeShapes[c]={renderer:this,name:c,points:q,draw:o(function(c,q,Y,V,Z,re){this.renderer.nodeShapeImpl("polygon",c,q,Y,V,Z,this.points)},"draw"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se){return zBe(Z,re,this.points,c,q,Y/2,V/2,ae)},"intersectLine"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se){return qPe(c,q,this.points,re,ae,V,Z,[0,-1],Y)},"checkPoint")}},gHe.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:o(function(c,q,Y,V,Z,re){this.renderer.nodeShapeImpl(this.name,c,q,Y,V,Z)},"draw"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se){return VPe(Z,re,c,q,Y/2+ae,V/2+ae)},"intersectLine"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se){return XPe(c,q,V,Z,re,ae,Y)},"checkPoint")}},gHe.generateRoundPolygon=function(c,q){return this.nodeShapes[c]={renderer:this,name:c,points:q,getOrCreateCorners:o(function(c,Y,V,Z,re,ae,se){if(void 0!==ae[se]&&ae[se+"-cx"]===c&&ae[se+"-cy"]===Y)return ae[se];ae[se]=new Array(q.length/2),ae[se+"-cx"]=c,ae[se+"-cy"]=Y;var oe=V/2,he=Z/2;re="auto"===re?NFe(V,Z):re;for(var de=new Array(q.length/2),pe=0;pe<q.length/2;pe++)de[pe]={x:c+oe*q[2*pe],y:Y+he*q[2*pe+1]};var ge,me,ve,be,we=de.length;for(me=de[we-1],ge=0;ge<we;ge++)ve=de[ge%we],be=de[(ge+1)%we],ae[se][ge]=bB(me,ve,be,re),me=ve,ve=be;return ae[se]},"getOrCreateCorners"),draw:o(function(c,q,Y,V,Z,re,ae){this.renderer.nodeShapeImpl("round-polygon",c,q,Y,V,Z,this.points,this.getOrCreateCorners(q,Y,V,Z,re,ae,"drawCorners"))},"draw"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se,oe){return qBe(Z,re,this.points,c,q,Y,V,ae,this.getOrCreateCorners(c,q,Y,V,se,oe,"corners"))},"intersectLine"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se,oe){return jPe(c,q,this.points,re,ae,V,Z,this.getOrCreateCorners(re,ae,V,Z,se,oe,"corners"))},"checkPoint")}},gHe.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:hFe(4,0),draw:o(function(c,q,Y,V,Z,re){this.renderer.nodeShapeImpl(this.name,c,q,Y,V,Z,this.points,re)},"draw"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se){return OPe(Z,re,c,q,Y,V,ae,se)},"intersectLine"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se){var oe=V/2,he=Z/2;se="auto"===se?LFe(V,Z):se;var de=2*(se=Math.min(oe,he,se));return!!(qPe(c,q,this.points,re,ae,V,Z-de,[0,-1],Y)||qPe(c,q,this.points,re,ae,V-de,Z,[0,-1],Y)||XPe(c,q,de,de,re-oe+se,ae-he+se,Y)||XPe(c,q,de,de,re+oe-se,ae-he+se,Y)||XPe(c,q,de,de,re+oe-se,ae+he-se,Y)||XPe(c,q,de,de,re-oe+se,ae+he-se,Y))},"checkPoint")}},gHe.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:IFe(),points:hFe(4,0),draw:o(function(c,q,Y,V,Z,re){this.renderer.nodeShapeImpl(this.name,c,q,Y,V,Z,null,re)},"draw"),generateCutTrianglePts:o(function(c,q,Y,V,Z){var re="auto"===Z?this.cornerLength:Z,ae=q/2,se=c/2,oe=Y-se,he=Y+se,de=V-ae,pe=V+ae;return{topLeft:[oe,de+re,oe+re,de,oe+re,de+re],topRight:[he-re,de,he,de+re,he-re,de+re],bottomRight:[he,pe-re,he-re,pe,he-re,pe-re],bottomLeft:[oe+re,pe,oe,pe-re,oe+re,pe-re]}},"generateCutTrianglePts"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se){var oe=this.generateCutTrianglePts(Y+2*ae,V+2*ae,c,q,se),he=[].concat.apply([],[oe.topLeft.splice(0,4),oe.topRight.splice(0,4),oe.bottomRight.splice(0,4),oe.bottomLeft.splice(0,4)]);return zBe(Z,re,he,c,q)},"intersectLine"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se){var oe="auto"===se?this.cornerLength:se;if(qPe(c,q,this.points,re,ae,V,Z-2*oe,[0,-1],Y)||qPe(c,q,this.points,re,ae,V-2*oe,Z,[0,-1],Y))return!0;var he=this.generateCutTrianglePts(V,Z,re,ae);return UPe(c,q,he.topLeft)||UPe(c,q,he.topRight)||UPe(c,q,he.bottomRight)||UPe(c,q,he.bottomLeft)},"checkPoint")}},gHe.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:hFe(4,0),draw:o(function(c,q,Y,V,Z,re){this.renderer.nodeShapeImpl(this.name,c,q,Y,V,Z)},"draw"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se){var oe=this.generateBarrelBezierPts(Y+2*ae,V+2*ae,c,q),he=o(function(c){var q=gPe({x:c[0],y:c[1]},{x:c[2],y:c[3]},{x:c[4],y:c[5]},.15),Y=gPe({x:c[0],y:c[1]},{x:c[2],y:c[3]},{x:c[4],y:c[5]},.5),V=gPe({x:c[0],y:c[1]},{x:c[2],y:c[3]},{x:c[4],y:c[5]},.85);return[c[0],c[1],q.x,q.y,Y.x,Y.y,V.x,V.y,c[4],c[5]]},"approximateBarrelCurvePts"),de=[].concat(he(oe.topLeft),he(oe.topRight),he(oe.bottomRight),he(oe.bottomLeft));return zBe(Z,re,de,c,q)},"intersectLine"),generateBarrelBezierPts:o(function(c,q,Y,V){var Z=q/2,re=c/2,ae=Y-re,se=Y+re,oe=V-Z,he=V+Z,de=RFe(c,q),pe=de.heightOffset,ge=de.widthOffset,me=de.ctrlPtOffsetPct*c,ve={topLeft:[ae,oe+pe,ae+me,oe,ae+ge,oe],topRight:[se-ge,oe,se-me,oe,se,oe+pe],bottomRight:[se,he-pe,se-me,he,se-ge,he],bottomLeft:[ae+ge,he,ae+me,he,ae,he-pe]};return ve.topLeft.isTop=!0,ve.topRight.isTop=!0,ve.bottomLeft.isBottom=!0,ve.bottomRight.isBottom=!0,ve},"generateBarrelBezierPts"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se){var oe=RFe(V,Z),he=oe.heightOffset,de=oe.widthOffset;if(qPe(c,q,this.points,re,ae,V,Z-2*he,[0,-1],Y)||qPe(c,q,this.points,re,ae,V-2*de,Z,[0,-1],Y))return!0;for(var pe=this.generateBarrelBezierPts(V,Z,re,ae),ge=o(function(c,q,Y){var V=Y[4],Z=Y[2],re=Y[0],ae=Y[5],se=Y[1],oe=Math.min(V,re),he=Math.max(V,re),de=Math.min(ae,se),pe=Math.max(ae,se);if(oe<=c&&c<=he&&de<=q&&q<=pe){var ge=MFe(V,Z,re),me=FPe(ge[0],ge[1],ge[2],c).filter(function(c){return 0<=c&&c<=1});if(me.length>0)return me[0]}return null},"getCurveT"),me=Object.keys(pe),ve=0;ve<me.length;ve++){var be=pe[me[ve]],we=ge(c,q,be);if(null!=we){var Te=be[5],_e=be[3],Ee=be[1],Ce=pPe(Te,_e,Ee,we);if(be.isTop&&Ce<=q||be.isBottom&&q<=Ce)return!0}}return!1},"checkPoint")}},gHe.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:hFe(4,0),draw:o(function(c,q,Y,V,Z,re){this.renderer.nodeShapeImpl(this.name,c,q,Y,V,Z,this.points,re)},"draw"),intersectLine:o(function(c,q,Y,V,Z,re,ae,se){var oe=q-(V/2+ae),he=wBe(Z,re,c,q,c-(Y/2+ae),oe,c+(Y/2+ae),oe,!1);return he.length>0?he:OPe(Z,re,c,q,Y,V,ae,se)},"intersectLine"),checkPoint:o(function(c,q,Y,V,Z,re,ae,se){var oe=2*(se="auto"===se?LFe(V,Z):se);if(qPe(c,q,this.points,re,ae,V,Z-oe,[0,-1],Y)||qPe(c,q,this.points,re,ae,V-oe,Z,[0,-1],Y))return!0;var he=V/2+2*Y,de=Z/2+2*Y;return!!(UPe(c,q,[re-he,ae-de,re-he,ae,re+he,ae,re+he,ae-de])||XPe(c,q,oe,oe,re+V/2-se,ae+Z/2-se,Y)||XPe(c,q,oe,oe,re-V/2+se,ae+Z/2-se,Y))},"checkPoint")}},gHe.registerNodeShapes=function(){var c=this.nodeShapes={},q=this;this.generateEllipse(),this.generatePolygon("triangle",hFe(3,0)),this.generateRoundPolygon("round-triangle",hFe(3,0)),this.generatePolygon("rectangle",hFe(4,0)),c.square=c.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var Y=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",Y),this.generateRoundPolygon("round-diamond",Y),this.generatePolygon("pentagon",hFe(5,0)),this.generateRoundPolygon("round-pentagon",hFe(5,0)),this.generatePolygon("hexagon",hFe(6,0)),this.generateRoundPolygon("round-hexagon",hFe(6,0)),this.generatePolygon("heptagon",hFe(7,0)),this.generateRoundPolygon("round-heptagon",hFe(7,0)),this.generatePolygon("octagon",hFe(8,0)),this.generateRoundPolygon("round-octagon",hFe(8,0));var V=new Array(20),Z=EFe(5,0),re=EFe(5,Math.PI/5),ae=.5*(3-Math.sqrt(5));ae*=1.57;for(var se=0;se<re.length/2;se++)re[2*se]*=ae,re[2*se+1]*=ae;for(se=0;se<5;se++)V[4*se]=Z[2*se],V[4*se+1]=Z[2*se+1],V[4*se+2]=re[2*se],V[4*se+3]=re[2*se+1];V=_Fe(V),this.generatePolygon("star",V),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var oe=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",oe),this.generateRoundPolygon("round-tag",oe),c.makePolygon=function(c){var Y,V="polygon-"+c.join("$");return(Y=this[V])?Y:q.generatePolygon(V,c)}},(fHe={}).timeToRender=function(){return this.redrawTotalTime/this.redrawCount},fHe.redraw=function(c){c=c||CDe();var q=this;void 0===q.averageRedrawTime&&(q.averageRedrawTime=0),void 0===q.lastRedrawTime&&(q.lastRedrawTime=0),void 0===q.lastDrawTime&&(q.lastDrawTime=0),q.requestedFrame=!0,q.renderOptions=c},fHe.beforeRender=function(c,q){if(!this.destroyed){null==q&&yDe("Priority is not optional for beforeRender");var Y=this.beforeRenderCallbacks;Y.push({fn:c,priority:q}),Y.sort(function(c,q){return q.priority-c.priority})}},mHe=o(function(c,q,Y){for(var V=c.beforeRenderCallbacks,Z=0;Z<V.length;Z++)V[Z].fn(q,Y)},"beforeRenderCallbacks"),fHe.startRenderLoop=function(){var c=this,q=c.cy;if(!c.renderLoopStarted){c.renderLoopStarted=!0;var Y=o(function n(Y){if(!c.destroyed){if(!q.batching())if(c.requestedFrame&&!c.skipFrame){mHe(c,!0,Y);var V=sRe();c.render(c.renderOptions);var Z=c.lastDrawTime=sRe();void 0===c.averageRedrawTime&&(c.averageRedrawTime=Z-V),void 0===c.redrawCount&&(c.redrawCount=0),c.redrawCount++,void 0===c.redrawTotalTime&&(c.redrawTotalTime=0);var re=Z-V;c.redrawTotalTime+=re,c.lastRedrawTime=re,c.averageRedrawTime=c.averageRedrawTime/2+re/2,c.requestedFrame=!1}else mHe(c,!1,Y);c.skipFrame=!1,iRe(n)}},"renderFn");iRe(Y)}},yHe=o(function(c){this.init(c)},"BaseRenderer"),(xHe=(vHe=yHe).prototype).clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],xHe.init=function(c){var q=this;q.options=c,q.cy=c.cy;var Y=q.container=c.cy.container(),V=q.cy.window();if(V){var Z=V.document,re=Z.head,ae="__________cytoscape_stylesheet",se="__________cytoscape_container",oe=null!=Z.getElementById(ae);if(Y.className.indexOf(se)<0&&(Y.className=(Y.className||"")+" "+se),!oe){var he=Z.createElement("style");he.id=ae,he.textContent="."+se+" { position: relative; }",re.insertBefore(he,re.children[0])}"static"===V.getComputedStyle(Y).getPropertyValue("position")&&xDe("A Cytoscape container has style position:static and so can not use UI extensions properly")}q.selection=[void 0,void 0,void 0,void 0,0],q.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],q.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},q.dragData={possibleDragElements:[]},q.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},q.redraws=0,q.showFps=c.showFps,q.debug=c.debug,q.hideEdgesOnViewport=c.hideEdgesOnViewport,q.textureOnViewport=c.textureOnViewport,q.wheelSensitivity=c.wheelSensitivity,q.motionBlurEnabled=c.motionBlur,q.forcedPixelRatio=vNe(c.pixelRatio)?c.pixelRatio:null,q.motionBlur=c.motionBlur,q.motionBlurOpacity=c.motionBlurOpacity,q.motionBlurTransparency=1-q.motionBlurOpacity,q.motionBlurPxRatio=1,q.mbPxRBlurry=1,q.minMbLowQualFrames=4,q.fullQualityMb=!1,q.clearedForMotionBlur=[],q.desktopTapThreshold=c.desktopTapThreshold,q.desktopTapThreshold2=c.desktopTapThreshold*c.desktopTapThreshold,q.touchTapThreshold=c.touchTapThreshold,q.touchTapThreshold2=c.touchTapThreshold*c.touchTapThreshold,q.tapholdDuration=500,q.bindings=[],q.beforeRenderCallbacks=[],q.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},q.registerNodeShapes(),q.registerArrowShapes(),q.registerCalculationListeners()},xHe.notify=function(c,q){var Y=this,V=Y.cy;if(!this.destroyed){if("init"===c)return void Y.load();if("destroy"===c)return void Y.destroy();("add"===c||"remove"===c||"move"===c&&V.hasCompoundNodes()||"load"===c||"zorder"===c||"mount"===c)&&Y.invalidateCachedZSortedEles(),"viewport"===c&&Y.redrawHint("select",!0),("load"===c||"resize"===c||"mount"===c)&&(Y.invalidateContainerClientCoordsCache(),Y.matchCanvasSize(Y.container)),Y.redrawHint("eles",!0),Y.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},xHe.destroy=function(){var c=this;c.destroyed=!0,c.cy.stopAnimationLoop();for(var q=0;q<c.bindings.length;q++){var Y=c.bindings[q],V=Y.target;(V.off||V.removeEventListener).apply(V,Y.args)}if(c.bindings=[],c.beforeRenderCallbacks=[],c.onUpdateEleCalcsFns=[],c.removeObserver&&c.removeObserver.disconnect(),c.styleObserver&&c.styleObserver.disconnect(),c.resizeObserver&&c.resizeObserver.disconnect(),c.labelCalcDiv)try{document.body.removeChild(c.labelCalcDiv)}catch{}},xHe.isHeadless=function(){return!1},[CWe,hHe,uHe,pHe,gHe,fHe].forEach(function(c){eIe(xHe,c)}),bHe=1e3/60,wHe={setupDequeueing:o(function(c){return o(function(){var q=this,Y=this.renderer;if(!q.dequeueingSetup){q.dequeueingSetup=!0;var V=eRe(function(){Y.redrawHint("eles",!0),Y.redrawHint("drag",!0),Y.redraw()},c.deqRedrawThreshold),Z=o(function(Z,re){var ae=sRe(),se=Y.averageRedrawTime,oe=Y.lastRedrawTime,he=[],de=Y.cy.extent(),pe=Y.getPixelRatio();for(Z||Y.flushRenderedStyleQueue();;){var ge=sRe(),me=ge-ae,ve=ge-re;if(oe<bHe){var be=bHe-(Z?se:0);if(ve>=c.deqFastCost*be)break}else if(Z){if(me>=c.deqCost*oe||me>=c.deqAvgCost*se)break}else if(ve>=c.deqNoDrawCost*bHe)break;var we=c.deq(q,pe,de);if(!(we.length>0))break;for(var Te=0;Te<we.length;Te++)he.push(we[Te])}he.length>0&&(c.onDeqd(q,he),!Z&&c.shouldRedraw(q,he,pe,de)&&V())},"dequeue"),re=c.priority||gDe;Y.beforeRender(Z,re(q))}},"setupDequeueingImpl")},"setupDequeueing")},kHe=function(){function t(c){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hDe;JP(this,t),this.idsByKey=new BDe,this.keyForId=new BDe,this.cachesByLvl=new BDe,this.lvls=[],this.getKey=c,this.doesEleInvalidateKey=q}return o(t,"ElementTextureCacheLookup"),eB(t,[{key:"getIdsFor",value:o(function(c){null==c&&yDe("Can not get id list for null key");var q=this.idsByKey,Y=this.idsByKey.get(c);return Y||(Y=new $De,q.set(c,Y)),Y},"getIdsFor")},{key:"addIdForKey",value:o(function(c,q){null!=c&&this.getIdsFor(c).add(q)},"addIdForKey")},{key:"deleteIdForKey",value:o(function(c,q){null!=c&&this.getIdsFor(c).delete(q)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:o(function(c){return null==c?0:this.getIdsFor(c).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:o(function(c){var q=c.id(),Y=this.keyForId.get(q),V=this.getKey(c);this.deleteIdForKey(Y,q),this.addIdForKey(V,q),this.keyForId.set(q,V)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:o(function(c){var q=c.id(),Y=this.keyForId.get(q);this.deleteIdForKey(Y,q),this.keyForId.delete(q)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:o(function(c){var q=c.id();return this.keyForId.get(q)!==this.getKey(c)},"keyHasChangedFor")},{key:"isInvalid",value:o(function(c){return this.keyHasChangedFor(c)||this.doesEleInvalidateKey(c)},"isInvalid")},{key:"getCachesAt",value:o(function(c){var q=this.cachesByLvl,Y=this.lvls,V=q.get(c);return V||(V=new BDe,q.set(c,V),Y.push(c)),V},"getCachesAt")},{key:"getCache",value:o(function(c,q){return this.getCachesAt(q).get(c)},"getCache")},{key:"get",value:o(function(c,q){var Y=this.getKey(c),V=this.getCache(Y,q);return null!=V&&this.updateKeyMappingFor(c),V},"get")},{key:"getForCachedKey",value:o(function(c,q){var Y=this.keyForId.get(c.id());return this.getCache(Y,q)},"getForCachedKey")},{key:"hasCache",value:o(function(c,q){return this.getCachesAt(q).has(c)},"hasCache")},{key:"has",value:o(function(c,q){var Y=this.getKey(c);return this.hasCache(Y,q)},"has")},{key:"setCache",value:o(function(c,q,Y){Y.key=c,this.getCachesAt(q).set(c,Y)},"setCache")},{key:"set",value:o(function(c,q,Y){var V=this.getKey(c);this.setCache(V,q,Y),this.updateKeyMappingFor(c)},"set")},{key:"deleteCache",value:o(function(c,q){this.getCachesAt(q).delete(c)},"deleteCache")},{key:"delete",value:o(function(c,q){var Y=this.getKey(c);this.deleteCache(Y,q)},"_delete")},{key:"invalidateKey",value:o(function(c){var q=this;this.lvls.forEach(function(Y){return q.deleteCache(c,Y)})},"invalidateKey")},{key:"invalidate",value:o(function(c){var q=c.id(),Y=this.keyForId.get(q);this.deleteKeyMappingFor(c);var V=this.doesEleInvalidateKey(c);return V&&this.invalidateKey(Y),V||0===this.getNumberOfIdsForKey(Y)},"invalidate")}]),t}(),THe={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},_He=SDe({getKey:null,doesEleInvalidateKey:hDe,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:lDe,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),EHe=o(function(c,q){var Y=this;Y.renderer=c,Y.onDequeues=[];var V=_He(q);eIe(Y,V),Y.lookup=new kHe(V.getKey,V.doesEleInvalidateKey),Y.setupDequeueing()},"ElementTextureCache"),(CHe=EHe.prototype).reasons=THe,CHe.getTextureQueue=function(c){var q=this;return q.eleImgCaches=q.eleImgCaches||{},q.eleImgCaches[c]=q.eleImgCaches[c]||[]},CHe.getRetiredTextureQueue=function(c){var q=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return q[c]=q[c]||[]},CHe.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new jDe(function(c,q){return q.reqs-c.reqs})},CHe.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},CHe.getElement=function(c,q,Y,V,Z){var re=this,ae=this.renderer,se=ae.cy.zoom(),oe=this.lookup;if(!q||0===q.w||0===q.h||isNaN(q.w)||isNaN(q.h)||!c.visible()||c.removed()||!re.allowEdgeTxrCaching&&c.isEdge()||!re.allowParentTxrCaching&&c.isParent())return null;if(null==V&&(V=Math.ceil(lPe(se*Y))),V<-4)V=-4;else if(se>=7.99||V>3)return null;var he=Math.pow(2,V),de=q.h*he,pe=q.w*he,ge=ae.eleTextBiggerThanMin(c,he);if(!this.isVisible(c,ge))return null;var me,ve=oe.get(c,V);if(ve&&ve.invalidated&&(ve.invalidated=!1,ve.texture.invalidatedWidth-=ve.width),ve)return ve;if(me=de<=25?25:de<=50?50:50*Math.ceil(de/50),de>1024||pe>1024)return null;var be=re.getTextureQueue(me),we=be[be.length-2],Te=o(function(){return re.recycleTexture(me,pe)||re.addTexture(me,pe)},"addNewTxr");we||(we=be[be.length-1]),we||(we=Te()),we.width-we.usedWidth<pe&&(we=Te());for(var _e,Ee=o(function(c){return c&&c.scaledLabelShown===ge},"scalableFrom"),Ce=Z&&Z===THe.dequeue,Se=Z&&Z===THe.highQuality,Ae=Z&&Z===THe.downscale,Le=V+1;Le<=3;Le++){var Ne=oe.get(c,Le);if(Ne){_e=Ne;break}}var Ie=_e&&_e.level===V+1?_e:null,Me=o(function(){we.context.drawImage(Ie.texture.canvas,Ie.x,0,Ie.width,Ie.height,we.usedWidth,0,pe,de)},"downscale");if(we.context.setTransform(1,0,0,1,0,0),we.context.clearRect(we.usedWidth,0,pe,me),Ee(Ie))Me();else if(Ee(_e)){if(!Se)return re.queueElement(c,_e.level-1),_e;for(var Re=_e.level;Re>V;Re--)Ie=re.getElement(c,q,Y,Re,THe.downscale);Me()}else{var Oe;if(!Ce&&!Se&&!Ae)for(var Be=V-1;Be>=-4;Be--){var $e=oe.get(c,Be);if($e){Oe=$e;break}}if(Ee(Oe))return re.queueElement(c,V),Oe;we.context.translate(we.usedWidth,0),we.context.scale(he,he),this.drawElement(we.context,c,q,ge,!1),we.context.scale(1/he,1/he),we.context.translate(-we.usedWidth,0)}return ve={x:we.usedWidth,texture:we,level:V,scale:he,width:pe,height:de,scaledLabelShown:ge},we.usedWidth+=Math.ceil(pe+8),we.eleCaches.push(ve),oe.set(c,V,ve),re.checkTextureFullness(we),ve},CHe.invalidateElements=function(c){for(var q=0;q<c.length;q++)this.invalidateElement(c[q])},CHe.invalidateElement=function(c){var q=this,Y=q.lookup,V=[];if(Y.isInvalid(c)){for(var Z=-4;Z<=3;Z++){var re=Y.getForCachedKey(c,Z);re&&V.push(re)}if(Y.invalidate(c))for(var ae=0;ae<V.length;ae++){var se=V[ae],oe=se.texture;oe.invalidatedWidth+=se.width,se.invalidated=!0,q.checkTextureUtility(oe)}q.removeFromQueue(c)}},CHe.checkTextureUtility=function(c){c.invalidatedWidth>=.2*c.width&&this.retireTexture(c)},CHe.checkTextureFullness=function(c){var q=this.getTextureQueue(c.height);c.usedWidth/c.width>.8&&c.fullnessChecks>=10?LDe(q,c):c.fullnessChecks++},CHe.retireTexture=function(c){var q=c.height,Y=this.getTextureQueue(q),V=this.lookup;LDe(Y,c),c.retired=!0;for(var Z=c.eleCaches,re=0;re<Z.length;re++){var ae=Z[re];V.deleteCache(ae.key,ae.level)}IDe(Z),this.getRetiredTextureQueue(q).push(c)},CHe.addTexture=function(c,q){var Y={};return this.getTextureQueue(c).push(Y),Y.eleCaches=[],Y.height=c,Y.width=Math.max(1024,q),Y.usedWidth=0,Y.invalidatedWidth=0,Y.fullnessChecks=0,Y.canvas=this.renderer.makeOffscreenCanvas(Y.width,Y.height),Y.context=Y.canvas.getContext("2d"),Y},CHe.recycleTexture=function(c,q){for(var Y=this.getTextureQueue(c),V=this.getRetiredTextureQueue(c),Z=0;Z<V.length;Z++){var re=V[Z];if(re.width>=q)return re.retired=!1,re.usedWidth=0,re.invalidatedWidth=0,re.fullnessChecks=0,IDe(re.eleCaches),re.context.setTransform(1,0,0,1,0,0),re.context.clearRect(0,0,re.width,re.height),LDe(V,re),Y.push(re),re}},CHe.queueElement=function(c,q){var Y=this.getElementQueue(),V=this.getElementKeyToQueue(),Z=this.getKey(c),re=V[Z];if(re)re.level=Math.max(re.level,q),re.eles.merge(c),re.reqs++,Y.updateItem(re);else{var ae={eles:c.spawn().merge(c),level:q,reqs:1,key:Z};Y.push(ae),V[Z]=ae}},CHe.dequeue=function(c){for(var q=this,Y=q.getElementQueue(),V=q.getElementKeyToQueue(),Z=[],re=q.lookup,ae=0;ae<1&&Y.size()>0;ae++){var se=Y.pop(),oe=se.key,he=se.eles[0],de=re.hasCache(he,se.level);if(V[oe]=null,!de){Z.push(se);var pe=q.getBoundingBox(he);q.getElement(he,pe,c,se.level,THe.dequeue)}}return Z},CHe.removeFromQueue=function(c){var q=this.getElementQueue(),Y=this.getElementKeyToQueue(),V=this.getKey(c),Z=Y[V];null!=Z&&(1===Z.eles.length?(Z.reqs=oDe,q.updateItem(Z),q.pop(),Y[V]=null):Z.eles.unmerge(c))},CHe.onDequeue=function(c){this.onDequeues.push(c)},CHe.offDequeue=function(c){LDe(this.onDequeues,c)},CHe.setupDequeueing=wHe.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:o(function(c,q,Y){return c.dequeue(q,Y)},"deq"),onDeqd:o(function(c,q){for(var Y=0;Y<c.onDequeues.length;Y++){(0,c.onDequeues[Y])(q)}},"onDeqd"),shouldRedraw:o(function(c,q,Y,V){for(var Z=0;Z<q.length;Z++)for(var re=q[Z].eles,ae=0;ae<re.length;ae++){var se=re[ae].boundingBox();if(SPe(se,V))return!0}return!1},"shouldRedraw"),priority:o(function(c){return c.renderer.beforeRenderPriorities.eleTxrDeq},"priority")}),SHe=o(function(c){var q=this,Y=q.renderer=c,V=Y.cy;q.layersByLevel={},q.firstGet=!0,q.lastInvalidationTime=sRe()-500,q.skipping=!1,q.eleTxrDeqs=V.collection(),q.scheduleElementRefinement=eRe(function(){q.refineElementTextures(q.eleTxrDeqs),q.eleTxrDeqs.unmerge(q.eleTxrDeqs)},50),Y.beforeRender(function(c,Y){Y-q.lastInvalidationTime<=250?q.skipping=!0:q.skipping=!1},Y.beforeRenderPriorities.lyrTxrSkip);var Z=o(function(c,q){return q.reqs-c.reqs},"qSort");q.layersQueue=new jDe(Z),q.setupDequeueing()},"LayeredTextureCache"),AHe=SHe.prototype,LHe=0,NHe=Math.pow(2,53)-1,AHe.makeLayer=function(c,q){var Y=Math.pow(2,q),V=Math.ceil(c.w*Y),Z=Math.ceil(c.h*Y),re=this.renderer.makeOffscreenCanvas(V,Z),ae={id:LHe=++LHe%NHe,bb:c,level:q,width:V,height:Z,canvas:re,context:re.getContext("2d"),eles:[],elesQueue:[],reqs:0},se=ae.context,oe=-ae.bb.x1,he=-ae.bb.y1;return se.scale(Y,Y),se.translate(oe,he),ae},AHe.getLayers=function(c,q,Y){var V=this,Z=V.renderer.cy.zoom(),re=V.firstGet;if(V.firstGet=!1,null==Y)if((Y=Math.ceil(lPe(Z*q)))<-4)Y=-4;else if(Z>=3.99||Y>2)return null;V.validateLayersElesOrdering(Y,c);var ae,se,oe=V.layersByLevel,he=Math.pow(2,Y),de=oe[Y]=oe[Y]||[],pe=V.levelIsComplete(Y,c),ge=o(function(){var q=o(function(q){if(V.validateLayersElesOrdering(q,c),V.levelIsComplete(q,c))return se=oe[q],!0},"canUseAsTmpLvl"),Z=o(function(c){if(!se)for(var V=Y+c;-4<=V&&V<=2&&!q(V);V+=c);},"checkLvls");Z(1),Z(-1);for(var re=de.length-1;re>=0;re--){var ae=de[re];ae.invalid&&LDe(de,ae)}},"checkTempLevels");if(pe)return de;ge();var me=o(function(){if(!ae){ae=yPe();for(var q=0;q<c.length;q++)wPe(ae,c[q].boundingBox())}return ae},"getBb"),ve=o(function(c){var q=(c=c||{}).after;if(me(),ae.w*he*(ae.h*he)>16e6)return null;var Z=V.makeLayer(ae,Y);if(null!=q){var re=de.indexOf(q)+1;de.splice(re,0,Z)}else(void 0===c.insert||c.insert)&&de.unshift(Z);return Z},"makeLayer");if(V.skipping&&!re)return null;for(var be=null,we=c.length/1,Te=!re,_e=0;_e<c.length;_e++){var Ee=c[_e],Ce=Ee._private.rscratch,Se=Ce.imgLayerCaches=Ce.imgLayerCaches||{},Ae=Se[Y];if(Ae)be=Ae;else{if((!be||be.eles.length>=we||!DPe(be.bb,Ee.boundingBox()))&&!(be=ve({insert:!0,after:be})))return null;se||Te?V.queueLayer(be,Ee):V.drawEleInLayer(be,Ee,Y,q),be.eles.push(Ee),Se[Y]=be}}return se||(Te?null:de)},AHe.getEleLevelForLayerLevel=function(c,q){return c},AHe.drawEleInLayer=function(c,q,Y,V){var Z=this.renderer,re=c.context,ae=q.boundingBox();0===ae.w||0===ae.h||!q.visible()||(Y=this.getEleLevelForLayerLevel(Y,V),Z.setImgSmoothing(re,!1),Z.drawCachedElement(re,q,null,null,Y,true),Z.setImgSmoothing(re,!0))},AHe.levelIsComplete=function(c,q){var Y=this.layersByLevel[c];if(!Y||0===Y.length)return!1;for(var V=0,Z=0;Z<Y.length;Z++){var re=Y[Z];if(re.reqs>0||re.invalid)return!1;V+=re.eles.length}return V===q.length},AHe.validateLayersElesOrdering=function(c,q){var Y=this.layersByLevel[c];if(Y)for(var V=0;V<Y.length;V++){for(var Z=Y[V],re=-1,ae=0;ae<q.length;ae++)if(Z.eles[0]===q[ae]){re=ae;break}if(re<0)this.invalidateLayer(Z);else{var se=re;for(ae=0;ae<Z.eles.length;ae++)if(Z.eles[ae]!==q[se+ae]){this.invalidateLayer(Z);break}}}},AHe.updateElementsInLayers=function(c,q){for(var Y=kNe(c[0]),V=0;V<c.length;V++)for(var Z=Y?null:c[V],re=Y?c[V]:c[V].ele,ae=re._private.rscratch,se=ae.imgLayerCaches=ae.imgLayerCaches||{},oe=-4;oe<=2;oe++){var he=se[oe];he&&(Z&&this.getEleLevelForLayerLevel(he.level)!==Z.level||q(he,re,Z))}},AHe.haveLayers=function(){for(var c=!1,q=-4;q<=2;q++){var Y=this.layersByLevel[q];if(Y&&Y.length>0){c=!0;break}}return c},AHe.invalidateElements=function(c){var q=this;0!==c.length&&(q.lastInvalidationTime=sRe(),0!==c.length&&q.haveLayers()&&q.updateElementsInLayers(c,o(function(c,Y,V){q.invalidateLayer(c)},"invalAssocLayers")))},AHe.invalidateLayer=function(c){if(this.lastInvalidationTime=sRe(),!c.invalid){var q=c.level,Y=c.eles,V=this.layersByLevel[q];LDe(V,c),c.elesQueue=[],c.invalid=!0,c.replacement&&(c.replacement.invalid=!0);for(var Z=0;Z<Y.length;Z++){var re=Y[Z]._private.rscratch.imgLayerCaches;re&&(re[q]=null)}}},AHe.refineElementTextures=function(c){var q=this;q.updateElementsInLayers(c,o(function(c,Y,V){var Z=c.replacement;if(Z||((Z=c.replacement=q.makeLayer(c.bb,c.level)).replaces=c,Z.eles=c.eles),!Z.reqs)for(var re=0;re<Z.eles.length;re++)q.queueLayer(Z,Z.eles[re])},"refineEachEle"))},AHe.enqueueElementRefinement=function(c){this.eleTxrDeqs.merge(c),this.scheduleElementRefinement()},AHe.queueLayer=function(c,q){var Y=this.layersQueue,V=c.elesQueue,Z=V.hasId=V.hasId||{};if(!c.replacement){if(q){if(Z[q.id()])return;V.push(q),Z[q.id()]=!0}c.reqs?(c.reqs++,Y.updateItem(c)):(c.reqs=1,Y.push(c))}},AHe.dequeue=function(c){for(var q=this,Y=q.layersQueue,V=[],Z=0;Z<1&&0!==Y.size();){var re=Y.peek();if(re.replacement)Y.pop();else if(re.replaces&&re!==re.replaces.replacement)Y.pop();else if(re.invalid)Y.pop();else{var ae=re.elesQueue.shift();ae&&(q.drawEleInLayer(re,ae,re.level,c),Z++),0===V.length&&V.push(!0),0===re.elesQueue.length&&(Y.pop(),re.reqs=0,re.replaces&&q.applyLayerReplacement(re),q.requestRedraw())}}return V},AHe.applyLayerReplacement=function(c){var q=this.layersByLevel[c.level],Y=c.replaces,V=q.indexOf(Y);if(!(V<0||Y.invalid)){q[V]=c;for(var Z=0;Z<c.eles.length;Z++){var re=c.eles[Z]._private,ae=re.imgLayerCaches=re.imgLayerCaches||{};ae&&(ae[c.level]=c)}this.requestRedraw()}},AHe.requestRedraw=eRe(function(){var c=this.renderer;c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},100),AHe.setupDequeueing=wHe.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:o(function(c,q){return c.dequeue(q)},"deq"),onDeqd:gDe,shouldRedraw:lDe,priority:o(function(c){return c.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")}),IHe={},o(itt,"polygon"),o(att,"triangleBackcurve"),o(Gme,"triangleTee"),o(stt,"circleTriangle"),o(ott,"circle"),IHe.arrowShapeImpl=function(c){return(MHe||(MHe={polygon:itt,"triangle-backcurve":att,"triangle-tee":Gme,"circle-triangle":stt,"triangle-cross":Gme,circle:ott}))[c]},(RHe={}).drawElement=function(c,q,Y,V,Z,re){q.isNode()?this.drawNode(c,q,Y,V,Z,re):this.drawEdge(c,q,Y,V,Z,re)},RHe.drawElementOverlay=function(c,q){q.isNode()?this.drawNodeOverlay(c,q):this.drawEdgeOverlay(c,q)},RHe.drawElementUnderlay=function(c,q){q.isNode()?this.drawNodeUnderlay(c,q):this.drawEdgeUnderlay(c,q)},RHe.drawCachedElementPortion=function(c,q,Y,V,Z,re,ae,se){var oe=this,he=Y.getBoundingBox(q);if(0!==he.w&&0!==he.h){var de=Y.getElement(q,he,V,Z,re);if(null!=de){var pe=se(oe,q);if(0===pe)return;var ge,me,ve,be,we,Te,_e=ae(oe,q),Ee=he.x1,Ce=he.y1,Se=he.w,Ae=he.h;if(0!==_e){var Le=Y.getRotationPoint(q);ve=Le.x,be=Le.y,c.translate(ve,be),c.rotate(_e),(we=oe.getImgSmoothing(c))||oe.setImgSmoothing(c,!0);var Ne=Y.getRotationOffset(q);ge=Ne.x,me=Ne.y}else ge=Ee,me=Ce;1!==pe&&(Te=c.globalAlpha,c.globalAlpha=Te*pe),c.drawImage(de.texture.canvas,de.x,0,de.width,de.height,ge,me,Se,Ae),1!==pe&&(c.globalAlpha=Te),0!==_e&&(c.rotate(-_e),c.translate(-ve,-be),we||oe.setImgSmoothing(c,!1))}else Y.drawElement(c,q)}},DHe=o(function(){return 0},"getZeroRotation"),OHe=o(function(c,q){return c.getTextAngle(q,null)},"getLabelRotation"),BHe=o(function(c,q){return c.getTextAngle(q,"source")},"getSourceLabelRotation"),FHe=o(function(c,q){return c.getTextAngle(q,"target")},"getTargetLabelRotation"),GHe=o(function(c,q){return q.effectiveOpacity()},"getOpacity"),qHe=o(function(c,q){return q.pstyle("text-opacity").pfValue*q.effectiveOpacity()},"getTextOpacity"),RHe.drawCachedElement=function(c,q,Y,V,Z,re){var ae=this,se=ae.data,oe=se.eleTxrCache,he=se.lblTxrCache,de=se.slbTxrCache,pe=se.tlbTxrCache,ge=q.boundingBox(),me=!0===re?oe.reasons.highQuality:null;if(0!==ge.w&&0!==ge.h&&q.visible()&&(!V||SPe(ge,V))){var ve=q.isEdge(),be=q.element()._private.rscratch.badLine;ae.drawElementUnderlay(c,q),ae.drawCachedElementPortion(c,q,oe,Y,Z,me,DHe,GHe),(!ve||!be)&&ae.drawCachedElementPortion(c,q,he,Y,Z,me,OHe,qHe),ve&&!be&&(ae.drawCachedElementPortion(c,q,de,Y,Z,me,BHe,qHe),ae.drawCachedElementPortion(c,q,pe,Y,Z,me,FHe,qHe)),ae.drawElementOverlay(c,q)}},RHe.drawElements=function(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];this.drawElement(c,V)}},RHe.drawCachedElements=function(c,q,Y,V){for(var Z=0;Z<q.length;Z++){var re=q[Z];this.drawCachedElement(c,re,Y,V)}},RHe.drawCachedNodes=function(c,q,Y,V){for(var Z=0;Z<q.length;Z++){var re=q[Z];re.isNode()&&this.drawCachedElement(c,re,Y,V)}},RHe.drawLayeredElements=function(c,q,Y,V){var Z=this.data.lyrTxrCache.getLayers(q,Y);if(Z)for(var re=0;re<Z.length;re++){var ae=Z[re],se=ae.bb;0===se.w||0===se.h||c.drawImage(ae.canvas,se.x1,se.y1,se.w,se.h)}else this.drawCachedElements(c,q,Y,V)},(jHe={}).drawEdge=function(c,q,Y){var V=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Z=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],re=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],ae=this,se=q._private.rscratch;if((!re||q.visible())&&!se.badLine&&null!=se.allpts&&!isNaN(se.allpts[0])){var oe;Y&&(oe=Y,c.translate(-oe.x1,-oe.y1));var he=re?q.pstyle("opacity").value:1,de=re?q.pstyle("line-opacity").value:1,pe=q.pstyle("curve-style").value,ge=q.pstyle("line-style").value,me=q.pstyle("width").pfValue,ve=q.pstyle("line-cap").value,be=q.pstyle("line-outline-width").value,we=q.pstyle("line-outline-color").value,Te=he*de,_e=he*de,Ee=o(function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;"straight-triangle"===pe?(ae.eleStrokeStyle(c,q,Y),ae.drawEdgeTrianglePath(q,c,se.allpts)):(c.lineWidth=me,c.lineCap=ve,ae.eleStrokeStyle(c,q,Y),ae.drawEdgePath(q,c,se.allpts,ge),c.lineCap="butt")},"drawLine"),Ce=o(function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;c.lineWidth=me+be,c.lineCap=ve,be>0?(ae.colorStrokeStyle(c,we[0],we[1],we[2],Y),"straight-triangle"===pe?ae.drawEdgeTrianglePath(q,c,se.allpts):(ae.drawEdgePath(q,c,se.allpts,ge),c.lineCap="butt")):c.lineCap="butt"},"drawLineOutline"),Se=o(function(){Z&&ae.drawEdgeOverlay(c,q)},"drawOverlay"),Ae=o(function(){Z&&ae.drawEdgeUnderlay(c,q)},"drawUnderlay"),Le=o(function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;ae.drawArrowheads(c,q,Y)},"drawArrows"),Ne=o(function(){ae.drawElementText(c,q,null,V)},"drawText");if(c.lineJoin="round","yes"===q.pstyle("ghost").value){var Ie=q.pstyle("ghost-offset-x").pfValue,Me=q.pstyle("ghost-offset-y").pfValue,Re=q.pstyle("ghost-opacity").value,Oe=Te*Re;c.translate(Ie,Me),Ee(Oe),Le(Oe),c.translate(-Ie,-Me)}else Ce();Ae(),Ee(),Le(),Se(),Ne(),Y&&c.translate(oe.x1,oe.y1)}},YHe=o(function(c){if(!["overlay","underlay"].includes(c))throw new Error("Invalid state");return function(q,Y){if(Y.visible()){var V=Y.pstyle("".concat(c,"-opacity")).value;if(0!==V){var Z=this,re=Z.usePaths(),ae=Y._private.rscratch,se=2*Y.pstyle("".concat(c,"-padding")).pfValue,oe=Y.pstyle("".concat(c,"-color")).value;q.lineWidth=se,"self"!==ae.edgeType||re?q.lineCap="round":q.lineCap="butt",Z.colorStrokeStyle(q,oe[0],oe[1],oe[2],V),Z.drawEdgePath(Y,q,ae.allpts,"solid")}}}},"drawEdgeOverlayUnderlay"),jHe.drawEdgeOverlay=YHe("overlay"),jHe.drawEdgeUnderlay=YHe("underlay"),jHe.drawEdgePath=function(c,q,Y,V){var Z,re=c._private.rscratch,ae=q,se=!1,oe=this.usePaths(),he=c.pstyle("line-dash-pattern").pfValue,de=c.pstyle("line-dash-offset").pfValue;if(oe){var pe=Y.join("$");re.pathCacheKey&&re.pathCacheKey===pe?(Z=q=re.pathCache,se=!0):(Z=q=new Path2D,re.pathCacheKey=pe,re.pathCache=Z)}if(ae.setLineDash)switch(V){case"dotted":ae.setLineDash([1,1]);break;case"dashed":ae.setLineDash(he),ae.lineDashOffset=de;break;case"solid":ae.setLineDash([])}if(!se&&!re.badLine)switch(q.beginPath&&q.beginPath(),q.moveTo(Y[0],Y[1]),re.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var ge=2;ge+3<Y.length;ge+=4)q.quadraticCurveTo(Y[ge],Y[ge+1],Y[ge+2],Y[ge+3]);break;case"straight":case"haystack":for(var me=2;me+1<Y.length;me+=2)q.lineTo(Y[me],Y[me+1]);break;case"segments":if(re.isRound){var ve,be=Yme(re.roundCorners);try{for(be.s();!(ve=be.n()).done;){o1e(q,ve.value)}}catch(c){be.e(c)}finally{be.f()}q.lineTo(Y[Y.length-2],Y[Y.length-1])}else for(var we=2;we+1<Y.length;we+=2)q.lineTo(Y[we],Y[we+1])}q=ae,oe?q.stroke(Z):q.stroke(),q.setLineDash&&q.setLineDash([])},jHe.drawEdgeTrianglePath=function(c,q,Y){q.fillStyle=q.strokeStyle;for(var V=c.pstyle("width").pfValue,Z=0;Z+1<Y.length;Z+=2){var re=[Y[Z+2]-Y[Z],Y[Z+3]-Y[Z+1]],ae=Math.sqrt(re[0]*re[0]+re[1]*re[1]),se=[re[1]/ae,-re[0]/ae],oe=[se[0]*V/2,se[1]*V/2];q.beginPath(),q.moveTo(Y[Z]-oe[0],Y[Z+1]-oe[1]),q.lineTo(Y[Z]+oe[0],Y[Z+1]+oe[1]),q.lineTo(Y[Z+2],Y[Z+3]),q.closePath(),q.fill()}},jHe.drawArrowheads=function(c,q,Y){var V=q._private.rscratch,Z="haystack"===V.edgeType;Z||this.drawArrowhead(c,q,"source",V.arrowStartX,V.arrowStartY,V.srcArrowAngle,Y),this.drawArrowhead(c,q,"mid-target",V.midX,V.midY,V.midtgtArrowAngle,Y),this.drawArrowhead(c,q,"mid-source",V.midX,V.midY,V.midsrcArrowAngle,Y),Z||this.drawArrowhead(c,q,"target",V.arrowEndX,V.arrowEndY,V.tgtArrowAngle,Y)},jHe.drawArrowhead=function(c,q,Y,V,Z,re,ae){if(!(isNaN(V)||null==V||isNaN(Z)||null==Z||isNaN(re)||null==re)){var se=this,oe=q.pstyle(Y+"-arrow-shape").value;if("none"!==oe){var he="hollow"===q.pstyle(Y+"-arrow-fill").value?"both":"filled",de=q.pstyle(Y+"-arrow-fill").value,pe=q.pstyle("width").pfValue,ge=q.pstyle(Y+"-arrow-width"),me="match-line"===ge.value?pe:ge.pfValue;"%"===ge.units&&(me*=pe);var ve=q.pstyle("opacity").value;void 0===ae&&(ae=ve);var be=c.globalCompositeOperation;(1!==ae||"hollow"===de)&&(c.globalCompositeOperation="destination-out",se.colorFillStyle(c,255,255,255,1),se.colorStrokeStyle(c,255,255,255,1),se.drawArrowShape(q,c,he,pe,oe,me,V,Z,re),c.globalCompositeOperation=be);var we=q.pstyle(Y+"-arrow-color").value;se.colorFillStyle(c,we[0],we[1],we[2],ae),se.colorStrokeStyle(c,we[0],we[1],we[2],ae),se.drawArrowShape(q,c,de,pe,oe,me,V,Z,re)}}},jHe.drawArrowShape=function(c,q,Y,V,Z,re,ae,se,oe){var he,de=this,pe=this.usePaths()&&"triangle-cross"!==Z,ge=!1,me=q,ve={x:ae,y:se},be=c.pstyle("arrow-scale").value,we=this.getArrowWidth(V,be),Te=de.arrowShapes[Z];if(pe){var _e=de.arrowPathCache=de.arrowPathCache||[],Ee=PRe(Z),Ce=_e[Ee];null!=Ce?(he=q=Ce,ge=!0):(he=q=new Path2D,_e[Ee]=he)}ge||(q.beginPath&&q.beginPath(),pe?Te.draw(q,1,0,{x:0,y:0},1):Te.draw(q,we,oe,ve,V),q.closePath&&q.closePath()),q=me,pe&&(q.translate(ae,se),q.rotate(oe),q.scale(we,we)),("filled"===Y||"both"===Y)&&(pe?q.fill(he):q.fill()),("hollow"===Y||"both"===Y)&&(q.lineWidth=re/(pe?we:1),q.lineJoin="miter",pe?q.stroke(he):q.stroke()),pe&&(q.scale(1/we,1/we),q.rotate(-oe),q.translate(-ae,-se))},(WHe={}).safeDrawImage=function(c,q,Y,V,Z,re,ae,se,oe,he){if(!(Z<=0||re<=0||oe<=0||he<=0))try{c.drawImage(q,Y,V,Z,re,ae,se,oe,he)}catch(c){xDe(c)}},WHe.drawInscribedImage=function(c,q,Y,V,Z){var re=this,ae=Y.position(),se=ae.x,oe=ae.y,he=Y.cy().style(),de=he.getIndexedStyle.bind(he),pe=de(Y,"background-fit","value",V),ge=de(Y,"background-repeat","value",V),me=Y.width(),ve=Y.height(),be=2*Y.padding(),we=me+("inner"===de(Y,"background-width-relative-to","value",V)?0:be),Te=ve+("inner"===de(Y,"background-height-relative-to","value",V)?0:be),_e=Y._private.rscratch,Ee="node"===de(Y,"background-clip","value",V),Ce=de(Y,"background-image-opacity","value",V)*Z,Se=de(Y,"background-image-smoothing","value",V),Ae=Y.pstyle("corner-radius").value;"auto"!==Ae&&(Ae=Y.pstyle("corner-radius").pfValue);var Le=q.width||q.cachedW,Ne=q.height||q.cachedH;(null==Le||null==Ne)&&(document.body.appendChild(q),Le=q.cachedW=q.width||q.offsetWidth,Ne=q.cachedH=q.height||q.offsetHeight,document.body.removeChild(q));var Ie=Le,Me=Ne;if("auto"!==de(Y,"background-width","value",V)&&(Ie="%"===de(Y,"background-width","units",V)?de(Y,"background-width","pfValue",V)*we:de(Y,"background-width","pfValue",V)),"auto"!==de(Y,"background-height","value",V)&&(Me="%"===de(Y,"background-height","units",V)?de(Y,"background-height","pfValue",V)*Te:de(Y,"background-height","pfValue",V)),0!==Ie&&0!==Me){if("contain"===pe)Ie*=Re=Math.min(we/Ie,Te/Me),Me*=Re;else if("cover"===pe){var Re;Ie*=Re=Math.max(we/Ie,Te/Me),Me*=Re}var Oe=se-we/2,Be=de(Y,"background-position-x","units",V),$e=de(Y,"background-position-x","pfValue",V);Oe+="%"===Be?(we-Ie)*$e:$e;var Ue=de(Y,"background-offset-x","units",V),qe=de(Y,"background-offset-x","pfValue",V);Oe+="%"===Ue?(we-Ie)*qe:qe;var je=oe-Te/2,We=de(Y,"background-position-y","units",V),He=de(Y,"background-position-y","pfValue",V);je+="%"===We?(Te-Me)*He:He;var Ve=de(Y,"background-offset-y","units",V),Ke=de(Y,"background-offset-y","pfValue",V);je+="%"===Ve?(Te-Me)*Ke:Ke,_e.pathCache&&(Oe-=se,je-=oe,se=0,oe=0);var Qe=c.globalAlpha;c.globalAlpha=Ce;var Ze=re.getImgSmoothing(c),Je=!1;if("no"===Se&&Ze?(re.setImgSmoothing(c,!1),Je=!0):"yes"===Se&&!Ze&&(re.setImgSmoothing(c,!0),Je=!0),"no-repeat"===ge)Ee&&(c.save(),_e.pathCache?c.clip(_e.pathCache):(re.nodeShapes[re.getNodeShape(Y)].draw(c,se,oe,we,Te,Ae,_e),c.clip())),re.safeDrawImage(c,q,0,0,Le,Ne,Oe,je,Ie,Me),Ee&&c.restore();else{var et=c.createPattern(q,ge);c.fillStyle=et,re.nodeShapes[re.getNodeShape(Y)].draw(c,se,oe,we,Te,Ae,_e),c.translate(Oe,je),c.fill(),c.translate(-Oe,-je)}c.globalAlpha=Qe,Je&&re.setImgSmoothing(c,Ze)}},(HHe={}).eleTextBiggerThanMin=function(c,q){if(!q){var Y=c.cy().zoom(),V=this.getPixelRatio(),Z=Math.ceil(lPe(Y*V));q=Math.pow(2,Z)}return!(c.pstyle("font-size").pfValue*q<c.pstyle("min-zoomed-font-size").pfValue)},HHe.drawElementText=function(c,q,Y,V,Z){var re=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],ae=this;if(null==V){if(re&&!ae.eleTextBiggerThanMin(q))return}else if(!1===V)return;if(q.isNode()){var se=q.pstyle("label");if(!se||!se.value)return;var oe=ae.getLabelJustification(q);c.textAlign=oe,c.textBaseline="bottom"}else{var he=q.element()._private.rscratch.badLine,de=q.pstyle("label"),pe=q.pstyle("source-label"),ge=q.pstyle("target-label");if(he||(!de||!de.value)&&(!pe||!pe.value)&&(!ge||!ge.value))return;c.textAlign="center",c.textBaseline="bottom"}var me,ve=!Y;Y&&(me=Y,c.translate(-me.x1,-me.y1)),null==Z?(ae.drawText(c,q,null,ve,re),q.isEdge()&&(ae.drawText(c,q,"source",ve,re),ae.drawText(c,q,"target",ve,re))):ae.drawText(c,q,Z,ve,re),Y&&c.translate(me.x1,me.y1)},HHe.getFontCache=function(c){var q;this.fontCaches=this.fontCaches||[];for(var Y=0;Y<this.fontCaches.length;Y++)if((q=this.fontCaches[Y]).context===c)return q;return q={context:c},this.fontCaches.push(q),q},HHe.setupTextStyle=function(c,q){var Y=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],V=q.pstyle("font-style").strValue,Z=q.pstyle("font-size").pfValue+"px",re=q.pstyle("font-family").strValue,ae=q.pstyle("font-weight").strValue,se=Y?q.effectiveOpacity()*q.pstyle("text-opacity").value:1,oe=q.pstyle("text-outline-opacity").value*se,he=q.pstyle("color").value,de=q.pstyle("text-outline-color").value;c.font=V+" "+ae+" "+Z+" "+re,c.lineJoin="round",this.colorFillStyle(c,he[0],he[1],he[2],se),this.colorStrokeStyle(c,de[0],de[1],de[2],oe)},o(PP,"roundRect"),HHe.getTextAngle=function(c,q){var Y=c._private.rscratch,V=q?q+"-":"",Z=c.pstyle(V+"text-rotation"),re=RDe(Y,"labelAngle",q);return"autorotate"===Z.strValue?c.isEdge()?re:0:"none"===Z.strValue?0:Z.pfValue},HHe.drawText=function(c,q,Y){var V=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Z=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],re=q._private.rscratch,ae=Z?q.effectiveOpacity():1;if(!Z||0!==ae&&0!==q.pstyle("text-opacity").value){"main"===Y&&(Y=null);var se,oe,he=RDe(re,"labelX",Y),de=RDe(re,"labelY",Y),pe=this.getLabelText(q,Y);if(null!=pe&&""!==pe&&!isNaN(he)&&!isNaN(de)){this.setupTextStyle(c,q,Z);var ge,me=Y?Y+"-":"",ve=RDe(re,"labelWidth",Y),be=RDe(re,"labelHeight",Y),we=q.pstyle(me+"text-margin-x").pfValue,Te=q.pstyle(me+"text-margin-y").pfValue,_e=q.isEdge(),Ee=q.pstyle("text-halign").value,Ce=q.pstyle("text-valign").value;switch(_e&&(Ee="center",Ce="center"),he+=we,de+=Te,0!==(ge=V?this.getTextAngle(q,Y):0)&&(se=he,oe=de,c.translate(se,oe),c.rotate(ge),he=0,de=0),Ce){case"top":break;case"center":de+=be/2;break;case"bottom":de+=be}var Se=q.pstyle("text-background-opacity").value,Ae=q.pstyle("text-border-opacity").value,Le=q.pstyle("text-border-width").pfValue,Ne=q.pstyle("text-background-padding").pfValue,Ie=0===q.pstyle("text-background-shape").strValue.indexOf("round");if(Se>0||Le>0&&Ae>0){var Me=he-Ne;switch(Ee){case"left":Me-=ve;break;case"center":Me-=ve/2}var Re=de-be-Ne,Oe=ve+2*Ne,Be=be+2*Ne;if(Se>0){var $e=c.fillStyle,Ue=q.pstyle("text-background-color").value;c.fillStyle="rgba("+Ue[0]+","+Ue[1]+","+Ue[2]+","+Se*ae+")",Ie?PP(c,Me,Re,Oe,Be,2):c.fillRect(Me,Re,Oe,Be),c.fillStyle=$e}if(Le>0&&Ae>0){var qe=c.strokeStyle,je=c.lineWidth,We=q.pstyle("text-border-color").value,He=q.pstyle("text-border-style").value;if(c.strokeStyle="rgba("+We[0]+","+We[1]+","+We[2]+","+Ae*ae+")",c.lineWidth=Le,c.setLineDash)switch(He){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"double":c.lineWidth=Le/4,c.setLineDash([]);break;case"solid":c.setLineDash([])}if(Ie?PP(c,Me,Re,Oe,Be,2,"stroke"):c.strokeRect(Me,Re,Oe,Be),"double"===He){var Ve=Le/2;Ie?PP(c,Me+Ve,Re+Ve,Oe-2*Ve,Be-2*Ve,2,"stroke"):c.strokeRect(Me+Ve,Re+Ve,Oe-2*Ve,Be-2*Ve)}c.setLineDash&&c.setLineDash([]),c.lineWidth=je,c.strokeStyle=qe}}var Ke=2*q.pstyle("text-outline-width").pfValue;if(Ke>0&&(c.lineWidth=Ke),"wrap"===q.pstyle("text-wrap").value){var Qe=RDe(re,"labelWrapCachedLines",Y),Ze=RDe(re,"labelLineHeight",Y),Je=ve/2,et=this.getLabelJustification(q);switch("auto"===et||("left"===Ee?"left"===et?he+=-ve:"center"===et&&(he+=-Je):"center"===Ee?"left"===et?he+=-Je:"right"===et&&(he+=Je):"right"===Ee&&("center"===et?he+=Je:"right"===et&&(he+=ve))),Ce){case"top":case"center":case"bottom":de-=(Qe.length-1)*Ze}for(var tt=0;tt<Qe.length;tt++)Ke>0&&c.strokeText(Qe[tt],he,de),c.fillText(Qe[tt],he,de),de+=Ze}else Ke>0&&c.strokeText(pe,he,de),c.fillText(pe,he,de);0!==ge&&(c.rotate(-ge),c.translate(-se,-oe))}}},(VHe={}).drawNode=function(c,q,Y){var V,Z,re=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],ae=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],se=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],oe=this,he=q._private,de=he.rscratch,pe=q.position();if(vNe(pe.x)&&vNe(pe.y)&&(!se||q.visible())){var ge,me,ve=se?q.effectiveOpacity():1,be=oe.usePaths(),we=!1,Te=q.padding();V=q.width()+2*Te,Z=q.height()+2*Te,Y&&(me=Y,c.translate(-me.x1,-me.y1));for(var _e=q.pstyle("background-image").value,Ee=new Array(_e.length),Ce=new Array(_e.length),Se=0,Ae=0;Ae<_e.length;Ae++){var Le=_e[Ae];if(Ee[Ae]=null!=Le&&"none"!==Le){var Ne=q.cy().style().getIndexedStyle(q,"background-image-crossorigin","value",Ae);Se++,Ce[Ae]=oe.getCachedImage(Le,Ne,function(){he.backgroundTimestamp=Date.now(),q.emitAndNotify("background")})}}var Ie=q.pstyle("background-blacken").value,Me=q.pstyle("border-width").pfValue,Re=q.pstyle("background-opacity").value*ve,Oe=q.pstyle("border-color").value,Be=q.pstyle("border-style").value,$e=q.pstyle("border-join").value,Ue=q.pstyle("border-cap").value,qe=q.pstyle("border-position").value,je=q.pstyle("border-dash-pattern").pfValue,We=q.pstyle("border-dash-offset").pfValue,He=q.pstyle("border-opacity").value*ve,Ve=q.pstyle("outline-width").pfValue,Ke=q.pstyle("outline-color").value,Qe=q.pstyle("outline-style").value,Ze=q.pstyle("outline-opacity").value*ve,Je=q.pstyle("outline-offset").value,et=q.pstyle("corner-radius").value;"auto"!==et&&(et=q.pstyle("corner-radius").pfValue);var tt=o(function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;oe.eleFillStyle(c,q,Y)},"setupShapeColor"),rt=o(function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;oe.colorStrokeStyle(c,Oe[0],Oe[1],Oe[2],q)},"setupBorderColor"),nt=o(function(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;oe.colorStrokeStyle(c,Ke[0],Ke[1],Ke[2],q)},"setupOutlineColor"),it=o(function(c,q,Y,V){var Z,re=oe.nodePathCache=oe.nodePathCache||[],ae=BRe("polygon"===Y?Y+","+V.join(","):Y,""+q,""+c,""+et),se=re[ae],he=!1;return null!=se?(Z=se,he=!0,de.pathCache=Z):(Z=new Path2D,re[ae]=de.pathCache=Z),{path:Z,cacheHit:he}},"getPath"),at=q.pstyle("shape").strValue,st=q.pstyle("shape-polygon-points").pfValue;if(be){c.translate(pe.x,pe.y);var ot=it(V,Z,at,st);ge=ot.path,we=ot.cacheHit}var lt=o(function(){if(!we){var Y=pe;be&&(Y={x:0,y:0}),oe.nodeShapes[oe.getNodeShape(q)].draw(ge||c,Y.x,Y.y,V,Z,et,de)}be?c.fill(ge):c.fill()},"drawShape"),ht=o(function(){for(var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,V=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Z=he.backgrounding,re=0,ae=0;ae<Ce.length;ae++){var se=q.cy().style().getIndexedStyle(q,"background-image-containment","value",ae);V&&"over"===se||!V&&"inside"===se?re++:Ee[ae]&&Ce[ae].complete&&!Ce[ae].error&&(re++,oe.drawInscribedImage(c,Ce[ae],q,ae,Y))}he.backgrounding=re!==Se,Z!==he.backgrounding&&q.updateStyle(!1)},"drawImages"),ut=o(function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0],re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve;oe.hasPie(q)&&(oe.drawPie(c,q,re),Y&&(be||oe.nodeShapes[oe.getNodeShape(q)].draw(c,pe.x,pe.y,V,Z,et,de)))},"drawPie"),pt=o(function(){var q=(Ie>0?Ie:-Ie)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve),Y=Ie>0?0:255;0!==Ie&&(oe.colorFillStyle(c,Y,Y,Y,q),be?c.fill(ge):c.fill())},"darken"),gt=o(function(){if(Me>0){if(c.lineWidth=Me,c.lineCap=Ue,c.lineJoin=$e,c.setLineDash)switch(Be){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash(je),c.lineDashOffset=We;break;case"solid":case"double":c.setLineDash([])}if("center"!==qe){if(c.save(),c.lineWidth*=2,"inside"===qe)be?c.clip(ge):c.clip();else{var q=new Path2D;q.rect(-V/2-Me,-Z/2-Me,V+2*Me,Z+2*Me),q.addPath(ge),c.clip(q,"evenodd")}be?c.stroke(ge):c.stroke(),c.restore()}else be?c.stroke(ge):c.stroke();if("double"===Be){c.lineWidth=Me/3;var Y=c.globalCompositeOperation;c.globalCompositeOperation="destination-out",be?c.stroke(ge):c.stroke(),c.globalCompositeOperation=Y}c.setLineDash&&c.setLineDash([])}},"drawBorder"),ft=o(function(){if(Ve>0){if(c.lineWidth=Ve,c.lineCap="butt",c.setLineDash)switch(Qe){case"dotted":c.setLineDash([1,1]);break;case"dashed":c.setLineDash([4,2]);break;case"solid":case"double":c.setLineDash([])}var Y=pe;be&&(Y={x:0,y:0});var re=oe.getNodeShape(q),ae=Me;"inside"===qe&&(ae=0),"outside"===qe&&(ae*=2);var se,he=(V+ae+(Ve+Je))/V,de=(Z+ae+(Ve+Je))/Z,ge=V*he,me=Z*de,ve=oe.nodeShapes[re].points;if(be)se=it(ge,me,re,ve).path;if("ellipse"===re)oe.drawEllipsePath(se||c,Y.x,Y.y,ge,me);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(re)){var we=0,Te=0,_e=0;"round-diamond"===re?we=1.4*(ae+Je+Ve):"round-heptagon"===re?(we=1.075*(ae+Je+Ve),_e=-(ae/2+Je+Ve)/35):"round-hexagon"===re?we=1.12*(ae+Je+Ve):"round-pentagon"===re?(we=1.13*(ae+Je+Ve),_e=-(ae/2+Je+Ve)/15):"round-tag"===re?(we=1.12*(ae+Je+Ve),Te=.07*(ae/2+Ve+Je)):"round-triangle"===re&&(we=(ae+Je+Ve)*(Math.PI/2),_e=-(ae+Je/2+Ve)/Math.PI),0!==we&&(ge=V*(he=(V+we)/V),["round-hexagon","round-tag"].includes(re)||(me=Z*(de=(Z+we)/Z)));for(var Ee=ge/2,Ce=me/2,Se=(et="auto"===et?NFe(ge,me):et)+(ae+Ve+Je)/2,Ae=new Array(ve.length/2),Le=new Array(ve.length/2),Ne=0;Ne<ve.length/2;Ne++)Ae[Ne]={x:Y.x+Te+Ee*ve[2*Ne],y:Y.y+_e+Ce*ve[2*Ne+1]};var Ie,Re,Oe,Be,$e=Ae.length;for(Re=Ae[$e-1],Ie=0;Ie<$e;Ie++)Oe=Ae[Ie%$e],Be=Ae[(Ie+1)%$e],Le[Ie]=bB(Re,Oe,Be,Se),Re=Oe,Oe=Be;oe.drawRoundPolygonPath(se||c,Y.x+Te,Y.y+_e,V*he,Z*de,ve,Le)}else if(["roundrectangle","round-rectangle"].includes(re))et="auto"===et?LFe(ge,me):et,oe.drawRoundRectanglePath(se||c,Y.x,Y.y,ge,me,et+(ae+Ve+Je)/2);else if(["cutrectangle","cut-rectangle"].includes(re))et="auto"===et?IFe():et,oe.drawCutRectanglePath(se||c,Y.x,Y.y,ge,me,null,et+(ae+Ve+Je)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(re))et="auto"===et?LFe(ge,me):et,oe.drawBottomRoundRectanglePath(se||c,Y.x,Y.y,ge,me,et+(ae+Ve+Je)/2);else if("barrel"===re)oe.drawBarrelPath(se||c,Y.x,Y.y,ge,me);else if(re.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(re)){ve=YPe(WPe(ve,(ae+Ve+Je)/V)),oe.drawPolygonPath(se||c,Y.x,Y.y,V,Z,ve)}else{ve=YPe(WPe(ve,-((ae+Ve+Je)/V))),oe.drawPolygonPath(se||c,Y.x,Y.y,V,Z,ve)}if(be?c.stroke(se):c.stroke(),"double"===Qe){c.lineWidth=ae/3;var Ue=c.globalCompositeOperation;c.globalCompositeOperation="destination-out",be?c.stroke(se):c.stroke(),c.globalCompositeOperation=Ue}c.setLineDash&&c.setLineDash([])}},"drawOutline"),mt=o(function(){ae&&oe.drawNodeOverlay(c,q,pe,V,Z)},"drawOverlay"),xt=o(function(){ae&&oe.drawNodeUnderlay(c,q,pe,V,Z)},"drawUnderlay"),bt=o(function(){oe.drawElementText(c,q,null,re)},"drawText");if("yes"===q.pstyle("ghost").value){var wt=q.pstyle("ghost-offset-x").pfValue,kt=q.pstyle("ghost-offset-y").pfValue,_t=q.pstyle("ghost-opacity").value,St=_t*ve;c.translate(wt,kt),nt(),ft(),tt(_t*Re),lt(),ht(St,!0),rt(_t*He),gt(),ut(0!==Ie||0!==Me),ht(St,!1),pt(St),c.translate(-wt,-kt)}be&&c.translate(-pe.x,-pe.y),xt(),be&&c.translate(pe.x,pe.y),nt(),ft(),tt(),lt(),ht(ve,!0),rt(),gt(),ut(0!==Ie||0!==Me),ht(ve,!1),pt(),be&&c.translate(-pe.x,-pe.y),bt(),mt(),Y&&c.translate(me.x1,me.y1)}},XHe=o(function(c){if(!["overlay","underlay"].includes(c))throw new Error("Invalid state");return function(q,Y,V,Z,re){if(Y.visible()){var ae=Y.pstyle("".concat(c,"-padding")).pfValue,se=Y.pstyle("".concat(c,"-opacity")).value,oe=Y.pstyle("".concat(c,"-color")).value,he=Y.pstyle("".concat(c,"-shape")).value,de=Y.pstyle("".concat(c,"-corner-radius")).value;if(se>0){if(V=V||Y.position(),null==Z||null==re){var pe=Y.padding();Z=Y.width()+2*pe,re=Y.height()+2*pe}this.colorFillStyle(q,oe[0],oe[1],oe[2],se),this.nodeShapes[he].draw(q,V.x,V.y,Z+2*ae,re+2*ae,de),q.fill()}}}},"drawNodeOverlayUnderlay"),VHe.drawNodeOverlay=XHe("overlay"),VHe.drawNodeUnderlay=XHe("underlay"),VHe.hasPie=function(c){return(c=c[0])._private.hasPie},VHe.drawPie=function(c,q,Y,V){q=q[0],V=V||q.position();var Z=q.cy().style(),re=q.pstyle("pie-size"),ae=V.x,se=V.y,oe=q.width(),he=q.height(),de=Math.min(oe,he)/2,pe=0;this.usePaths()&&(ae=0,se=0),"%"===re.units?de*=re.pfValue:void 0!==re.pfValue&&(de=re.pfValue/2);for(var ge=1;ge<=Z.pieBackgroundN;ge++){var me=q.pstyle("pie-"+ge+"-background-size").value,ve=q.pstyle("pie-"+ge+"-background-color").value,be=q.pstyle("pie-"+ge+"-background-opacity").value*Y,we=me/100;we+pe>1&&(we=1-pe);var Te=1.5*Math.PI+2*Math.PI*pe,_e=Te+2*Math.PI*we;0===me||pe>=1||pe+we>1||(c.beginPath(),c.moveTo(ae,se),c.arc(ae,se,de,Te,_e),c.closePath(),this.colorFillStyle(c,ve[0],ve[1],ve[2],be),c.fill(),pe+=we)}},(KHe={}).getPixelRatio=function(){var c=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var q=this.cy.window(),Y=c.backingStorePixelRatio||c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;return(q.devicePixelRatio||1)/Y},KHe.paintCache=function(c){for(var q,Y=this.paintCaches=this.paintCaches||[],V=!0,Z=0;Z<Y.length;Z++)if((q=Y[Z]).context===c){V=!1;break}return V&&(q={context:c},Y.push(q)),q},KHe.createGradientStyleFor=function(c,q,Y,V,Z){var re,ae=this.usePaths(),se=Y.pstyle(q+"-gradient-stop-colors").value,oe=Y.pstyle(q+"-gradient-stop-positions").pfValue;if("radial-gradient"===V)if(Y.isEdge()){var he=Y.sourceEndpoint(),de=Y.targetEndpoint(),pe=Y.midpoint(),ge=hPe(he,pe),me=hPe(de,pe);re=c.createRadialGradient(pe.x,pe.y,0,pe.x,pe.y,Math.max(ge,me))}else{var ve=ae?{x:0,y:0}:Y.position(),be=Y.paddedWidth(),we=Y.paddedHeight();re=c.createRadialGradient(ve.x,ve.y,0,ve.x,ve.y,Math.max(be,we))}else if(Y.isEdge()){var Te=Y.sourceEndpoint(),_e=Y.targetEndpoint();re=c.createLinearGradient(Te.x,Te.y,_e.x,_e.y)}else{var Ee=ae?{x:0,y:0}:Y.position(),Ce=Y.paddedWidth()/2,Se=Y.paddedHeight()/2;switch(Y.pstyle("background-gradient-direction").value){case"to-bottom":re=c.createLinearGradient(Ee.x,Ee.y-Se,Ee.x,Ee.y+Se);break;case"to-top":re=c.createLinearGradient(Ee.x,Ee.y+Se,Ee.x,Ee.y-Se);break;case"to-left":re=c.createLinearGradient(Ee.x+Ce,Ee.y,Ee.x-Ce,Ee.y);break;case"to-right":re=c.createLinearGradient(Ee.x-Ce,Ee.y,Ee.x+Ce,Ee.y);break;case"to-bottom-right":case"to-right-bottom":re=c.createLinearGradient(Ee.x-Ce,Ee.y-Se,Ee.x+Ce,Ee.y+Se);break;case"to-top-right":case"to-right-top":re=c.createLinearGradient(Ee.x-Ce,Ee.y+Se,Ee.x+Ce,Ee.y-Se);break;case"to-bottom-left":case"to-left-bottom":re=c.createLinearGradient(Ee.x+Ce,Ee.y-Se,Ee.x-Ce,Ee.y+Se);break;case"to-top-left":case"to-left-top":re=c.createLinearGradient(Ee.x+Ce,Ee.y+Se,Ee.x-Ce,Ee.y-Se)}}if(!re)return null;for(var Ae=oe.length===se.length,Le=se.length,Ne=0;Ne<Le;Ne++)re.addColorStop(Ae?oe[Ne]:Ne/(Le-1),"rgba("+se[Ne][0]+","+se[Ne][1]+","+se[Ne][2]+","+Z+")");return re},KHe.gradientFillStyle=function(c,q,Y,V){var Z=this.createGradientStyleFor(c,"background",q,Y,V);if(!Z)return null;c.fillStyle=Z},KHe.colorFillStyle=function(c,q,Y,V,Z){c.fillStyle="rgba("+q+","+Y+","+V+","+Z+")"},KHe.eleFillStyle=function(c,q,Y){var V=q.pstyle("background-fill").value;if("linear-gradient"===V||"radial-gradient"===V)this.gradientFillStyle(c,q,V,Y);else{var Z=q.pstyle("background-color").value;this.colorFillStyle(c,Z[0],Z[1],Z[2],Y)}},KHe.gradientStrokeStyle=function(c,q,Y,V){var Z=this.createGradientStyleFor(c,"line",q,Y,V);if(!Z)return null;c.strokeStyle=Z},KHe.colorStrokeStyle=function(c,q,Y,V,Z){c.strokeStyle="rgba("+q+","+Y+","+V+","+Z+")"},KHe.eleStrokeStyle=function(c,q,Y){var V=q.pstyle("line-fill").value;if("linear-gradient"===V||"radial-gradient"===V)this.gradientStrokeStyle(c,q,V,Y);else{var Z=q.pstyle("line-color").value;this.colorStrokeStyle(c,Z[0],Z[1],Z[2],Y)}},KHe.matchCanvasSize=function(c){var q=this,Y=q.data,V=q.findContainerClientCoords(),Z=V[2],re=V[3],ae=q.getPixelRatio(),se=q.motionBlurPxRatio;(c===q.data.bufferCanvases[q.MOTIONBLUR_BUFFER_NODE]||c===q.data.bufferCanvases[q.MOTIONBLUR_BUFFER_DRAG])&&(ae=se);var oe,he=Z*ae,de=re*ae;if(he!==q.canvasWidth||de!==q.canvasHeight){q.fontCaches=null;var pe=Y.canvasContainer;pe.style.width=Z+"px",pe.style.height=re+"px";for(var ge=0;ge<q.CANVAS_LAYERS;ge++)(oe=Y.canvases[ge]).width=he,oe.height=de,oe.style.width=Z+"px",oe.style.height=re+"px";for(ge=0;ge<q.BUFFER_COUNT;ge++)(oe=Y.bufferCanvases[ge]).width=he,oe.height=de,oe.style.width=Z+"px",oe.style.height=re+"px";q.textureMult=1,ae<=1&&(oe=Y.bufferCanvases[q.TEXTURE_BUFFER],q.textureMult=2,oe.width=he*q.textureMult,oe.height=de*q.textureMult),q.canvasWidth=he,q.canvasHeight=de}},KHe.renderTo=function(c,q,Y,V){this.render({forcedContext:c,forcedZoom:q,forcedPan:Y,drawAllLayers:!0,forcedPxRatio:V})},KHe.render=function(c){var q=(c=c||CDe()).forcedContext,Y=c.drawAllLayers,V=c.drawOnlyNodeLayer,Z=c.forcedZoom,re=c.forcedPan,ae=this,se=void 0===c.forcedPxRatio?this.getPixelRatio():c.forcedPxRatio,oe=ae.cy,he=ae.data,de=he.canvasNeedsRedraw,pe=ae.textureOnViewport&&!q&&(ae.pinching||ae.hoverData.dragging||ae.swipePanning||ae.data.wheelZooming),ge=void 0!==c.motionBlur?c.motionBlur:ae.motionBlur,me=ae.motionBlurPxRatio,ve=oe.hasCompoundNodes(),be=ae.hoverData.draggingEles,we=!(!ae.hoverData.selecting&&!ae.touchData.selecting),Te=ge=ge&&!q&&ae.motionBlurEnabled&&!we;q||(ae.prevPxRatio!==se&&(ae.invalidateContainerClientCoordsCache(),ae.matchCanvasSize(ae.container),ae.redrawHint("eles",!0),ae.redrawHint("drag",!0)),ae.prevPxRatio=se),!q&&ae.motionBlurTimeout&&clearTimeout(ae.motionBlurTimeout),ge&&(null==ae.mbFrames&&(ae.mbFrames=0),ae.mbFrames++,ae.mbFrames<3&&(Te=!1),ae.mbFrames>ae.minMbLowQualFrames&&(ae.motionBlurPxRatio=ae.mbPxRBlurry)),ae.clearingMotionBlur&&(ae.motionBlurPxRatio=1),ae.textureDrawLastFrame&&!pe&&(de[ae.NODE]=!0,de[ae.SELECT_BOX]=!0);var _e=oe.style(),Ee=oe.zoom(),Ce=void 0!==Z?Z:Ee,Se=oe.pan(),Ae={x:Se.x,y:Se.y},Le={zoom:Ee,pan:{x:Se.x,y:Se.y}},Ne=ae.prevViewport;!(void 0===Ne||Le.zoom!==Ne.zoom||Le.pan.x!==Ne.pan.x||Le.pan.y!==Ne.pan.y)&&!(be&&!ve)&&(ae.motionBlurPxRatio=1),re&&(Ae=re),Ce*=se,Ae.x*=se,Ae.y*=se;var Ie=ae.getCachedZSortedEles();function D(c,q,Y,V,Z){var re=c.globalCompositeOperation;c.globalCompositeOperation="destination-out",ae.colorFillStyle(c,255,255,255,ae.motionBlurTransparency),c.fillRect(q,Y,V,Z),c.globalCompositeOperation=re}function k(c,V){var se,oe,de,pe;ae.clearingMotionBlur||c!==he.bufferContexts[ae.MOTIONBLUR_BUFFER_NODE]&&c!==he.bufferContexts[ae.MOTIONBLUR_BUFFER_DRAG]?(se=Ae,oe=Ce,de=ae.canvasWidth,pe=ae.canvasHeight):(se={x:Se.x*me,y:Se.y*me},oe=Ee*me,de=ae.canvasWidth*me,pe=ae.canvasHeight*me),c.setTransform(1,0,0,1,0,0),"motionBlur"===V?D(c,0,0,de,pe):!q&&(void 0===V||V)&&c.clearRect(0,0,de,pe),Y||(c.translate(se.x,se.y),c.scale(oe,oe)),re&&c.translate(re.x,re.y),Z&&c.scale(Z,Z)}if(o(D,"mbclear"),o(k,"setContextTransform"),pe||(ae.textureDrawLastFrame=!1),pe){if(ae.textureDrawLastFrame=!0,!ae.textureCache){ae.textureCache={},ae.textureCache.bb=oe.mutableElements().boundingBox(),ae.textureCache.texture=ae.data.bufferCanvases[ae.TEXTURE_BUFFER];var Me=ae.data.bufferContexts[ae.TEXTURE_BUFFER];Me.setTransform(1,0,0,1,0,0),Me.clearRect(0,0,ae.canvasWidth*ae.textureMult,ae.canvasHeight*ae.textureMult),ae.render({forcedContext:Me,drawOnlyNodeLayer:!0,forcedPxRatio:se*ae.textureMult}),(Le=ae.textureCache.viewport={zoom:oe.zoom(),pan:oe.pan(),width:ae.canvasWidth,height:ae.canvasHeight}).mpan={x:(0-Le.pan.x)/Le.zoom,y:(0-Le.pan.y)/Le.zoom}}de[ae.DRAG]=!1,de[ae.NODE]=!1;var Re=he.contexts[ae.NODE],Oe=ae.textureCache.texture;Le=ae.textureCache.viewport;Re.setTransform(1,0,0,1,0,0),ge?D(Re,0,0,Le.width,Le.height):Re.clearRect(0,0,Le.width,Le.height);var Be=_e.core("outside-texture-bg-color").value,$e=_e.core("outside-texture-bg-opacity").value;ae.colorFillStyle(Re,Be[0],Be[1],Be[2],$e),Re.fillRect(0,0,Le.width,Le.height);Ee=oe.zoom();k(Re,!1),Re.clearRect(Le.mpan.x,Le.mpan.y,Le.width/Le.zoom/se,Le.height/Le.zoom/se),Re.drawImage(Oe,Le.mpan.x,Le.mpan.y,Le.width/Le.zoom/se,Le.height/Le.zoom/se)}else ae.textureOnViewport&&!q&&(ae.textureCache=null);var Ue=oe.extent(),qe=ae.pinching||ae.hoverData.dragging||ae.swipePanning||ae.data.wheelZooming||ae.hoverData.draggingEles||ae.cy.animated(),je=ae.hideEdgesOnViewport&&qe,We=[];if(We[ae.NODE]=!de[ae.NODE]&&ge&&!ae.clearedForMotionBlur[ae.NODE]||ae.clearingMotionBlur,We[ae.NODE]&&(ae.clearedForMotionBlur[ae.NODE]=!0),We[ae.DRAG]=!de[ae.DRAG]&&ge&&!ae.clearedForMotionBlur[ae.DRAG]||ae.clearingMotionBlur,We[ae.DRAG]&&(ae.clearedForMotionBlur[ae.DRAG]=!0),de[ae.NODE]||Y||V||We[ae.NODE]){var He=ge&&!We[ae.NODE]&&1!==me;k(Re=q||(He?ae.data.bufferContexts[ae.MOTIONBLUR_BUFFER_NODE]:he.contexts[ae.NODE]),ge&&!He?"motionBlur":void 0),je?ae.drawCachedNodes(Re,Ie.nondrag,se,Ue):ae.drawLayeredElements(Re,Ie.nondrag,se,Ue),ae.debug&&ae.drawDebugPoints(Re,Ie.nondrag),!Y&&!ge&&(de[ae.NODE]=!1)}if(!V&&(de[ae.DRAG]||Y||We[ae.DRAG])){He=ge&&!We[ae.DRAG]&&1!==me;k(Re=q||(He?ae.data.bufferContexts[ae.MOTIONBLUR_BUFFER_DRAG]:he.contexts[ae.DRAG]),ge&&!He?"motionBlur":void 0),je?ae.drawCachedNodes(Re,Ie.drag,se,Ue):ae.drawCachedElements(Re,Ie.drag,se,Ue),ae.debug&&ae.drawDebugPoints(Re,Ie.drag),!Y&&!ge&&(de[ae.DRAG]=!1)}if(ae.showFps||!V&&de[ae.SELECT_BOX]&&!Y){if(k(Re=q||he.contexts[ae.SELECT_BOX]),1==ae.selection[4]&&(ae.hoverData.selecting||ae.touchData.selecting)){Ee=ae.cy.zoom();var Ve=_e.core("selection-box-border-width").value/Ee;Re.lineWidth=Ve,Re.fillStyle="rgba("+_e.core("selection-box-color").value[0]+","+_e.core("selection-box-color").value[1]+","+_e.core("selection-box-color").value[2]+","+_e.core("selection-box-opacity").value+")",Re.fillRect(ae.selection[0],ae.selection[1],ae.selection[2]-ae.selection[0],ae.selection[3]-ae.selection[1]),Ve>0&&(Re.strokeStyle="rgba("+_e.core("selection-box-border-color").value[0]+","+_e.core("selection-box-border-color").value[1]+","+_e.core("selection-box-border-color").value[2]+","+_e.core("selection-box-opacity").value+")",Re.strokeRect(ae.selection[0],ae.selection[1],ae.selection[2]-ae.selection[0],ae.selection[3]-ae.selection[1]))}if(he.bgActivePosistion&&!ae.hoverData.selecting){Ee=ae.cy.zoom();var Ke=he.bgActivePosistion;Re.fillStyle="rgba("+_e.core("active-bg-color").value[0]+","+_e.core("active-bg-color").value[1]+","+_e.core("active-bg-color").value[2]+","+_e.core("active-bg-opacity").value+")",Re.beginPath(),Re.arc(Ke.x,Ke.y,_e.core("active-bg-size").pfValue/Ee,0,2*Math.PI),Re.fill()}var Qe=ae.lastRedrawTime;if(ae.showFps&&Qe){Qe=Math.round(Qe);var Ze=Math.round(1e3/Qe);Re.setTransform(1,0,0,1,0,0),Re.fillStyle="rgba(255, 0, 0, 0.75)",Re.strokeStyle="rgba(255, 0, 0, 0.75)",Re.lineWidth=1,Re.fillText("1 frame = "+Qe+" ms = "+Ze+" fps",0,20);Re.strokeRect(0,30,250,20),Re.fillRect(0,30,250*Math.min(Ze/60,1),20)}Y||(de[ae.SELECT_BOX]=!1)}if(ge&&1!==me){var Je=he.contexts[ae.NODE],et=ae.data.bufferCanvases[ae.MOTIONBLUR_BUFFER_NODE],tt=he.contexts[ae.DRAG],rt=ae.data.bufferCanvases[ae.MOTIONBLUR_BUFFER_DRAG],nt=o(function(c,q,Y){c.setTransform(1,0,0,1,0,0),Y||!Te?c.clearRect(0,0,ae.canvasWidth,ae.canvasHeight):D(c,0,0,ae.canvasWidth,ae.canvasHeight);var V=me;c.drawImage(q,0,0,ae.canvasWidth*V,ae.canvasHeight*V,0,0,ae.canvasWidth,ae.canvasHeight)},"drawMotionBlur");(de[ae.NODE]||We[ae.NODE])&&(nt(Je,et,We[ae.NODE]),de[ae.NODE]=!1),(de[ae.DRAG]||We[ae.DRAG])&&(nt(tt,rt,We[ae.DRAG]),de[ae.DRAG]=!1)}ae.prevViewport=Le,ae.clearingMotionBlur&&(ae.clearingMotionBlur=!1,ae.motionBlurCleared=!0,ae.motionBlur=!0),ge&&(ae.motionBlurTimeout=setTimeout(function(){ae.motionBlurTimeout=null,ae.clearedForMotionBlur[ae.NODE]=!1,ae.clearedForMotionBlur[ae.DRAG]=!1,ae.motionBlur=!1,ae.clearingMotionBlur=!pe,ae.mbFrames=0,de[ae.NODE]=!0,de[ae.DRAG]=!0,ae.redraw()},100)),q||oe.emit("render")},(QHe={}).drawPolygonPath=function(c,q,Y,V,Z,re){var ae=V/2,se=Z/2;c.beginPath&&c.beginPath(),c.moveTo(q+ae*re[0],Y+se*re[1]);for(var oe=1;oe<re.length/2;oe++)c.lineTo(q+ae*re[2*oe],Y+se*re[2*oe+1]);c.closePath()},QHe.drawRoundPolygonPath=function(c,q,Y,V,Z,re,ae){ae.forEach(function(q){return o1e(c,q)}),c.closePath()},QHe.drawRoundRectanglePath=function(c,q,Y,V,Z,re){var ae=V/2,se=Z/2,oe="auto"===re?LFe(V,Z):Math.min(re,se,ae);c.beginPath&&c.beginPath(),c.moveTo(q,Y-se),c.arcTo(q+ae,Y-se,q+ae,Y,oe),c.arcTo(q+ae,Y+se,q,Y+se,oe),c.arcTo(q-ae,Y+se,q-ae,Y,oe),c.arcTo(q-ae,Y-se,q,Y-se,oe),c.lineTo(q,Y-se),c.closePath()},QHe.drawBottomRoundRectanglePath=function(c,q,Y,V,Z,re){var ae=V/2,se=Z/2,oe="auto"===re?LFe(V,Z):re;c.beginPath&&c.beginPath(),c.moveTo(q,Y-se),c.lineTo(q+ae,Y-se),c.lineTo(q+ae,Y),c.arcTo(q+ae,Y+se,q,Y+se,oe),c.arcTo(q-ae,Y+se,q-ae,Y,oe),c.lineTo(q-ae,Y-se),c.lineTo(q,Y-se),c.closePath()},QHe.drawCutRectanglePath=function(c,q,Y,V,Z,re,ae){var se=V/2,oe=Z/2,he="auto"===ae?IFe():ae;c.beginPath&&c.beginPath(),c.moveTo(q-se+he,Y-oe),c.lineTo(q+se-he,Y-oe),c.lineTo(q+se,Y-oe+he),c.lineTo(q+se,Y+oe-he),c.lineTo(q+se-he,Y+oe),c.lineTo(q-se+he,Y+oe),c.lineTo(q-se,Y+oe-he),c.lineTo(q-se,Y-oe+he),c.closePath()},QHe.drawBarrelPath=function(c,q,Y,V,Z){var re=V/2,ae=Z/2,se=q-re,oe=q+re,he=Y-ae,de=Y+ae,pe=RFe(V,Z),ge=pe.widthOffset,me=pe.heightOffset,ve=pe.ctrlPtOffsetPct*ge;c.beginPath&&c.beginPath(),c.moveTo(se,he+me),c.lineTo(se,de-me),c.quadraticCurveTo(se+ve,de,se+ge,de),c.lineTo(oe-ge,de),c.quadraticCurveTo(oe-ve,de,oe,de-me),c.lineTo(oe,he+me),c.quadraticCurveTo(oe-ve,he,oe-ge,he),c.lineTo(se+ge,he),c.quadraticCurveTo(se+ve,he,se,he+me),c.closePath()},ZHe=Math.sin(0),JHe=Math.cos(0),eVe={},tVe={},rVe=Math.PI/40,nVe=0*Math.PI;nVe<2*Math.PI;nVe+=rVe)eVe[nVe]=Math.sin(nVe),tVe[nVe]=Math.cos(nVe);QHe.drawEllipsePath=function(c,q,Y,V,Z){if(c.beginPath&&c.beginPath(),c.ellipse)c.ellipse(q,Y,V/2,Z/2,0,0,2*Math.PI);else for(var re,ae,se=V/2,oe=Z/2,he=0*Math.PI;he<2*Math.PI;he+=rVe)re=q-se*eVe[he]*ZHe+se*tVe[he]*JHe,ae=Y+oe*tVe[he]*ZHe+oe*eVe[he]*JHe,0===he?c.moveTo(re,ae):c.lineTo(re,ae);c.closePath()},(iVe={}).createBuffer=function(c,q){var Y=document.createElement("canvas");return Y.width=c,Y.height=q,[Y,Y.getContext("2d")]},iVe.bufferCanvasImage=function(c){var q=this.cy,Y=q.mutableElements().boundingBox(),V=this.findContainerClientCoords(),Z=c.full?Math.ceil(Y.w):V[2],re=c.full?Math.ceil(Y.h):V[3],ae=vNe(c.maxWidth)||vNe(c.maxHeight),se=this.getPixelRatio(),oe=1;if(void 0!==c.scale)Z*=c.scale,re*=c.scale,oe=c.scale;else if(ae){var he=1/0,de=1/0;vNe(c.maxWidth)&&(he=oe*c.maxWidth/Z),vNe(c.maxHeight)&&(de=oe*c.maxHeight/re),Z*=oe=Math.min(he,de),re*=oe}ae||(Z*=se,re*=se,oe*=se);var pe=document.createElement("canvas");pe.width=Z,pe.height=re,pe.style.width=Z+"px",pe.style.height=re+"px";var ge=pe.getContext("2d");if(Z>0&&re>0){ge.clearRect(0,0,Z,re),ge.globalCompositeOperation="source-over";var me=this.getCachedZSortedEles();if(c.full)ge.translate(-Y.x1*oe,-Y.y1*oe),ge.scale(oe,oe),this.drawElements(ge,me),ge.scale(1/oe,1/oe),ge.translate(Y.x1*oe,Y.y1*oe);else{var ve=q.pan(),be={x:ve.x*oe,y:ve.y*oe};oe*=q.zoom(),ge.translate(be.x,be.y),ge.scale(oe,oe),this.drawElements(ge,me),ge.scale(1/oe,1/oe),ge.translate(-be.x,-be.y)}c.bg&&(ge.globalCompositeOperation="destination-over",ge.fillStyle=c.bg,ge.rect(0,0,Z,re),ge.fill())}return pe},o(ptt,"b64ToBlob"),o(Ume,"b64UriToB64"),o(w1e,"output"),iVe.png=function(c){return w1e(c,this.bufferCanvasImage(c),"image/png")},iVe.jpg=function(c){return w1e(c,this.bufferCanvasImage(c),"image/jpeg")},(aVe={}).nodeShapeImpl=function(c,q,Y,V,Z,re,ae,se){switch(c){case"ellipse":return this.drawEllipsePath(q,Y,V,Z,re);case"polygon":return this.drawPolygonPath(q,Y,V,Z,re,ae);case"round-polygon":return this.drawRoundPolygonPath(q,Y,V,Z,re,ae,se);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(q,Y,V,Z,re,se);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(q,Y,V,Z,re,ae,se);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(q,Y,V,Z,re,se);case"barrel":return this.drawBarrelPath(q,Y,V,Z,re)}},sVe=k1e,(oVe=k1e.prototype).CANVAS_LAYERS=3,oVe.SELECT_BOX=0,oVe.DRAG=1,oVe.NODE=2,oVe.BUFFER_COUNT=3,oVe.TEXTURE_BUFFER=0,oVe.MOTIONBLUR_BUFFER_NODE=1,oVe.MOTIONBLUR_BUFFER_DRAG=2,o(k1e,"CanvasRenderer"),oVe.redrawHint=function(c,q){var Y=this;switch(c){case"eles":Y.data.canvasNeedsRedraw[oVe.NODE]=q;break;case"drag":Y.data.canvasNeedsRedraw[oVe.DRAG]=q;break;case"select":Y.data.canvasNeedsRedraw[oVe.SELECT_BOX]=q}},lVe=typeof Path2D<"u",oVe.path2dEnabled=function(c){if(void 0===c)return this.pathsEnabled;this.pathsEnabled=!!c},oVe.usePaths=function(){return lVe&&this.pathsEnabled},oVe.setImgSmoothing=function(c,q){null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled=q:(c.webkitImageSmoothingEnabled=q,c.mozImageSmoothingEnabled=q,c.msImageSmoothingEnabled=q)},oVe.getImgSmoothing=function(c){return null!=c.imageSmoothingEnabled?c.imageSmoothingEnabled:c.webkitImageSmoothingEnabled||c.mozImageSmoothingEnabled||c.msImageSmoothingEnabled},oVe.makeOffscreenCanvas=function(c,q){var Y;"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":Yi(OffscreenCanvas))?Y=new OffscreenCanvas(c,q):((Y=this.cy.window().document.createElement("canvas")).width=c,Y.height=q);return Y},[IHe,RHe,jHe,WHe,HHe,VHe,KHe,QHe,iVe,aVe].forEach(function(c){eIe(oVe,c)}),cVe=[{type:"layout",extensions:TWe},{type:"renderer",extensions:[{name:"null",impl:i1e},{name:"base",impl:vHe},{name:"canvas",impl:sVe}]}],hVe={},uVe={},o(C1e,"setExtension"),o(A1e,"getExtension"),o(xtt,"setModule"),o(btt,"getModule"),dVe=o(function(){return 2===arguments.length?A1e.apply(null,arguments):3===arguments.length?C1e.apply(null,arguments):4===arguments.length?btt.apply(null,arguments):5===arguments.length?xtt.apply(null,arguments):void yDe("Invalid extension access syntax")},"extension"),qYe.prototype.extension=dVe,cVe.forEach(function(c){c.extensions.forEach(function(q){C1e(c.type,q.name,q.impl)})}),pVe=o(function t(){if(!(this instanceof t))return new t;this.length=0},"Stylesheet"),(gVe=pVe.prototype).instanceString=function(){return"stylesheet"},gVe.selector=function(c){return this[this.length++]={selector:c,properties:[]},this},gVe.css=function(c,q){var Y=this.length-1;if(pNe(c))this[Y].properties.push({name:c,value:q});else if(mNe(c))for(var V=c,Z=Object.keys(V),re=0;re<Z.length;re++){var ae=Z[re],se=V[ae];if(null!=se){var oe=FYe.properties[ae]||FYe.properties[$Ne(ae)];if(null!=oe){var he=oe.name,de=se;this[Y].properties.push({name:he,value:de})}}}return this},gVe.style=gVe.css,gVe.generateStyle=function(c){var q=new FYe(c);return this.appendToStyle(q)},gVe.appendToStyle=function(c){for(var q=0;q<this.length;q++){var Y=this[q],V=Y.selector,Z=Y.properties;c.selector(V);for(var re=0;re<Z.length;re++){var ae=Z[re];c.css(ae.name,ae.value)}}return c},(fVe=o(function(c){return void 0===c&&(c={}),mNe(c)?new qYe(c):pNe(c)?dVe.apply(dVe,arguments):void 0},"cytoscape")).use=function(c){var q=Array.prototype.slice.call(arguments,1);return q.unshift(fVe),c.apply(null,q),this},fVe.warnings=function(c){return vDe(c)},fVe.version="3.30.2",fVe.stylesheet=fVe.Stylesheet=pVe}),yVe=Ni((c,q)=>{o(function(Y,V){"object"==typeof c&&"object"==typeof q?q.exports=V():"function"==typeof define&&define.amd?define([],V):"object"==typeof c?c.layoutBase=V():Y.layoutBase=V()},"webpackUniversalModuleDefinition")(c,function(){return function(c){var q={};function r(Y){if(q[Y])return q[Y].exports;var V=q[Y]={i:Y,l:!1,exports:{}};return c[Y].call(V.exports,V,V.exports,r),V.l=!0,V.exports}return o(r,"__webpack_require__"),r.m=c,r.c=q,r.i=function(c){return c},r.d=function(c,q,Y){r.o(c,q)||Object.defineProperty(c,q,{configurable:!1,enumerable:!0,get:Y})},r.n=function(c){var q=c&&c.__esModule?o(function(){return c.default},"getDefault"):o(function(){return c},"getModuleExports");return r.d(q,"a",q),q},r.o=function(c,q){return Object.prototype.hasOwnProperty.call(c,q)},r.p="",r(r.s=26)}([function(c,q,Y){function n(){}o(n,"LayoutConstants"),n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,c.exports=n},function(c,q,Y){var V=Y(2),Z=Y(8),re=Y(9);function s(c,q,Y){V.call(this,Y),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=Y,this.bendpoints=[],this.source=c,this.target=q}for(var ae in o(s,"LEdge"),s.prototype=Object.create(V.prototype),V)s[ae]=V[ae];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(c,q){for(var Y=this.getOtherEnd(c),V=q.getGraphManager().getRoot();;){if(Y.getOwner()==q)return Y;if(Y.getOwner()==V)break;Y=Y.getOwner().getParent()}return null},s.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=Z.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=re.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=re.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=re.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=re.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},c.exports=s},function(c,q,Y){function n(c){this.vGraphObject=c}o(n,"LGraphObject"),c.exports=n},function(c,q,Y){var V=Y(2),Z=Y(10),re=Y(13),ae=Y(0),se=Y(16),oe=Y(4);function h(c,q,Y,ae){null==Y&&null==ae&&(ae=q),V.call(this,ae),null!=c.graphManager&&(c=c.graphManager),this.estimatedSize=Z.MIN_VALUE,this.inclusionTreeDepth=Z.MAX_VALUE,this.vGraphObject=ae,this.edges=[],this.graphManager=c,this.rect=null!=Y&&null!=q?new re(q.x,q.y,Y.width,Y.height):new re}for(var he in o(h,"LNode"),h.prototype=Object.create(V.prototype),V)h[he]=V[he];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(c){this.rect.width=c},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(c){this.rect.height=c},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new oe(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new oe(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(c,q){this.rect.x=c.x,this.rect.y=c.y,this.rect.width=q.width,this.rect.height=q.height},h.prototype.setCenter=function(c,q){this.rect.x=c-this.rect.width/2,this.rect.y=q-this.rect.height/2},h.prototype.setLocation=function(c,q){this.rect.x=c,this.rect.y=q},h.prototype.moveBy=function(c,q){this.rect.x+=c,this.rect.y+=q},h.prototype.getEdgeListToNode=function(c){var q=[],Y=this;return Y.edges.forEach(function(V){if(V.target==c){if(V.source!=Y)throw"Incorrect edge source!";q.push(V)}}),q},h.prototype.getEdgesBetween=function(c){var q=[],Y=this;return Y.edges.forEach(function(V){if(V.source!=Y&&V.target!=Y)throw"Incorrect edge source and/or target";(V.target==c||V.source==c)&&q.push(V)}),q},h.prototype.getNeighborsList=function(){var c=new Set,q=this;return q.edges.forEach(function(Y){if(Y.source==q)c.add(Y.target);else{if(Y.target!=q)throw"Incorrect incidency!";c.add(Y.source)}}),c},h.prototype.withChildren=function(){var c=new Set;if(c.add(this),null!=this.child)for(var q=this.child.getNodes(),Y=0;Y<q.length;Y++)q[Y].withChildren().forEach(function(q){c.add(q)});return c},h.prototype.getNoOfChildren=function(){var c=0;if(null==this.child)c=1;else for(var q=this.child.getNodes(),Y=0;Y<q.length;Y++)c+=q[Y].getNoOfChildren();return 0==c&&(c=1),c},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==Z.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var c,q,Y=-ae.INITIAL_WORLD_BOUNDARY,V=ae.INITIAL_WORLD_BOUNDARY;c=ae.WORLD_CENTER_X+se.nextDouble()*(V-Y)+Y;var Z=-ae.INITIAL_WORLD_BOUNDARY,re=ae.INITIAL_WORLD_BOUNDARY;q=ae.WORLD_CENTER_Y+se.nextDouble()*(re-Z)+Z,this.rect.x=c,this.rect.y=q},h.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var c=this.getChild();if(c.updateBounds(!0),this.rect.x=c.getLeft(),this.rect.y=c.getTop(),this.setWidth(c.getRight()-c.getLeft()),this.setHeight(c.getBottom()-c.getTop()),ae.NODE_DIMENSIONS_INCLUDE_LABELS){var q=c.getRight()-c.getLeft(),Y=c.getBottom()-c.getTop();this.labelWidth>q&&(this.rect.x-=(this.labelWidth-q)/2,this.setWidth(this.labelWidth)),this.labelHeight>Y&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-Y)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-Y),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==Z.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(c){var q=this.rect.x;q>ae.WORLD_BOUNDARY?q=ae.WORLD_BOUNDARY:q<-ae.WORLD_BOUNDARY&&(q=-ae.WORLD_BOUNDARY);var Y=this.rect.y;Y>ae.WORLD_BOUNDARY?Y=ae.WORLD_BOUNDARY:Y<-ae.WORLD_BOUNDARY&&(Y=-ae.WORLD_BOUNDARY);var V=new oe(q,Y),Z=c.inverseTransformPoint(V);this.setLocation(Z.x,Z.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},c.exports=h},function(c,q,Y){function n(c,q){null==c&&null==q?(this.x=0,this.y=0):(this.x=c,this.y=q)}o(n,"PointD"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(c){this.x=c},n.prototype.setY=function(c){this.y=c},n.prototype.getDifference=function(c){return new DimensionD(this.x-c.x,this.y-c.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(c){return this.x+=c.width,this.y+=c.height,this},c.exports=n},function(c,q,Y){var V=Y(2),Z=Y(10),re=Y(0),ae=Y(6),se=Y(3),oe=Y(1),he=Y(13),de=Y(12),pe=Y(11);function p(c,q,Y){V.call(this,Y),this.estimatedSize=Z.MIN_VALUE,this.margin=re.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=c,null!=q&&q instanceof ae?this.graphManager=q:null!=q&&q instanceof Layout&&(this.graphManager=q.graphManager)}for(var ge in o(p,"LGraph"),p.prototype=Object.create(V.prototype),V)p[ge]=V[ge];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(c,q,Y){if(null==q&&null==Y){var V=c;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(V)>-1)throw"Node already in graph!";return V.owner=this,this.getNodes().push(V),V}var Z=c;if(!(this.getNodes().indexOf(q)>-1&&this.getNodes().indexOf(Y)>-1))throw"Source or target not in graph!";if(q.owner!=Y.owner||q.owner!=this)throw"Both owners must be this graph!";return q.owner!=Y.owner?null:(Z.source=q,Z.target=Y,Z.isInterGraph=!1,this.getEdges().push(Z),q.edges.push(Z),Y!=q&&Y.edges.push(Z),Z)},p.prototype.remove=function(c){var q=c;if(c instanceof se){if(null==q)throw"Node is null!";if(null==q.owner||q.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var Y=q.edges.slice(),V=Y.length,Z=0;Z<V;Z++)(re=Y[Z]).isInterGraph?this.graphManager.remove(re):re.source.owner.remove(re);if(-1==(ae=this.nodes.indexOf(q)))throw"Node not in owner node list!";this.nodes.splice(ae,1)}else if(c instanceof oe){var re;if(null==(re=c))throw"Edge is null!";if(null==re.source||null==re.target)throw"Source and/or target is null!";if(null==re.source.owner||null==re.target.owner||re.source.owner!=this||re.target.owner!=this)throw"Source and/or target owner is invalid!";var ae,he=re.source.edges.indexOf(re),de=re.target.edges.indexOf(re);if(!(he>-1&&de>-1))throw"Source and/or target doesn't know this edge!";if(re.source.edges.splice(he,1),re.target!=re.source&&re.target.edges.splice(de,1),-1==(ae=re.source.owner.getEdges().indexOf(re)))throw"Not in owner's edge list!";re.source.owner.getEdges().splice(ae,1)}},p.prototype.updateLeftTop=function(){for(var c,q,Y,V=Z.MAX_VALUE,re=Z.MAX_VALUE,ae=this.getNodes(),se=ae.length,oe=0;oe<se;oe++){var he=ae[oe];V>(c=he.getTop())&&(V=c),re>(q=he.getLeft())&&(re=q)}return V==Z.MAX_VALUE?null:(Y=null!=ae[0].getParent().paddingLeft?ae[0].getParent().paddingLeft:this.margin,this.left=re-Y,this.top=V-Y,new de(this.left,this.top))},p.prototype.updateBounds=function(c){for(var q,Y,V,re,ae,se=Z.MAX_VALUE,oe=-Z.MAX_VALUE,de=Z.MAX_VALUE,pe=-Z.MAX_VALUE,ge=this.nodes,me=ge.length,ve=0;ve<me;ve++){var be=ge[ve];c&&null!=be.child&&be.updateBounds(),se>(q=be.getLeft())&&(se=q),oe<(Y=be.getRight())&&(oe=Y),de>(V=be.getTop())&&(de=V),pe<(re=be.getBottom())&&(pe=re)}var we=new he(se,de,oe-se,pe-de);se==Z.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),ae=null!=ge[0].getParent().paddingLeft?ge[0].getParent().paddingLeft:this.margin,this.left=we.x-ae,this.right=we.x+we.width+ae,this.top=we.y-ae,this.bottom=we.y+we.height+ae},p.calculateBounds=function(c){for(var q,Y,V,re,ae=Z.MAX_VALUE,se=-Z.MAX_VALUE,oe=Z.MAX_VALUE,de=-Z.MAX_VALUE,pe=c.length,ge=0;ge<pe;ge++){var me=c[ge];ae>(q=me.getLeft())&&(ae=q),se<(Y=me.getRight())&&(se=Y),oe>(V=me.getTop())&&(oe=V),de<(re=me.getBottom())&&(de=re)}return new he(ae,oe,se-ae,de-oe)},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==Z.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var c=0,q=this.nodes,Y=q.length,V=0;V<Y;V++){c+=q[V].calcEstimatedSize()}return this.estimatedSize=0==c?re.EMPTY_COMPOUND_NODE_SIZE:c/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var c=this;if(0!=this.nodes.length){var q,Y,V=new pe,Z=new Set,re=this.nodes[0];for(re.withChildren().forEach(function(c){V.push(c),Z.add(c)});0!==V.length;)for(var ae=(q=(re=V.shift()).getEdges()).length,se=0;se<ae;se++){if(null!=(Y=q[se].getOtherEndInGraph(re,this))&&!Z.has(Y))Y.withChildren().forEach(function(c){V.push(c),Z.add(c)})}if(this.isConnected=!1,Z.size>=this.nodes.length){var oe=0;Z.forEach(function(q){q.owner==c&&oe++}),oe==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},c.exports=p},function(c,q,Y){var V,Z=Y(1);function a(c){V=Y(5),this.layout=c,this.graphs=[],this.edges=[]}o(a,"LGraphManager"),a.prototype.addRoot=function(){var c=this.layout.newGraph(),q=this.layout.newNode(null),Y=this.add(c,q);return this.setRootGraph(Y),this.rootGraph},a.prototype.add=function(c,q,Y,V,Z){if(null==Y&&null==V&&null==Z){if(null==c)throw"Graph is null!";if(null==q)throw"Parent node is null!";if(this.graphs.indexOf(c)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(c),null!=c.parent)throw"Already has a parent!";if(null!=q.child)throw"Already has a child!";return c.parent=q,q.child=c,c}Z=Y,Y=c;var re=(V=q).getOwner(),ae=Z.getOwner();if(null==re||re.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==ae||ae.getGraphManager()!=this)throw"Target not in this graph mgr!";if(re==ae)return Y.isInterGraph=!1,re.add(Y,V,Z);if(Y.isInterGraph=!0,Y.source=V,Y.target=Z,this.edges.indexOf(Y)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(Y),null==Y.source||null==Y.target)throw"Edge source and/or target is null!";if(-1!=Y.source.edges.indexOf(Y)||-1!=Y.target.edges.indexOf(Y))throw"Edge already in source and/or target incidency list!";return Y.source.edges.push(Y),Y.target.edges.push(Y),Y},a.prototype.remove=function(c){if(c instanceof V){var q=c;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(q!=this.rootGraph&&(null==q.parent||q.parent.graphManager!=this))throw"Invalid parent node!";for(var Y,re=[],ae=(re=re.concat(q.getEdges())).length,se=0;se<ae;se++)Y=re[se],q.remove(Y);var oe,he=[];ae=(he=he.concat(q.getNodes())).length;for(se=0;se<ae;se++)oe=he[se],q.remove(oe);q==this.rootGraph&&this.setRootGraph(null);var de=this.graphs.indexOf(q);this.graphs.splice(de,1),q.parent=null}else if(c instanceof Z){if(null==(Y=c))throw"Edge is null!";if(!Y.isInterGraph)throw"Not an inter-graph edge!";if(null==Y.source||null==Y.target)throw"Source and/or target is null!";if(-1==Y.source.edges.indexOf(Y)||-1==Y.target.edges.indexOf(Y))throw"Source and/or target doesn't know this edge!";de=Y.source.edges.indexOf(Y);if(Y.source.edges.splice(de,1),de=Y.target.edges.indexOf(Y),Y.target.edges.splice(de,1),null==Y.source.owner||null==Y.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==Y.source.owner.getGraphManager().edges.indexOf(Y))throw"Not in owner graph manager's edge list!";de=Y.source.owner.getGraphManager().edges.indexOf(Y);Y.source.owner.getGraphManager().edges.splice(de,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(null==this.allNodes){for(var c=[],q=this.getGraphs(),Y=q.length,V=0;V<Y;V++)c=c.concat(q[V].getNodes());this.allNodes=c}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(null==this.allEdges){for(var c=[],q=this.getGraphs(),Y=(q.length,0);Y<q.length;Y++)c=c.concat(q[Y].getEdges());c=c.concat(this.edges),this.allEdges=c}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(c){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=c},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(c){if(c.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=c,null==c.parent&&(c.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(c,q){if(null==c||null==q)throw"assert failed";if(c==q)return!0;for(var Y,V=c.getOwner();;){if(null==(Y=V.getParent()))break;if(Y==q)return!0;if(null==(V=Y.getOwner()))break}for(V=q.getOwner();;){if(null==(Y=V.getParent()))break;if(Y==c)return!0;if(null==(V=Y.getOwner()))break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var c,q,Y,V,Z,re=this.getAllEdges(),ae=re.length,se=0;se<ae;se++)if(q=(c=re[se]).source,Y=c.target,c.lca=null,c.sourceInLca=q,c.targetInLca=Y,q!=Y){for(V=q.getOwner();null==c.lca;){for(c.targetInLca=Y,Z=Y.getOwner();null==c.lca;){if(Z==V){c.lca=Z;break}if(Z==this.rootGraph)break;if(null!=c.lca)throw"assert failed";c.targetInLca=Z.getParent(),Z=c.targetInLca.getOwner()}if(V==this.rootGraph)break;null==c.lca&&(c.sourceInLca=V.getParent(),V=c.sourceInLca.getOwner())}if(null==c.lca)throw"assert failed"}else c.lca=q.getOwner()},a.prototype.calcLowestCommonAncestor=function(c,q){if(c==q)return c.getOwner();for(var Y=c.getOwner();;){if(null==Y)break;for(var V=q.getOwner();;){if(null==V)break;if(V==Y)return V;V=V.getParent().getOwner()}Y=Y.getParent().getOwner()}return Y},a.prototype.calcInclusionTreeDepths=function(c,q){null==c&&null==q&&(c=this.rootGraph,q=1);for(var Y,V=c.getNodes(),Z=V.length,re=0;re<Z;re++)(Y=V[re]).inclusionTreeDepth=q,null!=Y.child&&this.calcInclusionTreeDepths(Y.child,q+1)},a.prototype.includesInvalidEdge=function(){for(var c,q=this.edges.length,Y=0;Y<q;Y++)if(c=this.edges[Y],this.isOneAncestorOfOther(c.source,c.target))return!0;return!1},c.exports=a},function(c,q,Y){var V=Y(0);function i(){}for(var Z in o(i,"FDLayoutConstants"),V)i[Z]=V[Z];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,c.exports=i},function(c,q,Y){var V=Y(12);function i(){}o(i,"IGeometry"),i.calcSeparationAmount=function(c,q,Y,V){if(!c.intersects(q))throw"assert failed";var Z=new Array(2);this.decideDirectionsForOverlappingNodes(c,q,Z),Y[0]=Math.min(c.getRight(),q.getRight())-Math.max(c.x,q.x),Y[1]=Math.min(c.getBottom(),q.getBottom())-Math.max(c.y,q.y),c.getX()<=q.getX()&&c.getRight()>=q.getRight()?Y[0]+=Math.min(q.getX()-c.getX(),c.getRight()-q.getRight()):q.getX()<=c.getX()&&q.getRight()>=c.getRight()&&(Y[0]+=Math.min(c.getX()-q.getX(),q.getRight()-c.getRight())),c.getY()<=q.getY()&&c.getBottom()>=q.getBottom()?Y[1]+=Math.min(q.getY()-c.getY(),c.getBottom()-q.getBottom()):q.getY()<=c.getY()&&q.getBottom()>=c.getBottom()&&(Y[1]+=Math.min(c.getY()-q.getY(),q.getBottom()-c.getBottom()));var re=Math.abs((q.getCenterY()-c.getCenterY())/(q.getCenterX()-c.getCenterX()));q.getCenterY()===c.getCenterY()&&q.getCenterX()===c.getCenterX()&&(re=1);var ae=re*Y[0],se=Y[1]/re;Y[0]<se?se=Y[0]:ae=Y[1],Y[0]=-1*Z[0]*(se/2+V),Y[1]=-1*Z[1]*(ae/2+V)},i.decideDirectionsForOverlappingNodes=function(c,q,Y){c.getCenterX()<q.getCenterX()?Y[0]=-1:Y[0]=1,c.getCenterY()<q.getCenterY()?Y[1]=-1:Y[1]=1},i.getIntersection2=function(c,q,Y){var V=c.getCenterX(),Z=c.getCenterY(),re=q.getCenterX(),ae=q.getCenterY();if(c.intersects(q))return Y[0]=V,Y[1]=Z,Y[2]=re,Y[3]=ae,!0;var se=c.getX(),oe=c.getY(),he=c.getRight(),de=c.getX(),pe=c.getBottom(),ge=c.getRight(),me=c.getWidthHalf(),ve=c.getHeightHalf(),be=q.getX(),we=q.getY(),Te=q.getRight(),_e=q.getX(),Ee=q.getBottom(),Ce=q.getRight(),Se=q.getWidthHalf(),Ae=q.getHeightHalf(),Le=!1,Ne=!1;if(V===re){if(Z>ae)return Y[0]=V,Y[1]=oe,Y[2]=re,Y[3]=Ee,!1;if(Z<ae)return Y[0]=V,Y[1]=pe,Y[2]=re,Y[3]=we,!1}else if(Z===ae){if(V>re)return Y[0]=se,Y[1]=Z,Y[2]=Te,Y[3]=ae,!1;if(V<re)return Y[0]=he,Y[1]=Z,Y[2]=be,Y[3]=ae,!1}else{var Ie=c.height/c.width,Me=q.height/q.width,Re=(ae-Z)/(re-V),Oe=void 0,Be=void 0,$e=void 0,Ue=void 0,qe=void 0,je=void 0;if(-Ie===Re?V>re?(Y[0]=de,Y[1]=pe,Le=!0):(Y[0]=he,Y[1]=oe,Le=!0):Ie===Re&&(V>re?(Y[0]=se,Y[1]=oe,Le=!0):(Y[0]=ge,Y[1]=pe,Le=!0)),-Me===Re?re>V?(Y[2]=_e,Y[3]=Ee,Ne=!0):(Y[2]=Te,Y[3]=we,Ne=!0):Me===Re&&(re>V?(Y[2]=be,Y[3]=we,Ne=!0):(Y[2]=Ce,Y[3]=Ee,Ne=!0)),Le&&Ne)return!1;if(V>re?Z>ae?(Oe=this.getCardinalDirection(Ie,Re,4),Be=this.getCardinalDirection(Me,Re,2)):(Oe=this.getCardinalDirection(-Ie,Re,3),Be=this.getCardinalDirection(-Me,Re,1)):Z>ae?(Oe=this.getCardinalDirection(-Ie,Re,1),Be=this.getCardinalDirection(-Me,Re,3)):(Oe=this.getCardinalDirection(Ie,Re,2),Be=this.getCardinalDirection(Me,Re,4)),!Le)switch(Oe){case 1:Ue=oe,$e=V+-ve/Re,Y[0]=$e,Y[1]=Ue;break;case 2:$e=ge,Ue=Z+me*Re,Y[0]=$e,Y[1]=Ue;break;case 3:Ue=pe,$e=V+ve/Re,Y[0]=$e,Y[1]=Ue;break;case 4:$e=de,Ue=Z+-me*Re,Y[0]=$e,Y[1]=Ue}if(!Ne)switch(Be){case 1:je=we,qe=re+-Ae/Re,Y[2]=qe,Y[3]=je;break;case 2:qe=Ce,je=ae+Se*Re,Y[2]=qe,Y[3]=je;break;case 3:je=Ee,qe=re+Ae/Re,Y[2]=qe,Y[3]=je;break;case 4:qe=_e,je=ae+-Se*Re,Y[2]=qe,Y[3]=je}}return!1},i.getCardinalDirection=function(c,q,Y){return c>q?Y:1+Y%4},i.getIntersection=function(c,q,Y,Z){if(null==Z)return this.getIntersection2(c,q,Y);var re,ae,se,oe,he,de,pe,ge=c.x,me=c.y,ve=q.x,be=q.y,we=Y.x,Te=Y.y,_e=Z.x,Ee=Z.y;return he=ve*me-ge*be,de=_e*Te-we*Ee,0===(pe=(re=be-me)*(oe=we-_e)-(ae=Ee-Te)*(se=ge-ve))?null:new V((se*de-oe*he)/pe,(ae*he-re*de)/pe)},i.angleOfVector=function(c,q,Y,V){var Z=void 0;return c!==Y?(Z=Math.atan((V-q)/(Y-c)),Y<c?Z+=Math.PI:V<q&&(Z+=this.TWO_PI)):Z=V<q?this.ONE_AND_HALF_PI:this.HALF_PI,Z},i.doIntersect=function(c,q,Y,V){var Z=c.x,re=c.y,ae=q.x,se=q.y,oe=Y.x,he=Y.y,de=V.x,pe=V.y,ge=(ae-Z)*(pe-he)-(de-oe)*(se-re);if(0===ge)return!1;var me=((pe-he)*(de-Z)+(oe-de)*(pe-re))/ge,ve=((re-se)*(de-Z)+(ae-Z)*(pe-re))/ge;return 0<me&&me<1&&0<ve&&ve<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,c.exports=i},function(c,q,Y){function n(){}o(n,"IMath"),n.sign=function(c){return c>0?1:c<0?-1:0},n.floor=function(c){return c<0?Math.ceil(c):Math.floor(c)},n.ceil=function(c){return c<0?Math.floor(c):Math.ceil(c)},c.exports=n},function(c,q,Y){function n(){}o(n,"Integer"),n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,c.exports=n},function(c,q,Y){var V=function(){function h(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(h,"defineProperties"),function(c,q,Y){return q&&h(c.prototype,q),Y&&h(c,Y),c}}();function i(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var Z=o(function(c){return{value:c,next:null,prev:null}},"nodeFrom"),re=o(function(c,q,Y,V){return null!==c?c.next=q:V.head=q,null!==Y?Y.prev=q:V.tail=q,q.prev=c,q.next=Y,V.length++,q},"add"),ae=o(function(c,q){var Y=c.prev,V=c.next;return null!==Y?Y.next=V:q.head=V,null!==V?V.prev=Y:q.tail=Y,c.prev=c.next=null,q.length--,c},"_remove"),se=function(){function h(c){var q=this;i(this,h),this.length=0,this.head=null,this.tail=null,c?.forEach(function(c){return q.push(c)})}return o(h,"LinkedList"),V(h,[{key:"size",value:o(function(){return this.length},"size")},{key:"insertBefore",value:o(function(c,q){return re(q.prev,Z(c),q,this)},"insertBefore")},{key:"insertAfter",value:o(function(c,q){return re(q,Z(c),q.next,this)},"insertAfter")},{key:"insertNodeBefore",value:o(function(c,q){return re(q.prev,c,q,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:o(function(c,q){return re(q,c,q.next,this)},"insertNodeAfter")},{key:"push",value:o(function(c){return re(this.tail,Z(c),null,this)},"push")},{key:"unshift",value:o(function(c){return re(null,Z(c),this.head,this)},"unshift")},{key:"remove",value:o(function(c){return ae(c,this)},"remove")},{key:"pop",value:o(function(){return ae(this.tail,this).value},"pop")},{key:"popNode",value:o(function(){return ae(this.tail,this)},"popNode")},{key:"shift",value:o(function(){return ae(this.head,this).value},"shift")},{key:"shiftNode",value:o(function(){return ae(this.head,this)},"shiftNode")},{key:"get_object_at",value:o(function(c){if(c<=this.length()){for(var q=1,Y=this.head;q<c;)Y=Y.next,q++;return Y.value}},"get_object_at")},{key:"set_object_at",value:o(function(c,q){if(c<=this.length()){for(var Y=1,V=this.head;Y<c;)V=V.next,Y++;V.value=q}},"set_object_at")}]),h}();c.exports=se},function(c,q,Y){function n(c,q,Y){this.x=null,this.y=null,null==c&&null==q&&null==Y?(this.x=0,this.y=0):"number"==typeof c&&"number"==typeof q&&null==Y?(this.x=c,this.y=q):"Point"==c.constructor.name&&null==q&&null==Y&&(Y=c,this.x=Y.x,this.y=Y.y)}o(n,"Point"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(c,q,Y){"Point"==c.constructor.name&&null==q&&null==Y?(Y=c,this.setLocation(Y.x,Y.y)):"number"==typeof c&&"number"==typeof q&&null==Y&&(parseInt(c)==c&&parseInt(q)==q?this.move(c,q):(this.x=Math.floor(c+.5),this.y=Math.floor(q+.5)))},n.prototype.move=function(c,q){this.x=c,this.y=q},n.prototype.translate=function(c,q){this.x+=c,this.y+=q},n.prototype.equals=function(c){if("Point"==c.constructor.name){var q=c;return this.x==q.x&&this.y==q.y}return this==c},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},c.exports=n},function(c,q,Y){function n(c,q,Y,V){this.x=0,this.y=0,this.width=0,this.height=0,null!=c&&null!=q&&null!=Y&&null!=V&&(this.x=c,this.y=q,this.width=Y,this.height=V)}o(n,"RectangleD"),n.prototype.getX=function(){return this.x},n.prototype.setX=function(c){this.x=c},n.prototype.getY=function(){return this.y},n.prototype.setY=function(c){this.y=c},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(c){this.width=c},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(c){this.height=c},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(c){return!(this.getRight()<c.x||this.getBottom()<c.y||c.getRight()<this.x||c.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},c.exports=n},function(c,q,Y){var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};function i(){}o(i,"UniqueIDGeneretor"),i.lastID=0,i.createID=function(c){return i.isPrimitive(c)?c:(null!=c.uniqueID||(c.uniqueID=i.getString(),i.lastID++),c.uniqueID)},i.getString=function(c){return null==c&&(c=i.lastID),"Object#"+c},i.isPrimitive=function(c){var q=typeof c>"u"?"undefined":V(c);return null==c||"object"!=q&&"function"!=q},c.exports=i},function(c,q,Y){function n(c){if(Array.isArray(c)){for(var q=0,Y=Array(c.length);q<c.length;q++)Y[q]=c[q];return Y}return Array.from(c)}o(n,"_toConsumableArray");var V=Y(0),Z=Y(6),re=Y(3),ae=Y(1),se=Y(5),oe=Y(4),he=Y(17),de=Y(27);function p(c){de.call(this),this.layoutQuality=V.QUALITY,this.createBendsAsNeeded=V.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=V.DEFAULT_INCREMENTAL,this.animationOnLayout=V.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=V.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=V.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=V.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new Z(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=c&&(this.isRemoteUse=c)}o(p,"Layout"),p.RANDOM_SEED=1,p.prototype=Object.create(de.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var c=new Z(this);return this.graphManager=c,c},p.prototype.newGraph=function(c){return new se(null,this.graphManager,c)},p.prototype.newNode=function(c){return new re(this.graphManager,c)},p.prototype.newEdge=function(c){return new ae(null,null,c)},p.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){var c;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),c=!this.checkLayoutSuccess()&&this.layout(),"during"!==V.ANIMATE&&(c&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,c)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var c=this.graphManager.getAllEdges(),q=0;q<c.length;q++)c[q];var Y=this.graphManager.getRoot().getNodes();for(q=0;q<Y.length;q++)Y[q];this.update(this.graphManager.getRoot())}},p.prototype.update=function(c){if(null==c)this.update2();else if(c instanceof re){var q=c;if(null!=q.getChild())for(var Y=q.getChild().getNodes(),V=0;V<Y.length;V++)update(Y[V]);if(null!=q.vGraphObject)q.vGraphObject.update(q)}else if(c instanceof ae){var Z=c;if(null!=Z.vGraphObject)Z.vGraphObject.update(Z)}else if(c instanceof se){var oe=c;if(null!=oe.vGraphObject)oe.vGraphObject.update(oe)}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=V.QUALITY,this.animationDuringLayout=V.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=V.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=V.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=V.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=V.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=V.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(c){if(null==c)this.transform(new oe(0,0));else{var q=new he,Y=this.graphManager.getRoot().updateLeftTop();if(null!=Y){q.setWorldOrgX(c.x),q.setWorldOrgY(c.y),q.setDeviceOrgX(Y.x),q.setDeviceOrgY(Y.y);for(var V=this.getAllNodes(),Z=0;Z<V.length;Z++)V[Z].transform(q)}}},p.prototype.positionNodesRandomly=function(c){if(null==c)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var q,Y,V=c.getNodes(),Z=0;Z<V.length;Z++)null==(Y=(q=V[Z]).getChild())||0==Y.getNodes().length?q.scatter():(this.positionNodesRandomly(Y),q.updateBounds())},p.prototype.getFlatForest=function(){for(var c=[],q=!0,Y=this.graphManager.getRoot().getNodes(),V=!0,Z=0;Z<Y.length;Z++)null!=Y[Z].getChild()&&(V=!1);if(!V)return c;var re=new Set,ae=[],se=new Map,oe=[];for(oe=oe.concat(Y);oe.length>0&&q;){for(ae.push(oe[0]);ae.length>0&&q;){var he=ae[0];ae.splice(0,1),re.add(he);var de=he.getEdges();for(Z=0;Z<de.length;Z++){var pe=de[Z].getOtherEnd(he);if(se.get(he)!=pe){if(re.has(pe)){q=!1;break}ae.push(pe),se.set(pe,he)}}}if(q){var ge=[].concat(n(re));c.push(ge);for(Z=0;Z<ge.length;Z++){var me=ge[Z],ve=oe.indexOf(me);ve>-1&&oe.splice(ve,1)}re=new Set,se=new Map}else c=[]}return c},p.prototype.createDummyNodesForBendpoints=function(c){for(var q=[],Y=c.source,V=this.graphManager.calcLowestCommonAncestor(c.source,c.target),Z=0;Z<c.bendpoints.length;Z++){var re=this.newNode(null);re.setRect(new Point(0,0),new Dimension(1,1)),V.add(re);var ae=this.newEdge(null);this.graphManager.add(ae,Y,re),q.add(re),Y=re}ae=this.newEdge(null);return this.graphManager.add(ae,Y,c.target),this.edgeToDummyNodes.set(c,q),c.isInterGraph()?this.graphManager.remove(c):V.remove(c),q},p.prototype.createBendpointsFromDummyNodes=function(){var c=[];c=c.concat(this.graphManager.getAllEdges()),c=[].concat(n(this.edgeToDummyNodes.keys())).concat(c);for(var q=0;q<c.length;q++){var Y=c[q];if(Y.bendpoints.length>0){for(var V=this.edgeToDummyNodes.get(Y),Z=0;Z<V.length;Z++){var re=V[Z],ae=new oe(re.getCenterX(),re.getCenterY()),se=Y.bendpoints.get(Z);se.x=ae.x,se.y=ae.y,re.getOwner().remove(re)}this.graphManager.add(Y,Y.source,Y.target)}}},p.transform=function(c,q,Y,V){if(null!=Y&&null!=V){var Z=q;if(c<=50)Z-=(q-q/Y)/50*(50-c);else Z+=(q*V-q)/50*(c-50);return Z}var re,ae;return c<=50?(re=9*q/500,ae=q/10):(re=9*q/50,ae=-8*q),re*c+ae},p.findCenterOfTree=function(c){var q=[];q=q.concat(c);var Y=[],V=new Map,Z=!1,re=null;(1==q.length||2==q.length)&&(Z=!0,re=q[0]);for(var ae=0;ae<q.length;ae++){var se=(de=q[ae]).getNeighborsList().size;V.set(de,de.getNeighborsList().size),1==se&&Y.push(de)}var oe=[];for(oe=oe.concat(Y);!Z;){var he=[];he=he.concat(oe),oe=[];for(ae=0;ae<q.length;ae++){var de=q[ae],pe=q.indexOf(de);pe>=0&&q.splice(pe,1),de.getNeighborsList().forEach(function(c){if(Y.indexOf(c)<0){var q=V.get(c)-1;1==q&&oe.push(c),V.set(c,q)}})}Y=Y.concat(oe),(1==q.length||2==q.length)&&(Z=!0,re=q[0])}return re},p.prototype.setGraphManager=function(c){this.graphManager=c},c.exports=p},function(c,q,Y){function n(){}o(n,"RandomSeed"),n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},c.exports=n},function(c,q,Y){var V=Y(4);function i(c,q){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o(i,"Transform"),i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(c){this.lworldOrgX=c},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(c){this.lworldOrgY=c},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(c){this.lworldExtX=c},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(c){this.lworldExtY=c},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(c){this.ldeviceOrgX=c},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(c){this.ldeviceOrgY=c},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(c){this.ldeviceExtX=c},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(c){this.ldeviceExtY=c},i.prototype.transformX=function(c){var q=0,Y=this.lworldExtX;return 0!=Y&&(q=this.ldeviceOrgX+(c-this.lworldOrgX)*this.ldeviceExtX/Y),q},i.prototype.transformY=function(c){var q=0,Y=this.lworldExtY;return 0!=Y&&(q=this.ldeviceOrgY+(c-this.lworldOrgY)*this.ldeviceExtY/Y),q},i.prototype.inverseTransformX=function(c){var q=0,Y=this.ldeviceExtX;return 0!=Y&&(q=this.lworldOrgX+(c-this.ldeviceOrgX)*this.lworldExtX/Y),q},i.prototype.inverseTransformY=function(c){var q=0,Y=this.ldeviceExtY;return 0!=Y&&(q=this.lworldOrgY+(c-this.ldeviceOrgY)*this.lworldExtY/Y),q},i.prototype.inverseTransformPoint=function(c){return new V(this.inverseTransformX(c.x),this.inverseTransformY(c.y))},c.exports=i},function(c,q,Y){function n(c){if(Array.isArray(c)){for(var q=0,Y=Array(c.length);q<c.length;q++)Y[q]=c[q];return Y}return Array.from(c)}o(n,"_toConsumableArray");var V=Y(15),Z=Y(7),re=Y(0),ae=Y(8),se=Y(9);function h(){V.call(this),this.useSmartIdealEdgeLengthCalculation=Z.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=Z.DEFAULT_EDGE_LENGTH,this.springConstant=Z.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=Z.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=Z.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=Z.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=Z.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=Z.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*Z.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=Z.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=Z.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=Z.MAX_ITERATIONS}for(var oe in o(h,"FDLayout"),h.prototype=Object.create(V.prototype),V)h[oe]=V[oe];h.prototype.initParameters=function(){V.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=Z.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var c,q,Y,V,ae,se,oe=this.getGraphManager().getAllEdges(),he=0;he<oe.length;he++)(c=oe[he]).idealLength=this.idealEdgeLength,c.isInterGraph&&(Y=c.getSource(),V=c.getTarget(),ae=c.getSourceInLca().getEstimatedSize(),se=c.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(c.idealLength+=ae+se-2*re.SIMPLE_NODE_SIZE),q=c.getLca().getInclusionTreeDepth(),c.idealLength+=Z.DEFAULT_EDGE_LENGTH*Z.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(Y.getInclusionTreeDepth()+V.getInclusionTreeDepth()-2*q))},h.prototype.initSpringEmbedder=function(){var c=this.getAllNodes().length;this.incremental?(c>Z.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*Z.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(c-Z.ADAPTATION_LOWER_NODE_LIMIT)/(Z.ADAPTATION_UPPER_NODE_LIMIT-Z.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-Z.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=Z.MAX_NODE_DISPLACEMENT_INCREMENTAL):(c>Z.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(Z.COOLING_ADAPTATION_FACTOR,1-(c-Z.ADAPTATION_LOWER_NODE_LIMIT)/(Z.ADAPTATION_UPPER_NODE_LIMIT-Z.ADAPTATION_LOWER_NODE_LIMIT)*(1-Z.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=Z.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var c,q=this.getAllEdges(),Y=0;Y<q.length;Y++)c=q[Y],this.calcSpringForce(c,c.idealLength)},h.prototype.calcRepulsionForces=function(){var c,q,Y,V,re,ae=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],oe=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%Z.GRID_CALCULATION_CHECK_PERIOD==1&&ae&&this.updateGrid(),re=new Set,c=0;c<oe.length;c++)Y=oe[c],this.calculateRepulsionForceOfANode(Y,re,ae,se),re.add(Y);else for(c=0;c<oe.length;c++)for(Y=oe[c],q=c+1;q<oe.length;q++)V=oe[q],Y.getOwner()==V.getOwner()&&this.calcRepulsionForce(Y,V)},h.prototype.calcGravitationalForces=function(){for(var c,q=this.getAllNodesToApplyGravitation(),Y=0;Y<q.length;Y++)c=q[Y],this.calcGravitationalForce(c)},h.prototype.moveNodes=function(){for(var c=this.getAllNodes(),q=0;q<c.length;q++)c[q].move()},h.prototype.calcSpringForce=function(c,q){var Y,V,Z,re,ae=c.getSource(),se=c.getTarget();if(this.uniformLeafNodeSizes&&null==ae.getChild()&&null==se.getChild())c.updateLengthSimple();else if(c.updateLength(),c.isOverlapingSourceAndTarget)return;0!=(Y=c.getLength())&&(Z=(V=this.springConstant*(Y-q))*(c.lengthX/Y),re=V*(c.lengthY/Y),ae.springForceX+=Z,ae.springForceY+=re,se.springForceX-=Z,se.springForceY-=re)},h.prototype.calcRepulsionForce=function(c,q){var Y,V,re,oe,he,de,pe,ge=c.getRect(),me=q.getRect(),ve=new Array(2),be=new Array(4);if(ge.intersects(me)){ae.calcSeparationAmount(ge,me,ve,Z.DEFAULT_EDGE_LENGTH/2),de=2*ve[0],pe=2*ve[1];var we=c.noOfChildren*q.noOfChildren/(c.noOfChildren+q.noOfChildren);c.repulsionForceX-=we*de,c.repulsionForceY-=we*pe,q.repulsionForceX+=we*de,q.repulsionForceY+=we*pe}else this.uniformLeafNodeSizes&&null==c.getChild()&&null==q.getChild()?(Y=me.getCenterX()-ge.getCenterX(),V=me.getCenterY()-ge.getCenterY()):(ae.getIntersection(ge,me,be),Y=be[2]-be[0],V=be[3]-be[1]),Math.abs(Y)<Z.MIN_REPULSION_DIST&&(Y=se.sign(Y)*Z.MIN_REPULSION_DIST),Math.abs(V)<Z.MIN_REPULSION_DIST&&(V=se.sign(V)*Z.MIN_REPULSION_DIST),re=Y*Y+V*V,oe=Math.sqrt(re),de=(he=this.repulsionConstant*c.noOfChildren*q.noOfChildren/re)*Y/oe,pe=he*V/oe,c.repulsionForceX-=de,c.repulsionForceY-=pe,q.repulsionForceX+=de,q.repulsionForceY+=pe},h.prototype.calcGravitationalForce=function(c){var q,Y,V,Z,re,ae,se,oe;Y=((q=c.getOwner()).getRight()+q.getLeft())/2,V=(q.getTop()+q.getBottom())/2,Z=c.getCenterX()-Y,re=c.getCenterY()-V,ae=Math.abs(Z)+c.getWidth()/2,se=Math.abs(re)+c.getHeight()/2,c.getOwner()==this.graphManager.getRoot()?(ae>(oe=q.getEstimatedSize()*this.gravityRangeFactor)||se>oe)&&(c.gravitationForceX=-this.gravityConstant*Z,c.gravitationForceY=-this.gravityConstant*re):(ae>(oe=q.getEstimatedSize()*this.compoundGravityRangeFactor)||se>oe)&&(c.gravitationForceX=-this.gravityConstant*Z*this.compoundGravityConstant,c.gravitationForceY=-this.gravityConstant*re*this.compoundGravityConstant)},h.prototype.isConverged=function(){var c,q=!1;return this.totalIterations>this.maxIterations/3&&(q=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),c=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,c||q},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var c,q=this.graphManager.getAllNodes(),Y=0;Y<q.length;Y++)(c=q[Y]).noOfChildren=c.getNoOfChildren()},h.prototype.calcGrid=function(c){var q,Y;q=parseInt(Math.ceil((c.getRight()-c.getLeft())/this.repulsionRange)),Y=parseInt(Math.ceil((c.getBottom()-c.getTop())/this.repulsionRange));for(var V=new Array(q),Z=0;Z<q;Z++)V[Z]=new Array(Y);for(Z=0;Z<q;Z++)for(var re=0;re<Y;re++)V[Z][re]=new Array;return V},h.prototype.addNodeToGrid=function(c,q,Y){var V,Z,re,ae;V=parseInt(Math.floor((c.getRect().x-q)/this.repulsionRange)),Z=parseInt(Math.floor((c.getRect().width+c.getRect().x-q)/this.repulsionRange)),re=parseInt(Math.floor((c.getRect().y-Y)/this.repulsionRange)),ae=parseInt(Math.floor((c.getRect().height+c.getRect().y-Y)/this.repulsionRange));for(var se=V;se<=Z;se++)for(var oe=re;oe<=ae;oe++)this.grid[se][oe].push(c),c.setGridCoordinates(V,Z,re,ae)},h.prototype.updateGrid=function(){var c,q,Y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),c=0;c<Y.length;c++)q=Y[c],this.addNodeToGrid(q,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(c,q,Y,V){if(this.totalIterations%Z.GRID_CALCULATION_CHECK_PERIOD==1&&Y||V){var re=new Set;c.surrounding=new Array;for(var ae,se=this.grid,oe=c.startX-1;oe<c.finishX+2;oe++)for(var he=c.startY-1;he<c.finishY+2;he++)if(!(oe<0||he<0||oe>=se.length||he>=se[0].length))for(var de=0;de<se[oe][he].length;de++)if(ae=se[oe][he][de],c.getOwner()==ae.getOwner()&&c!=ae&&!q.has(ae)&&!re.has(ae)){var pe=Math.abs(c.getCenterX()-ae.getCenterX())-(c.getWidth()/2+ae.getWidth()/2),ge=Math.abs(c.getCenterY()-ae.getCenterY())-(c.getHeight()/2+ae.getHeight()/2);pe<=this.repulsionRange&&ge<=this.repulsionRange&&re.add(ae)}c.surrounding=[].concat(n(re))}for(oe=0;oe<c.surrounding.length;oe++)this.calcRepulsionForce(c,c.surrounding[oe])},h.prototype.calcRepulsionRange=function(){return 0},c.exports=h},function(c,q,Y){var V=Y(1),Z=Y(7);function a(c,q,Y){V.call(this,c,q,Y),this.idealLength=Z.DEFAULT_EDGE_LENGTH}for(var re in o(a,"FDLayoutEdge"),a.prototype=Object.create(V.prototype),V)a[re]=V[re];c.exports=a},function(c,q,Y){var V=Y(3);function i(c,q,Y,Z){V.call(this,c,q,Y,Z),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var Z in o(i,"FDLayoutNode"),i.prototype=Object.create(V.prototype),V)i[Z]=V[Z];i.prototype.setGridCoordinates=function(c,q,Y,V){this.startX=c,this.finishX=q,this.startY=Y,this.finishY=V},c.exports=i},function(c,q,Y){function n(c,q){this.width=0,this.height=0,null!==c&&null!==q&&(this.height=q,this.width=c)}o(n,"DimensionD"),n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(c){this.width=c},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(c){this.height=c},c.exports=n},function(c,q,Y){var V=Y(14);function i(){this.map={},this.keys=[]}o(i,"HashMap"),i.prototype.put=function(c,q){var Y=V.createID(c);this.contains(Y)||(this.map[Y]=q,this.keys.push(c))},i.prototype.contains=function(c){V.createID(c);return null!=this.map[c]},i.prototype.get=function(c){var q=V.createID(c);return this.map[q]},i.prototype.keySet=function(){return this.keys},c.exports=i},function(c,q,Y){var V=Y(14);function i(){this.set={}}o(i,"HashSet"),i.prototype.add=function(c){var q=V.createID(c);this.contains(q)||(this.set[q]=c)},i.prototype.remove=function(c){delete this.set[V.createID(c)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(c){return this.set[V.createID(c)]==c},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(c){for(var q=Object.keys(this.set),Y=q.length,V=0;V<Y;V++)c.push(this.set[q[V]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(c){for(var q=c.length,Y=0;Y<q;Y++){var V=c[Y];this.add(V)}},c.exports=i},function(c,q,Y){var V=function(){function l(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(l,"defineProperties"),function(c,q,Y){return q&&l(c.prototype,q),Y&&l(c,Y),c}}();function i(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var Z=Y(11),re=function(){function l(c,q){i(this,l),(null!==q||void 0!==q)&&(this.compareFunction=this._defaultCompareFunction);var Y=void 0;Y=c instanceof Z?c.size():c.length,this._quicksort(c,0,Y-1)}return o(l,"Quicksort"),V(l,[{key:"_quicksort",value:o(function(c,q,Y){if(q<Y){var V=this._partition(c,q,Y);this._quicksort(c,q,V),this._quicksort(c,V+1,Y)}},"_quicksort")},{key:"_partition",value:o(function(c,q,Y){for(var V=this._get(c,q),Z=q,re=Y;;){for(;this.compareFunction(V,this._get(c,re));)re--;for(;this.compareFunction(this._get(c,Z),V);)Z++;if(!(Z<re))return re;this._swap(c,Z,re),Z++,re--}},"_partition")},{key:"_get",value:o(function(c,q){return c instanceof Z?c.get_object_at(q):c[q]},"_get")},{key:"_set",value:o(function(c,q,Y){c instanceof Z?c.set_object_at(q,Y):c[q]=Y},"_set")},{key:"_swap",value:o(function(c,q,Y){var V=this._get(c,q);this._set(c,q,this._get(c,Y)),this._set(c,Y,V)},"_swap")},{key:"_defaultCompareFunction",value:o(function(c,q){return q>c},"_defaultCompareFunction")}]),l}();c.exports=re},function(c,q,Y){var V=function(){function s(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(s,"defineProperties"),function(c,q,Y){return q&&s(c.prototype,q),Y&&s(c,Y),c}}();function i(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var Z=function(){function s(c,q){var Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,s),this.sequence1=c,this.sequence2=q,this.match_score=Y,this.mismatch_penalty=V,this.gap_penalty=Z,this.iMax=c.length+1,this.jMax=q.length+1,this.grid=new Array(this.iMax);for(var re=0;re<this.iMax;re++){this.grid[re]=new Array(this.jMax);for(var ae=0;ae<this.jMax;ae++)this.grid[re][ae]=0}this.tracebackGrid=new Array(this.iMax);for(var se=0;se<this.iMax;se++){this.tracebackGrid[se]=new Array(this.jMax);for(var oe=0;oe<this.jMax;oe++)this.tracebackGrid[se][oe]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(s,"NeedlemanWunsch"),V(s,[{key:"getScore",value:o(function(){return this.score},"getScore")},{key:"getAlignments",value:o(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:o(function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var q=1;q<this.iMax;q++)this.grid[q][0]=this.grid[q-1][0]+this.gap_penalty,this.tracebackGrid[q][0]=[!1,!0,!1];for(var Y=1;Y<this.iMax;Y++)for(var V=1;V<this.jMax;V++){var Z=[this.sequence1[Y-1]===this.sequence2[V-1]?this.grid[Y-1][V-1]+this.match_score:this.grid[Y-1][V-1]+this.mismatch_penalty,this.grid[Y-1][V]+this.gap_penalty,this.grid[Y][V-1]+this.gap_penalty],re=this.arrayAllMaxIndexes(Z);this.grid[Y][V]=Z[re[0]],this.tracebackGrid[Y][V]=[re.includes(0),re.includes(1),re.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:o(function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var q=c[0],Y=this.tracebackGrid[q.pos[0]][q.pos[1]];Y[0]&&c.push({pos:[q.pos[0]-1,q.pos[1]-1],seq1:this.sequence1[q.pos[0]-1]+q.seq1,seq2:this.sequence2[q.pos[1]-1]+q.seq2}),Y[1]&&c.push({pos:[q.pos[0]-1,q.pos[1]],seq1:this.sequence1[q.pos[0]-1]+q.seq1,seq2:"-"+q.seq2}),Y[2]&&c.push({pos:[q.pos[0],q.pos[1]-1],seq1:"-"+q.seq1,seq2:this.sequence2[q.pos[1]-1]+q.seq2}),0===q.pos[0]&&0===q.pos[1]&&this.alignments.push({sequence1:q.seq1,sequence2:q.seq2}),c.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:o(function(c,q){for(var Y=[],V=-1;-1!==(V=c.indexOf(q,V+1));)Y.push(V);return Y},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:o(function(c){return this.getAllIndexes(c,Math.max.apply(null,c))},"arrayAllMaxIndexes")}]),s}();c.exports=Z},function(c,q,Y){var V=o(function(){},"layoutBase");V.FDLayout=Y(18),V.FDLayoutConstants=Y(7),V.FDLayoutEdge=Y(19),V.FDLayoutNode=Y(20),V.DimensionD=Y(21),V.HashMap=Y(22),V.HashSet=Y(23),V.IGeometry=Y(8),V.IMath=Y(9),V.Integer=Y(10),V.Point=Y(12),V.PointD=Y(4),V.RandomSeed=Y(16),V.RectangleD=Y(13),V.Transform=Y(17),V.UniqueIDGeneretor=Y(14),V.Quicksort=Y(24),V.LinkedList=Y(11),V.LGraphObject=Y(2),V.LGraph=Y(5),V.LEdge=Y(1),V.LGraphManager=Y(6),V.LNode=Y(3),V.Layout=Y(15),V.LayoutConstants=Y(0),V.NeedlemanWunsch=Y(25),c.exports=V},function(c,q,Y){function n(){this.listeners=[]}o(n,"Emitter");var V=n.prototype;V.addListener=function(c,q){this.listeners.push({event:c,callback:q})},V.removeListener=function(c,q){for(var Y=this.listeners.length;Y>=0;Y--){var V=this.listeners[Y];V.event===c&&V.callback===q&&this.listeners.splice(Y,1)}},V.emit=function(c,q){for(var Y=0;Y<this.listeners.length;Y++){var V=this.listeners[Y];c===V.event&&V.callback(q)}},c.exports=n}])})}),vVe=Ni((c,q)=>{o(function(Y,V){"object"==typeof c&&"object"==typeof q?q.exports=V(yVe()):"function"==typeof define&&define.amd?define(["layout-base"],V):"object"==typeof c?c.coseBase=V(yVe()):Y.coseBase=V(Y.layoutBase)},"webpackUniversalModuleDefinition")(c,function(c){return function(c){var q={};function n(Y){if(q[Y])return q[Y].exports;var V=q[Y]={i:Y,l:!1,exports:{}};return c[Y].call(V.exports,V,V.exports,n),V.l=!0,V.exports}return o(n,"__webpack_require__"),n.m=c,n.c=q,n.i=function(c){return c},n.d=function(c,q,Y){n.o(c,q)||Object.defineProperty(c,q,{configurable:!1,enumerable:!0,get:Y})},n.n=function(c){var q=c&&c.__esModule?o(function(){return c.default},"getDefault"):o(function(){return c},"getModuleExports");return n.d(q,"a",q),q},n.o=function(c,q){return Object.prototype.hasOwnProperty.call(c,q)},n.p="",n(n.s=7)}([function(q,Y){q.exports=c},function(c,q,Y){var V=Y(0).FDLayoutConstants;function a(){}for(var Z in o(a,"CoSEConstants"),V)a[Z]=V[Z];a.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,a.DEFAULT_RADIAL_SEPARATION=V.DEFAULT_EDGE_LENGTH,a.DEFAULT_COMPONENT_SEPERATION=60,a.TILE=!0,a.TILING_PADDING_VERTICAL=10,a.TILING_PADDING_HORIZONTAL=10,a.TREE_REDUCTION_ON_INCREMENTAL=!1,c.exports=a},function(c,q,Y){var V=Y(0).FDLayoutEdge;function a(c,q,Y){V.call(this,c,q,Y)}for(var Z in o(a,"CoSEEdge"),a.prototype=Object.create(V.prototype),V)a[Z]=V[Z];c.exports=a},function(c,q,Y){var V=Y(0).LGraph;function a(c,q,Y){V.call(this,c,q,Y)}for(var Z in o(a,"CoSEGraph"),a.prototype=Object.create(V.prototype),V)a[Z]=V[Z];c.exports=a},function(c,q,Y){var V=Y(0).LGraphManager;function a(c){V.call(this,c)}for(var Z in o(a,"CoSEGraphManager"),a.prototype=Object.create(V.prototype),V)a[Z]=V[Z];c.exports=a},function(c,q,Y){var V=Y(0).FDLayoutNode,Z=Y(0).IMath;function s(c,q,Y,Z){V.call(this,c,q,Y,Z)}for(var re in o(s,"CoSENode"),s.prototype=Object.create(V.prototype),V)s[re]=V[re];s.prototype.move=function(){var c=this.graphManager.getLayout();this.displacementX=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementX=c.coolingFactor*c.maxNodeDisplacement*Z.sign(this.displacementX)),Math.abs(this.displacementY)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementY=c.coolingFactor*c.maxNodeDisplacement*Z.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),c.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},s.prototype.propogateDisplacementToChildren=function(c,q){for(var Y,V=this.getChild().getNodes(),Z=0;Z<V.length;Z++)null==(Y=V[Z]).getChild()?(Y.moveBy(c,q),Y.displacementX+=c,Y.displacementY+=q):Y.propogateDisplacementToChildren(c,q)},s.prototype.setPred1=function(c){this.pred1=c},s.prototype.getPred1=function(){return pred1},s.prototype.getPred2=function(){return pred2},s.prototype.setNext=function(c){this.next=c},s.prototype.getNext=function(){return next},s.prototype.setProcessed=function(c){this.processed=c},s.prototype.isProcessed=function(){return processed},c.exports=s},function(c,q,Y){var V=Y(0).FDLayout,Z=Y(4),re=Y(3),ae=Y(5),se=Y(2),oe=Y(1),he=Y(0).FDLayoutConstants,de=Y(0).LayoutConstants,pe=Y(0).Point,ge=Y(0).PointD,me=Y(0).Layout,ve=Y(0).Integer,be=Y(0).IGeometry,we=Y(0).LGraph,Te=Y(0).Transform;function w(){V.call(this),this.toBeTiled={}}for(var _e in o(w,"CoSELayout"),w.prototype=Object.create(V.prototype),V)w[_e]=V[_e];w.prototype.newGraphManager=function(){var c=new Z(this);return this.graphManager=c,c},w.prototype.newGraph=function(c){return new re(null,this.graphManager,c)},w.prototype.newNode=function(c){return new ae(this.graphManager,c)},w.prototype.newEdge=function(c){return new se(null,null,c)},w.prototype.initParameters=function(){V.prototype.initParameters.call(this,arguments),this.isSubLayout||(oe.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=oe.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=oe.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=he.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=he.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=he.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=he.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=he.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=he.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/he.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=he.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},w.prototype.layout=function(){return de.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(oe.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var c=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(q){return c.has(q)});this.graphManager.setAllNodesToApplyGravitation(q)}}else{var Y=this.getFlatForest();if(Y.length>0)this.positionNodesRadially(Y);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();c=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(q){return c.has(q)});this.graphManager.setAllNodesToApplyGravitation(q),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%he.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var c=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(q){return c.has(q)});this.graphManager.setAllNodesToApplyGravitation(q),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=he.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=he.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var Y=!this.isTreeGrowing&&!this.isGrowthFinished,V=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(Y,V),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var c=this.graphManager.getAllNodes(),q={},Y=0;Y<c.length;Y++){var V=c[Y].rect,Z=c[Y].id;q[Z]={id:Z,x:V.getCenterX(),y:V.getCenterY(),w:V.width,h:V.height}}return q},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var c=!1;if("during"===he.ANIMATE)this.emit("layoutstarted");else{for(;!c;)c=this.tick();this.graphManager.updateBounds()}},w.prototype.calculateNodesToApplyGravitationTo=function(){var c,q,Y=[],V=this.graphManager.getGraphs(),Z=V.length;for(q=0;q<Z;q++)(c=V[q]).updateConnected(),c.isConnected||(Y=Y.concat(c.getNodes()));return Y},w.prototype.createBendpoints=function(){var c=[];c=c.concat(this.graphManager.getAllEdges());var q,Y=new Set;for(q=0;q<c.length;q++){var V=c[q];if(!Y.has(V)){var Z=V.getSource(),re=V.getTarget();if(Z==re)V.getBendpoints().push(new ge),V.getBendpoints().push(new ge),this.createDummyNodesForBendpoints(V),Y.add(V);else{var ae=[];if(ae=(ae=ae.concat(Z.getEdgeListToNode(re))).concat(re.getEdgeListToNode(Z)),!Y.has(ae[0])){var se;if(ae.length>1)for(se=0;se<ae.length;se++){var oe=ae[se];oe.getBendpoints().push(new ge),this.createDummyNodesForBendpoints(oe)}ae.forEach(function(c){Y.add(c)})}}}if(Y.size==c.length)break}},w.prototype.positionNodesRadially=function(c){for(var q=new pe(0,0),Y=Math.ceil(Math.sqrt(c.length)),V=0,Z=0,re=0,ae=new ge(0,0),se=0;se<c.length;se++){se%Y==0&&(re=0,Z=V,0!=se&&(Z+=oe.DEFAULT_COMPONENT_SEPERATION),V=0);var he=c[se],ve=me.findCenterOfTree(he);q.x=re,q.y=Z,(ae=w.radialLayout(he,ve,q)).y>V&&(V=Math.floor(ae.y)),re=Math.floor(ae.x+oe.DEFAULT_COMPONENT_SEPERATION)}this.transform(new ge(de.WORLD_CENTER_X-ae.x/2,de.WORLD_CENTER_Y-ae.y/2))},w.radialLayout=function(c,q,Y){var V=Math.max(this.maxDiagonalInTree(c),oe.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(q,null,0,359,0,V);var Z=we.calculateBounds(c),re=new Te;re.setDeviceOrgX(Z.getMinX()),re.setDeviceOrgY(Z.getMinY()),re.setWorldOrgX(Y.x),re.setWorldOrgY(Y.y);for(var ae=0;ae<c.length;ae++){c[ae].transform(re)}var se=new ge(Z.getMaxX(),Z.getMaxY());return re.inverseTransformPoint(se)},w.branchRadialLayout=function(c,q,Y,V,Z,re){var ae=(V-Y+1)/2;ae<0&&(ae+=180);var se=(ae+Y)%360*be.TWO_PI/360,oe=(Math.cos(se),Z*Math.cos(se)),he=Z*Math.sin(se);c.setCenter(oe,he);var de=[],pe=(de=de.concat(c.getEdges())).length;null!=q&&pe--;for(var ge,me=0,ve=de.length,we=c.getEdgesBetween(q);we.length>1;){var Te=we[0];we.splice(0,1);var _e=de.indexOf(Te);_e>=0&&de.splice(_e,1),ve--,pe--}ge=null!=q?(de.indexOf(we[0])+1)%ve:0;for(var Ee=Math.abs(V-Y)/pe,Ce=ge;me!=pe;Ce=++Ce%ve){var Se=de[Ce].getOtherEnd(c);if(Se!=q){var Ae=(Y+me*Ee)%360,Le=(Ae+Ee)%360;w.branchRadialLayout(Se,c,Ae,Le,Z+re,re),me++}}},w.maxDiagonalInTree=function(c){for(var q=ve.MIN_VALUE,Y=0;Y<c.length;Y++){var V=c[Y].getDiagonal();V>q&&(q=V)}return q},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var c=this,q={};this.memberGroups={},this.idToDummyNode={};for(var Y=[],V=this.graphManager.getAllNodes(),Z=0;Z<V.length;Z++){var re=(se=V[Z]).getParent();0===this.getNodeDegreeWithChildren(se)&&(null==re.id||!this.getToBeTiled(re))&&Y.push(se)}for(Z=0;Z<Y.length;Z++){var se,oe=(se=Y[Z]).getParent().id;typeof q[oe]>"u"&&(q[oe]=[]),q[oe]=q[oe].concat(se)}Object.keys(q).forEach(function(Y){if(q[Y].length>1){var V="DummyCompound_"+Y;c.memberGroups[V]=q[Y];var Z=q[Y][0].getParent(),re=new ae(c.graphManager);re.id=V,re.paddingLeft=Z.paddingLeft||0,re.paddingRight=Z.paddingRight||0,re.paddingBottom=Z.paddingBottom||0,re.paddingTop=Z.paddingTop||0,c.idToDummyNode[V]=re;var se=c.getGraphManager().add(c.newGraph(),re),oe=Z.getChild();oe.add(re);for(var he=0;he<q[Y].length;he++){var de=q[Y][he];oe.remove(de),se.add(de)}}})},w.prototype.clearCompounds=function(){var c={},q={};this.performDFSOnCompounds();for(var Y=0;Y<this.compoundOrder.length;Y++)q[this.compoundOrder[Y].id]=this.compoundOrder[Y],c[this.compoundOrder[Y].id]=[].concat(this.compoundOrder[Y].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[Y].getChild()),this.compoundOrder[Y].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(c,q)},w.prototype.clearZeroDegreeMembers=function(){var c=this,q=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(Y){var V=c.idToDummyNode[Y];q[Y]=c.tileNodes(c.memberGroups[Y],V.paddingLeft+V.paddingRight),V.rect.width=q[Y].width,V.rect.height=q[Y].height})},w.prototype.repopulateCompounds=function(){for(var c=this.compoundOrder.length-1;c>=0;c--){var q=this.compoundOrder[c],Y=q.id,V=q.paddingLeft,Z=q.paddingTop;this.adjustLocations(this.tiledMemberPack[Y],q.rect.x,q.rect.y,V,Z)}},w.prototype.repopulateZeroDegreeMembers=function(){var c=this,q=this.tiledZeroDegreePack;Object.keys(q).forEach(function(Y){var V=c.idToDummyNode[Y],Z=V.paddingLeft,re=V.paddingTop;c.adjustLocations(q[Y],V.rect.x,V.rect.y,Z,re)})},w.prototype.getToBeTiled=function(c){var q=c.id;if(null!=this.toBeTiled[q])return this.toBeTiled[q];var Y=c.getChild();if(null==Y)return this.toBeTiled[q]=!1,!1;for(var V=Y.getNodes(),Z=0;Z<V.length;Z++){var re=V[Z];if(this.getNodeDegree(re)>0)return this.toBeTiled[q]=!1,!1;if(null!=re.getChild()){if(!this.getToBeTiled(re))return this.toBeTiled[q]=!1,!1}else this.toBeTiled[re.id]=!1}return this.toBeTiled[q]=!0,!0},w.prototype.getNodeDegree=function(c){c.id;for(var q=c.getEdges(),Y=0,V=0;V<q.length;V++){var Z=q[V];Z.getSource().id!==Z.getTarget().id&&(Y+=1)}return Y},w.prototype.getNodeDegreeWithChildren=function(c){var q=this.getNodeDegree(c);if(null==c.getChild())return q;for(var Y=c.getChild().getNodes(),V=0;V<Y.length;V++){var Z=Y[V];q+=this.getNodeDegreeWithChildren(Z)}return q},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(c){for(var q=0;q<c.length;q++){var Y=c[q];null!=Y.getChild()&&this.fillCompexOrderByDFS(Y.getChild().getNodes()),this.getToBeTiled(Y)&&this.compoundOrder.push(Y)}},w.prototype.adjustLocations=function(c,q,Y,V,Z){Y+=Z;for(var re=q+=V,ae=0;ae<c.rows.length;ae++){var se=c.rows[ae];q=re;for(var oe=0,he=0;he<se.length;he++){var de=se[he];de.rect.x=q,de.rect.y=Y,q+=de.rect.width+c.horizontalPadding,de.rect.height>oe&&(oe=de.rect.height)}Y+=oe+c.verticalPadding}},w.prototype.tileCompoundMembers=function(c,q){var Y=this;this.tiledMemberPack=[],Object.keys(c).forEach(function(V){var Z=q[V];Y.tiledMemberPack[V]=Y.tileNodes(c[V],Z.paddingLeft+Z.paddingRight),Z.rect.width=Y.tiledMemberPack[V].width,Z.rect.height=Y.tiledMemberPack[V].height})},w.prototype.tileNodes=function(c,q){var Y={rows:[],rowWidth:[],rowHeight:[],width:0,height:q,verticalPadding:oe.TILING_PADDING_VERTICAL,horizontalPadding:oe.TILING_PADDING_HORIZONTAL};c.sort(function(c,q){return c.rect.width*c.rect.height>q.rect.width*q.rect.height?-1:c.rect.width*c.rect.height<q.rect.width*q.rect.height?1:0});for(var V=0;V<c.length;V++){var Z=c[V];0==Y.rows.length?this.insertNodeToRow(Y,Z,0,q):this.canAddHorizontal(Y,Z.rect.width,Z.rect.height)?this.insertNodeToRow(Y,Z,this.getShortestRowIndex(Y),q):this.insertNodeToRow(Y,Z,Y.rows.length,q),this.shiftToLastRow(Y)}return Y},w.prototype.insertNodeToRow=function(c,q,Y,V){var Z=V;if(Y==c.rows.length){c.rows.push([]),c.rowWidth.push(Z),c.rowHeight.push(0)}var re=c.rowWidth[Y]+q.rect.width;c.rows[Y].length>0&&(re+=c.horizontalPadding),c.rowWidth[Y]=re,c.width<re&&(c.width=re);var ae=q.rect.height;Y>0&&(ae+=c.verticalPadding);var se=0;ae>c.rowHeight[Y]&&(se=c.rowHeight[Y],c.rowHeight[Y]=ae,se=c.rowHeight[Y]-se),c.height+=se,c.rows[Y].push(q)},w.prototype.getShortestRowIndex=function(c){for(var q=-1,Y=Number.MAX_VALUE,V=0;V<c.rows.length;V++)c.rowWidth[V]<Y&&(q=V,Y=c.rowWidth[V]);return q},w.prototype.getLongestRowIndex=function(c){for(var q=-1,Y=Number.MIN_VALUE,V=0;V<c.rows.length;V++)c.rowWidth[V]>Y&&(q=V,Y=c.rowWidth[V]);return q},w.prototype.canAddHorizontal=function(c,q,Y){var V=this.getShortestRowIndex(c);if(V<0)return!0;var Z=c.rowWidth[V];if(Z+c.horizontalPadding+q<=c.width)return!0;var re,ae,se=0;return c.rowHeight[V]<Y&&V>0&&(se=Y+c.verticalPadding-c.rowHeight[V]),re=c.width-Z>=q+c.horizontalPadding?(c.height+se)/(Z+q+c.horizontalPadding):(c.height+se)/c.width,se=Y+c.verticalPadding,(ae=c.width<q?(c.height+se)/q:(c.height+se)/c.width)<1&&(ae=1/ae),re<1&&(re=1/re),re<ae},w.prototype.shiftToLastRow=function(c){var q=this.getLongestRowIndex(c),Y=c.rowWidth.length-1,V=c.rows[q],Z=V[V.length-1],re=Z.width+c.horizontalPadding;if(c.width-c.rowWidth[Y]>re&&q!=Y){V.splice(-1,1),c.rows[Y].push(Z),c.rowWidth[q]=c.rowWidth[q]-re,c.rowWidth[Y]=c.rowWidth[Y]+re,c.width=c.rowWidth[instance.getLongestRowIndex(c)];for(var ae=Number.MIN_VALUE,se=0;se<V.length;se++)V[se].height>ae&&(ae=V[se].height);q>0&&(ae+=c.verticalPadding);var oe=c.rowHeight[q]+c.rowHeight[Y];c.rowHeight[q]=ae,c.rowHeight[Y]<Z.height+c.verticalPadding&&(c.rowHeight[Y]=Z.height+c.verticalPadding);var he=c.rowHeight[q]+c.rowHeight[Y];c.height+=he-oe,this.shiftToLastRow(c)}},w.prototype.tilingPreLayout=function(){oe.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){oe.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var c,q=[],Y=!0;Y;){var V=this.graphManager.getAllNodes(),Z=[];Y=!1;for(var re=0;re<V.length;re++)1==(c=V[re]).getEdges().length&&!c.getEdges()[0].isInterGraph&&null==c.getChild()&&(Z.push([c,c.getEdges()[0],c.getOwner()]),Y=!0);if(1==Y){for(var ae=[],se=0;se<Z.length;se++)1==Z[se][0].getEdges().length&&(ae.push(Z[se]),Z[se][0].getOwner().remove(Z[se][0]));q.push(ae),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=q},w.prototype.growTree=function(c){for(var q,Y=c[c.length-1],V=0;V<Y.length;V++)q=Y[V],this.findPlaceforPrunedNode(q),q[2].add(q[0]),q[2].add(q[1],q[1].source,q[1].target);c.splice(c.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(c){var q,Y,V=c[0],Z=(Y=V==c[1].source?c[1].target:c[1].source).startX,re=Y.finishX,ae=Y.startY,se=Y.finishY,oe=[0,0,0,0];if(ae>0)for(var de=Z;de<=re;de++)oe[0]+=this.grid[de][ae-1].length+this.grid[de][ae].length-1;if(re<this.grid.length-1)for(de=ae;de<=se;de++)oe[1]+=this.grid[re+1][de].length+this.grid[re][de].length-1;if(se<this.grid[0].length-1)for(de=Z;de<=re;de++)oe[2]+=this.grid[de][se+1].length+this.grid[de][se].length-1;if(Z>0)for(de=ae;de<=se;de++)oe[3]+=this.grid[Z-1][de].length+this.grid[Z][de].length-1;for(var pe,ge,me=ve.MAX_VALUE,be=0;be<oe.length;be++)oe[be]<me?(me=oe[be],pe=1,ge=be):oe[be]==me&&pe++;if(3==pe&&0==me)0==oe[0]&&0==oe[1]&&0==oe[2]?q=1:0==oe[0]&&0==oe[1]&&0==oe[3]?q=0:0==oe[0]&&0==oe[2]&&0==oe[3]?q=3:0==oe[1]&&0==oe[2]&&0==oe[3]&&(q=2);else if(2==pe&&0==me){var we=Math.floor(2*Math.random());q=0==oe[0]&&0==oe[1]?0==we?0:1:0==oe[0]&&0==oe[2]?0==we?0:2:0==oe[0]&&0==oe[3]?0==we?0:3:0==oe[1]&&0==oe[2]?0==we?1:2:0==oe[1]&&0==oe[3]?0==we?1:3:0==we?2:3}else if(4==pe&&0==me){q=we=Math.floor(4*Math.random())}else q=ge;0==q?V.setCenter(Y.getCenterX(),Y.getCenterY()-Y.getHeight()/2-he.DEFAULT_EDGE_LENGTH-V.getHeight()/2):1==q?V.setCenter(Y.getCenterX()+Y.getWidth()/2+he.DEFAULT_EDGE_LENGTH+V.getWidth()/2,Y.getCenterY()):2==q?V.setCenter(Y.getCenterX(),Y.getCenterY()+Y.getHeight()/2+he.DEFAULT_EDGE_LENGTH+V.getHeight()/2):V.setCenter(Y.getCenterX()-Y.getWidth()/2-he.DEFAULT_EDGE_LENGTH-V.getWidth()/2,Y.getCenterY())},c.exports=w},function(c,q,Y){var V={};V.layoutBase=Y(0),V.CoSEConstants=Y(1),V.CoSEEdge=Y(2),V.CoSEGraph=Y(3),V.CoSEGraphManager=Y(4),V.CoSELayout=Y(6),V.CoSENode=Y(5),c.exports=V}])})}),xVe=Ni((c,q)=>{o(function(Y,V){"object"==typeof c&&"object"==typeof q?q.exports=V(vVe()):"function"==typeof define&&define.amd?define(["cose-base"],V):"object"==typeof c?c.cytoscapeCoseBilkent=V(vVe()):Y.cytoscapeCoseBilkent=V(Y.coseBase)},"webpackUniversalModuleDefinition")(c,function(c){return function(c){var q={};function n(Y){if(q[Y])return q[Y].exports;var V=q[Y]={i:Y,l:!1,exports:{}};return c[Y].call(V.exports,V,V.exports,n),V.l=!0,V.exports}return o(n,"__webpack_require__"),n.m=c,n.c=q,n.i=function(c){return c},n.d=function(c,q,Y){n.o(c,q)||Object.defineProperty(c,q,{configurable:!1,enumerable:!0,get:Y})},n.n=function(c){var q=c&&c.__esModule?o(function(){return c.default},"getDefault"):o(function(){return c},"getModuleExports");return n.d(q,"a",q),q},n.o=function(c,q){return Object.prototype.hasOwnProperty.call(c,q)},n.p="",n(n.s=1)}([function(q,Y){q.exports=c},function(c,q,Y){var V=Y(0).layoutBase.LayoutConstants,Z=Y(0).layoutBase.FDLayoutConstants,re=Y(0).CoSEConstants,ae=Y(0).CoSELayout,se=Y(0).CoSENode,oe=Y(0).layoutBase.PointD,he=Y(0).layoutBase.DimensionD,de={ready:o(function(){},"ready"),stop:o(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function p(c,q){var Y={};for(var V in c)Y[V]=c[V];for(var V in q)Y[V]=q[V];return Y}function m(c){this.options=p(de,c),pe(this.options)}o(p,"extend"),o(m,"_CoSELayout");var pe=o(function(c){null!=c.nodeRepulsion&&(re.DEFAULT_REPULSION_STRENGTH=Z.DEFAULT_REPULSION_STRENGTH=c.nodeRepulsion),null!=c.idealEdgeLength&&(re.DEFAULT_EDGE_LENGTH=Z.DEFAULT_EDGE_LENGTH=c.idealEdgeLength),null!=c.edgeElasticity&&(re.DEFAULT_SPRING_STRENGTH=Z.DEFAULT_SPRING_STRENGTH=c.edgeElasticity),null!=c.nestingFactor&&(re.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=Z.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=c.nestingFactor),null!=c.gravity&&(re.DEFAULT_GRAVITY_STRENGTH=Z.DEFAULT_GRAVITY_STRENGTH=c.gravity),null!=c.numIter&&(re.MAX_ITERATIONS=Z.MAX_ITERATIONS=c.numIter),null!=c.gravityRange&&(re.DEFAULT_GRAVITY_RANGE_FACTOR=Z.DEFAULT_GRAVITY_RANGE_FACTOR=c.gravityRange),null!=c.gravityCompound&&(re.DEFAULT_COMPOUND_GRAVITY_STRENGTH=Z.DEFAULT_COMPOUND_GRAVITY_STRENGTH=c.gravityCompound),null!=c.gravityRangeCompound&&(re.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=Z.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=c.gravityRangeCompound),null!=c.initialEnergyOnIncremental&&(re.DEFAULT_COOLING_FACTOR_INCREMENTAL=Z.DEFAULT_COOLING_FACTOR_INCREMENTAL=c.initialEnergyOnIncremental),"draft"==c.quality?V.QUALITY=0:"proof"==c.quality?V.QUALITY=2:V.QUALITY=1,re.NODE_DIMENSIONS_INCLUDE_LABELS=Z.NODE_DIMENSIONS_INCLUDE_LABELS=V.NODE_DIMENSIONS_INCLUDE_LABELS=c.nodeDimensionsIncludeLabels,re.DEFAULT_INCREMENTAL=Z.DEFAULT_INCREMENTAL=V.DEFAULT_INCREMENTAL=!c.randomize,re.ANIMATE=Z.ANIMATE=V.ANIMATE=c.animate,re.TILE=c.tile,re.TILING_PADDING_VERTICAL="function"==typeof c.tilingPaddingVertical?c.tilingPaddingVertical.call():c.tilingPaddingVertical,re.TILING_PADDING_HORIZONTAL="function"==typeof c.tilingPaddingHorizontal?c.tilingPaddingHorizontal.call():c.tilingPaddingHorizontal},"getUserOptions");m.prototype.run=function(){var c,q,Y=this.options,V=(this.idToLNode={},this.layout=new ae),Z=this;Z.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var re=V.newGraphManager();this.gm=re;var se=this.options.eles.nodes(),oe=this.options.eles.edges();this.root=re.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(se),V);for(var he=0;he<oe.length;he++){var de=oe[he],pe=this.idToLNode[de.data("source")],ge=this.idToLNode[de.data("target")];if(pe!==ge&&0==pe.getEdgesBetween(ge).length)re.add(V.newEdge(),pe,ge).id=de.id()}var me=o(function(c,q){"number"==typeof c&&(c=q);var Y=c.data("id"),V=Z.idToLNode[Y];return{x:V.getRect().getCenterX(),y:V.getRect().getCenterY()}},"getPositions"),ve=o(function N(){for(var re,ae=o(function(){Y.fit&&Y.cy.fit(Y.eles,Y.padding),c||(c=!0,Z.cy.one("layoutready",Y.ready),Z.cy.trigger({type:"layoutready",layout:Z}))},"afterReposition"),se=Z.options.refresh,oe=0;oe<se&&!re;oe++)re=Z.stopped||Z.layout.tick();if(re)return V.checkLayoutSuccess()&&!V.isSubLayout&&V.doPostLayout(),V.tilingPostLayout&&V.tilingPostLayout(),V.isLayoutFinished=!0,Z.options.eles.nodes().positions(me),ae(),Z.cy.one("layoutstop",Z.options.stop),Z.cy.trigger({type:"layoutstop",layout:Z}),q&&cancelAnimationFrame(q),void(c=!1);var he=Z.layout.getPositionsData();Y.eles.nodes().positions(function(c,q){if("number"==typeof c&&(c=q),!c.isParent()){for(var Y=c.id(),V=he[Y],Z=c;null==V&&(V=he[Z.data("parent")]||he["DummyCompound_"+Z.data("parent")],he[Y]=V,null!=(Z=Z.parent()[0])););return null!=V?{x:V.x,y:V.y}:{x:c.position("x"),y:c.position("y")}}}),ae(),q=requestAnimationFrame(N)},"iterateAnimated");return V.addListener("layoutstarted",function(){"during"===Z.options.animate&&(q=requestAnimationFrame(ve))}),V.runLayout(),"during"!==this.options.animate&&(Z.options.eles.nodes().not(":parent").layoutPositions(Z,Z.options,me),c=!1),this},m.prototype.getTopMostNodes=function(c){for(var q={},Y=0;Y<c.length;Y++)q[c[Y].id()]=!0;return c.filter(function(c,Y){"number"==typeof c&&(c=Y);for(var V=c.parent()[0];null!=V;){if(q[V.id()])return!1;V=V.parent()[0]}return!0})},m.prototype.processChildrenList=function(c,q,Y){for(var V=q.length,Z=0;Z<V;Z++){var re,ae,de=q[Z],pe=de.children(),ge=de.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((re=null!=de.outerWidth()&&null!=de.outerHeight()?c.add(new se(Y.graphManager,new oe(de.position("x")-ge.w/2,de.position("y")-ge.h/2),new he(parseFloat(ge.w),parseFloat(ge.h)))):c.add(new se(this.graphManager))).id=de.data("id"),re.paddingLeft=parseInt(de.css("padding")),re.paddingTop=parseInt(de.css("padding")),re.paddingRight=parseInt(de.css("padding")),re.paddingBottom=parseInt(de.css("padding")),this.options.nodeDimensionsIncludeLabels&&de.isParent()){var me=de.boundingBox({includeLabels:!0,includeNodes:!1}).w,ve=de.boundingBox({includeLabels:!0,includeNodes:!1}).h,be=de.css("text-halign");re.labelWidth=me,re.labelHeight=ve,re.labelPos=be}if(this.idToLNode[de.data("id")]=re,isNaN(re.rect.x)&&(re.rect.x=0),isNaN(re.rect.y)&&(re.rect.y=0),null!=pe&&pe.length>0)ae=Y.getGraphManager().add(Y.newGraph(),re),this.processChildrenList(ae,pe,Y)}},m.prototype.stop=function(){return this.stopped=!0,this};var ge=o(function(c){c("layout","cose-bilkent",m)},"register");typeof cytoscape<"u"&&ge(cytoscape),c.exports=ge}])})});function _tt(c,q,Y,V,Z){return c.insert("polygon",":first-child").attr("points",V.map(function(c){return c.x+","+c.y}).join(" ")).attr("transform","translate("+(Z.width-q)/2+", "+Y+")")}var bVe,wVe,kVe,TVe,_Ve,EVe,CVe,SVe,AVe,LVe=M(()=>{pO(),yM(),bVe=o(function(c,q,Y,V){q.append("path").attr("id","node-"+Y.id).attr("class","node-bkg node-"+c.type2Str(Y.type)).attr("d",`M0 ${Y.height-5} v${10-Y.height} q0,-5 5,-5 h${Y.width-10} q5,0 5,5 v${Y.height-5} H0 Z`),q.append("line").attr("class","node-line-"+V).attr("x1",0).attr("y1",Y.height).attr("x2",Y.width).attr("y2",Y.height)},"defaultBkg"),wVe=o(function(c,q,Y){q.append("rect").attr("id","node-"+Y.id).attr("class","node-bkg node-"+c.type2Str(Y.type)).attr("height",Y.height).attr("width",Y.width)},"rectBkg"),kVe=o(function(c,q,Y){let V=Y.width,Z=Y.height,re=.15*V,ae=.25*V,se=.35*V,oe=.2*V;q.append("path").attr("id","node-"+Y.id).attr("class","node-bkg node-"+c.type2Str(Y.type)).attr("d",`M0 0 a${re},${re} 0 0,1 ${.25*V},${-1*V*.1}\n      a${se},${se} 1 0,1 ${.4*V},${-1*V*.1}\n      a${ae},${ae} 1 0,1 ${.35*V},${1*V*.2}\n\n      a${re},${re} 1 0,1 ${.15*V},${1*Z*.35}\n      a${oe},${oe} 1 0,1 ${-1*V*.15},${1*Z*.65}\n\n      a${ae},${re} 1 0,1 ${-1*V*.25},${.15*V}\n      a${se},${se} 1 0,1 ${-1*V*.5},0\n      a${re},${re} 1 0,1 ${-1*V*.25},${-1*V*.15}\n\n      a${re},${re} 1 0,1 ${-1*V*.1},${-1*Z*.35}\n      a${oe},${oe} 1 0,1 ${.1*V},${-1*Z*.65}\n\n    H0 V0 Z`)},"cloudBkg"),TVe=o(function(c,q,Y){let V=Y.width,Z=Y.height,re=.15*V;q.append("path").attr("id","node-"+Y.id).attr("class","node-bkg node-"+c.type2Str(Y.type)).attr("d",`M0 0 a${re},${re} 1 0,0 ${.25*V},${-1*Z*.1}\n      a${re},${re} 1 0,0 ${.25*V},0\n      a${re},${re} 1 0,0 ${.25*V},0\n      a${re},${re} 1 0,0 ${.25*V},${1*Z*.1}\n\n      a${re},${re} 1 0,0 ${.15*V},${1*Z*.33}\n      a${.8*re},${.8*re} 1 0,0 0,${1*Z*.34}\n      a${re},${re} 1 0,0 ${-1*V*.15},${1*Z*.33}\n\n      a${re},${re} 1 0,0 ${-1*V*.25},${.15*Z}\n      a${re},${re} 1 0,0 ${-1*V*.25},0\n      a${re},${re} 1 0,0 ${-1*V*.25},0\n      a${re},${re} 1 0,0 ${-1*V*.25},${-1*Z*.15}\n\n      a${re},${re} 1 0,0 ${-1*V*.1},${-1*Z*.33}\n      a${.8*re},${.8*re} 1 0,0 0,${-1*Z*.34}\n      a${re},${re} 1 0,0 ${.1*V},${-1*Z*.33}\n\n    H0 V0 Z`)},"bangBkg"),_Ve=o(function(c,q,Y){q.append("circle").attr("id","node-"+Y.id).attr("class","node-bkg node-"+c.type2Str(Y.type)).attr("r",Y.width/2)},"circleBkg"),o(_tt,"insertPolygonShape"),EVe=o(function(c,q,Y){let V=Y.height,Z=V/4,re=Y.width-Y.padding+2*Z;_tt(q,re,V,[{x:Z,y:0},{x:re-Z,y:0},{x:re,y:-V/2},{x:re-Z,y:-V},{x:Z,y:-V},{x:0,y:-V/2}],Y)},"hexagonBkg"),CVe=o(function(c,q,Y){q.append("rect").attr("id","node-"+Y.id).attr("class","node-bkg node-"+c.type2Str(Y.type)).attr("height",Y.height).attr("rx",Y.padding).attr("ry",Y.padding).attr("width",Y.width)},"roundedRectBkg"),SVe=o(async function(c,q,Y,V,Z){let re=Z.htmlLabels,ae=V%11,se=q.append("g");Y.section=ae;let oe="section-"+ae;ae<0&&(oe+=" section-root"),se.attr("class",(Y.class?Y.class+" ":"")+"mindmap-node "+oe);let he=se.append("g"),de=se.append("g"),pe=Y.descr.replace(/(<br\/*>)/g,"\n");await dO(de,pe,{useHtmlLabels:re,width:Y.width,classes:"mindmap-node-label"},Z),re||de.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let ge=de.node().getBBox(),[me]=cM(Z.fontSize);if(Y.height=ge.height+1.1*me*.5+Y.padding,Y.width=ge.width+2*Y.padding,Y.icon)if(Y.type===c.nodeType.CIRCLE)Y.height+=50,Y.width+=50,se.append("foreignObject").attr("height","50px").attr("width",Y.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+ae+" "+Y.icon),de.attr("transform","translate("+Y.width/2+", "+(Y.height/2-1.5*Y.padding)+")");else{Y.width+=50;let c=Y.height;Y.height=Math.max(c,60);let q=Math.abs(Y.height-c);se.append("foreignObject").attr("width","60px").attr("height",Y.height).attr("style","text-align: center;margin-top:"+q/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+ae+" "+Y.icon),de.attr("transform","translate("+(25+Y.width/2)+", "+(q/2+Y.padding/2)+")")}else if(re){let c=(Y.width-ge.width)/2,q=(Y.height-ge.height)/2;de.attr("transform","translate("+c+", "+q+")")}else{let c=Y.width/2,q=Y.padding/2;de.attr("transform","translate("+c+", "+q+")")}switch(Y.type){case c.nodeType.DEFAULT:bVe(c,he,Y,ae);break;case c.nodeType.ROUNDED_RECT:CVe(c,he,Y,ae);break;case c.nodeType.RECT:wVe(c,he,Y,ae);break;case c.nodeType.CIRCLE:he.attr("transform","translate("+Y.width/2+", "+ +Y.height/2+")"),_Ve(c,he,Y,ae);break;case c.nodeType.CLOUD:kVe(c,he,Y,ae);break;case c.nodeType.BANG:TVe(c,he,Y,ae);break;case c.nodeType.HEXAGON:EVe(c,he,Y,ae)}return c.setElementForId(Y.id,se),Y.height},"drawNode"),AVe=o(function(c,q){let Y=c.getElementById(q.id),V=q.x||0,Z=q.y||0;Y.attr("transform","translate("+V+","+Z+")")},"positionNode")});async function I1e(c,q,Y,V,Z){await SVe(c,q,Y,V,Z),Y.children&&await Promise.all(Y.children.map((Y,re)=>I1e(c,q,Y,V<0?re:V,Z)))}function Ntt(c,q){q.edges().map((q,Y)=>{let Z=q.data();if(q[0]._private.bodyBounds){let re=q[0]._private.rscratch;V.trace("Edge: ",Y,Z),c.insert("path").attr("d",`M ${re.startX},${re.startY} L ${re.midX},${re.midY} L${re.endX},${re.endY} `).attr("class","edge section-edge-"+Z.section+" edge-depth-"+Z.depth)}})}function O1e(c,q,Y,V){q.add({group:"nodes",data:{id:c.id.toString(),labelText:c.descr,height:c.height,width:c.width,level:V,nodeId:c.id,padding:c.padding,type:c.type},position:{x:c.x,y:c.y}}),c.children&&c.children.forEach(Z=>{O1e(Z,q,Y,V+1),q.add({group:"edges",data:{id:`${c.id}_${Z.id}`,source:c.id,target:Z.id,depth:V,section:Z.section}})})}function Rtt(c,q){return new Promise(Y=>{let Z=ze("body").append("div").attr("id","cy").attr("style","display:none"),re=fVe({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});Z.remove(),O1e(c,re,q,0),re.nodes().forEach(function(c){c.layoutDimensions=()=>{let q=c.data();return{w:q.width,h:q.height}}}),re.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),re.ready(c=>{V.info("Ready",c),Y(re)})})}function Mtt(c,q){q.nodes().map((q,Y)=>{let Z=q.data();Z.x=q.position().x,Z.y=q.position().y,AVe(c,Z);let re=c.getElementById(Z.nodeId);V.info("Id:",Y,"Position: (",q.position().x,", ",q.position().y,")",Z),re.attr("transform",`translate(${q.position().x-Z.width/2}, ${q.position().y-Z.height/2})`),re.attr("attr",`apa-${Y})`)})}var NVe,RVe,DVe,qVe,jVe,YVe,XVe=M(()=>{mVe(),NVe=ka(xVe(),1),U_(),hf(),Ae(),jpe(),kp(),LVe(),bi(),fVe.use(NVe.default),o(I1e,"drawNodes"),o(Ntt,"drawEdges"),o(O1e,"addNodes"),o(Rtt,"layoutMindmap"),o(Mtt,"positionNodes"),RVe=o(async(c,q,Y,Z)=>{V.debug("Rendering mindmap diagram\n"+c);let re=Z.db,ae=re.getMindmap();if(!ae)return;let se=Xp();se.htmlLabels=!1;let oe=Bpe(q),he=oe.append("g");he.attr("class","mindmap-edges");let de=oe.append("g");de.attr("class","mindmap-nodes"),await I1e(re,de,ae,-1,se);let pe=await Rtt(ae,se);Ntt(he,pe),Mtt(re,pe),up(void 0,oe,se.mindmap?.padding??nn.mindmap.padding,se.mindmap?.useMaxWidth??nn.mindmap.useMaxWidth)},"draw"),DVe={draw:RVe}}),KVe=M(()=>{hi(),qVe=o(c=>{let q="";for(let q=0;q<c.THEME_COLOR_LIMIT;q++)c["lineColor"+q]=c["lineColor"+q]||c["cScaleInv"+q],br(c["lineColor"+q])?c["lineColor"+q]=_r(c["lineColor"+q],20):c["lineColor"+q]=Sr(c["lineColor"+q],20);for(let Y=0;Y<c.THEME_COLOR_LIMIT;Y++){let V=""+(17-3*Y);q+=`\n    .section-${Y-1} rect, .section-${Y-1} path, .section-${Y-1} circle, .section-${Y-1} polygon, .section-${Y-1} path  {\n      fill: ${c["cScale"+Y]};\n    }\n    .section-${Y-1} text {\n     fill: ${c["cScaleLabel"+Y]};\n    }\n    .node-icon-${Y-1} {\n      font-size: 40px;\n      color: ${c["cScaleLabel"+Y]};\n    }\n    .section-edge-${Y-1}{\n      stroke: ${c["cScale"+Y]};\n    }\n    .edge-depth-${Y-1}{\n      stroke-width: ${V};\n    }\n    .section-${Y-1} line {\n      stroke: ${c["cScaleInv"+Y]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return q},"genSections"),jVe=o(c=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${qVe(c)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${c.git0};\n  }\n  .section-root text {\n    fill: ${c.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`,"getStyles"),YVe=jVe}),QVe={};vr(QVe,{diagram:()=>eXe});var eXe,tXe,rXe,nXe,iXe,aXe,sXe,oXe,lXe,cXe,hXe,uXe,dXe,gXe,fXe,yXe,vXe,xXe,bXe,wXe,kXe,_Xe,EXe,CXe,AXe,LXe=M(()=>{iNe(),aNe(),XVe(),KVe(),eXe={db:tNe,renderer:DVe,parser:ALe,styles:YVe}}),NXe=M(()=>{(tXe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,4],Y=[1,13],V=[1,12],Z=[1,15],re=[1,16],ae=[1,20],se=[1,19],oe=[6,7,8],he=[1,26],de=[1,24],pe=[1,25],ge=[6,7,11],me=[1,31],ve=[6,7,11,24],be=[1,6,13,16,17,20,23],we=[1,35],Te=[1,36],_e=[1,6,7,11,13,16,17,20,23],Ee=[1,38],Ce={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 6:case 7:return V;case 8:V.getLogger().trace("Stop NL ");break;case 9:V.getLogger().trace("Stop EOF ");break;case 11:V.getLogger().trace("Stop NL2 ");break;case 12:V.getLogger().trace("Stop EOF2 ");break;case 15:V.getLogger().info("Node: ",re[se-1].id),V.addNode(re[se-2].length,re[se-1].id,re[se-1].descr,re[se-1].type,re[se]);break;case 16:V.getLogger().info("Node: ",re[se].id),V.addNode(re[se-1].length,re[se].id,re[se].descr,re[se].type);break;case 17:V.getLogger().trace("Icon: ",re[se]),V.decorateNode({icon:re[se]});break;case 18:case 23:V.decorateNode({class:re[se]});break;case 19:V.getLogger().trace("SPACELIST");break;case 20:V.getLogger().trace("Node: ",re[se-1].id),V.addNode(0,re[se-1].id,re[se-1].descr,re[se-1].type,re[se]);break;case 21:V.getLogger().trace("Node: ",re[se].id),V.addNode(0,re[se].id,re[se].descr,re[se].type);break;case 22:V.decorateNode({icon:re[se]});break;case 27:V.getLogger().trace("node found ..",re[se-2]),this.$={id:re[se-1],descr:re[se-1],type:V.getType(re[se-2],re[se])};break;case 28:this.$={id:re[se],descr:re[se],type:0};break;case 29:V.getLogger().trace("node found ..",re[se-3]),this.$={id:re[se-3],descr:re[se-1],type:V.getType(re[se-2],re[se])};break;case 30:this.$=re[se-1]+re[se];break;case 31:this.$=re[se]}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:q},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:q},{6:Y,7:[1,10],9:9,12:11,13:V,14:14,16:Z,17:re,18:17,19:18,20:ae,23:se},c(oe,[2,3]),{1:[2,2]},c(oe,[2,4]),c(oe,[2,5]),{1:[2,6],6:Y,12:21,13:V,14:14,16:Z,17:re,18:17,19:18,20:ae,23:se},{6:Y,9:22,12:11,13:V,14:14,16:Z,17:re,18:17,19:18,20:ae,23:se},{6:he,7:de,10:23,11:pe},c(ge,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:ae,23:se}),c(ge,[2,19]),c(ge,[2,21],{15:30,24:me}),c(ge,[2,22]),c(ge,[2,23]),c(ve,[2,25]),c(ve,[2,26]),c(ve,[2,28],{20:[1,32]}),{21:[1,33]},{6:he,7:de,10:34,11:pe},{1:[2,7],6:Y,12:21,13:V,14:14,16:Z,17:re,18:17,19:18,20:ae,23:se},c(be,[2,14],{7:we,11:Te}),c(_e,[2,8]),c(_e,[2,9]),c(_e,[2,10]),c(ge,[2,16],{15:37,24:me}),c(ge,[2,17]),c(ge,[2,18]),c(ge,[2,20],{24:Ee}),c(ve,[2,31]),{21:[1,39]},{22:[1,40]},c(be,[2,13],{7:we,11:Te}),c(_e,[2,11]),c(_e,[2,12]),c(ge,[2,15],{24:Ee}),c(ve,[2,30]),{22:[1,41]},c(ve,[2,27]),c(ve,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function J(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function ee(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(J,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=J()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Se={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return this.pushState("shapeData"),q.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:let Y=/\n\s*/g;return q.yytext=q.yytext.replace(Y,"<br/>"),24;case 4:return 24;case 5:case 10:case 29:case 32:this.popState();break;case 6:return c.getLogger().trace("Found comment",q.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 11:c.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return c.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:c.getLogger().trace("end icon"),this.popState();break;case 16:return c.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return c.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return c.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return c.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:case 21:case 22:case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 30:c.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return c.getLogger().trace("description:",q.yytext),"NODE_DESCR";case 33:return this.popState(),c.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),c.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),c.getLogger().trace("node end ...",q.yytext),"NODE_DEND";case 36:case 39:case 40:return this.popState(),c.getLogger().trace("node end (("),"NODE_DEND";case 37:case 38:return this.popState(),c.getLogger().trace("node end (-"),"NODE_DEND";case 41:case 42:return c.getLogger().trace("Long description:",q.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};function E(){this.yy={}}return Ce.lexer=Se,o(E,"Parser"),E.prototype=Ce,Ce.Parser=E,new E}()).parser=tXe,rXe=tXe}),MXe=M(()=>{hf(),bp(),Ae(),bi(),K$(),nXe=[],iXe=[],aXe=0,sXe={},oXe=o(()=>{nXe=[],iXe=[],aXe=0,sXe={}},"clear"),lXe=o(c=>{if(0===nXe.length)return null;let q=nXe[0].level,Y=null;for(let c=nXe.length-1;c>=0;c--)if(nXe[c].level===q&&!Y&&(Y=nXe[c]),nXe[c].level<q)throw new Error('Items without section detected, found section ("'+nXe[c].label+'")');return c===Y?.level?null:Y},"getSection"),cXe=o(function(){return iXe},"getSections"),hXe=o(function(){let c=[],q=cXe(),Y=Xp();for(let V of q){let q={id:V.id,label:Md(V.label??"",Y),isGroup:!0,ticket:V.ticket,shape:"kanbanSection",level:V.level,look:Y.look};c.push(q);let Z=nXe.filter(c=>c.parentId===V.id);for(let q of Z){let Z={id:q.id,parentId:V.id,label:Md(q.label??"",Y),isGroup:!1,ticket:q?.ticket,priority:q?.priority,assigned:q?.assigned,icon:q?.icon,shape:"kanbanItem",level:q.level,rx:5,ry:5,cssStyles:["text-align: left"]};c.push(Z)}}return{nodes:c,edges:[],other:{},config:Xp()}},"getData"),uXe=o((c,q,Y,V,Z)=>{let re=Xp(),ae=re.mindmap?.padding??nn.mindmap.padding;switch(V){case dXe.ROUNDED_RECT:case dXe.RECT:case dXe.HEXAGON:ae*=2}let se={id:Md(q,re)||"kbn"+aXe++,level:c,label:Md(Y,re),width:re.mindmap?.maxNodeWidth??nn.mindmap.maxNodeWidth,padding:ae,isGroup:!1};if(void 0!==Z){let c;c=Z.includes("\n")?Z+"\n":"{\n"+Z+"\n}";let q=V$(c,{schema:H$});if(q.shape&&(q.shape!==q.shape.toLowerCase()||q.shape.includes("_")))throw new Error(`No such shape: ${q.shape}. Shape names should be lowercase.`);q?.shape&&"kanbanItem"===q.shape&&(se.shape=q?.shape),q?.label&&(se.label=q?.label),q?.icon&&(se.icon=q?.icon.toString()),q?.assigned&&(se.assigned=q?.assigned.toString()),q?.ticket&&(se.ticket=q?.ticket.toString()),q?.priority&&(se.priority=q?.priority)}let oe=lXe(c);oe?se.parentId=oe.id||"kbn"+aXe++:iXe.push(se),nXe.push(se)},"addNode"),dXe={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},gXe=o((c,q)=>{switch(V.debug("In get type",c,q),c){case"[":return dXe.RECT;case"(":return")"===q?dXe.ROUNDED_RECT:dXe.CLOUD;case"((":return dXe.CIRCLE;case")":return dXe.CLOUD;case"))":return dXe.BANG;case"{{":return dXe.HEXAGON;default:return dXe.DEFAULT}},"getType"),fXe=o((c,q)=>{sXe[c]=q},"setElementForId"),yXe=o(c=>{if(!c)return;let q=Xp(),Y=nXe[nXe.length-1];c.icon&&(Y.icon=Md(c.icon,q)),c.class&&(Y.cssClasses=Md(c.class,q))},"decorateNode"),vXe=o(c=>{switch(c){case dXe.DEFAULT:return"no-border";case dXe.RECT:return"rect";case dXe.ROUNDED_RECT:return"rounded-rect";case dXe.CIRCLE:return"circle";case dXe.CLOUD:return"cloud";case dXe.BANG:return"bang";case dXe.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),xXe=o(()=>V,"getLogger"),bXe=o(c=>sXe[c],"getElementById"),wXe={clear:oXe,addNode:uXe,getSections:cXe,getData:hXe,nodeType:dXe,getType:gXe,setElementForId:fXe,decorateNode:yXe,type2Str:vXe,getLogger:xXe,getElementById:bXe}}),RXe=M(()=>{hf(),Ae(),jpe(),kp(),bi(),wG(),kU(),kXe=o(async(c,q,Y,Z)=>{V.debug("Rendering kanban diagram\n"+c);let re=Z.db.getData(),ae=Xp();ae.htmlLabels=!1;let se=Bpe(q),oe=se.append("g");oe.attr("class","sections");let he=se.append("g");he.attr("class","items");let de=re.nodes.filter(c=>c.isGroup),pe=0,ge=[],me=25;for(let c of de){let q=ae?.kanban?.sectionWidth||200;pe+=1,c.x=q*pe+10*(pe-1)/2,c.width=q,c.y=0,c.height=3*q,c.rx=5,c.ry=5,c.cssClasses=c.cssClasses+" section-"+pe;let Y=await gG(oe,c);me=Math.max(me,Y?.labelBBox?.height),ge.push(Y)}let ve=0;for(let c of de){let q=ge[ve];ve+=1;let Y=ae?.kanban?.sectionWidth||200,V=3*-Y/2+me,Z=V,se=re.nodes.filter(q=>q.parentId===c.id);for(let q of se){if(q.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");q.x=c.x,q.width=Y-15;let V=(await gm(he,q,{config:ae})).node().getBBox();q.y=Z+V.height/2,await fU(q),Z=q.y+V.height/2+5}let oe=q.cluster.select("rect"),de=Math.max(Z-V+30,50)+(me-25);oe.attr("height",de)}up(void 0,se,ae.mindmap?.padding??nn.kanban.padding,ae.mindmap?.useMaxWidth??nn.kanban.useMaxWidth)},"draw"),_Xe={draw:kXe}}),OXe=M(()=>{hi(),EXe=o(c=>{let q="";for(let q=0;q<c.THEME_COLOR_LIMIT;q++)c["lineColor"+q]=c["lineColor"+q]||c["cScaleInv"+q],br(c["lineColor"+q])?c["lineColor"+q]=_r(c["lineColor"+q],20):c["lineColor"+q]=Sr(c["lineColor"+q],20);let Y=o((q,Y)=>c.darkMode?Sr(q,Y):_r(q,Y),"adjuster");for(let V=0;V<c.THEME_COLOR_LIMIT;V++){let Z=""+(17-3*V);q+=`\n    .section-${V-1} rect, .section-${V-1} path, .section-${V-1} circle, .section-${V-1} polygon, .section-${V-1} path  {\n      fill: ${Y(c["cScale"+V],10)};\n      stroke: ${Y(c["cScale"+V],10)};\n\n    }\n    .section-${V-1} text {\n     fill: ${c["cScaleLabel"+V]};\n    }\n    .node-icon-${V-1} {\n      font-size: 40px;\n      color: ${c["cScaleLabel"+V]};\n    }\n    .section-edge-${V-1}{\n      stroke: ${c["cScale"+V]};\n    }\n    .edge-depth-${V-1}{\n      stroke-width: ${Z};\n    }\n    .section-${V-1} line {\n      stroke: ${c["cScaleInv"+V]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${c.background};\n    stroke: ${c.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .kanban-ticket-link {\n    fill: ${c.background};\n    stroke: ${c.nodeBorder};\n    text-decoration: underline;\n  }\n    `}return q},"genSections"),CXe=o(c=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${EXe(c)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${c.git0};\n  }\n  .section-root text {\n    fill: ${c.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .cluster-label, .label {\n    color: ${c.textColor};\n    fill: ${c.textColor};\n    }\n  .kanban-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`,"getStyles"),AXe=CXe}),PXe={};vr(PXe,{diagram:()=>BXe});var BXe,$Xe,GXe,UXe,jXe,YXe,WXe,HXe,XXe,KXe,ZXe,JXe,eKe,tKe,rKe,nKe=M(()=>{NXe(),MXe(),RXe(),OXe(),BXe={db:wXe,renderer:_Xe,parser:rXe,styles:AXe}}),iKe=M(()=>{($Xe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,9],Y=[1,10],V=[1,5,10,12],Z={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 7:let c=V.findOrCreateNode(re[se-4].trim().replaceAll('""','"')),q=V.findOrCreateNode(re[se-2].trim().replaceAll('""','"')),Y=parseFloat(re[se].trim());V.addLink(c,q,Y);break;case 8:case 9:case 11:this.$=re[se];break;case 10:this.$=re[se-1]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:q,20:Y},{1:[2,6],7:11,10:[1,12]},c(Y,[2,4],{9:13,5:[1,14]}),{12:[1,15]},c(V,[2,8]),c(V,[2,9]),{19:[1,16]},c(V,[2,11]),{1:[2,1]},{1:[2,5]},c(Y,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:q,20:Y},{15:18,16:7,17:8,18:q,20:Y},{18:[1,19]},c(Y,[2,3]),{12:[1,20]},c(V,[2,10]),{15:21,16:7,17:8,18:q,20:Y},c([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function k(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function D(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(k,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=k()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},re={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(c,q,Y,V){switch(Y){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};function s(){this.yy={}}return Z.lexer=re,o(s,"Parser"),s.prototype=Z,Z.Parser=s,new s}()).parser=$Xe,GXe=$Xe}),aKe=M(()=>{hf(),bp(),cf(),UXe=[],jXe=[],YXe=new Map,WXe=o(()=>{UXe=[],jXe=[],YXe=new Map,Mp()},"clear"),HXe=class{constructor(c,q,Y=0){this.source=c,this.target=q,this.value=Y}static{o(this,"SankeyLink")}},XXe=o((c,q,Y)=>{UXe.push(new HXe(c,q,Y))},"addLink"),KXe=class{constructor(c){this.ID=c}static{o(this,"SankeyNode")}},ZXe=o(c=>{c=op.sanitizeText(c,Xp());let q=YXe.get(c);return void 0===q&&(q=new KXe(c),YXe.set(c,q),jXe.push(q)),q},"findOrCreateNode"),JXe=o(()=>jXe,"getNodes"),eKe=o(()=>UXe,"getLinks"),tKe=o(()=>({nodes:jXe.map(c=>({id:c.ID})),links:UXe.map(c=>({source:c.source.ID,target:c.target.ID,value:c.value}))}),"getGraph"),rKe={nodesMap:YXe,getConfig:o(()=>Xp().sankey,"getConfig"),getNodes:JXe,getLinks:eKe,getGraph:tKe,addLink:XXe,findOrCreateNode:ZXe,getAccTitle:Fp,setAccTitle:Rp,getAccDescription:jp,setAccDescription:qp,getDiagramTitle:Wp,setDiagramTitle:Yp,clear:WXe}});function hb(c,q){let Y;if(void 0===q)for(let q of c)null!=q&&(Y<q||void 0===Y&&q>=q)&&(Y=q);else{let V=-1;for(let Z of c)null!=(Z=q(Z,++V,c))&&(Y<Z||void 0===Y&&Z>=Z)&&(Y=Z)}return Y}var sKe=M(()=>{o(hb,"max")});function T1(c,q){let Y;if(void 0===q)for(let q of c)null!=q&&(Y>q||void 0===Y&&q>=q)&&(Y=q);else{let V=-1;for(let Z of c)null!=(Z=q(Z,++V,c))&&(Y>Z||void 0===Y&&Z>=Z)&&(Y=Z)}return Y}var oKe=M(()=>{o(T1,"min")});function k1(c,q){let Y=0;if(void 0===q)for(let q of c)(q=+q)&&(Y+=q);else{let V=-1;for(let Z of c)(Z=+q(Z,++V,c))&&(Y+=Z)}return Y}var lKe=M(()=>{o(k1,"sum")}),cKe=M(()=>{sKe(),oKe(),lKe()});function hrt(c){return c.target.depth}function BB(c){return c.depth}function FB(c,q){return q-1-c.height}function fb(c,q){return c.sourceLinks.length?c.depth:q-1}function zB(c){return c.targetLinks.length?c.depth:c.sourceLinks.length?T1(c.sourceLinks,hrt)-1:0}var hKe=M(()=>{cKe(),o(hrt,"targetDepth"),o(BB,"left"),o(FB,"right"),o(fb,"justify"),o(zB,"center")});function E1(c){return function(){return c}}var uKe=M(()=>{o(E1,"constant")});function uye(c,q){return Y6(c.source,q.source)||c.index-q.index}function hye(c,q){return Y6(c.target,q.target)||c.index-q.index}function Y6(c,q){return c.y0-q.y0}function $B(c){return c.value}function frt(c){return c.index}function drt(c){return c.nodes}function prt(c){return c.links}function fye(c,q){let Y=c.get(q);if(!Y)throw new Error("missing: "+q);return Y}function dye({nodes:c}){for(let q of c){let c=q.y0,Y=c;for(let Y of q.sourceLinks)Y.y0=c+Y.width/2,c+=Y.width;for(let c of q.targetLinks)c.y1=Y+c.width/2,Y+=c.width}}function q6(){let c,q,Y,V=0,Z=0,re=1,ae=1,se=24,oe=8,he=frt,de=fb,pe=drt,ge=prt,me=6;function g(){let c={nodes:pe.apply(null,arguments),links:ge.apply(null,arguments)};return y(c),v(c),x(c),b(c),T(c),dye(c),c}function y({nodes:c,links:q}){for(let[q,Y]of c.entries())Y.index=q,Y.sourceLinks=[],Y.targetLinks=[];let V=new Map(c.map((q,Y)=>[he(q,Y,c),q]));for(let[c,Y]of q.entries()){Y.index=c;let{source:q,target:Z}=Y;"object"!=typeof q&&(q=Y.source=fye(V,q)),"object"!=typeof Z&&(Z=Y.target=fye(V,Z)),q.sourceLinks.push(Y),Z.targetLinks.push(Y)}if(null!=Y)for(let{sourceLinks:q,targetLinks:V}of c)q.sort(Y),V.sort(Y)}function v({nodes:c}){for(let q of c)q.value=void 0===q.fixedValue?Math.max(k1(q.sourceLinks,$B),k1(q.targetLinks,$B)):q.fixedValue}function x({nodes:c}){let q=c.length,Y=new Set(c),V=new Set,Z=0;for(;Y.size;){for(let c of Y){c.depth=Z;for(let{target:q}of c.sourceLinks)V.add(q)}if(++Z>q)throw new Error("circular link");Y=V,V=new Set}}function b({nodes:c}){let q=c.length,Y=new Set(c),V=new Set,Z=0;for(;Y.size;){for(let c of Y){c.height=Z;for(let{source:q}of c.targetLinks)V.add(q)}if(++Z>q)throw new Error("circular link");Y=V,V=new Set}}function w({nodes:c}){let Y=hb(c,c=>c.depth)+1,Z=(re-V-se)/(Y-1),ae=new Array(Y);for(let q of c){let c=Math.max(0,Math.min(Y-1,Math.floor(de.call(null,q,Y))));q.layer=c,q.x0=V+c*Z,q.x1=q.x0+se,ae[c]?ae[c].push(q):ae[c]=[q]}if(q)for(let c of ae)c.sort(q);return ae}function _(q){let Y=T1(q,q=>(ae-Z-(q.length-1)*c)/k1(q,$B));for(let V of q){let q=Z;for(let Z of V){Z.y0=q,Z.y1=q+Z.value*Y,q=Z.y1+c;for(let c of Z.sourceLinks)c.width=c.value*Y}q=(ae-q+c)/(V.length+1);for(let c=0;c<V.length;++c){let Y=V[c];Y.y0+=q*(c+1),Y.y1+=q*(c+1)}k(V)}}function T(q){let Y=w(q);c=Math.min(oe,(ae-Z)/(hb(Y,c=>c.length)-1)),_(Y);for(let c=0;c<me;++c){let q=Math.pow(.99,c),V=Math.max(1-q,(c+1)/me);L(Y,q,V),E(Y,q,V)}}function E(c,Y,V){for(let Z=1,re=c.length;Z<re;++Z){let re=c[Z];for(let c of re){let q=0,V=0;for(let{source:Y,value:Z}of c.targetLinks){let re=Z*(c.layer-Y.layer);q+=R(Y,c)*re,V+=re}if(!(V>0))continue;let Z=(q/V-c.y0)*Y;c.y0+=Z,c.y1+=Z,D(c)}void 0===q&&re.sort(Y6),C(re,V)}}function L(c,Y,V){for(let Z=c.length-2;Z>=0;--Z){let re=c[Z];for(let c of re){let q=0,V=0;for(let{target:Y,value:Z}of c.sourceLinks){let re=Z*(Y.layer-c.layer);q+=S(c,Y)*re,V+=re}if(!(V>0))continue;let Z=(q/V-c.y0)*Y;c.y0+=Z,c.y1+=Z,D(c)}void 0===q&&re.sort(Y6),C(re,V)}}function C(q,Y){let V=q.length>>1,re=q[V];I(q,re.y0-c,V-1,Y),A(q,re.y1+c,V+1,Y),I(q,ae,q.length-1,Y),A(q,Z,0,Y)}function A(q,Y,V,Z){for(;V<q.length;++V){let re=q[V],ae=(Y-re.y0)*Z;ae>1e-6&&(re.y0+=ae,re.y1+=ae),Y=re.y1+c}}function I(q,Y,V,Z){for(;V>=0;--V){let re=q[V],ae=(re.y1-Y)*Z;ae>1e-6&&(re.y0-=ae,re.y1-=ae),Y=re.y0-c}}function D({sourceLinks:c,targetLinks:q}){if(void 0===Y){for(let{source:{sourceLinks:c}}of q)c.sort(hye);for(let{target:{targetLinks:q}}of c)q.sort(uye)}}function k(c){if(void 0===Y)for(let{sourceLinks:q,targetLinks:Y}of c)q.sort(hye),Y.sort(uye)}function R(q,Y){let V=q.y0-(q.sourceLinks.length-1)*c/2;for(let{target:Z,width:re}of q.sourceLinks){if(Z===Y)break;V+=re+c}for(let{source:c,width:Z}of Y.targetLinks){if(c===q)break;V-=Z}return V}function S(q,Y){let V=Y.y0-(Y.targetLinks.length-1)*c/2;for(let{source:Z,width:re}of Y.targetLinks){if(Z===q)break;V+=re+c}for(let{target:c,width:Z}of q.sourceLinks){if(c===Y)break;V-=Z}return V}return o(g,"sankey"),g.update=function(c){return dye(c),c},g.nodeId=function(c){return arguments.length?(he="function"==typeof c?c:E1(c),g):he},g.nodeAlign=function(c){return arguments.length?(de="function"==typeof c?c:E1(c),g):de},g.nodeSort=function(c){return arguments.length?(q=c,g):q},g.nodeWidth=function(c){return arguments.length?(se=+c,g):se},g.nodePadding=function(q){return arguments.length?(oe=c=+q,g):oe},g.nodes=function(c){return arguments.length?(pe="function"==typeof c?c:E1(c),g):pe},g.links=function(c){return arguments.length?(ge="function"==typeof c?c:E1(c),g):ge},g.linkSort=function(c){return arguments.length?(Y=c,g):Y},g.size=function(c){return arguments.length?(V=Z=0,re=+c[0],ae=+c[1],g):[re-V,ae-Z]},g.extent=function(c){return arguments.length?(V=+c[0][0],re=+c[1][0],Z=+c[0][1],ae=+c[1][1],g):[[V,Z],[re,ae]]},g.iterations=function(c){return arguments.length?(me=+c,g):me},o(y,"computeNodeLinks"),o(v,"computeNodeValues"),o(x,"computeNodeDepths"),o(b,"computeNodeHeights"),o(w,"computeNodeLayers"),o(_,"initializeNodeBreadths"),o(T,"computeNodeBreadths"),o(E,"relaxLeftToRight"),o(L,"relaxRightToLeft"),o(C,"resolveCollisions"),o(A,"resolveCollisionsTopToBottom"),o(I,"resolveCollisionsBottomToTop"),o(D,"reorderNodeLinks"),o(k,"reorderLinks"),o(R,"targetTop"),o(S,"sourceTop"),g}var dKe=M(()=>{cKe(),hKe(),uKe(),o(uye,"ascendingSourceBreadth"),o(hye,"ascendingTargetBreadth"),o(Y6,"ascendingBreadth"),o($B,"value"),o(frt,"defaultId"),o(drt,"defaultNodes"),o(prt,"defaultLinks"),o(fye,"find"),o(dye,"computeLinkBreadths"),o(q6,"Sankey")});function HB(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function mye(){return new HB}var pKe,gKe,fKe,mKe,yKe,vKe=M(()=>{pKe=Math.PI,mKe=(gKe=2*pKe)-(fKe=1e-6),o(HB,"Path"),o(mye,"path"),HB.prototype=mye.prototype={constructor:HB,moveTo:o(function(c,q){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+q)},"moveTo"),closePath:o(function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:o(function(c,q){this._+="L"+(this._x1=+c)+","+(this._y1=+q)},"lineTo"),quadraticCurveTo:o(function(c,q,Y,V){this._+="Q"+ +c+","+ +q+","+(this._x1=+Y)+","+(this._y1=+V)},"quadraticCurveTo"),bezierCurveTo:o(function(c,q,Y,V,Z,re){this._+="C"+ +c+","+ +q+","+ +Y+","+ +V+","+(this._x1=+Z)+","+(this._y1=+re)},"bezierCurveTo"),arcTo:o(function(c,q,Y,V,Z){c=+c,q=+q,Y=+Y,V=+V,Z=+Z;var re=this._x1,ae=this._y1,se=Y-c,oe=V-q,he=re-c,de=ae-q,pe=he*he+de*de;if(Z<0)throw new Error("negative radius: "+Z);if(null===this._x1)this._+="M"+(this._x1=c)+","+(this._y1=q);else if(pe>fKe)if(Math.abs(de*se-oe*he)>fKe&&Z){var ge=Y-re,me=V-ae,ve=se*se+oe*oe,be=ge*ge+me*me,we=Math.sqrt(ve),Te=Math.sqrt(pe),_e=Z*Math.tan((pKe-Math.acos((ve+pe-be)/(2*we*Te)))/2),Ee=_e/Te,Ce=_e/we;Math.abs(Ee-1)>fKe&&(this._+="L"+(c+Ee*he)+","+(q+Ee*de)),this._+="A"+Z+","+Z+",0,0,"+ +(de*ge>he*me)+","+(this._x1=c+Ce*se)+","+(this._y1=q+Ce*oe)}else this._+="L"+(this._x1=c)+","+(this._y1=q)},"arcTo"),arc:o(function(c,q,Y,V,Z,re){c=+c,q=+q,re=!!re;var ae=(Y=+Y)*Math.cos(V),se=Y*Math.sin(V),oe=c+ae,he=q+se,de=1^re,pe=re?V-Z:Z-V;if(Y<0)throw new Error("negative radius: "+Y);null===this._x1?this._+="M"+oe+","+he:(Math.abs(this._x1-oe)>fKe||Math.abs(this._y1-he)>fKe)&&(this._+="L"+oe+","+he),Y&&(pe<0&&(pe=pe%gKe+gKe),pe>mKe?this._+="A"+Y+","+Y+",0,1,"+de+","+(c-ae)+","+(q-se)+"A"+Y+","+Y+",0,1,"+de+","+(this._x1=oe)+","+(this._y1=he):pe>fKe&&(this._+="A"+Y+","+Y+",0,"+ +(pe>=pKe)+","+de+","+(this._x1=c+Y*Math.cos(Z))+","+(this._y1=q+Y*Math.sin(Z))))},"arc"),rect:o(function(c,q,Y,V){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+q)+"h"+ +Y+"v"+ +V+"h"+-Y+"Z"},"rect"),toString:o(function(){return this._},"toString")},yKe=mye}),xKe=M(()=>{vKe()});function X6(c){return o(function(){return c},"constant")}var bKe=M(()=>{o(X6,"default")});function xye(c){return c[0]}function bye(c){return c[1]}var wKe,kKe=M(()=>{o(xye,"x"),o(bye,"y")}),TKe=M(()=>{wKe=Array.prototype.slice});function grt(c){return c.source}function yrt(c){return c.target}function vrt(c){var q=grt,Y=yrt,V=xye,Z=bye,re=null;function s(){var ae,se=wKe.call(arguments),oe=q.apply(this,se),he=Y.apply(this,se);if(re||(re=ae=yKe()),c(re,+V.apply(this,(se[0]=oe,se)),+Z.apply(this,se),+V.apply(this,(se[0]=he,se)),+Z.apply(this,se)),ae)return re=null,ae+""||null}return o(s,"link"),s.source=function(c){return arguments.length?(q=c,s):q},s.target=function(c){return arguments.length?(Y=c,s):Y},s.x=function(c){return arguments.length?(V="function"==typeof c?c:X6(+c),s):V},s.y=function(c){return arguments.length?(Z="function"==typeof c?c:X6(+c),s):Z},s.context=function(c){return arguments.length?(re=c??null,s):re},s}function xrt(c,q,Y,V,Z){c.moveTo(q,Y),c.bezierCurveTo(q=(q+V)/2,Y,q,Z,V,Z)}function YB(){return vrt(xrt)}var _Ke=M(()=>{xKe(),TKe(),bKe(),kKe(),o(grt,"linkSource"),o(yrt,"linkTarget"),o(vrt,"link"),o(xrt,"curveHorizontal"),o(YB,"linkHorizontal")}),EKe=M(()=>{_Ke()});function brt(c){return[c.source.x1,c.y0]}function wrt(c){return[c.target.x0,c.y1]}function j6(){return YB().source(brt).target(wrt)}var CKe,SKe,AKe,LKe,NKe,IKe=M(()=>{EKe(),o(brt,"horizontalSource"),o(wrt,"horizontalTarget"),o(j6,"default")}),MKe=M(()=>{dKe(),hKe(),IKe()}),RKe=M(()=>{CKe=class t{static{o(this,"Uid")}static{this.count=0}static next(c){return new t(c+ ++t.count)}constructor(c){this.id=c,this.href=`#${c}`}toString(){return"url("+this.href+")"}}}),DKe=M(()=>{hf(),U_(),MKe(),kp(),RKe(),SKe={left:BB,right:FB,center:zB,justify:fb},AKe=o(function(c,q,Y,V){let Z,{securityLevel:re,sankey:ae}=Xp(),se=Qp.sankey;"sandbox"===re&&(Z=ze("#i"+q));let oe=ze("sandbox"===re?Z.nodes()[0].contentDocument.body:"body"),he="sandbox"===re?oe.select(`[id="${q}"]`):ze(`[id="${q}"]`),de=ae?.width??se.width,pe=ae?.height??se.width,ge=ae?.useMaxWidth??se.useMaxWidth,me=ae?.nodeAlignment??se.nodeAlignment,ve=ae?.prefix??se.prefix,be=ae?.suffix??se.suffix,we=ae?.showValues??se.showValues,Te=V.db.getGraph(),_e=SKe[me];q6().nodeId(c=>c.id).nodeWidth(10).nodePadding(10+(we?15:0)).nodeAlign(_e).extent([[0,0],[de,pe]])(Te);let Ee=du(dk);he.append("g").attr("class","nodes").selectAll(".node").data(Te.nodes).join("g").attr("class","node").attr("id",c=>(c.uid=CKe.next("node-")).id).attr("transform",function(c){return"translate("+c.x0+","+c.y0+")"}).attr("x",c=>c.x0).attr("y",c=>c.y0).append("rect").attr("height",c=>c.y1-c.y0).attr("width",c=>c.x1-c.x0).attr("fill",c=>Ee(c.id));let Ce=o(({id:c,value:q})=>we?`${c}\n${ve}${Math.round(100*q)/100}${be}`:c,"getText");he.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(Te.nodes).join("text").attr("x",c=>c.x0<de/2?c.x1+6:c.x0-6).attr("y",c=>(c.y1+c.y0)/2).attr("dy",(we?"0":"0.35")+"em").attr("text-anchor",c=>c.x0<de/2?"start":"end").text(Ce);let Se,Ae=he.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(Te.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),Le=ae?.linkColor??"gradient";if("gradient"===Le){let c=Ae.append("linearGradient").attr("id",c=>(c.uid=CKe.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",c=>c.source.x1).attr("x2",c=>c.target.x0);c.append("stop").attr("offset","0%").attr("stop-color",c=>Ee(c.source.id)),c.append("stop").attr("offset","100%").attr("stop-color",c=>Ee(c.target.id))}switch(Le){case"gradient":Se=o(c=>c.uid,"coloring");break;case"source":Se=o(c=>Ee(c.source.id),"coloring");break;case"target":Se=o(c=>Ee(c.target.id),"coloring");break;default:Se=Le}Ae.append("path").attr("d",j6()).attr("stroke",Se).attr("stroke-width",c=>Math.max(1,c.width)),up(void 0,he,0,ge)},"draw"),LKe={draw:AKe}}),OKe=M(()=>{NKe=o(c=>c.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,"\n").trim(),"prepareTextForParsing")}),PKe={};vr(PKe,{diagram:()=>FKe});var BKe,FKe,$Ke,zKe,GKe,qKe,YKe,WKe,HKe,VKe,XKe,KKe,QKe,JKe,eQe,tQe,nQe,iQe,aQe=M(()=>{iKe(),aKe(),DKe(),OKe(),BKe=GXe.parse.bind(GXe),GXe.parse=c=>BKe(NKe(c)),FKe={parser:GXe,db:rKe,renderer:LKe}}),sQe=M(()=>{ki(),bi(),yM(),cf(),$Ke={packet:[]},zKe=structuredClone($Ke),GKe=nn.packet,qKe=o(()=>{let c=ws({...GKe,...bn().packet});return c.showBits&&(c.paddingY+=10),c},"getConfig"),YKe=o(()=>zKe.packet,"getPacket"),WKe=o(c=>{c.length>0&&zKe.packet.push(c)},"pushWord"),HKe=o(()=>{Mp(),zKe=structuredClone($Ke)},"clear"),VKe={pushWord:WKe,getPacket:YKe,getConfig:qKe,clear:HKe,setAccTitle:Rp,getAccTitle:Fp,setDiagramTitle:Yp,getDiagramTitle:Wp,getAccDescription:jp,setAccDescription:qp}}),oQe=M(()=>{ahe(),Ae(),che(),sQe(),XKe=o(c=>{lf(c,VKe);let q=-1,Y=[],Z=1,{bitsPerRow:re}=VKe.getConfig();for(let{start:ae,end:se,label:oe}of c.blocks){if(se&&se<ae)throw new Error(`Packet block ${ae} - ${se} is invalid. End must be greater than start.`);if(ae!==q+1)throw new Error(`Packet block ${ae} - ${se??ae} is not contiguous. It should start from ${q+1}.`);for(q=se??ae,V.debug(`Packet block ${ae} - ${q} with label ${oe}`);Y.length<=re+1&&VKe.getPacket().length<1e4;){let[c,q]=KKe({start:ae,end:se,label:oe},Z,re);if(Y.push(c),c.end+1===Z*re&&(VKe.pushWord(Y),Y=[],Z++),!q)break;({start:ae,end:se,label:oe}=q)}}VKe.pushWord(Y)},"populate"),KKe=o((c,q,Y)=>{if(void 0===c.end&&(c.end=c.start),c.start>c.end)throw new Error(`Block start ${c.start} is greater than block end ${c.end}.`);return c.end+1<=q*Y?[c,void 0]:[{start:c.start,end:q*Y-1,label:c.label},{start:q*Y,end:c.end,label:c.label}]},"getNextFittingBlock"),QKe={parse:o(async c=>{let q=await Gl("packet",c);V.debug(q),XKe(q)},"parse")}}),lQe=M(()=>{jpe(),kp(),JKe=o((c,q,Y,V)=>{let Z=V.db,re=Z.getConfig(),{rowHeight:ae,paddingY:se,bitWidth:oe,bitsPerRow:he}=re,de=Z.getPacket(),pe=Z.getDiagramTitle(),ge=ae+se,me=ge*(de.length+1)-(pe?0:ae),ve=oe*he+2,be=Bpe(q);be.attr("viewbox",`0 0 ${ve} ${me}`),hp(be,me,ve,re.useMaxWidth);for(let[c,q]of de.entries())eQe(be,q,c,re);be.append("text").text(pe).attr("x",ve/2).attr("y",me-ge/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),eQe=o((c,q,Y,{rowHeight:V,paddingX:Z,paddingY:re,bitWidth:ae,bitsPerRow:se,showBits:oe})=>{let he=c.append("g"),de=Y*(V+re)+re;for(let c of q){let q=c.start%se*ae+1,Y=(c.end-c.start+1)*ae-Z;if(he.append("rect").attr("x",q).attr("y",de).attr("width",Y).attr("height",V).attr("class","packetBlock"),he.append("text").attr("x",q+Y/2).attr("y",de+V/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(c.label),!oe)continue;let re=c.end===c.start,pe=de-2;he.append("text").attr("x",q+(re?Y/2:0)).attr("y",pe).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",re?"middle":"start").text(c.start),re||he.append("text").attr("x",q+Y).attr("y",pe).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(c.end)}},"drawWord"),tQe={draw:JKe}}),cQe=M(()=>{yM(),nQe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},iQe=o(({packet:c}={})=>{let q=ws(nQe,c);return`\n\t.packetByte {\n\t\tfont-size: ${q.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${q.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${q.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${q.labelColor};\n\t\tfont-size: ${q.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${q.titleColor};\n\t\tfont-size: ${q.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${q.blockStrokeColor};\n\t\tstroke-width: ${q.blockStrokeWidth};\n\t\tfill: ${q.blockFillColor};\n\t}\n\t`},"styles")}),uQe={};vr(uQe,{diagram:()=>pQe});var pQe,gQe,fQe,vQe=M(()=>{sQe(),oQe(),lQe(),cQe(),pQe={parser:QKe,db:VKe,renderer:tQe,styles:iQe}}),bQe=M(()=>{(gQe=function(){var c=o(function(c,q,Y,V){for(Y=Y||{},V=c.length;V--;Y[c[V]]=q);return Y},"o"),q=[1,7],Y=[1,13],V=[1,14],Z=[1,15],re=[1,19],ae=[1,16],se=[1,17],oe=[1,18],he=[8,30],de=[8,21,28,29,30,31,32,40,44,47],pe=[1,23],ge=[1,24],me=[8,15,16,21,28,29,30,31,32,40,44,47],ve=[8,15,16,21,27,28,29,30,31,32,40,44,47],be=[1,49],we={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:o(function(c,q,Y,V,Z,re,ae){var se=re.length-1;switch(Z){case 4:V.getLogger().debug("Rule: separator (NL) ");break;case 5:V.getLogger().debug("Rule: separator (Space) ");break;case 6:V.getLogger().debug("Rule: separator (EOF) ");break;case 7:V.getLogger().debug("Rule: hierarchy: ",re[se-1]),V.setHierarchy(re[se-1]);break;case 8:V.getLogger().debug("Stop NL ");break;case 9:V.getLogger().debug("Stop EOF ");break;case 10:V.getLogger().debug("Stop NL2 ");break;case 11:V.getLogger().debug("Stop EOF2 ");break;case 12:V.getLogger().debug("Rule: statement: ",re[se]),"number"==typeof re[se].length?this.$=re[se]:this.$=[re[se]];break;case 13:V.getLogger().debug("Rule: statement #2: ",re[se-1]),this.$=[re[se-1]].concat(re[se]);break;case 14:V.getLogger().debug("Rule: link: ",re[se],c),this.$={edgeTypeStr:re[se],label:""};break;case 15:V.getLogger().debug("Rule: LABEL link: ",re[se-3],re[se-1],re[se]),this.$={edgeTypeStr:re[se],label:re[se-1]};break;case 18:let q=parseInt(re[se]),Y=V.generateId();this.$={id:Y,type:"space",label:"",width:q,children:[]};break;case 23:V.getLogger().debug("Rule: (nodeStatement link node) ",re[se-2],re[se-1],re[se]," typestr: ",re[se-1].edgeTypeStr);let Z=V.edgeStrToEdgeData(re[se-1].edgeTypeStr);this.$=[{id:re[se-2].id,label:re[se-2].label,type:re[se-2].type,directions:re[se-2].directions},{id:re[se-2].id+"-"+re[se].id,start:re[se-2].id,end:re[se].id,label:re[se-1].label,type:"edge",directions:re[se].directions,arrowTypeEnd:Z,arrowTypeStart:"arrow_open"},{id:re[se].id,label:re[se].label,type:V.typeStr2Type(re[se].typeStr),directions:re[se].directions}];break;case 24:V.getLogger().debug("Rule: nodeStatement (abc88 node size) ",re[se-1],re[se]),this.$={id:re[se-1].id,label:re[se-1].label,type:V.typeStr2Type(re[se-1].typeStr),directions:re[se-1].directions,widthInColumns:parseInt(re[se],10)};break;case 25:V.getLogger().debug("Rule: nodeStatement (node) ",re[se]),this.$={id:re[se].id,label:re[se].label,type:V.typeStr2Type(re[se].typeStr),directions:re[se].directions,widthInColumns:1};break;case 26:V.getLogger().debug("APA123",this?this:"na"),V.getLogger().debug("COLUMNS: ",re[se]),this.$={type:"column-setting",columns:"auto"===re[se]?-1:parseInt(re[se])};break;case 27:V.getLogger().debug("Rule: id-block statement : ",re[se-2],re[se-1]);V.generateId();this.$={...re[se-2],type:"composite",children:re[se-1]};break;case 28:V.getLogger().debug("Rule: blockStatement : ",re[se-2],re[se-1],re[se]);let ae=V.generateId();this.$={id:ae,type:"composite",label:"",children:re[se-1]};break;case 29:V.getLogger().debug("Rule: node (NODE_ID separator): ",re[se]),this.$={id:re[se]};break;case 30:V.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",re[se-1],re[se]),this.$={id:re[se-1],label:re[se].label,typeStr:re[se].typeStr,directions:re[se].directions};break;case 31:V.getLogger().debug("Rule: dirList: ",re[se]),this.$=[re[se]];break;case 32:V.getLogger().debug("Rule: dirList: ",re[se-1],re[se]),this.$=[re[se-1]].concat(re[se]);break;case 33:V.getLogger().debug("Rule: nodeShapeNLabel: ",re[se-2],re[se-1],re[se]),this.$={typeStr:re[se-2]+re[se],label:re[se-1]};break;case 34:V.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",re[se-3],re[se-2]," #3:",re[se-1],re[se]),this.$={typeStr:re[se-3]+re[se],label:re[se-2],directions:re[se-1]};break;case 35:case 36:this.$={type:"classDef",id:re[se-1].trim(),css:re[se].trim()};break;case 37:this.$={type:"applyClass",id:re[se-1].trim(),styleClass:re[se].trim()};break;case 38:this.$={type:"applyStyles",id:re[se-1].trim(),stylesStr:re[se].trim()}}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:q,22:8,23:9,24:10,25:11,26:12,28:Y,29:V,31:Z,32:re,40:ae,44:se,47:oe},{8:[1,20]},c(he,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:q,28:Y,29:V,31:Z,32:re,40:ae,44:se,47:oe}),c(de,[2,16],{14:22,15:pe,16:ge}),c(de,[2,17]),c(de,[2,18]),c(de,[2,19]),c(de,[2,20]),c(de,[2,21]),c(de,[2,22]),c(me,[2,25],{27:[1,25]}),c(de,[2,26]),{19:26,26:12,32:re},{11:27,13:4,19:5,20:6,21:q,22:8,23:9,24:10,25:11,26:12,28:Y,29:V,31:Z,32:re,40:ae,44:se,47:oe},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},c(ve,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},c(he,[2,13]),{26:35,32:re},{32:[2,14]},{17:[1,36]},c(me,[2,24]),{11:37,13:4,14:22,15:pe,16:ge,19:5,20:6,21:q,22:8,23:9,24:10,25:11,26:12,28:Y,29:V,31:Z,32:re,40:ae,44:se,47:oe},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},c(ve,[2,30]),{18:[1,43]},{18:[1,44]},c(me,[2,23]),{18:[1,45]},{30:[1,46]},c(de,[2,28]),c(de,[2,35]),c(de,[2,36]),c(de,[2,37]),c(de,[2,38]),{37:[1,47]},{34:48,35:be},{15:[1,50]},c(de,[2,27]),c(ve,[2,33]),{39:[1,51]},{34:52,35:be,39:[2,31]},{32:[2,15]},c(ve,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:o(function(c,q){if(!q.recoverable){var Y=new Error(c);throw Y.hash=q,Y}this.trace(c)},"parseError"),parse:o(function(c){var q=this,Y=[0],V=[],Z=[null],re=[],ae=this.table,se="",oe=0,he=0,de=0,pe=re.slice.call(arguments,1),ge=Object.create(this.lexer),me={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(me.yy[ve]=this.yy[ve]);ge.setInput(c,me.yy),me.yy.lexer=ge,me.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var be=ge.yylloc;re.push(be);var we=ge.options&&ge.options.ranges;function K(){var c;return"number"!=typeof(c=V.pop()||ge.lex()||1)&&(c instanceof Array&&(c=(V=c).pop()),c=q.symbols_[c]||c),c}"function"==typeof me.yy.parseError?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function j(c){Y.length=Y.length-2*c,Z.length=Z.length-c,re.length=re.length-c},"popStack"),o(K,"lex");for(var Te,_e,Ee,Ce,Se,Ae,Le,Ne,Ie,Me={};;){if(Ee=Y[Y.length-1],this.defaultActions[Ee]?Ce=this.defaultActions[Ee]:((null===Te||typeof Te>"u")&&(Te=K()),Ce=ae[Ee]&&ae[Ee][Te]),typeof Ce>"u"||!Ce.length||!Ce[0]){var Re="";for(Ae in Ie=[],ae[Ee])this.terminals_[Ae]&&Ae>2&&Ie.push("'"+this.terminals_[Ae]+"'");Re=ge.showPosition?"Parse error on line "+(oe+1)+":\n"+ge.showPosition()+"\nExpecting "+Ie.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":"Parse error on line "+(oe+1)+": Unexpected "+(1==Te?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Re,{text:ge.match,token:this.terminals_[Te]||Te,line:ge.yylineno,loc:be,expected:Ie})}if(Ce[0]instanceof Array&&Ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ee+", token: "+Te);switch(Ce[0]){case 1:Y.push(Te),Z.push(ge.yytext),re.push(ge.yylloc),Y.push(Ce[1]),Te=null,_e?(Te=_e,_e=null):(he=ge.yyleng,se=ge.yytext,oe=ge.yylineno,be=ge.yylloc,de>0&&de--);break;case 2:if(Le=this.productions_[Ce[1]][1],Me.$=Z[Z.length-Le],Me._$={first_line:re[re.length-(Le||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Le||1)].first_column,last_column:re[re.length-1].last_column},we&&(Me._$.range=[re[re.length-(Le||1)].range[0],re[re.length-1].range[1]]),typeof(Se=this.performAction.apply(Me,[se,he,oe,me.yy,Ce[1],Z,re].concat(pe)))<"u")return Se;Le&&(Y=Y.slice(0,-1*Le*2),Z=Z.slice(0,-1*Le),re=re.slice(0,-1*Le)),Y.push(this.productions_[Ce[1]][0]),Z.push(Me.$),re.push(Me._$),Ne=ae[Y[Y.length-2]][Y[Y.length-1]],Y.push(Ne);break;case 3:return!0}}return!0},"parse")},Te={EOF:1,parseError:o(function(c,q){if(!this.yy.parser)throw new Error(c);this.yy.parser.parseError(c,q)},"parseError"),setInput:o(function(c,q){return this.yy=q||this.yy||{},this._input=c,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var c=this._input[0];return this.yytext+=c,this.yyleng++,this.offset++,this.match+=c,this.matched+=c,c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},"input"),unput:o(function(c){var q=c.length,Y=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(c){this.unput(this.match.slice(c))},"less"),pastInput:o(function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(c.length>20?"...":"")+c.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var c=this.match;return c.length<20&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(c.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var c=this.pastInput(),q=new Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+q+"^"},"showPosition"),test_match:o(function(c,q){var Y,V,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(V=c[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],Y=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var re in Z)this[re]=Z[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var c,q,Y,V;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),re=0;re<Z.length;re++)if((Y=this._input.match(this.rules[Z[re]]))&&(!q||Y[0].length>q[0].length)){if(q=Y,V=re,this.options.backtrack_lexer){if(!1!==(c=this.test_match(Y,Z[re])))return c;if(this._backtrack){q=!1;continue}return!1}if(!this.options.flex)break}return q?!1!==(c=this.test_match(q,Z[V]))&&c:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){return this.next()||this.lex()},"lex"),begin:o(function(c){this.conditionStack.push(c)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(c){return(c=this.conditionStack.length-1-Math.abs(c||0))>=0?this.conditionStack[c]:"INITIAL"},"topState"),pushState:o(function(c){this.begin(c)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(c,q,Y,V){switch(Y){case 0:return 10;case 1:return c.getLogger().debug("Found space-block"),31;case 2:return c.getLogger().debug("Found nl-block"),31;case 3:return c.getLogger().debug("Found space-block"),29;case 4:c.getLogger().debug(".",q.yytext);break;case 5:c.getLogger().debug("_",q.yytext);break;case 6:return 5;case 7:return q.yytext=-1,28;case 8:return q.yytext=q.yytext.replace(/columns\s+/,""),c.getLogger().debug("COLUMNS (LEX)",q.yytext),28;case 9:case 77:case 78:case 100:this.pushState("md_string");break;case 10:return"MD_STR";case 11:case 35:case 80:this.popState();break;case 12:this.pushState("string");break;case 13:c.getLogger().debug("LEX: POPPING STR:",q.yytext),this.popState();break;case 14:return c.getLogger().debug("LEX: STR end:",q.yytext),"STR";case 15:return q.yytext=q.yytext.replace(/space\:/,""),c.getLogger().debug("SPACE NUM (LEX)",q.yytext),21;case 16:return q.yytext="1",c.getLogger().debug("COLUMNS (LEX)",q.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:case 39:case 41:case 42:case 45:return this.popState(),c.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),c.getLogger().debug("Lex: ))"),"NODE_DEND";case 43:return this.popState(),c.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),c.getLogger().debug("Lex: -)"),"NODE_DEND";case 46:return this.popState(),c.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),c.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),c.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:case 50:return this.popState(),c.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),c.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),c.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),c.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),c.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return c.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return c.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return c.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:case 60:case 61:case 62:case 65:return c.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return c.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 63:return c.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return c.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 66:case 67:case 68:case 69:case 70:case 71:case 72:return this.pushState("NODE"),36;case 73:return c.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),c.getLogger().debug("LEX ARR START"),38;case 75:return c.getLogger().debug("Lex: NODE_ID",q.yytext),32;case 76:return c.getLogger().debug("Lex: EOF",q.yytext),8;case 79:return"NODE_DESCR";case 81:c.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:c.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return c.getLogger().debug("LEX: NODE_DESCR:",q.yytext),"NODE_DESCR";case 84:c.getLogger().debug("LEX POPPING"),this.popState();break;case 85:c.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return q.yytext=q.yytext.replace(/^,\s*/,""),c.getLogger().debug("Lex (right): dir:",q.yytext),"DIR";case 87:return q.yytext=q.yytext.replace(/^,\s*/,""),c.getLogger().debug("Lex (left):",q.yytext),"DIR";case 88:return q.yytext=q.yytext.replace(/^,\s*/,""),c.getLogger().debug("Lex (x):",q.yytext),"DIR";case 89:return q.yytext=q.yytext.replace(/^,\s*/,""),c.getLogger().debug("Lex (y):",q.yytext),"DIR";case 90:return q.yytext=q.yytext.replace(/^,\s*/,""),c.getLogger().debug("Lex (up):",q.yytext),"DIR";case 91:return q.yytext=q.yytext.replace(/^,\s*/,""),c.getLogger().debug("Lex (down):",q.yytext),"DIR";case 92:return q.yytext="]>",c.getLogger().debug("Lex (ARROW_DIR end):",q.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return c.getLogger().debug("Lex: LINK","#"+q.yytext+"#"),15;case 94:case 95:case 96:return c.getLogger().debug("Lex: LINK",q.yytext),15;case 97:case 98:case 99:return c.getLogger().debug("Lex: START_LINK",q.yytext),this.pushState("LLABEL"),16;case 101:return c.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),c.getLogger().debug("Lex: LINK","#"+q.yytext+"#"),15;case 103:case 104:return this.popState(),c.getLogger().debug("Lex: LINK",q.yytext),15;case 105:return c.getLogger().debug("Lex: COLON",q.yytext),q.yytext=q.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};function b(){this.yy={}}return we.lexer=Te,o(b,"Parser"),b.prototype=we,we.Parser=b,new b}()).parser=gQe,fQe=gQe});function Krt(c){switch(V.debug("typeStr2Type",c),c){case"[]":return"square";case"()":return V.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function Qrt(c){return"=="===(V.debug("typeStr2Type",c),c)?"thick":"normal"}function Zrt(c){switch(c.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}var wQe,kQe,TQe,CQe,SQe,AQe,LQe,IQe,RQe,DQe,BQe,FQe,GQe,qQe,jQe,YQe,HQe,VQe,XQe,QQe,JQe,rZe,iZe,sZe,lZe,cZe,hZe,uZe,dZe,pZe,gZe,mZe,vZe,xZe,TZe,_Ze,SZe,AZe,NZe,IZe,RZe,DZe,OZe,PZe=M(()=>{BH(),ki(),hf(),Ae(),bp(),cf(),wQe=new Map,kQe=[],TQe=new Map,CQe="color",SQe="fill",AQe=Xp(),LQe=new Map,IQe=o(c=>op.sanitizeText(c,AQe),"sanitizeText"),RQe=o(function(c,q=""){let Y=LQe.get(c);Y||(Y={id:c,styles:[],textStyles:[]},LQe.set(c,Y)),q?.split(",").forEach(c=>{let q=c.replace(/([^;]*);/,"$1").trim();if(RegExp(CQe).exec(c)){let c=q.replace(SQe,"bgFill").replace(CQe,SQe);Y.textStyles.push(c)}Y.styles.push(q)})},"addStyleClass"),DQe=o(function(c,q=""){let Y=wQe.get(c);null!=q&&(Y.styles=q.split(","))},"addStyle2Node"),BQe=o(function(c,q){c.split(",").forEach(function(c){let Y=wQe.get(c);if(void 0===Y){let q=c.trim();Y={id:q,type:"na",children:[]},wQe.set(q,Y)}Y.classes||(Y.classes=[]),Y.classes.push(q)})},"setCssClass"),FQe=o((c,q)=>{let Y=c.flat(),V=[];for(let c of Y)if(c.label&&(c.label=IQe(c.label)),"classDef"!==c.type)if("applyClass"!==c.type)if("applyStyles"!==c.type)if("column-setting"===c.type)q.columns=c.columns??-1;else if("edge"===c.type){let q=(TQe.get(c.id)??0)+1;TQe.set(c.id,q),c.id=q+"-"+c.id,kQe.push(c)}else{c.label||("composite"===c.type?c.label="":c.label=c.id);let q=wQe.get(c.id);if(void 0===q?wQe.set(c.id,c):("na"!==c.type&&(q.type=c.type),c.label!==c.id&&(q.label=c.label)),c.children&&FQe(c.children,c),"space"===c.type){let q=c.width??1;for(let Y=0;Y<q;Y++){let q=PH(c);q.id=q.id+"-"+Y,wQe.set(q.id,q),V.push(q)}}else void 0===q&&V.push(c)}else c?.stylesStr&&DQe(c.id,c?.stylesStr);else BQe(c.id,c?.styleClass??"");else RQe(c.id,c.css);q.children=V},"populateBlockDatabase"),GQe=[],qQe={id:"root",type:"composite",children:[],columns:-1},jQe=o(()=>{V.debug("Clear called"),Mp(),qQe={id:"root",type:"composite",children:[],columns:-1},wQe=new Map([["root",qQe]]),GQe=[],LQe=new Map,kQe=[],TQe=new Map},"clear"),o(Krt,"typeStr2Type"),o(Qrt,"edgeTypeStr2Type"),o(Zrt,"edgeStrToEdgeData"),YQe=0,HQe=o(()=>(YQe++,"id-"+Math.random().toString(36).substr(2,12)+"-"+YQe),"generateId"),VQe=o(c=>{qQe.children=c,FQe(c,qQe),GQe=qQe.children},"setHierarchy"),XQe=o(c=>{let q=wQe.get(c);return q?q.columns?q.columns:q.children?q.children.length:-1:-1},"getColumns"),QQe=o(()=>[...wQe.values()],"getBlocksFlat"),JQe=o(()=>GQe||[],"getBlocks"),rZe=o(()=>kQe,"getEdges"),iZe=o(c=>wQe.get(c),"getBlock"),sZe=o(c=>{wQe.set(c.id,c)},"setBlock"),lZe=o(()=>console,"getLogger"),cZe=o(function(){return LQe},"getClasses"),hZe={getConfig:o(()=>bn().block,"getConfig"),typeStr2Type:Krt,edgeTypeStr2Type:Qrt,edgeStrToEdgeData:Zrt,getLogger:lZe,getBlocksFlat:QQe,getBlocks:JQe,getEdges:rZe,setHierarchy:VQe,getBlock:iZe,setBlock:sZe,getColumns:XQe,getClasses:cZe,clear:jQe,generateId:HQe},uZe=hZe}),FZe=M(()=>{hi(),dZe=o((c,q)=>{let Y=dr,V=Y(c,"r"),Z=Y(c,"g"),re=Y(c,"b");return hr(V,Z,re,q)},"fade"),pZe=o(c=>`.label {\n    font-family: ${c.fontFamily};\n    color: ${c.nodeTextColor||c.textColor};\n  }\n  .cluster-label text {\n    fill: ${c.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${c.titleColor};\n  }\n\n\n\n  .label text,span,p {\n    fill: ${c.nodeTextColor||c.textColor};\n    color: ${c.nodeTextColor||c.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${c.mainBkg};\n    stroke: ${c.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${c.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${c.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${c.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${c.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${c.edgeLabelBackground};\n      fill: ${c.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${dZe(c.edgeLabelBackground,.5)};\n    // background-color:\n  }\n\n  .node .cluster {\n    // fill: ${dZe(c.mainBkg,.5)};\n    fill: ${dZe(c.clusterBkg,.5)};\n    stroke: ${dZe(c.clusterBorder,.2)};\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${c.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${c.titleColor};\n  }\n  /* .cluster div {\n    color: ${c.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${c.fontFamily};\n    font-size: 12px;\n    background: ${c.tertiaryColor};\n    border: 1px solid ${c.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${c.textColor};\n  }\n`,"getStyles"),gZe=pZe}),GZe=M(()=>{Ae(),mZe=o((c,q,Y,V)=>{q.forEach(q=>{DZe[q](c,Y,V)})},"insertMarkers"),vZe=o((c,q,Y)=>{V.trace("Making markers for ",Y),c.append("defs").append("marker").attr("id",Y+"_"+q+"-extensionStart").attr("class","marker extension "+q).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-extensionEnd").attr("class","marker extension "+q).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),xZe=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-compositionStart").attr("class","marker composition "+q).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-compositionEnd").attr("class","marker composition "+q).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),TZe=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-aggregationStart").attr("class","marker aggregation "+q).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-aggregationEnd").attr("class","marker aggregation "+q).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),_Ze=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-dependencyStart").attr("class","marker dependency "+q).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id",Y+"_"+q+"-dependencyEnd").attr("class","marker dependency "+q).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),SZe=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-lollipopStart").attr("class","marker lollipop "+q).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),c.append("defs").append("marker").attr("id",Y+"_"+q+"-lollipopEnd").attr("class","marker lollipop "+q).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),AZe=o((c,q,Y)=>{c.append("marker").attr("id",Y+"_"+q+"-pointEnd").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),c.append("marker").attr("id",Y+"_"+q+"-pointStart").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),NZe=o((c,q,Y)=>{c.append("marker").attr("id",Y+"_"+q+"-circleEnd").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),c.append("marker").attr("id",Y+"_"+q+"-circleStart").attr("class","marker "+q).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),IZe=o((c,q,Y)=>{c.append("marker").attr("id",Y+"_"+q+"-crossEnd").attr("class","marker cross "+q).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),c.append("marker").attr("id",Y+"_"+q+"-crossStart").attr("class","marker cross "+q).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),RZe=o((c,q,Y)=>{c.append("defs").append("marker").attr("id",Y+"_"+q+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),DZe={extension:vZe,composition:xZe,aggregation:TZe,dependency:_Ze,lollipop:SZe,point:AZe,circle:NZe,cross:IZe,barb:RZe},OZe=mZe});function Tnt(c,q){if(0===c||!Number.isInteger(c))throw new Error("Columns must be an integer !== 0.");if(q<0||!Number.isInteger(q))throw new Error("Position must be a non-negative integer."+q);if(c<0)return{px:q,py:0};if(1===c)return{px:0,py:q};return{px:q%c,py:Math.floor(q/c)}}function JB(c,q,Y=0,Z=0){V.debug("setBlockSizes abc95 (start)",c.id,c?.size?.x,"block width =",c?.size,"sieblingWidth",Y),c?.size?.width||(c.size={width:Y,height:Z,x:0,y:0});let re=0,ae=0;if(c.children?.length>0){for(let Y of c.children)JB(Y,q);let se=jZe(c);re=se.width,ae=se.height,V.debug("setBlockSizes abc95 maxWidth of",c.id,":s children is ",re,ae);for(let q of c.children)q.size&&(V.debug(`abc95 Setting size of children of ${c.id} id=${q.id} ${re} ${ae} ${JSON.stringify(q.size)}`),q.size.width=re*(q.widthInColumns??1)+qZe*((q.widthInColumns??1)-1),q.size.height=ae,q.size.x=0,q.size.y=0,V.debug(`abc95 updating size of ${c.id} children child:${q.id} maxWidth:${re} maxHeight:${ae}`));for(let Y of c.children)JB(Y,q,re,ae);let oe=c.columns??-1,he=0;for(let q of c.children)he+=q.widthInColumns??1;let de=c.children.length;oe>0&&oe<he&&(de=oe);let pe=Math.ceil(he/de),ge=de*(re+qZe)+qZe,me=pe*(ae+qZe)+qZe;if(ge<Y){V.debug(`Detected to small siebling: abc95 ${c.id} sieblingWidth ${Y} sieblingHeight ${Z} width ${ge}`),ge=Y,me=Z;let q=(Y-de*qZe-qZe)/de,se=(Z-pe*qZe-qZe)/pe;V.debug("Size indata abc88",c.id,"childWidth",q,"maxWidth",re),V.debug("Size indata abc88",c.id,"childHeight",se,"maxHeight",ae),V.debug("Size indata abc88 xSize",de,"padding",qZe);for(let Y of c.children)Y.size&&(Y.size.width=q,Y.size.height=se,Y.size.x=0,Y.size.y=0)}if(V.debug(`abc95 (finale calc) ${c.id} xSize ${de} ySize ${pe} columns ${oe}${c.children.length} width=${Math.max(ge,c.size?.width||0)}`),ge<(c?.size?.width||0)){ge=c?.size?.width||0;let q=oe>0?Math.min(c.children.length,oe):c.children.length;if(q>0){let Y=(ge-q*qZe-qZe)/q;V.debug("abc95 (growing to fit) width",c.id,ge,c.size?.width,Y);for(let q of c.children)q.size&&(q.size.width=Y)}}c.size={width:ge,height:me,x:0,y:0}}V.debug("setBlockSizes abc94 (done)",c.id,c?.size?.x,c?.size?.width,c?.size?.y,c?.size?.height)}function ove(c,q){V.debug(`abc85 layout blocks (=>layoutBlocks) ${c.id} x: ${c?.size?.x} y: ${c?.size?.y} width: ${c?.size?.width}`);let Y=c.columns??-1;if(V.debug("layoutBlocks columns abc95",c.id,"=>",Y,c),c.children&&c.children.length>0){let Z=c?.children[0]?.size?.width??0,re=c.children.length*Z+(c.children.length-1)*qZe;V.debug("widthOfChildren 88",re,"posX");let ae=0;V.debug("abc91 block?.size?.x",c.id,c?.size?.x);let se=c?.size?.x?c?.size?.x+(-c?.size?.width/2||0):-qZe,oe=0;for(let Z of c.children){let re=c;if(!Z.size)continue;let{width:he,height:de}=Z.size,{px:pe,py:ge}=Tnt(Y,ae);if(ge!=oe&&(oe=ge,se=c?.size?.x?c?.size?.x+(-c?.size?.width/2||0):-qZe,V.debug("New row in layout for block",c.id," and child ",Z.id,oe)),V.debug(`abc89 layout blocks (child) id: ${Z.id} Pos: ${ae} (px, py) ${pe},${ge} (${re?.size?.x},${re?.size?.y}) parent: ${re.id} width: ${he}${qZe}`),re.size){let c=he/2;Z.size.x=se+qZe+c,V.debug(`abc91 layout blocks (calc) px, pyid:${Z.id} startingPos=X${se} new startingPosX${Z.size.x} ${c} padding=${qZe} width=${he} halfWidth=${c} => x:${Z.size.x} y:${Z.size.y} ${Z.widthInColumns} (width * (child?.w || 1)) / 2 ${he*(Z?.widthInColumns??1)/2}`),se=Z.size.x+c,Z.size.y=re.size.y-re.size.height/2+ge*(de+qZe)+de/2+qZe,V.debug(`abc88 layout blocks (calc) px, pyid:${Z.id}startingPosX${se}${qZe}${c}=>x:${Z.size.x}y:${Z.size.y}${Z.widthInColumns}(width * (child?.w || 1)) / 2${he*(Z?.widthInColumns??1)/2}`)}Z.children&&ove(Z,q),ae+=Z?.widthInColumns??1,V.debug("abc88 columnsPos",Z,ae)}}V.debug(`layout blocks (<==layoutBlocks) ${c.id} x: ${c?.size?.x} y: ${c?.size?.y} width: ${c?.size?.width}`)}function lve(c,{minX:q,minY:Y,maxX:V,maxY:Z}={minX:0,minY:0,maxX:0,maxY:0}){if(c.size&&"root"!==c.id){let{x:re,y:ae,width:se,height:oe}=c.size;re-se/2<q&&(q=re-se/2),ae-oe/2<Y&&(Y=ae-oe/2),re+se/2>V&&(V=re+se/2),ae+oe/2>Z&&(Z=ae+oe/2)}if(c.children)for(let re of c.children)({minX:q,minY:Y,maxX:V,maxY:Z}=lve(re,{minX:q,minY:Y,maxX:V,maxY:Z}));return{minX:q,minY:Y,maxX:V,maxY:Z}}function cve(c){let q=c.getBlock("root");if(!q)return;JB(q,c,0,0),ove(q,c),V.debug("getBlocks",JSON.stringify(q,null,2));let{minX:Y,minY:Z,maxX:re,maxY:ae}=lve(q);return{x:Y,y:Z,width:re-Y,height:ae-Z}}var qZe,jZe,YZe=M(()=>{Ae(),hf(),qZe=Xp()?.block?.padding??8,o(Tnt,"calculateBlockPosition"),jZe=o(c=>{let q=0,Y=0;for(let Z of c.children){let{width:re,height:ae,x:se,y:oe}=Z.size??{width:0,height:0,x:0,y:0};V.debug("getMaxChildSize abc95 child:",Z.id,"width:",re,"height:",ae,"x:",se,"y:",oe,Z.type),"space"!==Z.type&&(re>q&&(q=re/(c.widthInColumns??1)),ae>Y&&(Y=ae))}return{width:q,height:Y}},"getMaxChildSize"),o(JB,"setBlockSizes"),o(ove,"layoutBlocks"),o(lve,"findBounds"),o(cve,"layout")});function hve(c,q){q&&c.attr("style",q)}function Ent(c){let q=ze(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),Y=q.append("xhtml:div"),V=c.label,Z=c.isNode?"nodeLabel":"edgeLabel",re=Y.append("span");return re.html(V),hve(re,c.labelStyle),re.attr("class",Z),hve(Y,c.labelStyle),Y.style("display","inline-block"),Y.style("white-space","nowrap"),Y.attr("xmlns","http://www.w3.org/1999/xhtml"),q.node()}var HZe,VZe,XZe,KZe,QZe,ZZe=M(()=>{U_(),Ae(),hf(),bp(),yM(),pO(),o(hve,"applyStyle"),o(Ent,"addHtmlLabel"),HZe=o((c,q,Y,Z)=>{let re=c||"";if("object"==typeof re&&(re=re[0]),zd(Xp().flowchart.htmlLabels)){return re=re.replace(/\\n|\n/g,"<br />"),V.debug("vertexText"+re),Ent({isNode:Z,label:x9(dM(re)),labelStyle:q.replace("fill:","color:")})}{let c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("style",q.replace("color:","fill:"));let V=[];V="string"==typeof re?re.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(re)?re:[];for(let q of V){let V=document.createElementNS("http://www.w3.org/2000/svg","tspan");V.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),V.setAttribute("dy","1em"),V.setAttribute("x","0"),Y?V.setAttribute("class","title-row"):V.setAttribute("class","row"),V.textContent=q.trim(),c.appendChild(V)}return c}},"createLabel"),VZe=HZe}),JZe=M(()=>{Ae(),XZe=o((c,q,Y,V,Z)=>{q.arrowTypeStart&&QZe(c,"start",q.arrowTypeStart,Y,V,Z),q.arrowTypeEnd&&QZe(c,"end",q.arrowTypeEnd,Y,V,Z)},"addEdgeMarkers"),KZe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},QZe=o((c,q,Y,Z,re,ae)=>{let se=KZe[Y];if(!se)return void V.warn(`Unknown arrow type: ${Y}`);let oe="start"===q?"Start":"End";c.attr(`marker-${q}`,`url(${Z}#${re}_${ae}-${se}${oe})`)},"addEdgeMarker")});function J6(c,q){Xp().flowchart.htmlLabels&&c&&(c.style.width=9*q.length+"px",c.style.height="12px")}var eJe,tJe,rJe,nJe,iJe,aJe,sJe,oJe,lJe,cJe,hJe=M(()=>{Ae(),ZZe(),pO(),U_(),hf(),yM(),bp(),AG(),bG(),JZe(),eJe={},tJe={},rJe=o((c,q)=>{let Y=Xp(),V=zd(Y.flowchart.htmlLabels),Z="markdown"===q.labelType?dO(c,q.label,{style:q.labelStyle,useHtmlLabels:V,addSvgBackground:!0},Y):VZe(q.label,q.labelStyle),re=c.insert("g").attr("class","edgeLabel"),ae=re.insert("g").attr("class","label");ae.node().appendChild(Z);let se,oe=Z.getBBox();if(V){let c=Z.children[0],q=ze(Z);oe=c.getBoundingClientRect(),q.attr("width",oe.width),q.attr("height",oe.height)}if(ae.attr("transform","translate("+-oe.width/2+", "+-oe.height/2+")"),eJe[q.id]=re,q.width=oe.width,q.height=oe.height,q.startLabelLeft){let Y=VZe(q.startLabelLeft,q.labelStyle),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),tJe[q.id]||(tJe[q.id]={}),tJe[q.id].startLeft=V,J6(se,q.startLabelLeft)}if(q.startLabelRight){let Y=VZe(q.startLabelRight,q.labelStyle),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=V.node().appendChild(Y),Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),tJe[q.id]||(tJe[q.id]={}),tJe[q.id].startRight=V,J6(se,q.startLabelRight)}if(q.endLabelLeft){let Y=VZe(q.endLabelLeft,q.labelStyle),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),V.node().appendChild(Y),tJe[q.id]||(tJe[q.id]={}),tJe[q.id].endLeft=V,J6(se,q.endLabelLeft)}if(q.endLabelRight){let Y=VZe(q.endLabelRight,q.labelStyle),V=c.insert("g").attr("class","edgeTerminals"),Z=V.insert("g").attr("class","inner");se=Z.node().appendChild(Y);let re=Y.getBBox();Z.attr("transform","translate("+-re.width/2+", "+-re.height/2+")"),V.node().appendChild(Y),tJe[q.id]||(tJe[q.id]={}),tJe[q.id].endRight=V,J6(se,q.endLabelRight)}return Z},"insertEdgeLabel"),o(J6,"setTerminalWidth"),nJe=o((c,q)=>{V.debug("Moving label abc88 ",c.id,c.label,eJe[c.id],q);let Y=q.updatedPath?q.updatedPath:q.originalPath,Z=Xp(),{subGraphTitleTotalMargin:re}=nG(Z);if(c.label){let Z=eJe[c.id],ae=c.x,se=c.y;if(Y){let Z=hM.calcLabelPosition(Y);V.debug("Moving label "+c.label+" from (",ae,",",se,") to (",Z.x,",",Z.y,") abc88"),q.updatedPath&&(ae=Z.x,se=Z.y)}Z.attr("transform",`translate(${ae}, ${se+re/2})`)}if(c.startLabelLeft){let q=tJe[c.id].startLeft,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeStart?10:0,"start_left",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}if(c.startLabelRight){let q=tJe[c.id].startRight,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeStart?10:0,"start_right",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}if(c.endLabelLeft){let q=tJe[c.id].endLeft,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeEnd?10:0,"end_left",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}if(c.endLabelRight){let q=tJe[c.id].endRight,V=c.x,Z=c.y;if(Y){let q=hM.calcTerminalLabelPosition(c.arrowTypeEnd?10:0,"end_right",Y);V=q.x,Z=q.y}q.attr("transform",`translate(${V}, ${Z})`)}},"positionEdgeLabel"),iJe=o((c,q)=>{let Y=c.x,V=c.y,Z=Math.abs(q.x-Y),re=Math.abs(q.y-V),ae=c.width/2,se=c.height/2;return Z>=ae||re>=se},"outsideNode"),aJe=o((c,q,Y)=>{V.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(q)}\n  insidePoint : ${JSON.stringify(Y)}\n  node        : x:${c.x} y:${c.y} w:${c.width} h:${c.height}`);let Z=c.x,re=c.y,ae=Math.abs(Z-Y.x),se=c.width/2,oe=Y.x<q.x?se-ae:se+ae,he=c.height/2,de=Math.abs(q.y-Y.y),pe=Math.abs(q.x-Y.x);if(Math.abs(re-q.y)*se>Math.abs(Z-q.x)*he){let c=Y.y<q.y?q.y-he-re:re-he-q.y;oe=pe*c/de;let Z={x:Y.x<q.x?Y.x+oe:Y.x-pe+oe,y:Y.y<q.y?Y.y+de-c:Y.y-de+c};return 0===oe&&(Z.x=q.x,Z.y=q.y),0===pe&&(Z.x=q.x),0===de&&(Z.y=q.y),V.debug(`abc89 topp/bott calc, Q ${de}, q ${c}, R ${pe}, r ${oe}`,Z),Z}{oe=Y.x<q.x?q.x-se-Z:Z-se-q.x;let c=de*oe/pe,re=Y.x<q.x?Y.x+pe-oe:Y.x-pe+oe,ae=Y.y<q.y?Y.y+c:Y.y-c;return V.debug(`sides calc abc89, Q ${de}, q ${c}, R ${pe}, r ${oe}`,{_x:re,_y:ae}),0===oe&&(re=q.x,ae=q.y),0===pe&&(re=q.x),0===de&&(ae=q.y),{x:re,y:ae}}},"intersection"),sJe=o((c,q)=>{V.debug("abc88 cutPathAtIntersect",c,q);let Y=[],Z=c[0],re=!1;return c.forEach(c=>{if(iJe(q,c)||re)Z=c,re||Y.push(c);else{let V=aJe(q,Z,c),ae=!1;Y.forEach(c=>{ae=ae||c.x===V.x&&c.y===V.y}),Y.some(c=>c.x===V.x&&c.y===V.y)||Y.push(V),re=!0}}),Y},"cutPathAtIntersect"),oJe=o(function(c,q,Y,Z,re,ae,se){let oe=Y.points;V.debug("abc88 InsertEdge: edge=",Y,"e=",q);let he=!1,de=ae.node(q.v);var pe=ae.node(q.w);pe?.intersect&&de?.intersect&&(oe=oe.slice(1,Y.points.length-1),oe.unshift(de.intersect(oe[0])),oe.push(pe.intersect(oe[oe.length-1]))),Y.toCluster&&(V.debug("to cluster abc88",Z[Y.toCluster]),oe=sJe(Y.points,Z[Y.toCluster].node),he=!0),Y.fromCluster&&(V.debug("from cluster abc88",Z[Y.fromCluster]),oe=sJe(oe.reverse(),Z[Y.fromCluster].node).reverse(),he=!0);let ge=oe.filter(c=>!Number.isNaN(c.y)),me=Do;Y.curve&&("graph"===re||"flowchart"===re)&&(me=Y.curve);let ve,{x:be,y:we}=_G(Y),Te=Ka().x(be).y(we).curve(me);switch(Y.thickness){case"normal":ve="edge-thickness-normal";break;case"thick":case"invisible":ve="edge-thickness-thick";break;default:ve=""}switch(Y.pattern){case"solid":ve+=" edge-pattern-solid";break;case"dotted":ve+=" edge-pattern-dotted";break;case"dashed":ve+=" edge-pattern-dashed"}let _e=c.append("path").attr("d",Te(ge)).attr("id",Y.id).attr("class"," "+ve+(Y.classes?" "+Y.classes:"")).attr("style",Y.style),Ee="";(Xp().flowchart.arrowMarkerAbsolute||Xp().state.arrowMarkerAbsolute)&&(Ee=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ee=Ee.replace(/\(/g,"\\("),Ee=Ee.replace(/\)/g,"\\)")),XZe(_e,Y,Ee,se,re);let Ce={};return he&&(Ce.updatedPath=oe),Ce.originalPath=Y.points,Ce},"insertEdge")}),dJe=M(()=>{lJe=o(c=>{let q=new Set;for(let Y of c)switch(Y){case"x":q.add("right"),q.add("left");break;case"y":q.add("up"),q.add("down");break;default:q.add(Y)}return q},"expandAndDeduplicateDirections"),cJe=o((c,q,Y)=>{let V=lJe(c),Z=q.height+2*Y.padding,re=Z/2,ae=q.width+2*re+Y.padding,se=Y.padding/2;return V.has("right")&&V.has("left")&&V.has("up")&&V.has("down")?[{x:0,y:0},{x:re,y:0},{x:ae/2,y:2*se},{x:ae-re,y:0},{x:ae,y:0},{x:ae,y:-Z/3},{x:ae+2*se,y:-Z/2},{x:ae,y:-2*Z/3},{x:ae,y:-Z},{x:ae-re,y:-Z},{x:ae/2,y:-Z-2*se},{x:re,y:-Z},{x:0,y:-Z},{x:0,y:-2*Z/3},{x:-2*se,y:-Z/2},{x:0,y:-Z/3}]:V.has("right")&&V.has("left")&&V.has("up")?[{x:re,y:0},{x:ae-re,y:0},{x:ae,y:-Z/2},{x:ae-re,y:-Z},{x:re,y:-Z},{x:0,y:-Z/2}]:V.has("right")&&V.has("left")&&V.has("down")?[{x:0,y:0},{x:re,y:-Z},{x:ae-re,y:-Z},{x:ae,y:0}]:V.has("right")&&V.has("up")&&V.has("down")?[{x:0,y:0},{x:ae,y:-re},{x:ae,y:-Z+re},{x:0,y:-Z}]:V.has("left")&&V.has("up")&&V.has("down")?[{x:ae,y:0},{x:0,y:-re},{x:0,y:-Z+re},{x:ae,y:-Z}]:V.has("right")&&V.has("left")?[{x:re,y:0},{x:re,y:-se},{x:ae-re,y:-se},{x:ae-re,y:0},{x:ae,y:-Z/2},{x:ae-re,y:-Z},{x:ae-re,y:-Z+se},{x:re,y:-Z+se},{x:re,y:-Z},{x:0,y:-Z/2}]:V.has("up")&&V.has("down")?[{x:ae/2,y:0},{x:0,y:-se},{x:re,y:-se},{x:re,y:-Z+se},{x:0,y:-Z+se},{x:ae/2,y:-Z},{x:ae,y:-Z+se},{x:ae-re,y:-Z+se},{x:ae-re,y:-se},{x:ae,y:-se}]:V.has("right")&&V.has("up")?[{x:0,y:0},{x:ae,y:-re},{x:0,y:-Z}]:V.has("right")&&V.has("down")?[{x:0,y:0},{x:ae,y:0},{x:0,y:-Z}]:V.has("left")&&V.has("up")?[{x:ae,y:0},{x:0,y:-re},{x:ae,y:-Z}]:V.has("left")&&V.has("down")?[{x:ae,y:0},{x:0,y:0},{x:ae,y:-Z}]:V.has("right")?[{x:re,y:-se},{x:re,y:-se},{x:ae-re,y:-se},{x:ae-re,y:0},{x:ae,y:-Z/2},{x:ae-re,y:-Z},{x:ae-re,y:-Z+se},{x:re,y:-Z+se},{x:re,y:-Z+se}]:V.has("left")?[{x:re,y:0},{x:re,y:-se},{x:ae-re,y:-se},{x:ae-re,y:-Z+se},{x:re,y:-Z+se},{x:re,y:-Z},{x:0,y:-Z/2}]:V.has("up")?[{x:re,y:-se},{x:re,y:-Z+se},{x:0,y:-Z+se},{x:ae/2,y:-Z},{x:ae,y:-Z+se},{x:ae-re,y:-Z+se},{x:ae-re,y:-se}]:V.has("down")?[{x:ae/2,y:0},{x:0,y:-se},{x:re,y:-se},{x:re,y:-Z+se},{x:ae-re,y:-Z+se},{x:ae-re,y:-se},{x:ae,y:-se}]:[{x:0,y:0}]},"getArrowPoints")});function Dnt(c,q){return c.intersect(q)}var pJe,gJe=M(()=>{o(Dnt,"intersectNode"),pJe=Dnt});function Nnt(c,q,Y,V){var Z=c.x,re=c.y,ae=Z-V.x,se=re-V.y,oe=Math.sqrt(q*q*se*se+Y*Y*ae*ae),he=Math.abs(q*Y*ae/oe);V.x<Z&&(he=-he);var de=Math.abs(q*Y*se/oe);return V.y<re&&(de=-de),{x:Z+he,y:re+de}}var fJe,mJe=M(()=>{o(Nnt,"intersectEllipse"),fJe=Nnt});function Rnt(c,q,Y){return fJe(c,q,q,Y)}var yJe,vJe=M(()=>{mJe(),o(Rnt,"intersectCircle"),yJe=Rnt});function Mnt(c,q,Y,V){var Z,re,ae,se,oe,he,de,pe,ge,me,ve,be,we;if(Z=q.y-c.y,ae=c.x-q.x,oe=q.x*c.y-c.x*q.y,ge=Z*Y.x+ae*Y.y+oe,me=Z*V.x+ae*V.y+oe,!(0!==ge&&0!==me&&Cve(ge,me)||(re=V.y-Y.y,se=Y.x-V.x,he=V.x*Y.y-Y.x*V.y,de=re*c.x+se*c.y+he,pe=re*q.x+se*q.y+he,0!==de&&0!==pe&&Cve(de,pe)||(ve=Z*se-re*ae,0===ve))))return be=Math.abs(ve/2),{x:(we=ae*he-se*oe)<0?(we-be)/ve:(we+be)/ve,y:(we=re*oe-Z*he)<0?(we-be)/ve:(we+be)/ve}}function Cve(c,q){return c*q>0}var xJe,bJe=M(()=>{o(Mnt,"intersectLine"),o(Cve,"sameSign"),xJe=Mnt});function Int(c,q,Y){var V=c.x,Z=c.y,re=[],ae=Number.POSITIVE_INFINITY,se=Number.POSITIVE_INFINITY;"function"==typeof q.forEach?q.forEach(function(c){ae=Math.min(ae,c.x),se=Math.min(se,c.y)}):(ae=Math.min(ae,q.x),se=Math.min(se,q.y));for(var oe=V-c.width/2-ae,he=Z-c.height/2-se,de=0;de<q.length;de++){var pe=q[de],ge=q[de<q.length-1?de+1:0],me=xJe(c,Y,{x:oe+pe.x,y:he+pe.y},{x:oe+ge.x,y:he+ge.y});me&&re.push(me)}return re.length?(re.length>1&&re.sort(function(c,q){var V=c.x-Y.x,Z=c.y-Y.y,re=Math.sqrt(V*V+Z*Z),ae=q.x-Y.x,se=q.y-Y.y,oe=Math.sqrt(ae*ae+se*se);return re<oe?-1:re===oe?0:1}),re[0]):c}var wJe,kJe,TJe,_Je,EJe=M(()=>{bJe(),wJe=Int,o(Int,"intersectPolygon")}),CJe=M(()=>{kJe=o((c,q)=>{var Y,V,Z=c.x,re=c.y,ae=q.x-Z,se=q.y-re,oe=c.width/2,he=c.height/2;return Math.abs(se)*oe>Math.abs(ae)*he?(se<0&&(he=-he),Y=0===se?0:he*ae/se,V=he):(ae<0&&(oe=-oe),Y=oe,V=0===ae?0:oe*se/ae),{x:Z+Y,y:re+V}},"intersectRect"),TJe=kJe}),SJe=M(()=>{gJe(),vJe(),mJe(),EJe(),CJe(),_Je={node:pJe,circle:yJe,ellipse:fJe,polygon:wJe,rect:TJe}});function Xl(c,q,Y,V){return c.insert("polygon",":first-child").attr("points",V.map(function(c){return c.x+","+c.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-q/2+","+Y/2+")")}var AJe,LJe,NJe,IJe,MJe=M(()=>{ZZe(),pO(),hf(),U_(),bp(),yM(),AJe=o(async(c,q,Y,V)=>{let Z,re=Xp(),ae=q.useHtmlLabels||zd(re.flowchart.htmlLabels);Z=Y||"node default";let se,oe=c.insert("g").attr("class",Z).attr("id",q.domId||q.id),he=oe.insert("g").attr("class","label").attr("style",q.labelStyle);se=void 0===q.labelText?"":"string"==typeof q.labelText?q.labelText:q.labelText[0];let de,pe=he.node();de="markdown"===q.labelType?dO(he,Md(dM(se),re),{useHtmlLabels:ae,width:q.width||re.flowchart.wrappingWidth,classes:"markdown-node-label"},re):pe.appendChild(VZe(Md(dM(se),re),q.labelStyle,!1,V));let ge=de.getBBox(),me=q.padding/2;if(zd(re.flowchart.htmlLabels)){let c=de.children[0],q=ze(de),Y=c.getElementsByTagName("img");if(Y){let c=""===se.replace(/<img[^>]*>/g,"").trim();await Promise.all([...Y].map(q=>new Promise(Y=>{function _(){if(q.style.display="flex",q.style.flexDirection="column",c){let c=re.fontSize?re.fontSize:window.getComputedStyle(document.body).fontSize,Y=5*parseInt(c,10)+"px";q.style.minWidth=Y,q.style.maxWidth=Y}else q.style.width="100%";Y(q)}o(_,"setupImage"),setTimeout(()=>{q.complete&&_()}),q.addEventListener("error",_),q.addEventListener("load",_)})))}ge=c.getBoundingClientRect(),q.attr("width",ge.width),q.attr("height",ge.height)}return ae?he.attr("transform","translate("+-ge.width/2+", "+-ge.height/2+")"):he.attr("transform","translate(0, "+-ge.height/2+")"),q.centerLabel&&he.attr("transform","translate("+-ge.width/2+", "+-ge.height/2+")"),he.insert("rect",":first-child"),{shapeSvg:oe,bbox:ge,halfPadding:me,label:he}},"labelHelper"),LJe=o((c,q)=>{let Y=q.node().getBBox();c.width=Y.width,c.height=Y.height},"updateNodeBounds"),o(Xl,"insertPolygonShape")}),RJe=M(()=>{MJe(),Ae(),hf(),SJe(),NJe=o(async(c,q)=>{q.useHtmlLabels||Xp().flowchart.htmlLabels||(q.centerLabel=!0);let{shapeSvg:Y,bbox:Z,halfPadding:re}=await AJe(c,q,"node "+q.classes,!0);V.info("Classes = ",q.classes);let ae=Y.insert("rect",":first-child");return ae.attr("rx",q.rx).attr("ry",q.ry).attr("x",-Z.width/2-re).attr("y",-Z.height/2-re).attr("width",Z.width+q.padding).attr("height",Z.height+q.padding),LJe(q,ae),q.intersect=function(c){return _Je.rect(q,c)},Y},"note"),IJe=NJe});function iF(c,q,Y,Z){let re=[],ae=o(c=>{re.push(c,0)},"addBorder"),se=o(c=>{re.push(0,c)},"skipBorder");q.includes("t")?(V.debug("add top border"),ae(Y)):se(Y),q.includes("r")?(V.debug("add right border"),ae(Z)):se(Z),q.includes("b")?(V.debug("add bottom border"),ae(Y)):se(Y),q.includes("l")?(V.debug("add left border"),ae(Z)):se(Z),c.attr("stroke-dasharray",re.join(" "))}var DJe,OJe,PJe,BJe,FJe,$Je,zJe,qJe,jJe,YJe,WJe,HJe,XJe,KJe,QJe,ZJe,JJe,e0e,t0e,r0e,n0e,i0e,a0e,o0e,l0e,c0e,h0e,u0e,d0e,p0e=M(()=>{U_(),hf(),bp(),Ae(),dJe(),ZZe(),SJe(),RJe(),MJe(),DJe=o(c=>c?" "+c:"","formatClass"),OJe=o((c,q)=>`${q||"node default"}${DJe(c.classes)} ${DJe(c.class)}`,"getClassesFromNode"),PJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:Z}=await AJe(c,q,OJe(q,void 0),!0),re=Z.width+q.padding+(Z.height+q.padding),ae=[{x:re/2,y:0},{x:re,y:-re/2},{x:re/2,y:-re},{x:0,y:-re/2}];V.info("Question main (Circle)");let se=Xl(Y,re,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return V.warn("Intersect called"),_Je.polygon(q,ae,c)},Y},"question"),BJe=o((c,q)=>{let Y=c.insert("g").attr("class","node default").attr("id",q.domId||q.id),V=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return Y.insert("polygon",":first-child").attr("points",V.map(function(c){return c.x+","+c.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),q.width=28,q.height=28,q.intersect=function(c){return _Je.circle(q,14,c)},Y},"choice"),FJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.height+q.padding,re=Z/4,ae=V.width+2*re+q.padding,se=[{x:re,y:0},{x:ae-re,y:0},{x:ae,y:-Z/2},{x:ae-re,y:-Z},{x:re,y:-Z},{x:0,y:-Z/2}],oe=Xl(Y,ae,Z,se);return oe.attr("style",q.style),LJe(q,oe),q.intersect=function(c){return _Je.polygon(q,se,c)},Y},"hexagon"),$Je=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,void 0,!0),Z=V.height+2*q.padding,re=Z/2,ae=V.width+2*re+q.padding,se=cJe(q.directions,V,q),oe=Xl(Y,ae,Z,se);return oe.attr("style",q.style),LJe(q,oe),q.intersect=function(c){return _Je.polygon(q,se,c)},Y},"block_arrow"),zJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:-re/2,y:0},{x:Z,y:0},{x:Z,y:-re},{x:-re/2,y:-re},{x:0,y:-re/2}];return Xl(Y,Z,re,ae).attr("style",q.style),q.width=Z+re,q.height=re,q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"rect_left_inv_arrow"),qJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:-2*re/6,y:0},{x:Z-re/6,y:0},{x:Z+2*re/6,y:-re},{x:re/6,y:-re}],se=Xl(Y,Z,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"lean_right"),jJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:2*re/6,y:0},{x:Z+re/6,y:0},{x:Z-2*re/6,y:-re},{x:-re/6,y:-re}],se=Xl(Y,Z,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"lean_left"),YJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:-2*re/6,y:0},{x:Z+2*re/6,y:0},{x:Z-re/6,y:-re},{x:re/6,y:-re}],se=Xl(Y,Z,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"trapezoid"),WJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:re/6,y:0},{x:Z-re/6,y:0},{x:Z+2*re/6,y:-re},{x:-2*re/6,y:-re}],se=Xl(Y,Z,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"inv_trapezoid"),HJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:0,y:0},{x:Z+re/2,y:0},{x:Z,y:-re/2},{x:Z+re/2,y:-re},{x:0,y:-re}],se=Xl(Y,Z,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"rect_right_inv_arrow"),XJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=Z/2,ae=re/(2.5+Z/50),se=V.height+ae+q.padding,oe="M 0,"+ae+" a "+re+","+ae+" 0,0,0 "+Z+" 0 a "+re+","+ae+" 0,0,0 "+-Z+" 0 l 0,"+se+" a "+re+","+ae+" 0,0,0 "+Z+" 0 l 0,"+-se,he=Y.attr("label-offset-y",ae).insert("path",":first-child").attr("style",q.style).attr("d",oe).attr("transform","translate("+-Z/2+","+-(se/2+ae)+")");return LJe(q,he),q.intersect=function(c){let Y=_Je.rect(q,c),V=Y.x-q.x;if(0!=re&&(Math.abs(V)<q.width/2||Math.abs(V)==q.width/2&&Math.abs(Y.y-q.y)>q.height/2-ae)){let Z=ae*ae*(1-V*V/(re*re));0!=Z&&(Z=Math.sqrt(Z)),Z=ae-Z,c.y-q.y>0&&(Z=-Z),Y.y+=Z}return Y},Y},"cylinder"),KJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:Z,halfPadding:re}=await AJe(c,q,"node "+q.classes+" "+q.class,!0),ae=Y.insert("rect",":first-child"),se=q.positioned?q.width:Z.width+q.padding,oe=q.positioned?q.height:Z.height+q.padding,he=q.positioned?-se/2:-Z.width/2-re,de=q.positioned?-oe/2:-Z.height/2-re;if(ae.attr("class","basic label-container").attr("style",q.style).attr("rx",q.rx).attr("ry",q.ry).attr("x",he).attr("y",de).attr("width",se).attr("height",oe),q.props){let c=new Set(Object.keys(q.props));q.props.borders&&(iF(ae,q.props.borders,se,oe),c.delete("borders")),c.forEach(c=>{V.warn(`Unknown node property ${c}`)})}return LJe(q,ae),q.intersect=function(c){return _Je.rect(q,c)},Y},"rect"),QJe=o(async(c,q)=>{let{shapeSvg:Y,bbox:Z,halfPadding:re}=await AJe(c,q,"node "+q.classes,!0),ae=Y.insert("rect",":first-child"),se=q.positioned?q.width:Z.width+q.padding,oe=q.positioned?q.height:Z.height+q.padding,he=q.positioned?-se/2:-Z.width/2-re,de=q.positioned?-oe/2:-Z.height/2-re;if(ae.attr("class","basic cluster composite label-container").attr("style",q.style).attr("rx",q.rx).attr("ry",q.ry).attr("x",he).attr("y",de).attr("width",se).attr("height",oe),q.props){let c=new Set(Object.keys(q.props));q.props.borders&&(iF(ae,q.props.borders,se,oe),c.delete("borders")),c.forEach(c=>{V.warn(`Unknown node property ${c}`)})}return LJe(q,ae),q.intersect=function(c){return _Je.rect(q,c)},Y},"composite"),ZJe=o(async(c,q)=>{let{shapeSvg:Y}=await AJe(c,q,"label",!0);V.trace("Classes = ",q.class);let Z=Y.insert("rect",":first-child");if(Z.attr("width",0).attr("height",0),Y.attr("class","label edgeLabel"),q.props){let c=new Set(Object.keys(q.props));q.props.borders&&(iF(Z,q.props.borders,0,0),c.delete("borders")),c.forEach(c=>{V.warn(`Unknown node property ${c}`)})}return LJe(q,Z),q.intersect=function(c){return _Je.rect(q,c)},Y},"labelRect"),o(iF,"applyNodePropertyBorders"),JJe=o((c,q)=>{let Y;Y=q.classes?"node "+q.classes:"node default";let Z=c.insert("g").attr("class",Y).attr("id",q.domId||q.id),re=Z.insert("rect",":first-child"),ae=Z.insert("line"),se=Z.insert("g").attr("class","label"),oe=q.labelText.flat?q.labelText.flat():q.labelText,he="";he="object"==typeof oe?oe[0]:oe,V.info("Label text abc79",he,oe,"object"==typeof oe);let de=se.node().appendChild(VZe(he,q.labelStyle,!0,!0)),pe={width:0,height:0};if(zd(Xp().flowchart.htmlLabels)){let c=de.children[0],q=ze(de);pe=c.getBoundingClientRect(),q.attr("width",pe.width),q.attr("height",pe.height)}V.info("Text 2",oe);let ge=oe.slice(1,oe.length),me=de.getBBox(),ve=se.node().appendChild(VZe(ge.join?ge.join("<br/>"):ge,q.labelStyle,!0,!0));if(zd(Xp().flowchart.htmlLabels)){let c=ve.children[0],q=ze(ve);pe=c.getBoundingClientRect(),q.attr("width",pe.width),q.attr("height",pe.height)}let be=q.padding/2;return ze(ve).attr("transform","translate( "+(pe.width>me.width?0:(me.width-pe.width)/2)+", "+(me.height+be+5)+")"),ze(de).attr("transform","translate( "+(pe.width<me.width?0:-(me.width-pe.width)/2)+", 0)"),pe=se.node().getBBox(),se.attr("transform","translate("+-pe.width/2+", "+(-pe.height/2-be+3)+")"),re.attr("class","outer title-state").attr("x",-pe.width/2-be).attr("y",-pe.height/2-be).attr("width",pe.width+q.padding).attr("height",pe.height+q.padding),ae.attr("class","divider").attr("x1",-pe.width/2-be).attr("x2",pe.width/2+be).attr("y1",-pe.height/2-be+me.height+be).attr("y2",-pe.height/2-be+me.height+be),LJe(q,re),q.intersect=function(c){return _Je.rect(q,c)},Z},"rectWithTitle"),e0e=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.height+q.padding,re=V.width+Z/4+q.padding,ae=Y.insert("rect",":first-child").attr("style",q.style).attr("rx",Z/2).attr("ry",Z/2).attr("x",-re/2).attr("y",-Z/2).attr("width",re).attr("height",Z);return LJe(q,ae),q.intersect=function(c){return _Je.rect(q,c)},Y},"stadium"),t0e=o(async(c,q)=>{let{shapeSvg:Y,bbox:Z,halfPadding:re}=await AJe(c,q,OJe(q,void 0),!0),ae=Y.insert("circle",":first-child");return ae.attr("style",q.style).attr("rx",q.rx).attr("ry",q.ry).attr("r",Z.width/2+re).attr("width",Z.width+q.padding).attr("height",Z.height+q.padding),V.info("Circle main"),LJe(q,ae),q.intersect=function(c){return V.info("Circle intersect",q,Z.width/2+re,c),_Je.circle(q,Z.width/2+re,c)},Y},"circle"),r0e=o(async(c,q)=>{let{shapeSvg:Y,bbox:Z,halfPadding:re}=await AJe(c,q,OJe(q,void 0),!0),ae=Y.insert("g",":first-child"),se=ae.insert("circle"),oe=ae.insert("circle");return ae.attr("class",q.class),se.attr("style",q.style).attr("rx",q.rx).attr("ry",q.ry).attr("r",Z.width/2+re+5).attr("width",Z.width+q.padding+10).attr("height",Z.height+q.padding+10),oe.attr("style",q.style).attr("rx",q.rx).attr("ry",q.ry).attr("r",Z.width/2+re).attr("width",Z.width+q.padding).attr("height",Z.height+q.padding),V.info("DoubleCircle main"),LJe(q,se),q.intersect=function(c){return V.info("DoubleCircle intersect",q,Z.width/2+re+5,c),_Je.circle(q,Z.width/2+re+5,c)},Y},"doublecircle"),n0e=o(async(c,q)=>{let{shapeSvg:Y,bbox:V}=await AJe(c,q,OJe(q,void 0),!0),Z=V.width+q.padding,re=V.height+q.padding,ae=[{x:0,y:0},{x:Z,y:0},{x:Z,y:-re},{x:0,y:-re},{x:0,y:0},{x:-8,y:0},{x:Z+8,y:0},{x:Z+8,y:-re},{x:-8,y:-re},{x:-8,y:0}],se=Xl(Y,Z,re,ae);return se.attr("style",q.style),LJe(q,se),q.intersect=function(c){return _Je.polygon(q,ae,c)},Y},"subroutine"),i0e=o((c,q)=>{let Y=c.insert("g").attr("class","node default").attr("id",q.domId||q.id),V=Y.insert("circle",":first-child");return V.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),LJe(q,V),q.intersect=function(c){return _Je.circle(q,7,c)},Y},"start"),a0e=o((c,q,Y)=>{let V=c.insert("g").attr("class","node default").attr("id",q.domId||q.id),Z=70,re=10;"LR"===Y&&(Z=10,re=70);let ae=V.append("rect").attr("x",-1*Z/2).attr("y",-1*re/2).attr("width",Z).attr("height",re).attr("class","fork-join");return LJe(q,ae),q.height=q.height+q.padding/2,q.width=q.width+q.padding/2,q.intersect=function(c){return _Je.rect(q,c)},V},"forkJoin"),o0e=o((c,q)=>{let Y=c.insert("g").attr("class","node default").attr("id",q.domId||q.id),V=Y.insert("circle",":first-child"),Z=Y.insert("circle",":first-child");return Z.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),V.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),LJe(q,Z),q.intersect=function(c){return _Je.circle(q,7,c)},Y},"end"),l0e=o((c,q)=>{let Y,V=q.padding/2;Y=q.classes?"node "+q.classes:"node default";let Z=c.insert("g").attr("class",Y).attr("id",q.domId||q.id),re=Z.insert("rect",":first-child"),ae=Z.insert("line"),se=Z.insert("line"),oe=0,he=4,de=Z.insert("g").attr("class","label"),pe=0,ge=q.classData.annotations?.[0],me=q.classData.annotations[0]?"«"+q.classData.annotations[0]+"»":"",ve=de.node().appendChild(VZe(me,q.labelStyle,!0,!0)),be=ve.getBBox();if(zd(Xp().flowchart.htmlLabels)){let c=ve.children[0],q=ze(ve);be=c.getBoundingClientRect(),q.attr("width",be.width),q.attr("height",be.height)}q.classData.annotations[0]&&(he+=be.height+4,oe+=be.width);let we=q.classData.label;void 0!==q.classData.type&&""!==q.classData.type&&(Xp().flowchart.htmlLabels?we+="&lt;"+q.classData.type+"&gt;":we+="<"+q.classData.type+">");let Te=de.node().appendChild(VZe(we,q.labelStyle,!0,!0));ze(Te).attr("class","classTitle");let _e=Te.getBBox();if(zd(Xp().flowchart.htmlLabels)){let c=Te.children[0],q=ze(Te);_e=c.getBoundingClientRect(),q.attr("width",_e.width),q.attr("height",_e.height)}he+=_e.height+4,_e.width>oe&&(oe=_e.width);let Ee=[];q.classData.members.forEach(c=>{let Y=c.getDisplayDetails(),V=Y.displayText;Xp().flowchart.htmlLabels&&(V=V.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let Z=de.node().appendChild(VZe(V,Y.cssStyle?Y.cssStyle:q.labelStyle,!0,!0)),re=Z.getBBox();if(zd(Xp().flowchart.htmlLabels)){let c=Z.children[0],q=ze(Z);re=c.getBoundingClientRect(),q.attr("width",re.width),q.attr("height",re.height)}re.width>oe&&(oe=re.width),he+=re.height+4,Ee.push(Z)}),he+=8;let Ce=[];if(q.classData.methods.forEach(c=>{let Y=c.getDisplayDetails(),V=Y.displayText;Xp().flowchart.htmlLabels&&(V=V.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let Z=de.node().appendChild(VZe(V,Y.cssStyle?Y.cssStyle:q.labelStyle,!0,!0)),re=Z.getBBox();if(zd(Xp().flowchart.htmlLabels)){let c=Z.children[0],q=ze(Z);re=c.getBoundingClientRect(),q.attr("width",re.width),q.attr("height",re.height)}re.width>oe&&(oe=re.width),he+=re.height+4,Ce.push(Z)}),he+=8,ge){let c=(oe-be.width)/2;ze(ve).attr("transform","translate( "+(-1*oe/2+c)+", "+-1*he/2+")"),pe=be.height+4}let Se=(oe-_e.width)/2;return ze(Te).attr("transform","translate( "+(-1*oe/2+Se)+", "+(-1*he/2+pe)+")"),pe+=_e.height+4,ae.attr("class","divider").attr("x1",-oe/2-V).attr("x2",oe/2+V).attr("y1",-he/2-V+8+pe).attr("y2",-he/2-V+8+pe),pe+=8,Ee.forEach(c=>{ze(c).attr("transform","translate( "+-oe/2+", "+(-1*he/2+pe+4)+")");let q=c?.getBBox();pe+=(q?.height??0)+4}),pe+=8,se.attr("class","divider").attr("x1",-oe/2-V).attr("x2",oe/2+V).attr("y1",-he/2-V+8+pe).attr("y2",-he/2-V+8+pe),pe+=8,Ce.forEach(c=>{ze(c).attr("transform","translate( "+-oe/2+", "+(-1*he/2+pe)+")");let q=c?.getBBox();pe+=(q?.height??0)+4}),re.attr("style",q.style).attr("class","outer title-state").attr("x",-oe/2-V).attr("y",-he/2-V).attr("width",oe+q.padding).attr("height",he+q.padding),LJe(q,re),q.intersect=function(c){return _Je.rect(q,c)},Z},"class_box"),c0e={rhombus:PJe,composite:QJe,question:PJe,rect:KJe,labelRect:ZJe,rectWithTitle:JJe,choice:BJe,circle:t0e,doublecircle:r0e,stadium:e0e,hexagon:FJe,block_arrow:$Je,rect_left_inv_arrow:zJe,lean_right:qJe,lean_left:jJe,trapezoid:YJe,inv_trapezoid:WJe,rect_right_inv_arrow:HJe,cylinder:XJe,start:i0e,end:o0e,note:IJe,subroutine:n0e,fork:a0e,join:a0e,class_box:l0e},h0e={},u0e=o(async(c,q,Y)=>{let V,Z;if(q.link){let re;"sandbox"===Xp().securityLevel?re="_top":q.linkTarget&&(re=q.linkTarget||"_blank"),V=c.insert("svg:a").attr("xlink:href",q.link).attr("target",re),Z=await c0e[q.shape](V,q,Y)}else Z=await c0e[q.shape](c,q,Y),V=Z;return q.tooltip&&Z.attr("title",q.tooltip),q.class&&Z.attr("class","node default "+q.class),h0e[q.id]=V,q.haveCallback&&h0e[q.id].attr("class",h0e[q.id].attr("class")+" clickable"),V},"insertNode"),d0e=o(c=>{let q=h0e[c.id];V.trace("Transforming node",c.diff,c,"translate("+(c.x-c.width/2-5)+", "+c.width/2+")");let Y=c.diff||0;return c.clusterNode?q.attr("transform","translate("+(c.x+Y-c.width/2)+", "+(c.y-c.height/2-8)+")"):q.attr("transform","translate("+c.x+", "+c.y+")"),Y},"positionNode")});function $ve(c,q,Y=!1){let V=c,Z="default";(V?.classes?.length||0)>0&&(Z=(V?.classes??[]).join(" ")),Z+=" flowchart-label";let re,ae=0,se="";switch(V.type){case"round":ae=5,se="rect";break;case"composite":ae=0,se="composite",re=0;break;case"square":case"group":default:se="rect";break;case"diamond":se="question";break;case"hexagon":se="hexagon";break;case"block_arrow":se="block_arrow";break;case"odd":case"rect_left_inv_arrow":se="rect_left_inv_arrow";break;case"lean_right":se="lean_right";break;case"lean_left":se="lean_left";break;case"trapezoid":se="trapezoid";break;case"inv_trapezoid":se="inv_trapezoid";break;case"circle":se="circle";break;case"ellipse":se="ellipse";break;case"stadium":se="stadium";break;case"subroutine":se="subroutine";break;case"cylinder":se="cylinder";break;case"doublecircle":se="doublecircle"}let oe=J_(V?.styles??[]),he=V.label,de=V.size??{width:0,height:0,x:0,y:0};return{labelStyle:oe.labelStyle,shape:se,labelText:he,rx:ae,ry:ae,class:Z,style:oe.style,id:V.id,directions:V.directions,width:de.width,height:de.height,x:de.x,y:de.y,positioned:Y,intersect:void 0,type:V.type,padding:re??bn()?.block?.padding??0}}async function iit(c,q,Y){let V=$ve(q,0,!1);if("group"===V.type)return;let Z=bn(),re=await u0e(c,V,{config:Z}),ae=re.node().getBBox(),se=Y.getBlock(V.id);se.size={width:ae.width,height:ae.height,x:0,y:0,node:re},Y.setBlock(se),re.remove()}async function ait(c,q,Y){let V=$ve(q,0,!0);if("space"!==Y.getBlock(V.id).type){let Y=bn();await u0e(c,V,{config:Y}),q.intersect=V?.intersect,d0e(V)}}async function sF(c,q,Y,V){for(let Z of q)await V(c,Z,Y),Z.children&&await sF(c,Z.children,Y,V)}async function Vve(c,q,Y){await sF(c,q,Y,iit)}async function Uve(c,q,Y){await sF(c,q,Y,ait)}async function Hve(c,q,Y,V,Z){let re=new c1({multigraph:!0,compound:!0});re.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let c of Y)c.size&&re.setNode(c.id,{width:c.size.width,height:c.size.height,intersect:c.intersect});for(let Y of q)if(Y.start&&Y.end){let q=V.getBlock(Y.start),ae=V.getBlock(Y.end);if(q?.size&&ae?.size){let V=q.size,se=ae.size,oe=[{x:V.x,y:V.y},{x:V.x+(se.x-V.x)/2,y:V.y+(se.y-V.y)/2},{x:se.x,y:se.y}];oJe(c,{v:Y.start,w:Y.end,name:Y.id},{...Y,arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:oe,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",re,Z),Y.label&&(await rJe(c,{...Y,label:Y.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:oe,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),nJe({...Y,x:oe[1].x,y:oe[1].y},{originalPath:oe}))}}}var g0e,f0e,m0e,y0e=M(()=>{u1(),ki(),hJe(),p0e(),yM(),o($ve,"getNodeFromBlock"),o(iit,"calculateBlockSize"),o(ait,"insertBlockPositioned"),o(sF,"performOperations"),o(Vve,"calculateBlockSizes"),o(Uve,"insertBlocks"),o(Hve,"insertEdges")}),v0e=M(()=>{U_(),ki(),GZe(),Ae(),kp(),YZe(),y0e(),g0e=o(function(c,q){return q.db.getClasses()},"getClasses"),f0e=o(async function(c,q,Y,Z){let re,{securityLevel:ae,block:se}=bn(),oe=Z.db;"sandbox"===ae&&(re=ze("#i"+q));let he=ze("sandbox"===ae?re.nodes()[0].contentDocument.body:"body"),de="sandbox"===ae?he.select(`[id="${q}"]`):ze(`[id="${q}"]`);OZe(de,["point","circle","cross"],Z.type,q);let pe=oe.getBlocks(),ge=oe.getBlocksFlat(),me=oe.getEdges(),ve=de.insert("g").attr("class","block");await Vve(ve,pe,oe);let be=cve(oe);if(await Uve(ve,pe,oe),await Hve(ve,me,ge,oe,q),be){let c=be,q=Math.max(1,Math.round(c.width/c.height*.125)),Y=c.height+q+10,Z=c.width+10,{useMaxWidth:re}=se;hp(de,Y,Z,!!re),V.debug("Here Bounds",be,c),de.attr("viewBox",`${c.x-5} ${c.y-5} ${c.width+10} ${c.height+10}`)}},"draw"),m0e={draw:f0e,getClasses:g0e}}),x0e={};vr(x0e,{diagram:()=>b0e});var b0e,w0e,k0e,T0e,_0e,E0e,C0e,S0e,A0e,L0e,N0e,I0e,M0e,R0e,D0e,O0e,P0e,B0e,F0e=M(()=>{bQe(),PZe(),FZe(),v0e(),b0e={parser:fQe,db:uZe,renderer:m0e,styles:gZe}}),$0e=M(()=>{w0e={L:"left",R:"right",T:"top",B:"bottom"},k0e={L:o(c=>`${c},${c/2} 0,${c} 0,0`,"L"),R:o(c=>`0,${c/2} ${c},0 ${c},${c}`,"R"),T:o(c=>`0,0 ${c},0 ${c/2},${c}`,"T"),B:o(c=>`${c/2},0 ${c},${c} 0,${c}`,"B")},T0e={L:o((c,q)=>c-q+2,"L"),R:o((c,q)=>c-2,"R"),T:o((c,q)=>c-q+2,"T"),B:o((c,q)=>c-2,"B")},_0e=o(function(c){return C0e(c)?"L"===c?"R":"L":"T"===c?"B":"T"},"getOppositeArchitectureDirection"),E0e=o(function(c){return"L"===c||"R"===c||"T"===c||"B"===c},"isArchitectureDirection"),C0e=o(function(c){return"L"===c||"R"===c},"isArchitectureDirectionX"),S0e=o(function(c){return"T"===c||"B"===c},"isArchitectureDirectionY"),A0e=o(function(c,q){let Y=C0e(c)&&S0e(q),V=S0e(c)&&C0e(q);return Y||V},"isArchitectureDirectionXY"),L0e=o(function(c){let q=c[0],Y=c[1],V=C0e(q)&&S0e(Y),Z=S0e(q)&&C0e(Y);return V||Z},"isArchitecturePairXY"),N0e=o(function(c){return"LL"!==c&&"RR"!==c&&"TT"!==c&&"BB"!==c},"isValidArchitectureDirectionPair"),I0e=o(function(c,q){let Y=`${c}${q}`;return N0e(Y)?Y:void 0},"getArchitectureDirectionPair"),M0e=o(function([c,q],Y){let V=Y[0],Z=Y[1];return C0e(V)?S0e(Z)?[c+("L"===V?-1:1),q+("T"===Z?1:-1)]:[c+("L"===V?-1:1),q]:C0e(Z)?[c+("L"===Z?1:-1),q+("T"===V?1:-1)]:[c,q+("T"===V?1:-1)]},"shiftPositionByArchitectureDirectionPair"),R0e=o(function(c){return"LT"===c||"TL"===c?[1,1]:"BL"===c||"LB"===c?[1,-1]:"BR"===c||"RB"===c?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),D0e=o(function(c){return"service"===c.type},"isArchitectureService"),O0e=o(function(c){return"junction"===c.type},"isArchitectureJunction"),P0e=o(c=>c.data(),"edgeData"),B0e=o(c=>c.data(),"nodeData")});function Li(c){let q=Xp().architecture;return q?.[c]?q[c]:z0e[c]}var z0e,G0e,U0e,q0e,j0e,Y0e,W0e,H0e,V0e,X0e,K0e,Q0e,Z0e,J0e,e1e,a1e,s1e,c1e,h1e,u1e,d1e,p1e,g1e,f1e,m1e,y1e,v1e,x1e=M(()=>{bi(),hf(),uhe(),cf(),$0e(),z0e=nn.architecture,G0e=new lhe(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:z0e,dataStructures:void 0,elements:{}})),U0e=o(()=>{G0e.reset(),Mp()},"clear"),q0e=o(function({id:c,icon:q,in:Y,title:V,iconText:Z}){if(void 0!==G0e.records.registeredIds[c])throw new Error(`The service id [${c}] is already in use by another ${G0e.records.registeredIds[c]}`);if(void 0!==Y){if(c===Y)throw new Error(`The service [${c}] cannot be placed within itself`);if(void 0===G0e.records.registeredIds[Y])throw new Error(`The service [${c}]'s parent does not exist. Please make sure the parent is created before this service`);if("node"===G0e.records.registeredIds[Y])throw new Error(`The service [${c}]'s parent is not a group`)}G0e.records.registeredIds[c]="node",G0e.records.nodes[c]={id:c,type:"service",icon:q,iconText:Z,title:V,edges:[],in:Y}},"addService"),j0e=o(()=>Object.values(G0e.records.nodes).filter(D0e),"getServices"),Y0e=o(function({id:c,in:q}){G0e.records.registeredIds[c]="node",G0e.records.nodes[c]={id:c,type:"junction",edges:[],in:q}},"addJunction"),W0e=o(()=>Object.values(G0e.records.nodes).filter(O0e),"getJunctions"),H0e=o(()=>Object.values(G0e.records.nodes),"getNodes"),V0e=o(c=>G0e.records.nodes[c],"getNode"),X0e=o(function({id:c,icon:q,in:Y,title:V}){if(void 0!==G0e.records.registeredIds[c])throw new Error(`The group id [${c}] is already in use by another ${G0e.records.registeredIds[c]}`);if(void 0!==Y){if(c===Y)throw new Error(`The group [${c}] cannot be placed within itself`);if(void 0===G0e.records.registeredIds[Y])throw new Error(`The group [${c}]'s parent does not exist. Please make sure the parent is created before this group`);if("node"===G0e.records.registeredIds[Y])throw new Error(`The group [${c}]'s parent is not a group`)}G0e.records.registeredIds[c]="group",G0e.records.groups[c]={id:c,icon:q,title:V,in:Y}},"addGroup"),K0e=o(()=>Object.values(G0e.records.groups),"getGroups"),Q0e=o(function({lhsId:c,rhsId:q,lhsDir:Y,rhsDir:V,lhsInto:Z,rhsInto:re,lhsGroup:ae,rhsGroup:se,title:oe}){if(!E0e(Y))throw new Error(`Invalid direction given for left hand side of edge ${c}--${q}. Expected (L,R,T,B) got ${Y}`);if(!E0e(V))throw new Error(`Invalid direction given for right hand side of edge ${c}--${q}. Expected (L,R,T,B) got ${V}`);if(void 0===G0e.records.nodes[c]&&void 0===G0e.records.groups[c])throw new Error(`The left-hand id [${c}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(void 0===G0e.records.nodes[q]&&void 0===G0e.records.groups[c])throw new Error(`The right-hand id [${q}] does not yet exist. Please create the service/group before declaring an edge to it.`);let he=G0e.records.nodes[c].in,de=G0e.records.nodes[q].in;if(ae&&he&&de&&he==de)throw new Error(`The left-hand id [${c}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(se&&he&&de&&he==de)throw new Error(`The right-hand id [${q}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let pe={lhsId:c,lhsDir:Y,lhsInto:Z,lhsGroup:ae,rhsId:q,rhsDir:V,rhsInto:re,rhsGroup:se,title:oe};G0e.records.edges.push(pe),G0e.records.nodes[c]&&G0e.records.nodes[q]&&(G0e.records.nodes[c].edges.push(G0e.records.edges[G0e.records.edges.length-1]),G0e.records.nodes[q].edges.push(G0e.records.edges[G0e.records.edges.length-1]))},"addEdge"),Z0e=o(()=>G0e.records.edges,"getEdges"),J0e=o(()=>{if(void 0===G0e.records.dataStructures){let c=Object.entries(G0e.records.nodes).reduce((c,[q,Y])=>(c[q]=Y.edges.reduce((c,Y)=>{if(Y.lhsId===q){let q=I0e(Y.lhsDir,Y.rhsDir);q&&(c[q]=Y.rhsId)}else{let q=I0e(Y.rhsDir,Y.lhsDir);q&&(c[q]=Y.lhsId)}return c},{}),c),{}),q=Object.keys(c)[0],Y={[q]:1},V=Object.keys(c).reduce((c,Y)=>Y===q?c:{...c,[Y]:1},{}),Z=o(q=>{let Z={[q]:[0,0]},re=[q];for(;re.length>0;){let q=re.shift();if(q){Y[q]=1,delete V[q];let ae=c[q],[se,oe]=Z[q];Object.entries(ae).forEach(([c,q])=>{Y[q]||(Z[q]=M0e([se,oe],c),re.push(q))})}}return Z},"BFS"),re=[Z(q)];for(;Object.keys(V).length>0;)re.push(Z(Object.keys(V)[0]));G0e.records.dataStructures={adjList:c,spatialMaps:re}}return G0e.records.dataStructures},"getDataStructures"),e1e=o((c,q)=>{G0e.records.elements[c]=q},"setElementForId"),a1e=o(c=>G0e.records.elements[c],"getElementById"),s1e={clear:U0e,setDiagramTitle:Yp,getDiagramTitle:Wp,setAccTitle:Rp,getAccTitle:Fp,setAccDescription:qp,getAccDescription:jp,addService:q0e,getServices:j0e,addJunction:Y0e,getJunctions:W0e,getNodes:H0e,getNode:V0e,addGroup:X0e,getGroups:K0e,addEdge:Q0e,getEdges:Z0e,setElementForId:e1e,getElementById:a1e,getDataStructures:J0e},o(Li,"getConfigField")}),b1e=M(()=>{ahe(),Ae(),che(),x1e(),c1e=o((c,q)=>{lf(c,q),c.groups.map(q.addGroup),c.services.map(c=>q.addService({...c,type:"service"})),c.junctions.map(c=>q.addJunction({...c,type:"junction"})),c.edges.map(q.addEdge)},"populateDb"),h1e={parse:o(async c=>{let q=await Gl("architecture",c);V.debug(q),c1e(q,s1e)},"parse")}}),T1e=M(()=>{u1e=o(c=>`\n  .edge {\n    stroke-width: ${c.archEdgeWidth};\n    stroke: ${c.archEdgeColor};\n    fill: none;\n  }\n\n  .arrow {\n    fill: ${c.archEdgeArrowColor};\n  }\n\n  .node-bkg {\n    fill: none;\n    stroke: ${c.archGroupBorderColor};\n    stroke-width: ${c.archGroupBorderWidth};\n    stroke-dasharray: 8;\n  }\n  .node-icon-text {\n    display: flex; \n    align-items: center;\n  }\n  \n  .node-icon-text > div {\n    color: #fff;\n    margin: 1px;\n    height: fit-content;\n    text-align: center;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n`,"getStyles"),d1e=u1e}),_1e=Ni((c,q)=>{o(function(Y,V){"object"==typeof c&&"object"==typeof q?q.exports=V():"function"==typeof define&&define.amd?define([],V):"object"==typeof c?c.layoutBase=V():Y.layoutBase=V()},"webpackUniversalModuleDefinition")(c,function(){return function(c){var q={};function r(Y){if(q[Y])return q[Y].exports;var V=q[Y]={i:Y,l:!1,exports:{}};return c[Y].call(V.exports,V,V.exports,r),V.l=!0,V.exports}return o(r,"__webpack_require__"),r.m=c,r.c=q,r.i=function(c){return c},r.d=function(c,q,Y){r.o(c,q)||Object.defineProperty(c,q,{configurable:!1,enumerable:!0,get:Y})},r.n=function(c){var q=c&&c.__esModule?o(function(){return c.default},"getDefault"):o(function(){return c},"getModuleExports");return r.d(q,"a",q),q},r.o=function(c,q){return Object.prototype.hasOwnProperty.call(c,q)},r.p="",r(r.s=28)}([function(c,q,Y){function n(){}o(n,"LayoutConstants"),n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,c.exports=n},function(c,q,Y){var V=Y(2),Z=Y(8),re=Y(9);function s(c,q,Y){V.call(this,Y),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=Y,this.bendpoints=[],this.source=c,this.target=q}for(var ae in o(s,"LEdge"),s.prototype=Object.create(V.prototype),V)s[ae]=V[ae];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(c,q){for(var Y=this.getOtherEnd(c),V=q.getGraphManager().getRoot();;){if(Y.getOwner()==q)return Y;if(Y.getOwner()==V)break;Y=Y.getOwner().getParent()}return null},s.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=Z.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=re.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=re.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=re.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=re.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},c.exports=s},function(c,q,Y){function n(c){this.vGraphObject=c}o(n,"LGraphObject"),c.exports=n},function(c,q,Y){var V=Y(2),Z=Y(10),re=Y(13),ae=Y(0),se=Y(16),oe=Y(5);function h(c,q,Y,ae){null==Y&&null==ae&&(ae=q),V.call(this,ae),null!=c.graphManager&&(c=c.graphManager),this.estimatedSize=Z.MIN_VALUE,this.inclusionTreeDepth=Z.MAX_VALUE,this.vGraphObject=ae,this.edges=[],this.graphManager=c,this.rect=null!=Y&&null!=q?new re(q.x,q.y,Y.width,Y.height):new re}for(var he in o(h,"LNode"),h.prototype=Object.create(V.prototype),V)h[he]=V[he];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(c){this.rect.width=c},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(c){this.rect.height=c},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new oe(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new oe(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(c,q){this.rect.x=c.x,this.rect.y=c.y,this.rect.width=q.width,this.rect.height=q.height},h.prototype.setCenter=function(c,q){this.rect.x=c-this.rect.width/2,this.rect.y=q-this.rect.height/2},h.prototype.setLocation=function(c,q){this.rect.x=c,this.rect.y=q},h.prototype.moveBy=function(c,q){this.rect.x+=c,this.rect.y+=q},h.prototype.getEdgeListToNode=function(c){var q=[],Y=this;return Y.edges.forEach(function(V){if(V.target==c){if(V.source!=Y)throw"Incorrect edge source!";q.push(V)}}),q},h.prototype.getEdgesBetween=function(c){var q=[],Y=this;return Y.edges.forEach(function(V){if(V.source!=Y&&V.target!=Y)throw"Incorrect edge source and/or target";(V.target==c||V.source==c)&&q.push(V)}),q},h.prototype.getNeighborsList=function(){var c=new Set,q=this;return q.edges.forEach(function(Y){if(Y.source==q)c.add(Y.target);else{if(Y.target!=q)throw"Incorrect incidency!";c.add(Y.source)}}),c},h.prototype.withChildren=function(){var c=new Set;if(c.add(this),null!=this.child)for(var q=this.child.getNodes(),Y=0;Y<q.length;Y++)q[Y].withChildren().forEach(function(q){c.add(q)});return c},h.prototype.getNoOfChildren=function(){var c=0;if(null==this.child)c=1;else for(var q=this.child.getNodes(),Y=0;Y<q.length;Y++)c+=q[Y].getNoOfChildren();return 0==c&&(c=1),c},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==Z.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var c,q,Y=-ae.INITIAL_WORLD_BOUNDARY,V=ae.INITIAL_WORLD_BOUNDARY;c=ae.WORLD_CENTER_X+se.nextDouble()*(V-Y)+Y;var Z=-ae.INITIAL_WORLD_BOUNDARY,re=ae.INITIAL_WORLD_BOUNDARY;q=ae.WORLD_CENTER_Y+se.nextDouble()*(re-Z)+Z,this.rect.x=c,this.rect.y=q},h.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var c=this.getChild();if(c.updateBounds(!0),this.rect.x=c.getLeft(),this.rect.y=c.getTop(),this.setWidth(c.getRight()-c.getLeft()),this.setHeight(c.getBottom()-c.getTop()),ae.NODE_DIMENSIONS_INCLUDE_LABELS){var q=c.getRight()-c.getLeft(),Y=c.getBottom()-c.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(q+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>q?(this.rect.x-=(this.labelWidth-q)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(q+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(Y+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>Y?(this.rect.y-=(this.labelHeight-Y)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(Y+this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==Z.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(c){var q=this.rect.x;q>ae.WORLD_BOUNDARY?q=ae.WORLD_BOUNDARY:q<-ae.WORLD_BOUNDARY&&(q=-ae.WORLD_BOUNDARY);var Y=this.rect.y;Y>ae.WORLD_BOUNDARY?Y=ae.WORLD_BOUNDARY:Y<-ae.WORLD_BOUNDARY&&(Y=-ae.WORLD_BOUNDARY);var V=new oe(q,Y),Z=c.inverseTransformPoint(V);this.setLocation(Z.x,Z.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},c.exports=h},function(c,q,Y){var V=Y(0);function i(){}for(var Z in o(i,"FDLayoutConstants"),V)i[Z]=V[Z];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,c.exports=i},function(c,q,Y){function n(c,q){null==c&&null==q?(this.x=0,this.y=0):(this.x=c,this.y=q)}o(n,"PointD"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(c){this.x=c},n.prototype.setY=function(c){this.y=c},n.prototype.getDifference=function(c){return new DimensionD(this.x-c.x,this.y-c.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(c){return this.x+=c.width,this.y+=c.height,this},c.exports=n},function(c,q,Y){var V=Y(2),Z=Y(10),re=Y(0),ae=Y(7),se=Y(3),oe=Y(1),he=Y(13),de=Y(12),pe=Y(11);function p(c,q,Y){V.call(this,Y),this.estimatedSize=Z.MIN_VALUE,this.margin=re.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=c,null!=q&&q instanceof ae?this.graphManager=q:null!=q&&q instanceof Layout&&(this.graphManager=q.graphManager)}for(var ge in o(p,"LGraph"),p.prototype=Object.create(V.prototype),V)p[ge]=V[ge];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(c,q,Y){if(null==q&&null==Y){var V=c;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(V)>-1)throw"Node already in graph!";return V.owner=this,this.getNodes().push(V),V}var Z=c;if(!(this.getNodes().indexOf(q)>-1&&this.getNodes().indexOf(Y)>-1))throw"Source or target not in graph!";if(q.owner!=Y.owner||q.owner!=this)throw"Both owners must be this graph!";return q.owner!=Y.owner?null:(Z.source=q,Z.target=Y,Z.isInterGraph=!1,this.getEdges().push(Z),q.edges.push(Z),Y!=q&&Y.edges.push(Z),Z)},p.prototype.remove=function(c){var q=c;if(c instanceof se){if(null==q)throw"Node is null!";if(null==q.owner||q.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var Y=q.edges.slice(),V=Y.length,Z=0;Z<V;Z++)(re=Y[Z]).isInterGraph?this.graphManager.remove(re):re.source.owner.remove(re);if(-1==(ae=this.nodes.indexOf(q)))throw"Node not in owner node list!";this.nodes.splice(ae,1)}else if(c instanceof oe){var re;if(null==(re=c))throw"Edge is null!";if(null==re.source||null==re.target)throw"Source and/or target is null!";if(null==re.source.owner||null==re.target.owner||re.source.owner!=this||re.target.owner!=this)throw"Source and/or target owner is invalid!";var ae,he=re.source.edges.indexOf(re),de=re.target.edges.indexOf(re);if(!(he>-1&&de>-1))throw"Source and/or target doesn't know this edge!";if(re.source.edges.splice(he,1),re.target!=re.source&&re.target.edges.splice(de,1),-1==(ae=re.source.owner.getEdges().indexOf(re)))throw"Not in owner's edge list!";re.source.owner.getEdges().splice(ae,1)}},p.prototype.updateLeftTop=function(){for(var c,q,Y,V=Z.MAX_VALUE,re=Z.MAX_VALUE,ae=this.getNodes(),se=ae.length,oe=0;oe<se;oe++){var he=ae[oe];V>(c=he.getTop())&&(V=c),re>(q=he.getLeft())&&(re=q)}return V==Z.MAX_VALUE?null:(Y=null!=ae[0].getParent().paddingLeft?ae[0].getParent().paddingLeft:this.margin,this.left=re-Y,this.top=V-Y,new de(this.left,this.top))},p.prototype.updateBounds=function(c){for(var q,Y,V,re,ae,se=Z.MAX_VALUE,oe=-Z.MAX_VALUE,de=Z.MAX_VALUE,pe=-Z.MAX_VALUE,ge=this.nodes,me=ge.length,ve=0;ve<me;ve++){var be=ge[ve];c&&null!=be.child&&be.updateBounds(),se>(q=be.getLeft())&&(se=q),oe<(Y=be.getRight())&&(oe=Y),de>(V=be.getTop())&&(de=V),pe<(re=be.getBottom())&&(pe=re)}var we=new he(se,de,oe-se,pe-de);se==Z.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),ae=null!=ge[0].getParent().paddingLeft?ge[0].getParent().paddingLeft:this.margin,this.left=we.x-ae,this.right=we.x+we.width+ae,this.top=we.y-ae,this.bottom=we.y+we.height+ae},p.calculateBounds=function(c){for(var q,Y,V,re,ae=Z.MAX_VALUE,se=-Z.MAX_VALUE,oe=Z.MAX_VALUE,de=-Z.MAX_VALUE,pe=c.length,ge=0;ge<pe;ge++){var me=c[ge];ae>(q=me.getLeft())&&(ae=q),se<(Y=me.getRight())&&(se=Y),oe>(V=me.getTop())&&(oe=V),de<(re=me.getBottom())&&(de=re)}return new he(ae,oe,se-ae,de-oe)},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==Z.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var c=0,q=this.nodes,Y=q.length,V=0;V<Y;V++){c+=q[V].calcEstimatedSize()}return this.estimatedSize=0==c?re.EMPTY_COMPOUND_NODE_SIZE:c/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var c=this;if(0!=this.nodes.length){var q,Y,V=new pe,Z=new Set,re=this.nodes[0];for(re.withChildren().forEach(function(c){V.push(c),Z.add(c)});0!==V.length;)for(var ae=(q=(re=V.shift()).getEdges()).length,se=0;se<ae;se++){if(null!=(Y=q[se].getOtherEndInGraph(re,this))&&!Z.has(Y))Y.withChildren().forEach(function(c){V.push(c),Z.add(c)})}if(this.isConnected=!1,Z.size>=this.nodes.length){var oe=0;Z.forEach(function(q){q.owner==c&&oe++}),oe==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},c.exports=p},function(c,q,Y){var V,Z=Y(1);function a(c){V=Y(6),this.layout=c,this.graphs=[],this.edges=[]}o(a,"LGraphManager"),a.prototype.addRoot=function(){var c=this.layout.newGraph(),q=this.layout.newNode(null),Y=this.add(c,q);return this.setRootGraph(Y),this.rootGraph},a.prototype.add=function(c,q,Y,V,Z){if(null==Y&&null==V&&null==Z){if(null==c)throw"Graph is null!";if(null==q)throw"Parent node is null!";if(this.graphs.indexOf(c)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(c),null!=c.parent)throw"Already has a parent!";if(null!=q.child)throw"Already has a child!";return c.parent=q,q.child=c,c}Z=Y,Y=c;var re=(V=q).getOwner(),ae=Z.getOwner();if(null==re||re.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==ae||ae.getGraphManager()!=this)throw"Target not in this graph mgr!";if(re==ae)return Y.isInterGraph=!1,re.add(Y,V,Z);if(Y.isInterGraph=!0,Y.source=V,Y.target=Z,this.edges.indexOf(Y)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(Y),null==Y.source||null==Y.target)throw"Edge source and/or target is null!";if(-1!=Y.source.edges.indexOf(Y)||-1!=Y.target.edges.indexOf(Y))throw"Edge already in source and/or target incidency list!";return Y.source.edges.push(Y),Y.target.edges.push(Y),Y},a.prototype.remove=function(c){if(c instanceof V){var q=c;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(q!=this.rootGraph&&(null==q.parent||q.parent.graphManager!=this))throw"Invalid parent node!";for(var Y,re=[],ae=(re=re.concat(q.getEdges())).length,se=0;se<ae;se++)Y=re[se],q.remove(Y);var oe,he=[];ae=(he=he.concat(q.getNodes())).length;for(se=0;se<ae;se++)oe=he[se],q.remove(oe);q==this.rootGraph&&this.setRootGraph(null);var de=this.graphs.indexOf(q);this.graphs.splice(de,1),q.parent=null}else if(c instanceof Z){if(null==(Y=c))throw"Edge is null!";if(!Y.isInterGraph)throw"Not an inter-graph edge!";if(null==Y.source||null==Y.target)throw"Source and/or target is null!";if(-1==Y.source.edges.indexOf(Y)||-1==Y.target.edges.indexOf(Y))throw"Source and/or target doesn't know this edge!";de=Y.source.edges.indexOf(Y);if(Y.source.edges.splice(de,1),de=Y.target.edges.indexOf(Y),Y.target.edges.splice(de,1),null==Y.source.owner||null==Y.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==Y.source.owner.getGraphManager().edges.indexOf(Y))throw"Not in owner graph manager's edge list!";de=Y.source.owner.getGraphManager().edges.indexOf(Y);Y.source.owner.getGraphManager().edges.splice(de,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(null==this.allNodes){for(var c=[],q=this.getGraphs(),Y=q.length,V=0;V<Y;V++)c=c.concat(q[V].getNodes());this.allNodes=c}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(null==this.allEdges){for(var c=[],q=this.getGraphs(),Y=(q.length,0);Y<q.length;Y++)c=c.concat(q[Y].getEdges());c=c.concat(this.edges),this.allEdges=c}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(c){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=c},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(c){if(c.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=c,null==c.parent&&(c.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(c,q){if(null==c||null==q)throw"assert failed";if(c==q)return!0;for(var Y,V=c.getOwner();;){if(null==(Y=V.getParent()))break;if(Y==q)return!0;if(null==(V=Y.getOwner()))break}for(V=q.getOwner();;){if(null==(Y=V.getParent()))break;if(Y==c)return!0;if(null==(V=Y.getOwner()))break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var c,q,Y,V,Z,re=this.getAllEdges(),ae=re.length,se=0;se<ae;se++)if(q=(c=re[se]).source,Y=c.target,c.lca=null,c.sourceInLca=q,c.targetInLca=Y,q!=Y){for(V=q.getOwner();null==c.lca;){for(c.targetInLca=Y,Z=Y.getOwner();null==c.lca;){if(Z==V){c.lca=Z;break}if(Z==this.rootGraph)break;if(null!=c.lca)throw"assert failed";c.targetInLca=Z.getParent(),Z=c.targetInLca.getOwner()}if(V==this.rootGraph)break;null==c.lca&&(c.sourceInLca=V.getParent(),V=c.sourceInLca.getOwner())}if(null==c.lca)throw"assert failed"}else c.lca=q.getOwner()},a.prototype.calcLowestCommonAncestor=function(c,q){if(c==q)return c.getOwner();for(var Y=c.getOwner();;){if(null==Y)break;for(var V=q.getOwner();;){if(null==V)break;if(V==Y)return V;V=V.getParent().getOwner()}Y=Y.getParent().getOwner()}return Y},a.prototype.calcInclusionTreeDepths=function(c,q){null==c&&null==q&&(c=this.rootGraph,q=1);for(var Y,V=c.getNodes(),Z=V.length,re=0;re<Z;re++)(Y=V[re]).inclusionTreeDepth=q,null!=Y.child&&this.calcInclusionTreeDepths(Y.child,q+1)},a.prototype.includesInvalidEdge=function(){for(var c,q=[],Y=this.edges.length,V=0;V<Y;V++)c=this.edges[V],this.isOneAncestorOfOther(c.source,c.target)&&q.push(c);for(V=0;V<q.length;V++)this.remove(q[V]);return!1},c.exports=a},function(c,q,Y){var V=Y(12);function i(){}o(i,"IGeometry"),i.calcSeparationAmount=function(c,q,Y,V){if(!c.intersects(q))throw"assert failed";var Z=new Array(2);this.decideDirectionsForOverlappingNodes(c,q,Z),Y[0]=Math.min(c.getRight(),q.getRight())-Math.max(c.x,q.x),Y[1]=Math.min(c.getBottom(),q.getBottom())-Math.max(c.y,q.y),c.getX()<=q.getX()&&c.getRight()>=q.getRight()?Y[0]+=Math.min(q.getX()-c.getX(),c.getRight()-q.getRight()):q.getX()<=c.getX()&&q.getRight()>=c.getRight()&&(Y[0]+=Math.min(c.getX()-q.getX(),q.getRight()-c.getRight())),c.getY()<=q.getY()&&c.getBottom()>=q.getBottom()?Y[1]+=Math.min(q.getY()-c.getY(),c.getBottom()-q.getBottom()):q.getY()<=c.getY()&&q.getBottom()>=c.getBottom()&&(Y[1]+=Math.min(c.getY()-q.getY(),q.getBottom()-c.getBottom()));var re=Math.abs((q.getCenterY()-c.getCenterY())/(q.getCenterX()-c.getCenterX()));q.getCenterY()===c.getCenterY()&&q.getCenterX()===c.getCenterX()&&(re=1);var ae=re*Y[0],se=Y[1]/re;Y[0]<se?se=Y[0]:ae=Y[1],Y[0]=-1*Z[0]*(se/2+V),Y[1]=-1*Z[1]*(ae/2+V)},i.decideDirectionsForOverlappingNodes=function(c,q,Y){c.getCenterX()<q.getCenterX()?Y[0]=-1:Y[0]=1,c.getCenterY()<q.getCenterY()?Y[1]=-1:Y[1]=1},i.getIntersection2=function(c,q,Y){var V=c.getCenterX(),Z=c.getCenterY(),re=q.getCenterX(),ae=q.getCenterY();if(c.intersects(q))return Y[0]=V,Y[1]=Z,Y[2]=re,Y[3]=ae,!0;var se=c.getX(),oe=c.getY(),he=c.getRight(),de=c.getX(),pe=c.getBottom(),ge=c.getRight(),me=c.getWidthHalf(),ve=c.getHeightHalf(),be=q.getX(),we=q.getY(),Te=q.getRight(),_e=q.getX(),Ee=q.getBottom(),Ce=q.getRight(),Se=q.getWidthHalf(),Ae=q.getHeightHalf(),Le=!1,Ne=!1;if(V===re){if(Z>ae)return Y[0]=V,Y[1]=oe,Y[2]=re,Y[3]=Ee,!1;if(Z<ae)return Y[0]=V,Y[1]=pe,Y[2]=re,Y[3]=we,!1}else if(Z===ae){if(V>re)return Y[0]=se,Y[1]=Z,Y[2]=Te,Y[3]=ae,!1;if(V<re)return Y[0]=he,Y[1]=Z,Y[2]=be,Y[3]=ae,!1}else{var Ie=c.height/c.width,Me=q.height/q.width,Re=(ae-Z)/(re-V),Oe=void 0,Be=void 0,$e=void 0,Ue=void 0,qe=void 0,je=void 0;if(-Ie===Re?V>re?(Y[0]=de,Y[1]=pe,Le=!0):(Y[0]=he,Y[1]=oe,Le=!0):Ie===Re&&(V>re?(Y[0]=se,Y[1]=oe,Le=!0):(Y[0]=ge,Y[1]=pe,Le=!0)),-Me===Re?re>V?(Y[2]=_e,Y[3]=Ee,Ne=!0):(Y[2]=Te,Y[3]=we,Ne=!0):Me===Re&&(re>V?(Y[2]=be,Y[3]=we,Ne=!0):(Y[2]=Ce,Y[3]=Ee,Ne=!0)),Le&&Ne)return!1;if(V>re?Z>ae?(Oe=this.getCardinalDirection(Ie,Re,4),Be=this.getCardinalDirection(Me,Re,2)):(Oe=this.getCardinalDirection(-Ie,Re,3),Be=this.getCardinalDirection(-Me,Re,1)):Z>ae?(Oe=this.getCardinalDirection(-Ie,Re,1),Be=this.getCardinalDirection(-Me,Re,3)):(Oe=this.getCardinalDirection(Ie,Re,2),Be=this.getCardinalDirection(Me,Re,4)),!Le)switch(Oe){case 1:Ue=oe,$e=V+-ve/Re,Y[0]=$e,Y[1]=Ue;break;case 2:$e=ge,Ue=Z+me*Re,Y[0]=$e,Y[1]=Ue;break;case 3:Ue=pe,$e=V+ve/Re,Y[0]=$e,Y[1]=Ue;break;case 4:$e=de,Ue=Z+-me*Re,Y[0]=$e,Y[1]=Ue}if(!Ne)switch(Be){case 1:je=we,qe=re+-Ae/Re,Y[2]=qe,Y[3]=je;break;case 2:qe=Ce,je=ae+Se*Re,Y[2]=qe,Y[3]=je;break;case 3:je=Ee,qe=re+Ae/Re,Y[2]=qe,Y[3]=je;break;case 4:qe=_e,je=ae+-Se*Re,Y[2]=qe,Y[3]=je}}return!1},i.getCardinalDirection=function(c,q,Y){return c>q?Y:1+Y%4},i.getIntersection=function(c,q,Y,Z){if(null==Z)return this.getIntersection2(c,q,Y);var re,ae,se,oe,he,de,pe,ge=c.x,me=c.y,ve=q.x,be=q.y,we=Y.x,Te=Y.y,_e=Z.x,Ee=Z.y;return he=ve*me-ge*be,de=_e*Te-we*Ee,0===(pe=(re=be-me)*(oe=we-_e)-(ae=Ee-Te)*(se=ge-ve))?null:new V((se*de-oe*he)/pe,(ae*he-re*de)/pe)},i.angleOfVector=function(c,q,Y,V){var Z=void 0;return c!==Y?(Z=Math.atan((V-q)/(Y-c)),Y<c?Z+=Math.PI:V<q&&(Z+=this.TWO_PI)):Z=V<q?this.ONE_AND_HALF_PI:this.HALF_PI,Z},i.doIntersect=function(c,q,Y,V){var Z=c.x,re=c.y,ae=q.x,se=q.y,oe=Y.x,he=Y.y,de=V.x,pe=V.y,ge=(ae-Z)*(pe-he)-(de-oe)*(se-re);if(0===ge)return!1;var me=((pe-he)*(de-Z)+(oe-de)*(pe-re))/ge,ve=((re-se)*(de-Z)+(ae-Z)*(pe-re))/ge;return 0<me&&me<1&&0<ve&&ve<1},i.findCircleLineIntersections=function(c,q,Y,V,Z,re,ae){var se=(Y-c)*(Y-c)+(V-q)*(V-q),oe=2*((c-Z)*(Y-c)+(q-re)*(V-q)),he=(c-Z)*(c-Z)+(q-re)*(q-re)-ae*ae;if(oe*oe-4*se*he>=0){var de=(-oe+Math.sqrt(oe*oe-4*se*he))/(2*se),pe=(-oe-Math.sqrt(oe*oe-4*se*he))/(2*se);return de>=0&&de<=1?[de]:pe>=0&&pe<=1?[pe]:null}return null},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,c.exports=i},function(c,q,Y){function n(){}o(n,"IMath"),n.sign=function(c){return c>0?1:c<0?-1:0},n.floor=function(c){return c<0?Math.ceil(c):Math.floor(c)},n.ceil=function(c){return c<0?Math.floor(c):Math.ceil(c)},c.exports=n},function(c,q,Y){function n(){}o(n,"Integer"),n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,c.exports=n},function(c,q,Y){var V=function(){function h(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(h,"defineProperties"),function(c,q,Y){return q&&h(c.prototype,q),Y&&h(c,Y),c}}();function i(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var Z=o(function(c){return{value:c,next:null,prev:null}},"nodeFrom"),re=o(function(c,q,Y,V){return null!==c?c.next=q:V.head=q,null!==Y?Y.prev=q:V.tail=q,q.prev=c,q.next=Y,V.length++,q},"add"),ae=o(function(c,q){var Y=c.prev,V=c.next;return null!==Y?Y.next=V:q.head=V,null!==V?V.prev=Y:q.tail=Y,c.prev=c.next=null,q.length--,c},"_remove"),se=function(){function h(c){var q=this;i(this,h),this.length=0,this.head=null,this.tail=null,c?.forEach(function(c){return q.push(c)})}return o(h,"LinkedList"),V(h,[{key:"size",value:o(function(){return this.length},"size")},{key:"insertBefore",value:o(function(c,q){return re(q.prev,Z(c),q,this)},"insertBefore")},{key:"insertAfter",value:o(function(c,q){return re(q,Z(c),q.next,this)},"insertAfter")},{key:"insertNodeBefore",value:o(function(c,q){return re(q.prev,c,q,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:o(function(c,q){return re(q,c,q.next,this)},"insertNodeAfter")},{key:"push",value:o(function(c){return re(this.tail,Z(c),null,this)},"push")},{key:"unshift",value:o(function(c){return re(null,Z(c),this.head,this)},"unshift")},{key:"remove",value:o(function(c){return ae(c,this)},"remove")},{key:"pop",value:o(function(){return ae(this.tail,this).value},"pop")},{key:"popNode",value:o(function(){return ae(this.tail,this)},"popNode")},{key:"shift",value:o(function(){return ae(this.head,this).value},"shift")},{key:"shiftNode",value:o(function(){return ae(this.head,this)},"shiftNode")},{key:"get_object_at",value:o(function(c){if(c<=this.length()){for(var q=1,Y=this.head;q<c;)Y=Y.next,q++;return Y.value}},"get_object_at")},{key:"set_object_at",value:o(function(c,q){if(c<=this.length()){for(var Y=1,V=this.head;Y<c;)V=V.next,Y++;V.value=q}},"set_object_at")}]),h}();c.exports=se},function(c,q,Y){function n(c,q,Y){this.x=null,this.y=null,null==c&&null==q&&null==Y?(this.x=0,this.y=0):"number"==typeof c&&"number"==typeof q&&null==Y?(this.x=c,this.y=q):"Point"==c.constructor.name&&null==q&&null==Y&&(Y=c,this.x=Y.x,this.y=Y.y)}o(n,"Point"),n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(c,q,Y){"Point"==c.constructor.name&&null==q&&null==Y?(Y=c,this.setLocation(Y.x,Y.y)):"number"==typeof c&&"number"==typeof q&&null==Y&&(parseInt(c)==c&&parseInt(q)==q?this.move(c,q):(this.x=Math.floor(c+.5),this.y=Math.floor(q+.5)))},n.prototype.move=function(c,q){this.x=c,this.y=q},n.prototype.translate=function(c,q){this.x+=c,this.y+=q},n.prototype.equals=function(c){if("Point"==c.constructor.name){var q=c;return this.x==q.x&&this.y==q.y}return this==c},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},c.exports=n},function(c,q,Y){function n(c,q,Y,V){this.x=0,this.y=0,this.width=0,this.height=0,null!=c&&null!=q&&null!=Y&&null!=V&&(this.x=c,this.y=q,this.width=Y,this.height=V)}o(n,"RectangleD"),n.prototype.getX=function(){return this.x},n.prototype.setX=function(c){this.x=c},n.prototype.getY=function(){return this.y},n.prototype.setY=function(c){this.y=c},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(c){this.width=c},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(c){this.height=c},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(c){return!(this.getRight()<c.x||this.getBottom()<c.y||c.getRight()<this.x||c.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},c.exports=n},function(c,q,Y){var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};function i(){}o(i,"UniqueIDGeneretor"),i.lastID=0,i.createID=function(c){return i.isPrimitive(c)?c:(null!=c.uniqueID||(c.uniqueID=i.getString(),i.lastID++),c.uniqueID)},i.getString=function(c){return null==c&&(c=i.lastID),"Object#"+c},i.isPrimitive=function(c){var q=typeof c>"u"?"undefined":V(c);return null==c||"object"!=q&&"function"!=q},c.exports=i},function(c,q,Y){function n(c){if(Array.isArray(c)){for(var q=0,Y=Array(c.length);q<c.length;q++)Y[q]=c[q];return Y}return Array.from(c)}o(n,"_toConsumableArray");var V=Y(0),Z=Y(7),re=Y(3),ae=Y(1),se=Y(6),oe=Y(5),he=Y(17),de=Y(29);function p(c){de.call(this),this.layoutQuality=V.QUALITY,this.createBendsAsNeeded=V.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=V.DEFAULT_INCREMENTAL,this.animationOnLayout=V.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=V.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=V.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=V.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new Z(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=c&&(this.isRemoteUse=c)}o(p,"Layout"),p.RANDOM_SEED=1,p.prototype=Object.create(de.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var c=new Z(this);return this.graphManager=c,c},p.prototype.newGraph=function(c){return new se(null,this.graphManager,c)},p.prototype.newNode=function(c){return new re(this.graphManager,c)},p.prototype.newEdge=function(c){return new ae(null,null,c)},p.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){var c;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),c=!this.checkLayoutSuccess()&&this.layout(),"during"!==V.ANIMATE&&(c&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,c)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var c=this.graphManager.getAllEdges(),q=0;q<c.length;q++)c[q];var Y=this.graphManager.getRoot().getNodes();for(q=0;q<Y.length;q++)Y[q];this.update(this.graphManager.getRoot())}},p.prototype.update=function(c){if(null==c)this.update2();else if(c instanceof re){var q=c;if(null!=q.getChild())for(var Y=q.getChild().getNodes(),V=0;V<Y.length;V++)update(Y[V]);if(null!=q.vGraphObject)q.vGraphObject.update(q)}else if(c instanceof ae){var Z=c;if(null!=Z.vGraphObject)Z.vGraphObject.update(Z)}else if(c instanceof se){var oe=c;if(null!=oe.vGraphObject)oe.vGraphObject.update(oe)}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=V.QUALITY,this.animationDuringLayout=V.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=V.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=V.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=V.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=V.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=V.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(c){if(null==c)this.transform(new oe(0,0));else{var q=new he,Y=this.graphManager.getRoot().updateLeftTop();if(null!=Y){q.setWorldOrgX(c.x),q.setWorldOrgY(c.y),q.setDeviceOrgX(Y.x),q.setDeviceOrgY(Y.y);for(var V=this.getAllNodes(),Z=0;Z<V.length;Z++)V[Z].transform(q)}}},p.prototype.positionNodesRandomly=function(c){if(null==c)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var q,Y,V=c.getNodes(),Z=0;Z<V.length;Z++)null==(Y=(q=V[Z]).getChild())||0==Y.getNodes().length?q.scatter():(this.positionNodesRandomly(Y),q.updateBounds())},p.prototype.getFlatForest=function(){for(var c=[],q=!0,Y=this.graphManager.getRoot().getNodes(),V=!0,Z=0;Z<Y.length;Z++)null!=Y[Z].getChild()&&(V=!1);if(!V)return c;var re=new Set,ae=[],se=new Map,oe=[];for(oe=oe.concat(Y);oe.length>0&&q;){for(ae.push(oe[0]);ae.length>0&&q;){var he=ae[0];ae.splice(0,1),re.add(he);var de=he.getEdges();for(Z=0;Z<de.length;Z++){var pe=de[Z].getOtherEnd(he);if(se.get(he)!=pe){if(re.has(pe)){q=!1;break}ae.push(pe),se.set(pe,he)}}}if(q){var ge=[].concat(n(re));c.push(ge);for(Z=0;Z<ge.length;Z++){var me=ge[Z],ve=oe.indexOf(me);ve>-1&&oe.splice(ve,1)}re=new Set,se=new Map}else c=[]}return c},p.prototype.createDummyNodesForBendpoints=function(c){for(var q=[],Y=c.source,V=this.graphManager.calcLowestCommonAncestor(c.source,c.target),Z=0;Z<c.bendpoints.length;Z++){var re=this.newNode(null);re.setRect(new Point(0,0),new Dimension(1,1)),V.add(re);var ae=this.newEdge(null);this.graphManager.add(ae,Y,re),q.add(re),Y=re}ae=this.newEdge(null);return this.graphManager.add(ae,Y,c.target),this.edgeToDummyNodes.set(c,q),c.isInterGraph()?this.graphManager.remove(c):V.remove(c),q},p.prototype.createBendpointsFromDummyNodes=function(){var c=[];c=c.concat(this.graphManager.getAllEdges()),c=[].concat(n(this.edgeToDummyNodes.keys())).concat(c);for(var q=0;q<c.length;q++){var Y=c[q];if(Y.bendpoints.length>0){for(var V=this.edgeToDummyNodes.get(Y),Z=0;Z<V.length;Z++){var re=V[Z],ae=new oe(re.getCenterX(),re.getCenterY()),se=Y.bendpoints.get(Z);se.x=ae.x,se.y=ae.y,re.getOwner().remove(re)}this.graphManager.add(Y,Y.source,Y.target)}}},p.transform=function(c,q,Y,V){if(null!=Y&&null!=V){var Z=q;if(c<=50)Z-=(q-q/Y)/50*(50-c);else Z+=(q*V-q)/50*(c-50);return Z}var re,ae;return c<=50?(re=9*q/500,ae=q/10):(re=9*q/50,ae=-8*q),re*c+ae},p.findCenterOfTree=function(c){var q=[];q=q.concat(c);var Y=[],V=new Map,Z=!1,re=null;(1==q.length||2==q.length)&&(Z=!0,re=q[0]);for(var ae=0;ae<q.length;ae++){var se=(de=q[ae]).getNeighborsList().size;V.set(de,de.getNeighborsList().size),1==se&&Y.push(de)}var oe=[];for(oe=oe.concat(Y);!Z;){var he=[];he=he.concat(oe),oe=[];for(ae=0;ae<q.length;ae++){var de=q[ae],pe=q.indexOf(de);pe>=0&&q.splice(pe,1),de.getNeighborsList().forEach(function(c){if(Y.indexOf(c)<0){var q=V.get(c)-1;1==q&&oe.push(c),V.set(c,q)}})}Y=Y.concat(oe),(1==q.length||2==q.length)&&(Z=!0,re=q[0])}return re},p.prototype.setGraphManager=function(c){this.graphManager=c},c.exports=p},function(c,q,Y){function n(){}o(n,"RandomSeed"),n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},c.exports=n},function(c,q,Y){var V=Y(5);function i(c,q){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o(i,"Transform"),i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(c){this.lworldOrgX=c},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(c){this.lworldOrgY=c},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(c){this.lworldExtX=c},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(c){this.lworldExtY=c},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(c){this.ldeviceOrgX=c},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(c){this.ldeviceOrgY=c},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(c){this.ldeviceExtX=c},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(c){this.ldeviceExtY=c},i.prototype.transformX=function(c){var q=0,Y=this.lworldExtX;return 0!=Y&&(q=this.ldeviceOrgX+(c-this.lworldOrgX)*this.ldeviceExtX/Y),q},i.prototype.transformY=function(c){var q=0,Y=this.lworldExtY;return 0!=Y&&(q=this.ldeviceOrgY+(c-this.lworldOrgY)*this.ldeviceExtY/Y),q},i.prototype.inverseTransformX=function(c){var q=0,Y=this.ldeviceExtX;return 0!=Y&&(q=this.lworldOrgX+(c-this.ldeviceOrgX)*this.lworldExtX/Y),q},i.prototype.inverseTransformY=function(c){var q=0,Y=this.ldeviceExtY;return 0!=Y&&(q=this.lworldOrgY+(c-this.ldeviceOrgY)*this.lworldExtY/Y),q},i.prototype.inverseTransformPoint=function(c){return new V(this.inverseTransformX(c.x),this.inverseTransformY(c.y))},c.exports=i},function(c,q,Y){function n(c){if(Array.isArray(c)){for(var q=0,Y=Array(c.length);q<c.length;q++)Y[q]=c[q];return Y}return Array.from(c)}o(n,"_toConsumableArray");var V=Y(15),Z=Y(4),re=Y(0),ae=Y(8),se=Y(9);function h(){V.call(this),this.useSmartIdealEdgeLengthCalculation=Z.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=Z.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=Z.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=Z.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=Z.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*Z.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=Z.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=Z.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=Z.MAX_ITERATIONS}for(var oe in o(h,"FDLayout"),h.prototype=Object.create(V.prototype),V)h[oe]=V[oe];h.prototype.initParameters=function(){V.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=Z.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var c,q,Y,V,ae,se,oe,he=this.getGraphManager().getAllEdges(),de=0;de<he.length;de++)q=(c=he[de]).idealLength,c.isInterGraph&&(V=c.getSource(),ae=c.getTarget(),se=c.getSourceInLca().getEstimatedSize(),oe=c.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(c.idealLength+=se+oe-2*re.SIMPLE_NODE_SIZE),Y=c.getLca().getInclusionTreeDepth(),c.idealLength+=q*Z.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(V.getInclusionTreeDepth()+ae.getInclusionTreeDepth()-2*Y))},h.prototype.initSpringEmbedder=function(){var c=this.getAllNodes().length;this.incremental?(c>Z.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*Z.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(c-Z.ADAPTATION_LOWER_NODE_LIMIT)/(Z.ADAPTATION_UPPER_NODE_LIMIT-Z.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-Z.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=Z.MAX_NODE_DISPLACEMENT_INCREMENTAL):(c>Z.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(Z.COOLING_ADAPTATION_FACTOR,1-(c-Z.ADAPTATION_LOWER_NODE_LIMIT)/(Z.ADAPTATION_UPPER_NODE_LIMIT-Z.ADAPTATION_LOWER_NODE_LIMIT)*(1-Z.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=Z.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*Z.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var c,q=this.getAllEdges(),Y=0;Y<q.length;Y++)c=q[Y],this.calcSpringForce(c,c.idealLength)},h.prototype.calcRepulsionForces=function(){var c,q,Y,V,re,ae=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],oe=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%Z.GRID_CALCULATION_CHECK_PERIOD==1&&ae&&this.updateGrid(),re=new Set,c=0;c<oe.length;c++)Y=oe[c],this.calculateRepulsionForceOfANode(Y,re,ae,se),re.add(Y);else for(c=0;c<oe.length;c++)for(Y=oe[c],q=c+1;q<oe.length;q++)V=oe[q],Y.getOwner()==V.getOwner()&&this.calcRepulsionForce(Y,V)},h.prototype.calcGravitationalForces=function(){for(var c,q=this.getAllNodesToApplyGravitation(),Y=0;Y<q.length;Y++)c=q[Y],this.calcGravitationalForce(c)},h.prototype.moveNodes=function(){for(var c=this.getAllNodes(),q=0;q<c.length;q++)c[q].move()},h.prototype.calcSpringForce=function(c,q){var Y,V,Z,re,ae=c.getSource(),se=c.getTarget();if(this.uniformLeafNodeSizes&&null==ae.getChild()&&null==se.getChild())c.updateLengthSimple();else if(c.updateLength(),c.isOverlapingSourceAndTarget)return;0!=(Y=c.getLength())&&(Z=(V=c.edgeElasticity*(Y-q))*(c.lengthX/Y),re=V*(c.lengthY/Y),ae.springForceX+=Z,ae.springForceY+=re,se.springForceX-=Z,se.springForceY-=re)},h.prototype.calcRepulsionForce=function(c,q){var Y,V,re,oe,he,de,pe,ge=c.getRect(),me=q.getRect(),ve=new Array(2),be=new Array(4);if(ge.intersects(me)){ae.calcSeparationAmount(ge,me,ve,Z.DEFAULT_EDGE_LENGTH/2),de=2*ve[0],pe=2*ve[1];var we=c.noOfChildren*q.noOfChildren/(c.noOfChildren+q.noOfChildren);c.repulsionForceX-=we*de,c.repulsionForceY-=we*pe,q.repulsionForceX+=we*de,q.repulsionForceY+=we*pe}else this.uniformLeafNodeSizes&&null==c.getChild()&&null==q.getChild()?(Y=me.getCenterX()-ge.getCenterX(),V=me.getCenterY()-ge.getCenterY()):(ae.getIntersection(ge,me,be),Y=be[2]-be[0],V=be[3]-be[1]),Math.abs(Y)<Z.MIN_REPULSION_DIST&&(Y=se.sign(Y)*Z.MIN_REPULSION_DIST),Math.abs(V)<Z.MIN_REPULSION_DIST&&(V=se.sign(V)*Z.MIN_REPULSION_DIST),re=Y*Y+V*V,oe=Math.sqrt(re),de=(he=(c.nodeRepulsion/2+q.nodeRepulsion/2)*c.noOfChildren*q.noOfChildren/re)*Y/oe,pe=he*V/oe,c.repulsionForceX-=de,c.repulsionForceY-=pe,q.repulsionForceX+=de,q.repulsionForceY+=pe},h.prototype.calcGravitationalForce=function(c){var q,Y,V,Z,re,ae,se,oe;Y=((q=c.getOwner()).getRight()+q.getLeft())/2,V=(q.getTop()+q.getBottom())/2,Z=c.getCenterX()-Y,re=c.getCenterY()-V,ae=Math.abs(Z)+c.getWidth()/2,se=Math.abs(re)+c.getHeight()/2,c.getOwner()==this.graphManager.getRoot()?(ae>(oe=q.getEstimatedSize()*this.gravityRangeFactor)||se>oe)&&(c.gravitationForceX=-this.gravityConstant*Z,c.gravitationForceY=-this.gravityConstant*re):(ae>(oe=q.getEstimatedSize()*this.compoundGravityRangeFactor)||se>oe)&&(c.gravitationForceX=-this.gravityConstant*Z*this.compoundGravityConstant,c.gravitationForceY=-this.gravityConstant*re*this.compoundGravityConstant)},h.prototype.isConverged=function(){var c,q=!1;return this.totalIterations>this.maxIterations/3&&(q=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),c=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,c||q},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var c,q=this.graphManager.getAllNodes(),Y=0;Y<q.length;Y++)(c=q[Y]).noOfChildren=c.getNoOfChildren()},h.prototype.calcGrid=function(c){var q,Y;q=parseInt(Math.ceil((c.getRight()-c.getLeft())/this.repulsionRange)),Y=parseInt(Math.ceil((c.getBottom()-c.getTop())/this.repulsionRange));for(var V=new Array(q),Z=0;Z<q;Z++)V[Z]=new Array(Y);for(Z=0;Z<q;Z++)for(var re=0;re<Y;re++)V[Z][re]=new Array;return V},h.prototype.addNodeToGrid=function(c,q,Y){var V,Z,re,ae;V=parseInt(Math.floor((c.getRect().x-q)/this.repulsionRange)),Z=parseInt(Math.floor((c.getRect().width+c.getRect().x-q)/this.repulsionRange)),re=parseInt(Math.floor((c.getRect().y-Y)/this.repulsionRange)),ae=parseInt(Math.floor((c.getRect().height+c.getRect().y-Y)/this.repulsionRange));for(var se=V;se<=Z;se++)for(var oe=re;oe<=ae;oe++)this.grid[se][oe].push(c),c.setGridCoordinates(V,Z,re,ae)},h.prototype.updateGrid=function(){var c,q,Y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),c=0;c<Y.length;c++)q=Y[c],this.addNodeToGrid(q,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(c,q,Y,V){if(this.totalIterations%Z.GRID_CALCULATION_CHECK_PERIOD==1&&Y||V){var re=new Set;c.surrounding=new Array;for(var ae,se=this.grid,oe=c.startX-1;oe<c.finishX+2;oe++)for(var he=c.startY-1;he<c.finishY+2;he++)if(!(oe<0||he<0||oe>=se.length||he>=se[0].length))for(var de=0;de<se[oe][he].length;de++)if(ae=se[oe][he][de],c.getOwner()==ae.getOwner()&&c!=ae&&!q.has(ae)&&!re.has(ae)){var pe=Math.abs(c.getCenterX()-ae.getCenterX())-(c.getWidth()/2+ae.getWidth()/2),ge=Math.abs(c.getCenterY()-ae.getCenterY())-(c.getHeight()/2+ae.getHeight()/2);pe<=this.repulsionRange&&ge<=this.repulsionRange&&re.add(ae)}c.surrounding=[].concat(n(re))}for(oe=0;oe<c.surrounding.length;oe++)this.calcRepulsionForce(c,c.surrounding[oe])},h.prototype.calcRepulsionRange=function(){return 0},c.exports=h},function(c,q,Y){var V=Y(1),Z=Y(4);function a(c,q,Y){V.call(this,c,q,Y),this.idealLength=Z.DEFAULT_EDGE_LENGTH,this.edgeElasticity=Z.DEFAULT_SPRING_STRENGTH}for(var re in o(a,"FDLayoutEdge"),a.prototype=Object.create(V.prototype),V)a[re]=V[re];c.exports=a},function(c,q,Y){var V=Y(3),Z=Y(4);function a(c,q,Y,re){V.call(this,c,q,Y,re),this.nodeRepulsion=Z.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var re in o(a,"FDLayoutNode"),a.prototype=Object.create(V.prototype),V)a[re]=V[re];a.prototype.setGridCoordinates=function(c,q,Y,V){this.startX=c,this.finishX=q,this.startY=Y,this.finishY=V},c.exports=a},function(c,q,Y){function n(c,q){this.width=0,this.height=0,null!==c&&null!==q&&(this.height=q,this.width=c)}o(n,"DimensionD"),n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(c){this.width=c},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(c){this.height=c},c.exports=n},function(c,q,Y){var V=Y(14);function i(){this.map={},this.keys=[]}o(i,"HashMap"),i.prototype.put=function(c,q){var Y=V.createID(c);this.contains(Y)||(this.map[Y]=q,this.keys.push(c))},i.prototype.contains=function(c){V.createID(c);return null!=this.map[c]},i.prototype.get=function(c){var q=V.createID(c);return this.map[q]},i.prototype.keySet=function(){return this.keys},c.exports=i},function(c,q,Y){var V=Y(14);function i(){this.set={}}o(i,"HashSet"),i.prototype.add=function(c){var q=V.createID(c);this.contains(q)||(this.set[q]=c)},i.prototype.remove=function(c){delete this.set[V.createID(c)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(c){return this.set[V.createID(c)]==c},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(c){for(var q=Object.keys(this.set),Y=q.length,V=0;V<Y;V++)c.push(this.set[q[V]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(c){for(var q=c.length,Y=0;Y<q;Y++){var V=c[Y];this.add(V)}},c.exports=i},function(c,q,Y){function n(){}o(n,"Matrix"),n.multMat=function(c,q){for(var Y=[],V=0;V<c.length;V++){Y[V]=[];for(var Z=0;Z<q[0].length;Z++){Y[V][Z]=0;for(var re=0;re<c[0].length;re++)Y[V][Z]+=c[V][re]*q[re][Z]}}return Y},n.transpose=function(c){for(var q=[],Y=0;Y<c[0].length;Y++){q[Y]=[];for(var V=0;V<c.length;V++)q[Y][V]=c[V][Y]}return q},n.multCons=function(c,q){for(var Y=[],V=0;V<c.length;V++)Y[V]=c[V]*q;return Y},n.minusOp=function(c,q){for(var Y=[],V=0;V<c.length;V++)Y[V]=c[V]-q[V];return Y},n.dotProduct=function(c,q){for(var Y=0,V=0;V<c.length;V++)Y+=c[V]*q[V];return Y},n.mag=function(c){return Math.sqrt(this.dotProduct(c,c))},n.normalize=function(c){for(var q=[],Y=this.mag(c),V=0;V<c.length;V++)q[V]=c[V]/Y;return q},n.multGamma=function(c){for(var q=[],Y=0,V=0;V<c.length;V++)Y+=c[V];Y*=-1/c.length;for(var Z=0;Z<c.length;Z++)q[Z]=Y+c[Z];return q},n.multL=function(c,q,Y){for(var V=[],Z=[],re=[],ae=0;ae<q[0].length;ae++){for(var se=0,oe=0;oe<q.length;oe++)se+=-.5*q[oe][ae]*c[oe];Z[ae]=se}for(var he=0;he<Y.length;he++){for(var de=0,pe=0;pe<Y.length;pe++)de+=Y[he][pe]*Z[pe];re[he]=de}for(var ge=0;ge<q.length;ge++){for(var me=0,ve=0;ve<q[0].length;ve++)me+=q[ge][ve]*re[ve];V[ge]=me}return V},c.exports=n},function(c,q,Y){var V=function(){function l(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(l,"defineProperties"),function(c,q,Y){return q&&l(c.prototype,q),Y&&l(c,Y),c}}();function i(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var Z=Y(11),re=function(){function l(c,q){i(this,l),(null!==q||void 0!==q)&&(this.compareFunction=this._defaultCompareFunction);var Y=void 0;Y=c instanceof Z?c.size():c.length,this._quicksort(c,0,Y-1)}return o(l,"Quicksort"),V(l,[{key:"_quicksort",value:o(function(c,q,Y){if(q<Y){var V=this._partition(c,q,Y);this._quicksort(c,q,V),this._quicksort(c,V+1,Y)}},"_quicksort")},{key:"_partition",value:o(function(c,q,Y){for(var V=this._get(c,q),Z=q,re=Y;;){for(;this.compareFunction(V,this._get(c,re));)re--;for(;this.compareFunction(this._get(c,Z),V);)Z++;if(!(Z<re))return re;this._swap(c,Z,re),Z++,re--}},"_partition")},{key:"_get",value:o(function(c,q){return c instanceof Z?c.get_object_at(q):c[q]},"_get")},{key:"_set",value:o(function(c,q,Y){c instanceof Z?c.set_object_at(q,Y):c[q]=Y},"_set")},{key:"_swap",value:o(function(c,q,Y){var V=this._get(c,q);this._set(c,q,this._get(c,Y)),this._set(c,Y,V)},"_swap")},{key:"_defaultCompareFunction",value:o(function(c,q){return q>c},"_defaultCompareFunction")}]),l}();c.exports=re},function(c,q,Y){function n(){}o(n,"SVD"),n.svd=function(c){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=c.length,this.n=c[0].length;var q,Y=Math.min(this.m,this.n);this.s=function(c){for(var q=[];c-- >0;)q.push(0);return q}(Math.min(this.m+1,this.n)),this.U=(q=[this.m,Y],o(function ct(c){if(0==c.length)return 0;for(var q=[],Y=0;Y<c[0];Y++)q.push(ct(c.slice(1)));return q},"allocate")(q)),this.V=function(c){return o(function ct(c){if(0==c.length)return 0;for(var q=[],Y=0;Y<c[0];Y++)q.push(ct(c.slice(1)));return q},"allocate")(c)}([this.n,this.n]);for(var V=function(c){for(var q=[];c-- >0;)q.push(0);return q}(this.n),Z=function(c){for(var q=[];c-- >0;)q.push(0);return q}(this.m),re=!0,ae=Math.min(this.m-1,this.n),se=Math.max(0,Math.min(this.n-2,this.m)),oe=0;oe<Math.max(ae,se);oe++){if(oe<ae){this.s[oe]=0;for(var he=oe;he<this.m;he++)this.s[oe]=n.hypot(this.s[oe],c[he][oe]);if(0!==this.s[oe]){c[oe][oe]<0&&(this.s[oe]=-this.s[oe]);for(var de=oe;de<this.m;de++)c[de][oe]/=this.s[oe];c[oe][oe]+=1}this.s[oe]=-this.s[oe]}for(var pe=oe+1;pe<this.n;pe++){if(function(c,q){return c&&q}(oe<ae,0!==this.s[oe])){for(var ge=0,me=oe;me<this.m;me++)ge+=c[me][oe]*c[me][pe];ge=-ge/c[oe][oe];for(var ve=oe;ve<this.m;ve++)c[ve][pe]+=ge*c[ve][oe]}V[pe]=c[oe][pe]}if(function(c,q){return q}(0,oe<ae))for(var be=oe;be<this.m;be++)this.U[be][oe]=c[be][oe];if(oe<se){V[oe]=0;for(var we=oe+1;we<this.n;we++)V[oe]=n.hypot(V[oe],V[we]);if(0!==V[oe]){V[oe+1]<0&&(V[oe]=-V[oe]);for(var Te=oe+1;Te<this.n;Te++)V[Te]/=V[oe];V[oe+1]+=1}if(V[oe]=-V[oe],function(c,q){return c&&q}(oe+1<this.m,0!==V[oe])){for(var _e=oe+1;_e<this.m;_e++)Z[_e]=0;for(var Ee=oe+1;Ee<this.n;Ee++)for(var Ce=oe+1;Ce<this.m;Ce++)Z[Ce]+=V[Ee]*c[Ce][Ee];for(var Se=oe+1;Se<this.n;Se++)for(var Ae=-V[Se]/V[oe+1],Le=oe+1;Le<this.m;Le++)c[Le][Se]+=Ae*Z[Le]}for(var Ne=oe+1;Ne<this.n;Ne++)this.V[Ne][oe]=V[Ne]}}var Ie=Math.min(this.n,this.m+1);ae<this.n&&(this.s[ae]=c[ae][ae]),this.m<Ie&&(this.s[Ie-1]=0),se+1<Ie&&(V[se]=c[se][Ie-1]),V[Ie-1]=0;for(var Me=ae;Me<Y;Me++){for(var Re=0;Re<this.m;Re++)this.U[Re][Me]=0;this.U[Me][Me]=1}for(var Oe=ae-1;Oe>=0;Oe--)if(0!==this.s[Oe]){for(var Be=Oe+1;Be<Y;Be++){for(var $e=0,Ue=Oe;Ue<this.m;Ue++)$e+=this.U[Ue][Oe]*this.U[Ue][Be];$e=-$e/this.U[Oe][Oe];for(var qe=Oe;qe<this.m;qe++)this.U[qe][Be]+=$e*this.U[qe][Oe]}for(var je=Oe;je<this.m;je++)this.U[je][Oe]=-this.U[je][Oe];this.U[Oe][Oe]=1+this.U[Oe][Oe];for(var We=0;We<Oe-1;We++)this.U[We][Oe]=0}else{for(var He=0;He<this.m;He++)this.U[He][Oe]=0;this.U[Oe][Oe]=1}for(var Ve=this.n-1;Ve>=0;Ve--){if(function(c,q){return c&&q}(Ve<se,0!==V[Ve]))for(var Ke=Ve+1;Ke<Y;Ke++){for(var Qe=0,Ze=Ve+1;Ze<this.n;Ze++)Qe+=this.V[Ze][Ve]*this.V[Ze][Ke];Qe=-Qe/this.V[Ve+1][Ve];for(var Je=Ve+1;Je<this.n;Je++)this.V[Je][Ke]+=Qe*this.V[Je][Ve]}for(var et=0;et<this.n;et++)this.V[et][Ve]=0;this.V[Ve][Ve]=1}for(var tt=Ie-1,rt=Math.pow(2,-52),nt=Math.pow(2,-966);Ie>0;){var it=void 0,at=void 0;for(it=Ie-2;it>=-1&&-1!==it;it--)if(Math.abs(V[it])<=nt+rt*(Math.abs(this.s[it])+Math.abs(this.s[it+1]))){V[it]=0;break}if(it===Ie-2)at=4;else{var st=void 0;for(st=Ie-1;st>=it&&st!==it;st--){var ot=(st!==Ie?Math.abs(V[st]):0)+(st!==it+1?Math.abs(V[st-1]):0);if(Math.abs(this.s[st])<=nt+rt*ot){this.s[st]=0;break}}st===it?at=3:st===Ie-1?at=1:(at=2,it=st)}switch(it++,at){case 1:var lt=V[Ie-2];V[Ie-2]=0;for(var ht=Ie-2;ht>=it;ht--){var ut=n.hypot(this.s[ht],lt),pt=this.s[ht]/ut,gt=lt/ut;this.s[ht]=ut,ht!==it&&(lt=-gt*V[ht-1],V[ht-1]=pt*V[ht-1]);for(var ft=0;ft<this.n;ft++)ut=pt*this.V[ft][ht]+gt*this.V[ft][Ie-1],this.V[ft][Ie-1]=-gt*this.V[ft][ht]+pt*this.V[ft][Ie-1],this.V[ft][ht]=ut}break;case 2:var mt=V[it-1];V[it-1]=0;for(var xt=it;xt<Ie;xt++){var bt=n.hypot(this.s[xt],mt),wt=this.s[xt]/bt,kt=mt/bt;this.s[xt]=bt,mt=-kt*V[xt],V[xt]=wt*V[xt];for(var _t=0;_t<this.m;_t++)bt=wt*this.U[_t][xt]+kt*this.U[_t][it-1],this.U[_t][it-1]=-kt*this.U[_t][xt]+wt*this.U[_t][it-1],this.U[_t][xt]=bt}break;case 3:var St=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[Ie-1]),Math.abs(this.s[Ie-2])),Math.abs(V[Ie-2])),Math.abs(this.s[it])),Math.abs(V[it])),At=this.s[Ie-1]/St,Lt=this.s[Ie-2]/St,Nt=V[Ie-2]/St,It=this.s[it]/St,Mt=V[it]/St,Rt=((Lt+At)*(Lt-At)+Nt*Nt)/2,Dt=At*Nt*(At*Nt),Ot=0;(function(c,q){return c||q})(0!==Rt,0!==Dt)&&(Ot=Math.sqrt(Rt*Rt+Dt),Rt<0&&(Ot=-Ot),Ot=Dt/(Rt+Ot));for(var Pt=(It+At)*(It-At)+Ot,Bt=It*Mt,Ft=it;Ft<Ie-1;Ft++){var $t=n.hypot(Pt,Bt),zt=Pt/$t,Gt=Bt/$t;Ft!==it&&(V[Ft-1]=$t),Pt=zt*this.s[Ft]+Gt*V[Ft],V[Ft]=zt*V[Ft]-Gt*this.s[Ft],Bt=Gt*this.s[Ft+1],this.s[Ft+1]=zt*this.s[Ft+1];for(var Ut=0;Ut<this.n;Ut++)$t=zt*this.V[Ut][Ft]+Gt*this.V[Ut][Ft+1],this.V[Ut][Ft+1]=-Gt*this.V[Ut][Ft]+zt*this.V[Ut][Ft+1],this.V[Ut][Ft]=$t;if(zt=Pt/($t=n.hypot(Pt,Bt)),Gt=Bt/$t,this.s[Ft]=$t,Pt=zt*V[Ft]+Gt*this.s[Ft+1],this.s[Ft+1]=-Gt*V[Ft]+zt*this.s[Ft+1],Bt=Gt*V[Ft+1],V[Ft+1]=zt*V[Ft+1],Ft<this.m-1)for(var qt=0;qt<this.m;qt++)$t=zt*this.U[qt][Ft]+Gt*this.U[qt][Ft+1],this.U[qt][Ft+1]=-Gt*this.U[qt][Ft]+zt*this.U[qt][Ft+1],this.U[qt][Ft]=$t}V[Ie-2]=Pt;break;case 4:if(this.s[it]<=0&&(this.s[it]=this.s[it]<0?-this.s[it]:0,re))for(var jt=0;jt<=tt;jt++)this.V[jt][it]=-this.V[jt][it];for(;it<tt&&!(this.s[it]>=this.s[it+1]);){var Yt=this.s[it];if(this.s[it]=this.s[it+1],this.s[it+1]=Yt,it<this.n-1)for(var Ht=0;Ht<this.n;Ht++)Yt=this.V[Ht][it+1],this.V[Ht][it+1]=this.V[Ht][it],this.V[Ht][it]=Yt;if(it<this.m-1)for(var Vt=0;Vt<this.m;Vt++)Yt=this.U[Vt][it+1],this.U[Vt][it+1]=this.U[Vt][it],this.U[Vt][it]=Yt;it++}Ie--}}return{U:this.U,V:this.V,S:this.s}},n.hypot=function(c,q){var Y=void 0;return Math.abs(c)>Math.abs(q)?(Y=q/c,Y=Math.abs(c)*Math.sqrt(1+Y*Y)):0!=q?(Y=c/q,Y=Math.abs(q)*Math.sqrt(1+Y*Y)):Y=0,Y},c.exports=n},function(c,q,Y){var V=function(){function s(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(s,"defineProperties"),function(c,q,Y){return q&&s(c.prototype,q),Y&&s(c,Y),c}}();function i(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(i,"_classCallCheck");var Z=function(){function s(c,q){var Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,s),this.sequence1=c,this.sequence2=q,this.match_score=Y,this.mismatch_penalty=V,this.gap_penalty=Z,this.iMax=c.length+1,this.jMax=q.length+1,this.grid=new Array(this.iMax);for(var re=0;re<this.iMax;re++){this.grid[re]=new Array(this.jMax);for(var ae=0;ae<this.jMax;ae++)this.grid[re][ae]=0}this.tracebackGrid=new Array(this.iMax);for(var se=0;se<this.iMax;se++){this.tracebackGrid[se]=new Array(this.jMax);for(var oe=0;oe<this.jMax;oe++)this.tracebackGrid[se][oe]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(s,"NeedlemanWunsch"),V(s,[{key:"getScore",value:o(function(){return this.score},"getScore")},{key:"getAlignments",value:o(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:o(function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var q=1;q<this.iMax;q++)this.grid[q][0]=this.grid[q-1][0]+this.gap_penalty,this.tracebackGrid[q][0]=[!1,!0,!1];for(var Y=1;Y<this.iMax;Y++)for(var V=1;V<this.jMax;V++){var Z=[this.sequence1[Y-1]===this.sequence2[V-1]?this.grid[Y-1][V-1]+this.match_score:this.grid[Y-1][V-1]+this.mismatch_penalty,this.grid[Y-1][V]+this.gap_penalty,this.grid[Y][V-1]+this.gap_penalty],re=this.arrayAllMaxIndexes(Z);this.grid[Y][V]=Z[re[0]],this.tracebackGrid[Y][V]=[re.includes(0),re.includes(1),re.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:o(function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var q=c[0],Y=this.tracebackGrid[q.pos[0]][q.pos[1]];Y[0]&&c.push({pos:[q.pos[0]-1,q.pos[1]-1],seq1:this.sequence1[q.pos[0]-1]+q.seq1,seq2:this.sequence2[q.pos[1]-1]+q.seq2}),Y[1]&&c.push({pos:[q.pos[0]-1,q.pos[1]],seq1:this.sequence1[q.pos[0]-1]+q.seq1,seq2:"-"+q.seq2}),Y[2]&&c.push({pos:[q.pos[0],q.pos[1]-1],seq1:"-"+q.seq1,seq2:this.sequence2[q.pos[1]-1]+q.seq2}),0===q.pos[0]&&0===q.pos[1]&&this.alignments.push({sequence1:q.seq1,sequence2:q.seq2}),c.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:o(function(c,q){for(var Y=[],V=-1;-1!==(V=c.indexOf(q,V+1));)Y.push(V);return Y},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:o(function(c){return this.getAllIndexes(c,Math.max.apply(null,c))},"arrayAllMaxIndexes")}]),s}();c.exports=Z},function(c,q,Y){var V=o(function(){},"layoutBase");V.FDLayout=Y(18),V.FDLayoutConstants=Y(4),V.FDLayoutEdge=Y(19),V.FDLayoutNode=Y(20),V.DimensionD=Y(21),V.HashMap=Y(22),V.HashSet=Y(23),V.IGeometry=Y(8),V.IMath=Y(9),V.Integer=Y(10),V.Point=Y(12),V.PointD=Y(5),V.RandomSeed=Y(16),V.RectangleD=Y(13),V.Transform=Y(17),V.UniqueIDGeneretor=Y(14),V.Quicksort=Y(25),V.LinkedList=Y(11),V.LGraphObject=Y(2),V.LGraph=Y(6),V.LEdge=Y(1),V.LGraphManager=Y(7),V.LNode=Y(3),V.Layout=Y(15),V.LayoutConstants=Y(0),V.NeedlemanWunsch=Y(27),V.Matrix=Y(24),V.SVD=Y(26),c.exports=V},function(c,q,Y){function n(){this.listeners=[]}o(n,"Emitter");var V=n.prototype;V.addListener=function(c,q){this.listeners.push({event:c,callback:q})},V.removeListener=function(c,q){for(var Y=this.listeners.length;Y>=0;Y--){var V=this.listeners[Y];V.event===c&&V.callback===q&&this.listeners.splice(Y,1)}},V.emit=function(c,q){for(var Y=0;Y<this.listeners.length;Y++){var V=this.listeners[Y];c===V.event&&V.callback(q)}},c.exports=n}])})}),E1e=Ni((c,q)=>{o(function(Y,V){"object"==typeof c&&"object"==typeof q?q.exports=V(_1e()):"function"==typeof define&&define.amd?define(["layout-base"],V):"object"==typeof c?c.coseBase=V(_1e()):Y.coseBase=V(Y.layoutBase)},"webpackUniversalModuleDefinition")(c,function(c){return(()=>{var q={45:(c,q,Y)=>{var V={};V.layoutBase=Y(551),V.CoSEConstants=Y(806),V.CoSEEdge=Y(767),V.CoSEGraph=Y(880),V.CoSEGraphManager=Y(578),V.CoSELayout=Y(765),V.CoSENode=Y(991),V.ConstraintHandler=Y(902),c.exports=V},806:(c,q,Y)=>{var V=Y(551).FDLayoutConstants;function h(){}for(var Z in o(h,"CoSEConstants"),V)h[Z]=V[Z];h.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,h.DEFAULT_RADIAL_SEPARATION=V.DEFAULT_EDGE_LENGTH,h.DEFAULT_COMPONENT_SEPERATION=60,h.TILE=!0,h.TILING_PADDING_VERTICAL=10,h.TILING_PADDING_HORIZONTAL=10,h.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,h.ENFORCE_CONSTRAINTS=!0,h.APPLY_LAYOUT=!0,h.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,h.TREE_REDUCTION_ON_INCREMENTAL=!0,h.PURE_INCREMENTAL=h.DEFAULT_INCREMENTAL,c.exports=h},767:(c,q,Y)=>{var V=Y(551).FDLayoutEdge;function h(c,q,Y){V.call(this,c,q,Y)}for(var Z in o(h,"CoSEEdge"),h.prototype=Object.create(V.prototype),V)h[Z]=V[Z];c.exports=h},880:(c,q,Y)=>{var V=Y(551).LGraph;function h(c,q,Y){V.call(this,c,q,Y)}for(var Z in o(h,"CoSEGraph"),h.prototype=Object.create(V.prototype),V)h[Z]=V[Z];c.exports=h},578:(c,q,Y)=>{var V=Y(551).LGraphManager;function h(c){V.call(this,c)}for(var Z in o(h,"CoSEGraphManager"),h.prototype=Object.create(V.prototype),V)h[Z]=V[Z];c.exports=h},765:(c,q,Y)=>{var V=Y(551).FDLayout,Z=Y(578),re=Y(880),ae=Y(991),se=Y(767),oe=Y(806),he=Y(902),de=Y(551).FDLayoutConstants,pe=Y(551).LayoutConstants,ge=Y(551).Point,me=Y(551).PointD,ve=Y(551).DimensionD,be=Y(551).Layout,we=Y(551).Integer,Te=Y(551).IGeometry,_e=Y(551).LGraph,Ee=Y(551).Transform,Ce=Y(551).LinkedList;function I(){V.call(this),this.toBeTiled={},this.constraints={}}for(var Se in o(I,"CoSELayout"),I.prototype=Object.create(V.prototype),V)I[Se]=V[Se];I.prototype.newGraphManager=function(){var c=new Z(this);return this.graphManager=c,c},I.prototype.newGraph=function(c){return new re(null,this.graphManager,c)},I.prototype.newNode=function(c){return new ae(this.graphManager,c)},I.prototype.newEdge=function(c){return new se(null,null,c)},I.prototype.initParameters=function(){V.prototype.initParameters.call(this,arguments),this.isSubLayout||(oe.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=oe.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=oe.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=de.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=de.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=de.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=de.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},I.prototype.initSpringEmbedder=function(){V.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/de.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},I.prototype.layout=function(){return pe.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},I.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(oe.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var c=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(q){return c.has(q)});this.graphManager.setAllNodesToApplyGravitation(q)}}else{var Y=this.getFlatForest();if(Y.length>0)this.positionNodesRadially(Y);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();c=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(q){return c.has(q)});this.graphManager.setAllNodesToApplyGravitation(q),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(he.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),oe.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},I.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%de.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var c=new Set(this.getAllNodes()),q=this.nodesWithGravity.filter(function(q){return c.has(q)});this.graphManager.setAllNodesToApplyGravitation(q),this.graphManager.updateBounds(),this.updateGrid(),oe.PURE_INCREMENTAL?this.coolingFactor=de.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=de.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),oe.PURE_INCREMENTAL?this.coolingFactor=de.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=de.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var Y=!this.isTreeGrowing&&!this.isGrowthFinished,V=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(Y,V),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},I.prototype.getPositionsData=function(){for(var c=this.graphManager.getAllNodes(),q={},Y=0;Y<c.length;Y++){var V=c[Y].rect,Z=c[Y].id;q[Z]={id:Z,x:V.getCenterX(),y:V.getCenterY(),w:V.width,h:V.height}}return q},I.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var c=!1;if("during"===de.ANIMATE)this.emit("layoutstarted");else{for(;!c;)c=this.tick();this.graphManager.updateBounds()}},I.prototype.moveNodes=function(){for(var c=this.getAllNodes(),q=0;q<c.length;q++)c[q].calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(q=0;q<c.length;q++)c[q].move()},I.prototype.initConstraintVariables=function(){var c=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var q=this.graphManager.getAllNodes(),Y=0;Y<q.length;Y++){var V=q[Y];this.idToNodeMap.set(V.id,V)}var Z=o(function ee(q){for(var Y,V=q.getChild().getNodes(),Z=0,re=0;re<V.length;re++)null==(Y=V[re]).getChild()?c.fixedNodeSet.has(Y.id)&&(Z+=100):Z+=ee(Y);return Z},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(q){c.fixedNodeSet.add(q.nodeId)});for(q=this.graphManager.getAllNodes(),Y=0;Y<q.length;Y++)if(null!=(V=q[Y]).getChild()){var re=Z(V);re>0&&(V.fixedNodeWeight=re)}}if(this.constraints.relativePlacementConstraint){var ae=new Map,se=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(q){c.fixedNodesOnHorizontal.add(q),c.fixedNodesOnVertical.add(q)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var he=this.constraints.alignmentConstraint.vertical;for(Y=0;Y<he.length;Y++)this.dummyToNodeForVerticalAlignment.set("dummy"+Y,[]),he[Y].forEach(function(q){ae.set(q,"dummy"+Y),c.dummyToNodeForVerticalAlignment.get("dummy"+Y).push(q),c.fixedNodeSet.has(q)&&c.fixedNodesOnHorizontal.add("dummy"+Y)})}if(this.constraints.alignmentConstraint.horizontal){var de=this.constraints.alignmentConstraint.horizontal;for(Y=0;Y<de.length;Y++)this.dummyToNodeForHorizontalAlignment.set("dummy"+Y,[]),de[Y].forEach(function(q){se.set(q,"dummy"+Y),c.dummyToNodeForHorizontalAlignment.get("dummy"+Y).push(q),c.fixedNodeSet.has(q)&&c.fixedNodesOnVertical.add("dummy"+Y)})}}if(oe.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(c){var q,Y,V;for(V=c.length-1;V>=2*c.length/3;V--)q=Math.floor(Math.random()*(V+1)),Y=c[V],c[V]=c[q],c[q]=Y;return c},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(q){if(q.left){var Y=ae.has(q.left)?ae.get(q.left):q.left,V=ae.has(q.right)?ae.get(q.right):q.right;c.nodesInRelativeHorizontal.includes(Y)||(c.nodesInRelativeHorizontal.push(Y),c.nodeToRelativeConstraintMapHorizontal.set(Y,[]),c.dummyToNodeForVerticalAlignment.has(Y)?c.nodeToTempPositionMapHorizontal.set(Y,c.idToNodeMap.get(c.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):c.nodeToTempPositionMapHorizontal.set(Y,c.idToNodeMap.get(Y).getCenterX())),c.nodesInRelativeHorizontal.includes(V)||(c.nodesInRelativeHorizontal.push(V),c.nodeToRelativeConstraintMapHorizontal.set(V,[]),c.dummyToNodeForVerticalAlignment.has(V)?c.nodeToTempPositionMapHorizontal.set(V,c.idToNodeMap.get(c.dummyToNodeForVerticalAlignment.get(V)[0]).getCenterX()):c.nodeToTempPositionMapHorizontal.set(V,c.idToNodeMap.get(V).getCenterX())),c.nodeToRelativeConstraintMapHorizontal.get(Y).push({right:V,gap:q.gap}),c.nodeToRelativeConstraintMapHorizontal.get(V).push({left:Y,gap:q.gap})}else{var Z=se.has(q.top)?se.get(q.top):q.top,re=se.has(q.bottom)?se.get(q.bottom):q.bottom;c.nodesInRelativeVertical.includes(Z)||(c.nodesInRelativeVertical.push(Z),c.nodeToRelativeConstraintMapVertical.set(Z,[]),c.dummyToNodeForHorizontalAlignment.has(Z)?c.nodeToTempPositionMapVertical.set(Z,c.idToNodeMap.get(c.dummyToNodeForHorizontalAlignment.get(Z)[0]).getCenterY()):c.nodeToTempPositionMapVertical.set(Z,c.idToNodeMap.get(Z).getCenterY())),c.nodesInRelativeVertical.includes(re)||(c.nodesInRelativeVertical.push(re),c.nodeToRelativeConstraintMapVertical.set(re,[]),c.dummyToNodeForHorizontalAlignment.has(re)?c.nodeToTempPositionMapVertical.set(re,c.idToNodeMap.get(c.dummyToNodeForHorizontalAlignment.get(re)[0]).getCenterY()):c.nodeToTempPositionMapVertical.set(re,c.idToNodeMap.get(re).getCenterY())),c.nodeToRelativeConstraintMapVertical.get(Z).push({bottom:re,gap:q.gap}),c.nodeToRelativeConstraintMapVertical.get(re).push({top:Z,gap:q.gap})}});else{var pe=new Map,ge=new Map;this.constraints.relativePlacementConstraint.forEach(function(c){if(c.left){var q=ae.has(c.left)?ae.get(c.left):c.left,Y=ae.has(c.right)?ae.get(c.right):c.right;pe.has(q)?pe.get(q).push(Y):pe.set(q,[Y]),pe.has(Y)?pe.get(Y).push(q):pe.set(Y,[q])}else{var V=se.has(c.top)?se.get(c.top):c.top,Z=se.has(c.bottom)?se.get(c.bottom):c.bottom;ge.has(V)?ge.get(V).push(Z):ge.set(V,[Z]),ge.has(Z)?ge.get(Z).push(V):ge.set(Z,[V])}});var me=o(function(c,q){var Y=[],V=[],Z=new Ce,re=new Set,ae=0;return c.forEach(function(se,oe){if(!re.has(oe)){Y[ae]=[],V[ae]=!1;var he=oe;for(Z.push(he),re.add(he),Y[ae].push(he);0!=Z.length;){he=Z.shift(),q.has(he)&&(V[ae]=!0),c.get(he).forEach(function(c){re.has(c)||(Z.push(c),re.add(c),Y[ae].push(c))})}ae++}}),{components:Y,isFixed:V}},"constructComponents"),ve=me(pe,c.fixedNodesOnHorizontal);this.componentsOnHorizontal=ve.components,this.fixedComponentsOnHorizontal=ve.isFixed;var be=me(ge,c.fixedNodesOnVertical);this.componentsOnVertical=be.components,this.fixedComponentsOnVertical=be.isFixed}}},I.prototype.updateDisplacements=function(){var c=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(q){var Y=c.idToNodeMap.get(q.nodeId);Y.displacementX=0,Y.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var q=this.constraints.alignmentConstraint.vertical,Y=0;Y<q.length;Y++){for(var V=0,Z=0;Z<q[Y].length;Z++){if(this.fixedNodeSet.has(q[Y][Z])){V=0;break}V+=this.idToNodeMap.get(q[Y][Z]).displacementX}var re=V/q[Y].length;for(Z=0;Z<q[Y].length;Z++)this.idToNodeMap.get(q[Y][Z]).displacementX=re}if(this.constraints.alignmentConstraint.horizontal){var ae=this.constraints.alignmentConstraint.horizontal;for(Y=0;Y<ae.length;Y++){var se=0;for(Z=0;Z<ae[Y].length;Z++){if(this.fixedNodeSet.has(ae[Y][Z])){se=0;break}se+=this.idToNodeMap.get(ae[Y][Z]).displacementY}var he=se/ae[Y].length;for(Z=0;Z<ae[Y].length;Z++)this.idToNodeMap.get(ae[Y][Z]).displacementY=he}}}if(this.constraints.relativePlacementConstraint)if(oe.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(q){if(!c.fixedNodesOnHorizontal.has(q)){var Y=0;Y=c.dummyToNodeForVerticalAlignment.has(q)?c.idToNodeMap.get(c.dummyToNodeForVerticalAlignment.get(q)[0]).displacementX:c.idToNodeMap.get(q).displacementX,c.nodeToRelativeConstraintMapHorizontal.get(q).forEach(function(V){var Z;V.right?(Z=c.nodeToTempPositionMapHorizontal.get(V.right)-c.nodeToTempPositionMapHorizontal.get(q)-Y)<V.gap&&(Y-=V.gap-Z):(Z=c.nodeToTempPositionMapHorizontal.get(q)-c.nodeToTempPositionMapHorizontal.get(V.left)+Y)<V.gap&&(Y+=V.gap-Z)}),c.nodeToTempPositionMapHorizontal.set(q,c.nodeToTempPositionMapHorizontal.get(q)+Y),c.dummyToNodeForVerticalAlignment.has(q)?c.dummyToNodeForVerticalAlignment.get(q).forEach(function(q){c.idToNodeMap.get(q).displacementX=Y}):c.idToNodeMap.get(q).displacementX=Y}}),this.nodesInRelativeVertical.forEach(function(q){if(!c.fixedNodesOnHorizontal.has(q)){var Y=0;Y=c.dummyToNodeForHorizontalAlignment.has(q)?c.idToNodeMap.get(c.dummyToNodeForHorizontalAlignment.get(q)[0]).displacementY:c.idToNodeMap.get(q).displacementY,c.nodeToRelativeConstraintMapVertical.get(q).forEach(function(V){var Z;V.bottom?(Z=c.nodeToTempPositionMapVertical.get(V.bottom)-c.nodeToTempPositionMapVertical.get(q)-Y)<V.gap&&(Y-=V.gap-Z):(Z=c.nodeToTempPositionMapVertical.get(q)-c.nodeToTempPositionMapVertical.get(V.top)+Y)<V.gap&&(Y+=V.gap-Z)}),c.nodeToTempPositionMapVertical.set(q,c.nodeToTempPositionMapVertical.get(q)+Y),c.dummyToNodeForHorizontalAlignment.has(q)?c.dummyToNodeForHorizontalAlignment.get(q).forEach(function(q){c.idToNodeMap.get(q).displacementY=Y}):c.idToNodeMap.get(q).displacementY=Y}});else{for(Y=0;Y<this.componentsOnHorizontal.length;Y++){var de=this.componentsOnHorizontal[Y];if(this.fixedComponentsOnHorizontal[Y])for(Z=0;Z<de.length;Z++)this.dummyToNodeForVerticalAlignment.has(de[Z])?this.dummyToNodeForVerticalAlignment.get(de[Z]).forEach(function(q){c.idToNodeMap.get(q).displacementX=0}):this.idToNodeMap.get(de[Z]).displacementX=0;else{var pe=0,ge=0;for(Z=0;Z<de.length;Z++)if(this.dummyToNodeForVerticalAlignment.has(de[Z])){pe+=(ve=this.dummyToNodeForVerticalAlignment.get(de[Z])).length*this.idToNodeMap.get(ve[0]).displacementX,ge+=ve.length}else pe+=this.idToNodeMap.get(de[Z]).displacementX,ge++;var me=pe/ge;for(Z=0;Z<de.length;Z++)this.dummyToNodeForVerticalAlignment.has(de[Z])?this.dummyToNodeForVerticalAlignment.get(de[Z]).forEach(function(q){c.idToNodeMap.get(q).displacementX=me}):this.idToNodeMap.get(de[Z]).displacementX=me}}for(Y=0;Y<this.componentsOnVertical.length;Y++){de=this.componentsOnVertical[Y];if(this.fixedComponentsOnVertical[Y])for(Z=0;Z<de.length;Z++)this.dummyToNodeForHorizontalAlignment.has(de[Z])?this.dummyToNodeForHorizontalAlignment.get(de[Z]).forEach(function(q){c.idToNodeMap.get(q).displacementY=0}):this.idToNodeMap.get(de[Z]).displacementY=0;else{for(pe=0,ge=0,Z=0;Z<de.length;Z++)if(this.dummyToNodeForHorizontalAlignment.has(de[Z])){var ve;pe+=(ve=this.dummyToNodeForHorizontalAlignment.get(de[Z])).length*this.idToNodeMap.get(ve[0]).displacementY,ge+=ve.length}else pe+=this.idToNodeMap.get(de[Z]).displacementY,ge++;for(me=pe/ge,Z=0;Z<de.length;Z++)this.dummyToNodeForHorizontalAlignment.has(de[Z])?this.dummyToNodeForHorizontalAlignment.get(de[Z]).forEach(function(q){c.idToNodeMap.get(q).displacementY=me}):this.idToNodeMap.get(de[Z]).displacementY=me}}}},I.prototype.calculateNodesToApplyGravitationTo=function(){var c,q,Y=[],V=this.graphManager.getGraphs(),Z=V.length;for(q=0;q<Z;q++)(c=V[q]).updateConnected(),c.isConnected||(Y=Y.concat(c.getNodes()));return Y},I.prototype.createBendpoints=function(){var c=[];c=c.concat(this.graphManager.getAllEdges());var q,Y=new Set;for(q=0;q<c.length;q++){var V=c[q];if(!Y.has(V)){var Z=V.getSource(),re=V.getTarget();if(Z==re)V.getBendpoints().push(new me),V.getBendpoints().push(new me),this.createDummyNodesForBendpoints(V),Y.add(V);else{var ae=[];if(ae=(ae=ae.concat(Z.getEdgeListToNode(re))).concat(re.getEdgeListToNode(Z)),!Y.has(ae[0])){var se;if(ae.length>1)for(se=0;se<ae.length;se++){var oe=ae[se];oe.getBendpoints().push(new me),this.createDummyNodesForBendpoints(oe)}ae.forEach(function(c){Y.add(c)})}}}if(Y.size==c.length)break}},I.prototype.positionNodesRadially=function(c){for(var q=new ge(0,0),Y=Math.ceil(Math.sqrt(c.length)),V=0,Z=0,re=0,ae=new me(0,0),se=0;se<c.length;se++){se%Y==0&&(re=0,Z=V,0!=se&&(Z+=oe.DEFAULT_COMPONENT_SEPERATION),V=0);var he=c[se],de=be.findCenterOfTree(he);q.x=re,q.y=Z,(ae=I.radialLayout(he,de,q)).y>V&&(V=Math.floor(ae.y)),re=Math.floor(ae.x+oe.DEFAULT_COMPONENT_SEPERATION)}this.transform(new me(pe.WORLD_CENTER_X-ae.x/2,pe.WORLD_CENTER_Y-ae.y/2))},I.radialLayout=function(c,q,Y){var V=Math.max(this.maxDiagonalInTree(c),oe.DEFAULT_RADIAL_SEPARATION);I.branchRadialLayout(q,null,0,359,0,V);var Z=_e.calculateBounds(c),re=new Ee;re.setDeviceOrgX(Z.getMinX()),re.setDeviceOrgY(Z.getMinY()),re.setWorldOrgX(Y.x),re.setWorldOrgY(Y.y);for(var ae=0;ae<c.length;ae++){c[ae].transform(re)}var se=new me(Z.getMaxX(),Z.getMaxY());return re.inverseTransformPoint(se)},I.branchRadialLayout=function(c,q,Y,V,Z,re){var ae=(V-Y+1)/2;ae<0&&(ae+=180);var se=(ae+Y)%360*Te.TWO_PI/360,oe=(Math.cos(se),Z*Math.cos(se)),he=Z*Math.sin(se);c.setCenter(oe,he);var de=[],pe=(de=de.concat(c.getEdges())).length;null!=q&&pe--;for(var ge,me=0,ve=de.length,be=c.getEdgesBetween(q);be.length>1;){var we=be[0];be.splice(0,1);var _e=de.indexOf(we);_e>=0&&de.splice(_e,1),ve--,pe--}ge=null!=q?(de.indexOf(be[0])+1)%ve:0;for(var Ee=Math.abs(V-Y)/pe,Ce=ge;me!=pe;Ce=++Ce%ve){var Se=de[Ce].getOtherEnd(c);if(Se!=q){var Ae=(Y+me*Ee)%360,Le=(Ae+Ee)%360;I.branchRadialLayout(Se,c,Ae,Le,Z+re,re),me++}}},I.maxDiagonalInTree=function(c){for(var q=we.MIN_VALUE,Y=0;Y<c.length;Y++){var V=c[Y].getDiagonal();V>q&&(q=V)}return q},I.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},I.prototype.groupZeroDegreeMembers=function(){var c=this,q={};this.memberGroups={},this.idToDummyNode={};for(var Y=[],V=this.graphManager.getAllNodes(),Z=0;Z<V.length;Z++){var re=(se=V[Z]).getParent();0===this.getNodeDegreeWithChildren(se)&&(null==re.id||!this.getToBeTiled(re))&&Y.push(se)}for(Z=0;Z<Y.length;Z++){var se,oe=(se=Y[Z]).getParent().id;typeof q[oe]>"u"&&(q[oe]=[]),q[oe]=q[oe].concat(se)}Object.keys(q).forEach(function(Y){if(q[Y].length>1){var V="DummyCompound_"+Y;c.memberGroups[V]=q[Y];var Z=q[Y][0].getParent(),re=new ae(c.graphManager);re.id=V,re.paddingLeft=Z.paddingLeft||0,re.paddingRight=Z.paddingRight||0,re.paddingBottom=Z.paddingBottom||0,re.paddingTop=Z.paddingTop||0,c.idToDummyNode[V]=re;var se=c.getGraphManager().add(c.newGraph(),re),oe=Z.getChild();oe.add(re);for(var he=0;he<q[Y].length;he++){var de=q[Y][he];oe.remove(de),se.add(de)}}})},I.prototype.clearCompounds=function(){var c={},q={};this.performDFSOnCompounds();for(var Y=0;Y<this.compoundOrder.length;Y++)q[this.compoundOrder[Y].id]=this.compoundOrder[Y],c[this.compoundOrder[Y].id]=[].concat(this.compoundOrder[Y].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[Y].getChild()),this.compoundOrder[Y].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(c,q)},I.prototype.clearZeroDegreeMembers=function(){var c=this,q=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(Y){var V=c.idToDummyNode[Y];if(q[Y]=c.tileNodes(c.memberGroups[Y],V.paddingLeft+V.paddingRight),V.rect.width=q[Y].width,V.rect.height=q[Y].height,V.setCenter(q[Y].centerX,q[Y].centerY),V.labelMarginLeft=0,V.labelMarginTop=0,oe.NODE_DIMENSIONS_INCLUDE_LABELS){var Z=V.rect.width,re=V.rect.height;V.labelWidth&&("left"==V.labelPosHorizontal?(V.rect.x-=V.labelWidth,V.setWidth(Z+V.labelWidth),V.labelMarginLeft=V.labelWidth):"center"==V.labelPosHorizontal&&V.labelWidth>Z?(V.rect.x-=(V.labelWidth-Z)/2,V.setWidth(V.labelWidth),V.labelMarginLeft=(V.labelWidth-Z)/2):"right"==V.labelPosHorizontal&&V.setWidth(Z+V.labelWidth)),V.labelHeight&&("top"==V.labelPosVertical?(V.rect.y-=V.labelHeight,V.setHeight(re+V.labelHeight),V.labelMarginTop=V.labelHeight):"center"==V.labelPosVertical&&V.labelHeight>re?(V.rect.y-=(V.labelHeight-re)/2,V.setHeight(V.labelHeight),V.labelMarginTop=(V.labelHeight-re)/2):"bottom"==V.labelPosVertical&&V.setHeight(re+V.labelHeight))}})},I.prototype.repopulateCompounds=function(){for(var c=this.compoundOrder.length-1;c>=0;c--){var q=this.compoundOrder[c],Y=q.id,V=q.paddingLeft,Z=q.paddingTop,re=q.labelMarginLeft,ae=q.labelMarginTop;this.adjustLocations(this.tiledMemberPack[Y],q.rect.x,q.rect.y,V,Z,re,ae)}},I.prototype.repopulateZeroDegreeMembers=function(){var c=this,q=this.tiledZeroDegreePack;Object.keys(q).forEach(function(Y){var V=c.idToDummyNode[Y],Z=V.paddingLeft,re=V.paddingTop,ae=V.labelMarginLeft,se=V.labelMarginTop;c.adjustLocations(q[Y],V.rect.x,V.rect.y,Z,re,ae,se)})},I.prototype.getToBeTiled=function(c){var q=c.id;if(null!=this.toBeTiled[q])return this.toBeTiled[q];var Y=c.getChild();if(null==Y)return this.toBeTiled[q]=!1,!1;for(var V=Y.getNodes(),Z=0;Z<V.length;Z++){var re=V[Z];if(this.getNodeDegree(re)>0)return this.toBeTiled[q]=!1,!1;if(null!=re.getChild()){if(!this.getToBeTiled(re))return this.toBeTiled[q]=!1,!1}else this.toBeTiled[re.id]=!1}return this.toBeTiled[q]=!0,!0},I.prototype.getNodeDegree=function(c){c.id;for(var q=c.getEdges(),Y=0,V=0;V<q.length;V++){var Z=q[V];Z.getSource().id!==Z.getTarget().id&&(Y+=1)}return Y},I.prototype.getNodeDegreeWithChildren=function(c){var q=this.getNodeDegree(c);if(null==c.getChild())return q;for(var Y=c.getChild().getNodes(),V=0;V<Y.length;V++){var Z=Y[V];q+=this.getNodeDegreeWithChildren(Z)}return q},I.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},I.prototype.fillCompexOrderByDFS=function(c){for(var q=0;q<c.length;q++){var Y=c[q];null!=Y.getChild()&&this.fillCompexOrderByDFS(Y.getChild().getNodes()),this.getToBeTiled(Y)&&this.compoundOrder.push(Y)}},I.prototype.adjustLocations=function(c,q,Y,V,Z,re,ae){Y+=Z+ae;for(var se=q+=V+re,oe=0;oe<c.rows.length;oe++){var he=c.rows[oe];q=se;for(var de=0,pe=0;pe<he.length;pe++){var ge=he[pe];ge.rect.x=q,ge.rect.y=Y,q+=ge.rect.width+c.horizontalPadding,ge.rect.height>de&&(de=ge.rect.height)}Y+=de+c.verticalPadding}},I.prototype.tileCompoundMembers=function(c,q){var Y=this;this.tiledMemberPack=[],Object.keys(c).forEach(function(V){var Z=q[V];if(Y.tiledMemberPack[V]=Y.tileNodes(c[V],Z.paddingLeft+Z.paddingRight),Z.rect.width=Y.tiledMemberPack[V].width,Z.rect.height=Y.tiledMemberPack[V].height,Z.setCenter(Y.tiledMemberPack[V].centerX,Y.tiledMemberPack[V].centerY),Z.labelMarginLeft=0,Z.labelMarginTop=0,oe.NODE_DIMENSIONS_INCLUDE_LABELS){var re=Z.rect.width,ae=Z.rect.height;Z.labelWidth&&("left"==Z.labelPosHorizontal?(Z.rect.x-=Z.labelWidth,Z.setWidth(re+Z.labelWidth),Z.labelMarginLeft=Z.labelWidth):"center"==Z.labelPosHorizontal&&Z.labelWidth>re?(Z.rect.x-=(Z.labelWidth-re)/2,Z.setWidth(Z.labelWidth),Z.labelMarginLeft=(Z.labelWidth-re)/2):"right"==Z.labelPosHorizontal&&Z.setWidth(re+Z.labelWidth)),Z.labelHeight&&("top"==Z.labelPosVertical?(Z.rect.y-=Z.labelHeight,Z.setHeight(ae+Z.labelHeight),Z.labelMarginTop=Z.labelHeight):"center"==Z.labelPosVertical&&Z.labelHeight>ae?(Z.rect.y-=(Z.labelHeight-ae)/2,Z.setHeight(Z.labelHeight),Z.labelMarginTop=(Z.labelHeight-ae)/2):"bottom"==Z.labelPosVertical&&Z.setHeight(ae+Z.labelHeight))}})},I.prototype.tileNodes=function(c,q){var Y=this.tileNodesByFavoringDim(c,q,!0),V=this.tileNodesByFavoringDim(c,q,!1),Z=this.getOrgRatio(Y);return this.getOrgRatio(V)<Z?V:Y},I.prototype.getOrgRatio=function(c){var q=c.width/c.height;return q<1&&(q=1/q),q},I.prototype.calcIdealRowWidth=function(c,q){var Y=oe.TILING_PADDING_VERTICAL,V=oe.TILING_PADDING_HORIZONTAL,Z=c.length,re=0,ae=0,se=0;c.forEach(function(c){re+=c.getWidth(),ae+=c.getHeight(),c.getWidth()>se&&(se=c.getWidth())});var he,de=re/Z,pe=ae/Z,ge=Math.pow(Y-V,2)+4*(de+V)*(pe+Y)*Z,me=(V-Y+Math.sqrt(ge))/(2*(de+V));q?(he=Math.ceil(me))==me&&he++:he=Math.floor(me);var ve=he*(de+V)-V;return se>ve&&(ve=se),ve+=2*V},I.prototype.tileNodesByFavoringDim=function(c,q,Y){var V=oe.TILING_PADDING_VERTICAL,Z=oe.TILING_PADDING_HORIZONTAL,re=oe.TILING_COMPARE_BY,ae={rows:[],rowWidth:[],rowHeight:[],width:0,height:q,verticalPadding:V,horizontalPadding:Z,centerX:0,centerY:0};re&&(ae.idealRowWidth=this.calcIdealRowWidth(c,Y));var se=o(function(c){return c.rect.width*c.rect.height},"getNodeArea"),he=o(function(c,q){return se(q)-se(c)},"areaCompareFcn");c.sort(function(c,q){var Y=he;return ae.idealRowWidth?(Y=re)(c.id,q.id):Y(c,q)});for(var de=0,pe=0,ge=0;ge<c.length;ge++){de+=(me=c[ge]).getCenterX(),pe+=me.getCenterY()}ae.centerX=de/c.length,ae.centerY=pe/c.length;for(ge=0;ge<c.length;ge++){var me=c[ge];if(0==ae.rows.length)this.insertNodeToRow(ae,me,0,q);else if(this.canAddHorizontal(ae,me.rect.width,me.rect.height)){var ve=ae.rows.length-1;ae.idealRowWidth||(ve=this.getShortestRowIndex(ae)),this.insertNodeToRow(ae,me,ve,q)}else this.insertNodeToRow(ae,me,ae.rows.length,q);this.shiftToLastRow(ae)}return ae},I.prototype.insertNodeToRow=function(c,q,Y,V){var Z=V;if(Y==c.rows.length){c.rows.push([]),c.rowWidth.push(Z),c.rowHeight.push(0)}var re=c.rowWidth[Y]+q.rect.width;c.rows[Y].length>0&&(re+=c.horizontalPadding),c.rowWidth[Y]=re,c.width<re&&(c.width=re);var ae=q.rect.height;Y>0&&(ae+=c.verticalPadding);var se=0;ae>c.rowHeight[Y]&&(se=c.rowHeight[Y],c.rowHeight[Y]=ae,se=c.rowHeight[Y]-se),c.height+=se,c.rows[Y].push(q)},I.prototype.getShortestRowIndex=function(c){for(var q=-1,Y=Number.MAX_VALUE,V=0;V<c.rows.length;V++)c.rowWidth[V]<Y&&(q=V,Y=c.rowWidth[V]);return q},I.prototype.getLongestRowIndex=function(c){for(var q=-1,Y=Number.MIN_VALUE,V=0;V<c.rows.length;V++)c.rowWidth[V]>Y&&(q=V,Y=c.rowWidth[V]);return q},I.prototype.canAddHorizontal=function(c,q,Y){if(c.idealRowWidth){var V=c.rows.length-1;return c.rowWidth[V]+q+c.horizontalPadding<=c.idealRowWidth}var Z=this.getShortestRowIndex(c);if(Z<0)return!0;var re=c.rowWidth[Z];if(re+c.horizontalPadding+q<=c.width)return!0;var ae,se,oe=0;return c.rowHeight[Z]<Y&&Z>0&&(oe=Y+c.verticalPadding-c.rowHeight[Z]),ae=c.width-re>=q+c.horizontalPadding?(c.height+oe)/(re+q+c.horizontalPadding):(c.height+oe)/c.width,oe=Y+c.verticalPadding,(se=c.width<q?(c.height+oe)/q:(c.height+oe)/c.width)<1&&(se=1/se),ae<1&&(ae=1/ae),ae<se},I.prototype.shiftToLastRow=function(c){var q=this.getLongestRowIndex(c),Y=c.rowWidth.length-1,V=c.rows[q],Z=V[V.length-1],re=Z.width+c.horizontalPadding;if(c.width-c.rowWidth[Y]>re&&q!=Y){V.splice(-1,1),c.rows[Y].push(Z),c.rowWidth[q]=c.rowWidth[q]-re,c.rowWidth[Y]=c.rowWidth[Y]+re,c.width=c.rowWidth[instance.getLongestRowIndex(c)];for(var ae=Number.MIN_VALUE,se=0;se<V.length;se++)V[se].height>ae&&(ae=V[se].height);q>0&&(ae+=c.verticalPadding);var oe=c.rowHeight[q]+c.rowHeight[Y];c.rowHeight[q]=ae,c.rowHeight[Y]<Z.height+c.verticalPadding&&(c.rowHeight[Y]=Z.height+c.verticalPadding);var he=c.rowHeight[q]+c.rowHeight[Y];c.height+=he-oe,this.shiftToLastRow(c)}},I.prototype.tilingPreLayout=function(){oe.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},I.prototype.tilingPostLayout=function(){oe.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},I.prototype.reduceTrees=function(){for(var c,q=[],Y=!0;Y;){var V=this.graphManager.getAllNodes(),Z=[];Y=!1;for(var re=0;re<V.length;re++)if(1==(c=V[re]).getEdges().length&&!c.getEdges()[0].isInterGraph&&null==c.getChild()){if(oe.PURE_INCREMENTAL){var ae=c.getEdges()[0].getOtherEnd(c),se=new ve(c.getCenterX()-ae.getCenterX(),c.getCenterY()-ae.getCenterY());Z.push([c,c.getEdges()[0],c.getOwner(),se])}else Z.push([c,c.getEdges()[0],c.getOwner()]);Y=!0}if(1==Y){for(var he=[],de=0;de<Z.length;de++)1==Z[de][0].getEdges().length&&(he.push(Z[de]),Z[de][0].getOwner().remove(Z[de][0]));q.push(he),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=q},I.prototype.growTree=function(c){for(var q,Y=c[c.length-1],V=0;V<Y.length;V++)q=Y[V],this.findPlaceforPrunedNode(q),q[2].add(q[0]),q[2].add(q[1],q[1].source,q[1].target);c.splice(c.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},I.prototype.findPlaceforPrunedNode=function(c){var q,Y,V=c[0];if(Y=V==c[1].source?c[1].target:c[1].source,oe.PURE_INCREMENTAL)V.setCenter(Y.getCenterX()+c[3].getWidth(),Y.getCenterY()+c[3].getHeight());else{var Z=Y.startX,re=Y.finishX,ae=Y.startY,se=Y.finishY,he=[0,0,0,0];if(ae>0)for(var pe=Z;pe<=re;pe++)he[0]+=this.grid[pe][ae-1].length+this.grid[pe][ae].length-1;if(re<this.grid.length-1)for(pe=ae;pe<=se;pe++)he[1]+=this.grid[re+1][pe].length+this.grid[re][pe].length-1;if(se<this.grid[0].length-1)for(pe=Z;pe<=re;pe++)he[2]+=this.grid[pe][se+1].length+this.grid[pe][se].length-1;if(Z>0)for(pe=ae;pe<=se;pe++)he[3]+=this.grid[Z-1][pe].length+this.grid[Z][pe].length-1;for(var ge,me,ve=we.MAX_VALUE,be=0;be<he.length;be++)he[be]<ve?(ve=he[be],ge=1,me=be):he[be]==ve&&ge++;if(3==ge&&0==ve)0==he[0]&&0==he[1]&&0==he[2]?q=1:0==he[0]&&0==he[1]&&0==he[3]?q=0:0==he[0]&&0==he[2]&&0==he[3]?q=3:0==he[1]&&0==he[2]&&0==he[3]&&(q=2);else if(2==ge&&0==ve){var Te=Math.floor(2*Math.random());q=0==he[0]&&0==he[1]?0==Te?0:1:0==he[0]&&0==he[2]?0==Te?0:2:0==he[0]&&0==he[3]?0==Te?0:3:0==he[1]&&0==he[2]?0==Te?1:2:0==he[1]&&0==he[3]?0==Te?1:3:0==Te?2:3}else if(4==ge&&0==ve){q=Te=Math.floor(4*Math.random())}else q=me;0==q?V.setCenter(Y.getCenterX(),Y.getCenterY()-Y.getHeight()/2-de.DEFAULT_EDGE_LENGTH-V.getHeight()/2):1==q?V.setCenter(Y.getCenterX()+Y.getWidth()/2+de.DEFAULT_EDGE_LENGTH+V.getWidth()/2,Y.getCenterY()):2==q?V.setCenter(Y.getCenterX(),Y.getCenterY()+Y.getHeight()/2+de.DEFAULT_EDGE_LENGTH+V.getHeight()/2):V.setCenter(Y.getCenterX()-Y.getWidth()/2-de.DEFAULT_EDGE_LENGTH-V.getWidth()/2,Y.getCenterY())}},c.exports=I},991:(c,q,Y)=>{var V=Y(551).FDLayoutNode,Z=Y(551).IMath;function f(c,q,Y,Z){V.call(this,c,q,Y,Z)}for(var re in o(f,"CoSENode"),f.prototype=Object.create(V.prototype),V)f[re]=V[re];f.prototype.calculateDisplacement=function(){var c=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementX=c.coolingFactor*c.maxNodeDisplacement*Z.sign(this.displacementX)),Math.abs(this.displacementY)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementY=c.coolingFactor*c.maxNodeDisplacement*Z.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},f.prototype.propogateDisplacementToChildren=function(c,q){for(var Y,V=this.getChild().getNodes(),Z=0;Z<V.length;Z++)null==(Y=V[Z]).getChild()?(Y.displacementX+=c,Y.displacementY+=q):Y.propogateDisplacementToChildren(c,q)},f.prototype.move=function(){var c=this.graphManager.getLayout();(null==this.child||0==this.child.getNodes().length)&&(this.moveBy(this.displacementX,this.displacementY),c.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},f.prototype.setPred1=function(c){this.pred1=c},f.prototype.getPred1=function(){return pred1},f.prototype.getPred2=function(){return pred2},f.prototype.setNext=function(c){this.next=c},f.prototype.getNext=function(){return next},f.prototype.setProcessed=function(c){this.processed=c},f.prototype.isProcessed=function(){return processed},c.exports=f},902:(c,q,Y)=>{function u(c){if(Array.isArray(c)){for(var q=0,Y=Array(c.length);q<c.length;q++)Y[q]=c[q];return Y}return Array.from(c)}o(u,"_toConsumableArray");var V=Y(806),Z=Y(551).LinkedList,re=Y(551).Matrix,ae=Y(551).SVD;function m(){}o(m,"ConstraintHandler"),m.handleConstraints=function(c){var q={};q.fixedNodeConstraint=c.constraints.fixedNodeConstraint,q.alignmentConstraint=c.constraints.alignmentConstraint,q.relativePlacementConstraint=c.constraints.relativePlacementConstraint;for(var Y=new Map,se=new Map,oe=[],he=[],de=c.getAllNodes(),pe=0,ge=0;ge<de.length;ge++){var me=de[ge];null==me.getChild()&&(se.set(me.id,pe++),oe.push(me.getCenterX()),he.push(me.getCenterY()),Y.set(me.id,me))}q.relativePlacementConstraint&&q.relativePlacementConstraint.forEach(function(c){!c.gap&&0!=c.gap&&(c.left?c.gap=V.DEFAULT_EDGE_LENGTH+Y.get(c.left).getWidth()/2+Y.get(c.right).getWidth()/2:c.gap=V.DEFAULT_EDGE_LENGTH+Y.get(c.top).getHeight()/2+Y.get(c.bottom).getHeight()/2)});var ve=o(function(c,q){return{x:c.x-q.x,y:c.y-q.y}},"calculatePositionDiff"),be=o(function(c){var q=0,Y=0;return c.forEach(function(c){q+=oe[se.get(c)],Y+=he[se.get(c)]}),{x:q/c.size,y:Y/c.size}},"calculateAvgPosition"),we=o(function(c,q,Y,V,re){function Pe(c,q){var Y=new Set(c),V=!0,Z=!1,re=void 0;try{for(var ae,se=q[Symbol.iterator]();!(V=(ae=se.next()).done);V=!0){var oe=ae.value;Y.add(oe)}}catch(c){Z=!0,re=c}finally{try{!V&&se.return&&se.return()}finally{if(Z)throw re}}return Y}o(Pe,"setUnion");var ae=new Map;c.forEach(function(c,q){ae.set(q,0)}),c.forEach(function(c,q){c.forEach(function(c){ae.set(c.id,ae.get(c.id)+1)})});var de=new Map,pe=new Map,ge=new Z;ae.forEach(function(c,Z){0==c?(ge.push(Z),Y||("horizontal"==q?de.set(Z,se.has(Z)?oe[se.get(Z)]:V.get(Z)):de.set(Z,se.has(Z)?he[se.get(Z)]:V.get(Z)))):de.set(Z,Number.NEGATIVE_INFINITY),Y&&pe.set(Z,new Set([Z]))}),Y&&re.forEach(function(c){var Z=[];if(c.forEach(function(c){Y.has(c)&&Z.push(c)}),Z.length>0){var re=0;Z.forEach(function(c){"horizontal"==q?(de.set(c,se.has(c)?oe[se.get(c)]:V.get(c)),re+=de.get(c)):(de.set(c,se.has(c)?he[se.get(c)]:V.get(c)),re+=de.get(c))}),re/=Z.length,c.forEach(function(c){Y.has(c)||de.set(c,re)})}else{var ae=0;c.forEach(function(c){ae+="horizontal"==q?se.has(c)?oe[se.get(c)]:V.get(c):se.has(c)?he[se.get(c)]:V.get(c)}),ae/=c.length,c.forEach(function(c){de.set(c,ae)})}});for(var me=o(function(){var Z=ge.shift();c.get(Z).forEach(function(c){if(de.get(c.id)<de.get(Z)+c.gap)if(Y&&Y.has(c.id)){var re=void 0;if(re="horizontal"==q?se.has(c.id)?oe[se.get(c.id)]:V.get(c.id):se.has(c.id)?he[se.get(c.id)]:V.get(c.id),de.set(c.id,re),re<de.get(Z)+c.gap){var me=de.get(Z)+c.gap-re;pe.get(Z).forEach(function(c){de.set(c,de.get(c)-me)})}}else de.set(c.id,de.get(Z)+c.gap);ae.set(c.id,ae.get(c.id)-1),0==ae.get(c.id)&&ge.push(c.id),Y&&pe.set(c.id,Pe(pe.get(Z),pe.get(c.id)))})},"_loop");0!=ge.length;)me();if(Y){var ve=new Set;c.forEach(function(c,q){0==c.length&&ve.add(q)});var be=[];pe.forEach(function(c,q){if(ve.has(q)){var V=!1,Z=!0,re=!1,ae=void 0;try{for(var se,oe=c[Symbol.iterator]();!(Z=(se=oe.next()).done);Z=!0){var he=se.value;Y.has(he)&&(V=!0)}}catch(c){re=!0,ae=c}finally{try{!Z&&oe.return&&oe.return()}finally{if(re)throw ae}}if(!V){var de=!1,pe=void 0;be.forEach(function(q,Y){q.has([].concat(u(c))[0])&&(de=!0,pe=Y)}),de?c.forEach(function(c){be[pe].add(c)}):be.push(new Set(c))}}}),be.forEach(function(c,Y){var Z=Number.POSITIVE_INFINITY,re=Number.POSITIVE_INFINITY,ae=Number.NEGATIVE_INFINITY,pe=Number.NEGATIVE_INFINITY,ge=!0,me=!1,ve=void 0;try{for(var be,we=c[Symbol.iterator]();!(ge=(be=we.next()).done);ge=!0){var Te=be.value,_e=void 0;_e="horizontal"==q?se.has(Te)?oe[se.get(Te)]:V.get(Te):se.has(Te)?he[se.get(Te)]:V.get(Te);var Ee=de.get(Te);_e<Z&&(Z=_e),_e>ae&&(ae=_e),Ee<re&&(re=Ee),Ee>pe&&(pe=Ee)}}catch(c){me=!0,ve=c}finally{try{!ge&&we.return&&we.return()}finally{if(me)throw ve}}var Ce=(Z+ae)/2-(re+pe)/2,Se=!0,Ae=!1,Le=void 0;try{for(var Ne,Ie=c[Symbol.iterator]();!(Se=(Ne=Ie.next()).done);Se=!0){var Me=Ne.value;de.set(Me,de.get(Me)+Ce)}}catch(c){Ae=!0,Le=c}finally{try{!Se&&Ie.return&&Ie.return()}finally{if(Ae)throw Le}}})}return de},"findAppropriatePositionForRelativePlacement"),Te=o(function(c){var q=0,Y=0,V=0,Z=0;if(c.forEach(function(c){c.left?oe[se.get(c.left)]-oe[se.get(c.right)]>=0?q++:Y++:he[se.get(c.top)]-he[se.get(c.bottom)]>=0?V++:Z++}),q>Y&&V>Z)for(var re=0;re<se.size;re++)oe[re]=-1*oe[re],he[re]=-1*he[re];else if(q>Y)for(var ae=0;ae<se.size;ae++)oe[ae]=-1*oe[ae];else if(V>Z)for(var de=0;de<se.size;de++)he[de]=-1*he[de]},"applyReflectionForRelativePlacement"),_e=o(function(c){var q=[],Y=new Z,V=new Set,re=0;return c.forEach(function(Z,ae){if(!V.has(ae)){q[re]=[];var se=ae;for(Y.push(se),V.add(se),q[re].push(se);0!=Y.length;){se=Y.shift(),c.get(se).forEach(function(c){V.has(c.id)||(Y.push(c.id),V.add(c.id),q[re].push(c.id))})}re++}}),q},"findComponents"),Ee=o(function(c){var q=new Map;return c.forEach(function(c,Y){q.set(Y,[])}),c.forEach(function(c,Y){c.forEach(function(c){q.get(Y).push(c),q.get(c.id).push({id:Y,gap:c.gap,direction:c.direction})})}),q},"dagToUndirected"),Ce=o(function(c){var q=new Map;return c.forEach(function(c,Y){q.set(Y,[])}),c.forEach(function(c,Y){c.forEach(function(c){q.get(c.id).push({id:Y,gap:c.gap,direction:c.direction})})}),q},"dagToReversed"),Se=[],Ae=[],Le=!1,Ne=!1,Ie=new Set,Me=new Map,Re=new Map,Oe=[];if(q.fixedNodeConstraint&&q.fixedNodeConstraint.forEach(function(c){Ie.add(c.nodeId)}),q.relativePlacementConstraint&&(q.relativePlacementConstraint.forEach(function(c){c.left?(Me.has(c.left)?Me.get(c.left).push({id:c.right,gap:c.gap,direction:"horizontal"}):Me.set(c.left,[{id:c.right,gap:c.gap,direction:"horizontal"}]),Me.has(c.right)||Me.set(c.right,[])):(Me.has(c.top)?Me.get(c.top).push({id:c.bottom,gap:c.gap,direction:"vertical"}):Me.set(c.top,[{id:c.bottom,gap:c.gap,direction:"vertical"}]),Me.has(c.bottom)||Me.set(c.bottom,[]))}),Re=Ee(Me),Oe=_e(Re)),V.TRANSFORM_ON_CONSTRAINT_HANDLING){if(q.fixedNodeConstraint&&q.fixedNodeConstraint.length>1)q.fixedNodeConstraint.forEach(function(c,q){Se[q]=[c.position.x,c.position.y],Ae[q]=[oe[se.get(c.nodeId)],he[se.get(c.nodeId)]]}),Le=!0;else if(q.alignmentConstraint)!function(){var c=0;if(q.alignmentConstraint.vertical){for(var Y=q.alignmentConstraint.vertical,V=o(function(q){var V=new Set;Y[q].forEach(function(c){V.add(c)});var Z=new Set([].concat(u(V)).filter(function(c){return Ie.has(c)})),re=void 0;re=Z.size>0?oe[se.get(Z.values().next().value)]:be(V).x,Y[q].forEach(function(q){Se[c]=[re,he[se.get(q)]],Ae[c]=[oe[se.get(q)],he[se.get(q)]],c++})},"_loop2"),Z=0;Z<Y.length;Z++)V(Z);Le=!0}if(q.alignmentConstraint.horizontal){for(var re=q.alignmentConstraint.horizontal,ae=o(function(q){var Y=new Set;re[q].forEach(function(c){Y.add(c)});var V=new Set([].concat(u(Y)).filter(function(c){return Ie.has(c)})),Z=void 0;Z=V.size>0?oe[se.get(V.values().next().value)]:be(Y).y,re[q].forEach(function(q){Se[c]=[oe[se.get(q)],Z],Ae[c]=[oe[se.get(q)],he[se.get(q)]],c++})},"_loop3"),de=0;de<re.length;de++)ae(de);Le=!0}q.relativePlacementConstraint&&(Ne=!0)}();else if(q.relativePlacementConstraint){for(var Be=0,$e=0,Ue=0;Ue<Oe.length;Ue++)Oe[Ue].length>Be&&(Be=Oe[Ue].length,$e=Ue);if(Be<Re.size/2)Te(q.relativePlacementConstraint),Le=!1,Ne=!1;else{var qe=new Map,je=new Map,We=[];Oe[$e].forEach(function(c){Me.get(c).forEach(function(q){"horizontal"==q.direction?(qe.has(c)?qe.get(c).push(q):qe.set(c,[q]),qe.has(q.id)||qe.set(q.id,[]),We.push({left:c,right:q.id})):(je.has(c)?je.get(c).push(q):je.set(c,[q]),je.has(q.id)||je.set(q.id,[]),We.push({top:c,bottom:q.id}))})}),Te(We),Ne=!1;var He=we(qe,"horizontal"),Ve=we(je,"vertical");Oe[$e].forEach(function(c,q){Ae[q]=[oe[se.get(c)],he[se.get(c)]],Se[q]=[],He.has(c)?Se[q][0]=He.get(c):Se[q][0]=oe[se.get(c)],Ve.has(c)?Se[q][1]=Ve.get(c):Se[q][1]=he[se.get(c)]}),Le=!0}}if(Le){for(var Ke,Qe=re.transpose(Se),Ze=re.transpose(Ae),Je=0;Je<Qe.length;Je++)Qe[Je]=re.multGamma(Qe[Je]),Ze[Je]=re.multGamma(Ze[Je]);var et=re.multMat(Qe,re.transpose(Ze)),tt=ae.svd(et);Ke=re.multMat(tt.V,re.transpose(tt.U));for(var rt=0;rt<se.size;rt++){var nt=[oe[rt],he[rt]],it=[Ke[0][0],Ke[1][0]],at=[Ke[0][1],Ke[1][1]];oe[rt]=re.dotProduct(nt,it),he[rt]=re.dotProduct(nt,at)}Ne&&Te(q.relativePlacementConstraint)}}if(V.ENFORCE_CONSTRAINTS){if(q.fixedNodeConstraint&&q.fixedNodeConstraint.length>0){var st={x:0,y:0};q.fixedNodeConstraint.forEach(function(c,q){var Y={x:oe[se.get(c.nodeId)],y:he[se.get(c.nodeId)]},V=c.position,Z=ve(V,Y);st.x+=Z.x,st.y+=Z.y}),st.x/=q.fixedNodeConstraint.length,st.y/=q.fixedNodeConstraint.length,oe.forEach(function(c,q){oe[q]+=st.x}),he.forEach(function(c,q){he[q]+=st.y}),q.fixedNodeConstraint.forEach(function(c){oe[se.get(c.nodeId)]=c.position.x,he[se.get(c.nodeId)]=c.position.y})}if(q.alignmentConstraint){if(q.alignmentConstraint.vertical)for(var ot=q.alignmentConstraint.vertical,lt=o(function(c){var q=new Set;ot[c].forEach(function(c){q.add(c)});var Y=new Set([].concat(u(q)).filter(function(c){return Ie.has(c)})),V=void 0;V=Y.size>0?oe[se.get(Y.values().next().value)]:be(q).x,q.forEach(function(c){Ie.has(c)||(oe[se.get(c)]=V)})},"_loop4"),ht=0;ht<ot.length;ht++)lt(ht);if(q.alignmentConstraint.horizontal)for(var ut=q.alignmentConstraint.horizontal,pt=o(function(c){var q=new Set;ut[c].forEach(function(c){q.add(c)});var Y=new Set([].concat(u(q)).filter(function(c){return Ie.has(c)})),V=void 0;V=Y.size>0?he[se.get(Y.values().next().value)]:be(q).y,q.forEach(function(c){Ie.has(c)||(he[se.get(c)]=V)})},"_loop5"),gt=0;gt<ut.length;gt++)pt(gt)}q.relativePlacementConstraint&&function(){var c=new Map,Y=new Map,V=new Map,Z=new Map,re=new Map,ae=new Map,de=new Set,pe=new Set;if(Ie.forEach(function(c){de.add(c),pe.add(c)}),q.alignmentConstraint){if(q.alignmentConstraint.vertical)for(var ge=q.alignmentConstraint.vertical,me=o(function(q){V.set("dummy"+q,[]),ge[q].forEach(function(Y){c.set(Y,"dummy"+q),V.get("dummy"+q).push(Y),Ie.has(Y)&&de.add("dummy"+q)}),re.set("dummy"+q,oe[se.get(ge[q][0])])},"_loop6"),ve=0;ve<ge.length;ve++)me(ve);if(q.alignmentConstraint.horizontal)for(var be=q.alignmentConstraint.horizontal,Te=o(function(c){Z.set("dummy"+c,[]),be[c].forEach(function(q){Y.set(q,"dummy"+c),Z.get("dummy"+c).push(q),Ie.has(q)&&pe.add("dummy"+c)}),ae.set("dummy"+c,he[se.get(be[c][0])])},"_loop7"),Se=0;Se<be.length;Se++)Te(Se)}var Ae=new Map,Le=new Map,Ne=o(function(q){Me.get(q).forEach(function(V){var Z=void 0,re=void 0;"horizontal"==V.direction?(Z=c.get(q)?c.get(q):q,re=c.get(V.id)?{id:c.get(V.id),gap:V.gap,direction:V.direction}:V,Ae.has(Z)?Ae.get(Z).push(re):Ae.set(Z,[re]),Ae.has(re.id)||Ae.set(re.id,[])):(Z=Y.get(q)?Y.get(q):q,re=Y.get(V.id)?{id:Y.get(V.id),gap:V.gap,direction:V.direction}:V,Le.has(Z)?Le.get(Z).push(re):Le.set(Z,[re]),Le.has(re.id)||Le.set(re.id,[]))})},"_loop8"),Re=!0,Oe=!1,Be=void 0;try{for(var $e,Ue=Me.keys()[Symbol.iterator]();!(Re=($e=Ue.next()).done);Re=!0){Ne($e.value)}}catch(c){Oe=!0,Be=c}finally{try{!Re&&Ue.return&&Ue.return()}finally{if(Oe)throw Be}}var qe=Ee(Ae),je=Ee(Le),We=_e(qe),He=_e(je),Ve=Ce(Ae),Ke=Ce(Le),Qe=[],Ze=[];We.forEach(function(c,q){Qe[q]=[],c.forEach(function(c){0==Ve.get(c).length&&Qe[q].push(c)})}),He.forEach(function(c,q){Ze[q]=[],c.forEach(function(c){0==Ke.get(c).length&&Ze[q].push(c)})});var Je=we(Ae,"horizontal",de,re,Qe),et=we(Le,"vertical",pe,ae,Ze),tt=o(function(c){V.get(c)?V.get(c).forEach(function(q){oe[se.get(q)]=Je.get(c)}):oe[se.get(c)]=Je.get(c)},"_loop9"),rt=!0,nt=!1,it=void 0;try{for(var at,st=Je.keys()[Symbol.iterator]();!(rt=(at=st.next()).done);rt=!0){tt(at.value)}}catch(c){nt=!0,it=c}finally{try{!rt&&st.return&&st.return()}finally{if(nt)throw it}}var ot=o(function(c){Z.get(c)?Z.get(c).forEach(function(q){he[se.get(q)]=et.get(c)}):he[se.get(c)]=et.get(c)},"_loop10"),lt=!0,ht=!1,ut=void 0;try{for(var pt,gt=et.keys()[Symbol.iterator]();!(lt=(pt=gt.next()).done);lt=!0){ot(pt.value)}}catch(c){ht=!0,ut=c}finally{try{!lt&&gt.return&&gt.return()}finally{if(ht)throw ut}}}()}for(var ft=0;ft<de.length;ft++){var mt=de[ft];null==mt.getChild()&&mt.setCenter(oe[se.get(mt.id)],he[se.get(mt.id)])}},c.exports=m},551:q=>{q.exports=c}},Y={};function n(c){var V=Y[c];if(void 0!==V)return V.exports;var Z=Y[c]={exports:{}};return q[c](Z,Z.exports,n),Z.exports}return o(n,"__webpack_require__"),n(45)})()})}),S1e=Ni((c,q)=>{o(function(Y,V){"object"==typeof c&&"object"==typeof q?q.exports=V(E1e()):"function"==typeof define&&define.amd?define(["cose-base"],V):"object"==typeof c?c.cytoscapeFcose=V(E1e()):Y.cytoscapeFcose=V(Y.coseBase)},"webpackUniversalModuleDefinition")(c,function(c){return(()=>{var q={658:c=>{c.exports=null!=Object.assign?Object.assign.bind(Object):function(c){for(var q=arguments.length,Y=Array(q>1?q-1:0),V=1;V<q;V++)Y[V-1]=arguments[V];return Y.forEach(function(q){Object.keys(q).forEach(function(Y){return c[Y]=q[Y]})}),c}},548:(c,q,Y)=>{var V=function(){function d(c,q){var Y=[],V=!0,Z=!1,re=void 0;try{for(var ae,se=c[Symbol.iterator]();!(V=(ae=se.next()).done)&&(Y.push(ae.value),!q||Y.length!==q);V=!0);}catch(c){Z=!0,re=c}finally{try{!V&&se.return&&se.return()}finally{if(Z)throw re}}return Y}return o(d,"sliceIterator"),function(c,q){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return d(c,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Z=Y(140).layoutBase.LinkedList,re={getTopMostNodes:function(c){for(var q={},Y=0;Y<c.length;Y++)q[c[Y].id()]=!0;return c.filter(function(c,Y){"number"==typeof c&&(c=Y);for(var V=c.parent()[0];null!=V;){if(q[V.id()])return!1;V=V.parent()[0]}return!0})},connectComponents:function(c,q,Y,V){var re=new Z,ae=new Set,se=[],oe=void 0,he=void 0,de=void 0,pe=!1,ge=1,me=[],ve=[],be=o(function(){var V=c.collection();ve.push(V);var Z=Y[0],be=c.collection();be.merge(Z).merge(Z.descendants().intersection(q)),se.push(Z),be.forEach(function(c){re.push(c),ae.add(c),V.merge(c)});for(var we=o(function(){Z=re.shift();var he=c.collection();Z.neighborhood().nodes().forEach(function(c){q.intersection(Z.edgesWith(c)).length>0&&he.merge(c)});for(var de=0;de<he.length;de++){var pe=he[de];if(null!=(oe=Y.intersection(pe.union(pe.ancestors())))&&!ae.has(oe[0]))oe.union(oe.descendants()).forEach(function(c){re.push(c),ae.add(c),V.merge(c),Y.has(c)&&se.push(c)})}},"_loop2");0!=re.length;)we();if(V.forEach(function(c){q.intersection(c.connectedEdges()).forEach(function(c){V.has(c.source())&&V.has(c.target())&&V.merge(c)})}),se.length==Y.length&&(pe=!0),!pe||pe&&ge>1){he=se[0],de=he.connectedEdges().length,se.forEach(function(c){c.connectedEdges().length<de&&(de=c.connectedEdges().length,he=c)}),me.push(he.id());var Te=c.collection();Te.merge(se[0]),se.forEach(function(c){Te.merge(c)}),se=[],Y=Y.difference(Te),ge++}},"_loop");do{be()}while(!pe);return V&&me.length>0&&V.set("dummy"+(V.size+1),me),ve},relocateComponent:function(c,q,Y){if(!Y.fixedNodeConstraint){var Z=Number.POSITIVE_INFINITY,re=Number.NEGATIVE_INFINITY,ae=Number.POSITIVE_INFINITY,se=Number.NEGATIVE_INFINITY;if("draft"==Y.quality){var oe=!0,he=!1,de=void 0;try{for(var pe,ge=q.nodeIndexes[Symbol.iterator]();!(oe=(pe=ge.next()).done);oe=!0){var me=pe.value,ve=V(me,2),be=ve[0],we=ve[1],Te=Y.cy.getElementById(be);if(Te){var _e=Te.boundingBox(),Ee=q.xCoords[we]-_e.w/2,Ce=q.xCoords[we]+_e.w/2,Se=q.yCoords[we]-_e.h/2,Ae=q.yCoords[we]+_e.h/2;Ee<Z&&(Z=Ee),Ce>re&&(re=Ce),Se<ae&&(ae=Se),Ae>se&&(se=Ae)}}}catch(c){he=!0,de=c}finally{try{!oe&&ge.return&&ge.return()}finally{if(he)throw de}}var Le=c.x-(re+Z)/2,Ne=c.y-(se+ae)/2;q.xCoords=q.xCoords.map(function(c){return c+Le}),q.yCoords=q.yCoords.map(function(c){return c+Ne})}else{Object.keys(q).forEach(function(c){var Y=q[c],V=Y.getRect().x,oe=Y.getRect().x+Y.getRect().width,he=Y.getRect().y,de=Y.getRect().y+Y.getRect().height;V<Z&&(Z=V),oe>re&&(re=oe),he<ae&&(ae=he),de>se&&(se=de)});var Ie=c.x-(re+Z)/2,Me=c.y-(se+ae)/2;Object.keys(q).forEach(function(c){var Y=q[c];Y.setCenter(Y.getCenterX()+Ie,Y.getCenterY()+Me)})}}},calcBoundingBox:function(c,q,Y,V){for(var Z=Number.MAX_SAFE_INTEGER,re=Number.MIN_SAFE_INTEGER,ae=Number.MAX_SAFE_INTEGER,se=Number.MIN_SAFE_INTEGER,oe=void 0,he=void 0,de=void 0,pe=void 0,ge=c.descendants().not(":parent"),me=ge.length,ve=0;ve<me;ve++){var be=ge[ve];Z>(oe=q[V.get(be.id())]-be.width()/2)&&(Z=oe),re<(he=q[V.get(be.id())]+be.width()/2)&&(re=he),ae>(de=Y[V.get(be.id())]-be.height()/2)&&(ae=de),se<(pe=Y[V.get(be.id())]+be.height()/2)&&(se=pe)}var we={};return we.topLeftX=Z,we.topLeftY=ae,we.width=re-Z,we.height=se-ae,we},calcParentsWithoutChildren:function(c,q){var Y=c.collection();return q.nodes(":parent").forEach(function(c){var q=!1;c.children().forEach(function(c){"none"!=c.css("display")&&(q=!0)}),q||Y.merge(c)}),Y}};c.exports=re},816:(c,q,Y)=>{var V=Y(548),Z=Y(140).CoSELayout,re=Y(140).CoSENode,ae=Y(140).layoutBase.PointD,se=Y(140).layoutBase.DimensionD,oe=Y(140).layoutBase.LayoutConstants,he=Y(140).layoutBase.FDLayoutConstants,de=Y(140).CoSEConstants,pe=o(function(c,q){var Y=c.cy,pe=c.eles,ge=pe.nodes(),me=pe.edges(),ve=void 0,be=void 0,we=void 0,Te={};c.randomize&&(ve=q.nodeIndexes,be=q.xCoords,we=q.yCoords);var _e=o(function(c){return"function"==typeof c},"isFn"),Ee=o(function(c,q){return _e(c)?c(q):c},"optFn"),Ce=V.calcParentsWithoutChildren(Y,pe),Se=o(function $(c,q,Y,Z){for(var oe=q.length,he=0;he<oe;he++){var de=q[he],pe=null;0==de.intersection(Ce).length&&(pe=de.children());var ge=void 0,me=de.layoutDimensions({nodeDimensionsIncludeLabels:Z.nodeDimensionsIncludeLabels});if(null!=de.outerWidth()&&null!=de.outerHeight())if(Z.randomize)if(de.isParent()){var _e=V.calcBoundingBox(de,be,we,ve);ge=0==de.intersection(Ce).length?c.add(new re(Y.graphManager,new ae(_e.topLeftX,_e.topLeftY),new se(_e.width,_e.height))):c.add(new re(Y.graphManager,new ae(_e.topLeftX,_e.topLeftY),new se(parseFloat(me.w),parseFloat(me.h))))}else ge=c.add(new re(Y.graphManager,new ae(be[ve.get(de.id())]-me.w/2,we[ve.get(de.id())]-me.h/2),new se(parseFloat(me.w),parseFloat(me.h))));else ge=c.add(new re(Y.graphManager,new ae(de.position("x")-me.w/2,de.position("y")-me.h/2),new se(parseFloat(me.w),parseFloat(me.h))));else ge=c.add(new re(this.graphManager));if(ge.id=de.data("id"),ge.nodeRepulsion=Ee(Z.nodeRepulsion,de),ge.paddingLeft=parseInt(de.css("padding")),ge.paddingTop=parseInt(de.css("padding")),ge.paddingRight=parseInt(de.css("padding")),ge.paddingBottom=parseInt(de.css("padding")),Z.nodeDimensionsIncludeLabels&&(ge.labelWidth=de.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,ge.labelHeight=de.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,ge.labelPosVertical=de.css("text-valign"),ge.labelPosHorizontal=de.css("text-halign")),Te[de.data("id")]=ge,isNaN(ge.rect.x)&&(ge.rect.x=0),isNaN(ge.rect.y)&&(ge.rect.y=0),null!=pe&&pe.length>0){$(Y.getGraphManager().add(Y.newGraph(),ge),pe,Y,Z)}}},"processChildrenList"),Ae=o(function(q,Y,V){for(var Z=0,re=0,ae=0;ae<V.length;ae++){var se=V[ae],oe=Te[se.data("source")],pe=Te[se.data("target")];if(oe&&pe&&oe!==pe&&0==oe.getEdgesBetween(pe).length){var ge=Y.add(q.newEdge(),oe,pe);ge.id=se.id(),ge.idealLength=Ee(c.idealEdgeLength,se),ge.edgeElasticity=Ee(c.edgeElasticity,se),Z+=ge.idealLength,re++}}null!=c.idealEdgeLength&&(re>0?de.DEFAULT_EDGE_LENGTH=he.DEFAULT_EDGE_LENGTH=Z/re:_e(c.idealEdgeLength)?de.DEFAULT_EDGE_LENGTH=he.DEFAULT_EDGE_LENGTH=50:de.DEFAULT_EDGE_LENGTH=he.DEFAULT_EDGE_LENGTH=c.idealEdgeLength,de.MIN_REPULSION_DIST=he.MIN_REPULSION_DIST=he.DEFAULT_EDGE_LENGTH/10,de.DEFAULT_RADIAL_SEPARATION=he.DEFAULT_EDGE_LENGTH)},"processEdges"),Le=o(function(c,q){q.fixedNodeConstraint&&(c.constraints.fixedNodeConstraint=q.fixedNodeConstraint),q.alignmentConstraint&&(c.constraints.alignmentConstraint=q.alignmentConstraint),q.relativePlacementConstraint&&(c.constraints.relativePlacementConstraint=q.relativePlacementConstraint)},"processConstraints");null!=c.nestingFactor&&(de.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=he.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=c.nestingFactor),null!=c.gravity&&(de.DEFAULT_GRAVITY_STRENGTH=he.DEFAULT_GRAVITY_STRENGTH=c.gravity),null!=c.numIter&&(de.MAX_ITERATIONS=he.MAX_ITERATIONS=c.numIter),null!=c.gravityRange&&(de.DEFAULT_GRAVITY_RANGE_FACTOR=he.DEFAULT_GRAVITY_RANGE_FACTOR=c.gravityRange),null!=c.gravityCompound&&(de.DEFAULT_COMPOUND_GRAVITY_STRENGTH=he.DEFAULT_COMPOUND_GRAVITY_STRENGTH=c.gravityCompound),null!=c.gravityRangeCompound&&(de.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=he.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=c.gravityRangeCompound),null!=c.initialEnergyOnIncremental&&(de.DEFAULT_COOLING_FACTOR_INCREMENTAL=he.DEFAULT_COOLING_FACTOR_INCREMENTAL=c.initialEnergyOnIncremental),null!=c.tilingCompareBy&&(de.TILING_COMPARE_BY=c.tilingCompareBy),"proof"==c.quality?oe.QUALITY=2:oe.QUALITY=0,de.NODE_DIMENSIONS_INCLUDE_LABELS=he.NODE_DIMENSIONS_INCLUDE_LABELS=oe.NODE_DIMENSIONS_INCLUDE_LABELS=c.nodeDimensionsIncludeLabels,de.DEFAULT_INCREMENTAL=he.DEFAULT_INCREMENTAL=oe.DEFAULT_INCREMENTAL=!c.randomize,de.ANIMATE=he.ANIMATE=oe.ANIMATE=c.animate,de.TILE=c.tile,de.TILING_PADDING_VERTICAL="function"==typeof c.tilingPaddingVertical?c.tilingPaddingVertical.call():c.tilingPaddingVertical,de.TILING_PADDING_HORIZONTAL="function"==typeof c.tilingPaddingHorizontal?c.tilingPaddingHorizontal.call():c.tilingPaddingHorizontal,de.DEFAULT_INCREMENTAL=he.DEFAULT_INCREMENTAL=oe.DEFAULT_INCREMENTAL=!0,de.PURE_INCREMENTAL=!c.randomize,oe.DEFAULT_UNIFORM_LEAF_NODE_SIZES=c.uniformNodeDimensions,"transformed"==c.step&&(de.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,de.ENFORCE_CONSTRAINTS=!1,de.APPLY_LAYOUT=!1),"enforced"==c.step&&(de.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,de.ENFORCE_CONSTRAINTS=!0,de.APPLY_LAYOUT=!1),"cose"==c.step&&(de.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,de.ENFORCE_CONSTRAINTS=!1,de.APPLY_LAYOUT=!0),"all"==c.step&&(c.randomize?de.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:de.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,de.ENFORCE_CONSTRAINTS=!0,de.APPLY_LAYOUT=!0),c.fixedNodeConstraint||c.alignmentConstraint||c.relativePlacementConstraint?de.TREE_REDUCTION_ON_INCREMENTAL=!1:de.TREE_REDUCTION_ON_INCREMENTAL=!0;var Ne=new Z,Ie=Ne.newGraphManager();return Se(Ie.addRoot(),V.getTopMostNodes(ge),Ne,c),Ae(Ne,Ie,me),Le(Ne,c),Ne.runLayout(),Te},"coseLayout");c.exports={coseLayout:pe}},212:(c,q,Y)=>{var V=function(){function b(c,q){for(var Y=0;Y<q.length;Y++){var V=q[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(c,V.key,V)}}return o(b,"defineProperties"),function(c,q,Y){return q&&b(c.prototype,q),Y&&b(c,Y),c}}();function h(c,q){if(!(c instanceof q))throw new TypeError("Cannot call a class as a function")}o(h,"_classCallCheck");var Z=Y(658),re=Y(548),ae=Y(657).spectralLayout,se=Y(816).coseLayout,oe=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:o(function(c){return 4500},"nodeRepulsion"),idealEdgeLength:o(function(c){return 50},"idealEdgeLength"),edgeElasticity:o(function(c){return.45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:o(function(){},"ready"),stop:o(function(){},"stop")}),he=function(){function b(c){h(this,b),this.options=Z({},oe,c)}return o(b,"Layout"),V(b,[{key:"run",value:o(function(){var c=this.options,q=c.cy,Y=c.eles,V=[],Z=[],oe=void 0,he=[];c.fixedNodeConstraint&&(!Array.isArray(c.fixedNodeConstraint)||0==c.fixedNodeConstraint.length)&&(c.fixedNodeConstraint=void 0),c.alignmentConstraint&&(c.alignmentConstraint.vertical&&(!Array.isArray(c.alignmentConstraint.vertical)||0==c.alignmentConstraint.vertical.length)&&(c.alignmentConstraint.vertical=void 0),c.alignmentConstraint.horizontal&&(!Array.isArray(c.alignmentConstraint.horizontal)||0==c.alignmentConstraint.horizontal.length)&&(c.alignmentConstraint.horizontal=void 0)),c.relativePlacementConstraint&&(!Array.isArray(c.relativePlacementConstraint)||0==c.relativePlacementConstraint.length)&&(c.relativePlacementConstraint=void 0),(c.fixedNodeConstraint||c.alignmentConstraint||c.relativePlacementConstraint)&&(c.tile=!1,c.packComponents=!1);var de=void 0,pe=!1;if(q.layoutUtilities&&c.packComponents&&((de=q.layoutUtilities("get"))||(de=q.layoutUtilities()),pe=!0),Y.nodes().length>0)if(pe){var ge=re.getTopMostNodes(c.eles.nodes());if((oe=re.connectComponents(q,c.eles,ge)).forEach(function(c){var q=c.boundingBox();he.push({x:q.x1+q.w/2,y:q.y1+q.h/2})}),c.randomize&&oe.forEach(function(q){c.eles=q,V.push(ae(c))}),"default"==c.quality||"proof"==c.quality){var me=q.collection();if(c.tile){var ve=new Map,be=0,we={nodeIndexes:ve,xCoords:[],yCoords:[]},Te=[];if(oe.forEach(function(c,q){0==c.edges().length&&(c.nodes().forEach(function(q,Y){me.merge(c.nodes()[Y]),q.isParent()||(we.nodeIndexes.set(c.nodes()[Y].id(),be++),we.xCoords.push(c.nodes()[0].position().x),we.yCoords.push(c.nodes()[0].position().y))}),Te.push(q))}),me.length>1){var _e=me.boundingBox();he.push({x:_e.x1+_e.w/2,y:_e.y1+_e.h/2}),oe.push(me),V.push(we);for(var Ee=Te.length-1;Ee>=0;Ee--)oe.splice(Te[Ee],1),V.splice(Te[Ee],1),he.splice(Te[Ee],1)}}oe.forEach(function(q,Y){c.eles=q,Z.push(se(c,V[Y])),re.relocateComponent(he[Y],Z[Y],c)})}else oe.forEach(function(q,Y){re.relocateComponent(he[Y],V[Y],c)});var Ce=new Set;if(oe.length>1){var Se=[],Ae=Y.filter(function(c){return"none"==c.css("display")});oe.forEach(function(q,Y){var ae=void 0;if("draft"==c.quality&&(ae=V[Y].nodeIndexes),q.nodes().not(Ae).length>0){var se={edges:[],nodes:[]},oe=void 0;q.nodes().not(Ae).forEach(function(q){if("draft"==c.quality)if(q.isParent()){var he=re.calcBoundingBox(q,V[Y].xCoords,V[Y].yCoords,ae);se.nodes.push({x:he.topLeftX,y:he.topLeftY,width:he.width,height:he.height})}else oe=ae.get(q.id()),se.nodes.push({x:V[Y].xCoords[oe]-q.boundingbox().w/2,y:V[Y].yCoords[oe]-q.boundingbox().h/2,width:q.boundingbox().w,height:q.boundingbox().h});else Z[Y][q.id()]&&se.nodes.push({x:Z[Y][q.id()].getLeft(),y:Z[Y][q.id()].getTop(),width:Z[Y][q.id()].getWidth(),height:Z[Y][q.id()].getHeight()})}),q.edges().forEach(function(q){var oe=q.source(),he=q.target();if("none"!=oe.css("display")&&"none"!=he.css("display"))if("draft"==c.quality){var de=ae.get(oe.id()),pe=ae.get(he.id()),ge=[],me=[];if(oe.isParent()){var ve=re.calcBoundingBox(oe,V[Y].xCoords,V[Y].yCoords,ae);ge.push(ve.topLeftX+ve.width/2),ge.push(ve.topLeftY+ve.height/2)}else ge.push(V[Y].xCoords[de]),ge.push(V[Y].yCoords[de]);if(he.isParent()){var be=re.calcBoundingBox(he,V[Y].xCoords,V[Y].yCoords,ae);me.push(be.topLeftX+be.width/2),me.push(be.topLeftY+be.height/2)}else me.push(V[Y].xCoords[pe]),me.push(V[Y].yCoords[pe]);se.edges.push({startX:ge[0],startY:ge[1],endX:me[0],endY:me[1]})}else Z[Y][oe.id()]&&Z[Y][he.id()]&&se.edges.push({startX:Z[Y][oe.id()].getCenterX(),startY:Z[Y][oe.id()].getCenterY(),endX:Z[Y][he.id()].getCenterX(),endY:Z[Y][he.id()].getCenterY()})}),se.nodes.length>0&&(Se.push(se),Ce.add(Y))}});var Le=de.packComponents(Se,c.randomize).shifts;if("draft"==c.quality)V.forEach(function(c,q){var Y=c.xCoords.map(function(c){return c+Le[q].dx}),V=c.yCoords.map(function(c){return c+Le[q].dy});c.xCoords=Y,c.yCoords=V});else{var Ne=0;Ce.forEach(function(c){Object.keys(Z[c]).forEach(function(q){var Y=Z[c][q];Y.setCenter(Y.getCenterX()+Le[Ne].dx,Y.getCenterY()+Le[Ne].dy)}),Ne++})}}}else{var Ie=c.eles.boundingBox();if(he.push({x:Ie.x1+Ie.w/2,y:Ie.y1+Ie.h/2}),c.randomize){var Me=ae(c);V.push(Me)}"default"==c.quality||"proof"==c.quality?(Z.push(se(c,V[0])),re.relocateComponent(he[0],Z[0],c)):re.relocateComponent(he[0],V[0],c)}var Re=o(function(q,Y){if("default"==c.quality||"proof"==c.quality){"number"==typeof q&&(q=Y);var re=void 0,ae=void 0,se=q.data("id");return Z.forEach(function(c){se in c&&(re={x:c[se].getRect().getCenterX(),y:c[se].getRect().getCenterY()},ae=c[se])}),c.nodeDimensionsIncludeLabels&&(ae.labelWidth&&("left"==ae.labelPosHorizontal?re.x+=ae.labelWidth/2:"right"==ae.labelPosHorizontal&&(re.x-=ae.labelWidth/2)),ae.labelHeight&&("top"==ae.labelPosVertical?re.y+=ae.labelHeight/2:"bottom"==ae.labelPosVertical&&(re.y-=ae.labelHeight/2))),null==re&&(re={x:q.position("x"),y:q.position("y")}),{x:re.x,y:re.y}}var oe=void 0;return V.forEach(function(c){var Y=c.nodeIndexes.get(q.id());null!=Y&&(oe={x:c.xCoords[Y],y:c.yCoords[Y]})}),null==oe&&(oe={x:q.position("x"),y:q.position("y")}),{x:oe.x,y:oe.y}},"getPositions");if("default"==c.quality||"proof"==c.quality||c.randomize){var Oe=re.calcParentsWithoutChildren(q,Y),Be=Y.filter(function(c){return"none"==c.css("display")});c.eles=Y.not(Be),Y.nodes().not(":parent").not(Be).layoutPositions(this,c,Re),Oe.length>0&&Oe.forEach(function(c){c.position(Re(c))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),b}();c.exports=he},657:(c,q,Y)=>{var V=Y(548),Z=Y(140).layoutBase.Matrix,re=Y(140).layoutBase.SVD,ae=o(function(c){var q=c.cy,Y=c.eles,ae=Y.nodes(),se=Y.nodes(":parent"),oe=new Map,he=new Map,de=new Map,pe=[],ge=[],me=[],ve=[],be=[],we=[],Te=[],_e=[],Ee=void 0,Ce=1e8,Se=1e-9,Ae=c.piTol,Le=c.samplingType,Ne=c.nodeSeparation,Ie=void 0,Me=o(function(){for(var c=0,q=0,Y=!1;q<Ie;){c=Math.floor(Math.random()*Ee),Y=!1;for(var V=0;V<q;V++)if(ve[V]==c){Y=!0;break}Y||(ve[q]=c,q++)}},"randomSampleCR"),Re=o(function(c,q,Y){for(var V=[],Z=0,re=0,ae=0,se=void 0,oe=[],de=0,ge=1,me=0;me<Ee;me++)oe[me]=Ce;for(V[re]=c,oe[c]=0;re>=Z;){ae=V[Z++];for(var ve=pe[ae],Te=0;Te<ve.length;Te++)oe[se=he.get(ve[Te])]==Ce&&(oe[se]=oe[ae]+1,V[++re]=se);we[ae][q]=oe[ae]*Ne}if(Y){for(var _e=0;_e<Ee;_e++)we[_e][q]<be[_e]&&(be[_e]=we[_e][q]);for(var Se=0;Se<Ee;Se++)be[Se]>de&&(de=be[Se],ge=Se)}return ge},"BFS"),Oe=o(function(c){var q=void 0;if(c){q=Math.floor(Math.random()*Ee);for(var Y=0;Y<Ee;Y++)be[Y]=Ce;for(var V=0;V<Ie;V++)ve[V]=q,q=Re(q,V,c)}else{Me();for(var Z=0;Z<Ie;Z++)Re(ve[Z],Z,c,!1)}for(var re=0;re<Ee;re++)for(var ae=0;ae<Ie;ae++)we[re][ae]*=we[re][ae];for(var se=0;se<Ie;se++)Te[se]=[];for(var oe=0;oe<Ie;oe++)for(var he=0;he<Ie;he++)Te[oe][he]=we[ve[he]][oe]},"allBFS"),Be=o(function(){for(var c=re.svd(Te),q=c.S,Y=c.U,V=c.V,ae=q[0]*q[0]*q[0],se=[],oe=0;oe<Ie;oe++){se[oe]=[];for(var he=0;he<Ie;he++)se[oe][he]=0,oe==he&&(se[oe][he]=q[oe]/(q[oe]*q[oe]+ae/(q[oe]*q[oe])))}_e=Z.multMat(Z.multMat(V,se),Z.transpose(Y))},"sample"),$e=o(function(){for(var c=void 0,q=void 0,Y=[],V=[],re=[],ae=[],se=0;se<Ee;se++)Y[se]=Math.random(),V[se]=Math.random();Y=Z.normalize(Y),V=Z.normalize(V);for(var oe=Se,he=Se,de=void 0;;){0;for(var pe=0;pe<Ee;pe++)re[pe]=Y[pe];if(Y=Z.multGamma(Z.multL(Z.multGamma(re),we,_e)),c=Z.dotProduct(re,Y),Y=Z.normalize(Y),oe=Z.dotProduct(re,Y),(de=Math.abs(oe/he))<=1+Ae&&de>=1)break;he=oe}for(var ve=0;ve<Ee;ve++)re[ve]=Y[ve];for(he=Se;;){0;for(var be=0;be<Ee;be++)ae[be]=V[be];if(ae=Z.minusOp(ae,Z.multCons(re,Z.dotProduct(re,ae))),V=Z.multGamma(Z.multL(Z.multGamma(ae),we,_e)),q=Z.dotProduct(ae,V),V=Z.normalize(V),oe=Z.dotProduct(ae,V),(de=Math.abs(oe/he))<=1+Ae&&de>=1)break;he=oe}for(var Te=0;Te<Ee;Te++)ae[Te]=V[Te];ge=Z.multCons(re,Math.sqrt(Math.abs(c))),me=Z.multCons(ae,Math.sqrt(Math.abs(q)))},"powerIteration");V.connectComponents(q,Y,V.getTopMostNodes(ae),oe),se.forEach(function(c){V.connectComponents(q,Y,V.getTopMostNodes(c.descendants().intersection(Y)),oe)});for(var Ue=0,qe=0;qe<ae.length;qe++)ae[qe].isParent()||he.set(ae[qe].id(),Ue++);var je=!0,We=!1,He=void 0;try{for(var Ve,Ke=oe.keys()[Symbol.iterator]();!(je=(Ve=Ke.next()).done);je=!0){var Qe=Ve.value;he.set(Qe,Ue++)}}catch(c){We=!0,He=c}finally{try{!je&&Ke.return&&Ke.return()}finally{if(We)throw He}}for(var Ze=0;Ze<he.size;Ze++)pe[Ze]=[];se.forEach(function(c){for(var q=c.children().intersection(Y);0==q.nodes(":childless").length;)q=q.nodes()[0].children().intersection(Y);var V=0,Z=q.nodes(":childless")[0].connectedEdges().length;q.nodes(":childless").forEach(function(c,q){c.connectedEdges().length<Z&&(Z=c.connectedEdges().length,V=q)}),de.set(c.id(),q.nodes(":childless")[V].id())}),ae.forEach(function(c){var q=void 0;q=c.isParent()?he.get(de.get(c.id())):he.get(c.id()),c.neighborhood().nodes().forEach(function(V){Y.intersection(c.edgesWith(V)).length>0&&(V.isParent()?pe[q].push(de.get(V.id())):pe[q].push(V.id()))})});var Je=o(function(c){var Y=he.get(c),V=void 0;oe.get(c).forEach(function(Z){V=q.getElementById(Z).isParent()?de.get(Z):Z,pe[Y].push(V),pe[he.get(V)].push(c)})},"_loop"),et=!0,tt=!1,rt=void 0;try{for(var nt,it=oe.keys()[Symbol.iterator]();!(et=(nt=it.next()).done);et=!0){Je(nt.value)}}catch(c){tt=!0,rt=c}finally{try{!et&&it.return&&it.return()}finally{if(tt)throw rt}}var at=void 0;if((Ee=he.size)>2){Ie=Ee<c.sampleSize?Ee:c.sampleSize;for(var st=0;st<Ee;st++)we[st]=[];for(var ot=0;ot<Ie;ot++)_e[ot]=[];return"draft"==c.quality||"all"==c.step?(Oe(Le),Be(),$e(),at={nodeIndexes:he,xCoords:ge,yCoords:me}):(he.forEach(function(c,Y){ge.push(q.getElementById(Y).position("x")),me.push(q.getElementById(Y).position("y"))}),at={nodeIndexes:he,xCoords:ge,yCoords:me}),at}var lt=he.keys(),ht=q.getElementById(lt.next().value),ut=ht.position(),pt=ht.outerWidth();if(ge.push(ut.x),me.push(ut.y),2==Ee){var gt=q.getElementById(lt.next().value).outerWidth();ge.push(ut.x+pt/2+gt/2+c.idealEdgeLength),me.push(ut.y)}return at={nodeIndexes:he,xCoords:ge,yCoords:me}},"spectralLayout");c.exports={spectralLayout:ae}},579:(c,q,Y)=>{var V=Y(212),Z=o(function(c){c&&c("layout","fcose",V)},"register");typeof cytoscape<"u"&&Z(cytoscape),c.exports=Z},140:q=>{q.exports=c}},Y={};function n(c){var V=Y[c];if(void 0!==V)return V.exports;var Z=Y[c]={exports:{}};return q[c](Z,Z.exports,n),Z.exports}return o(n,"__webpack_require__"),n(579)})()})}),L1e=M(()=>{ut(),p1e=o(c=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${c}</g>`,"wrapIcon"),g1e={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:p1e('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:p1e('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:p1e('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:p1e('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:p1e('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:Je,blank:{body:p1e("")}}}}),N1e=M(()=>{ut(),hf(),pO(),x1e(),L1e(),$0e(),f1e=o(async function(c,q){let Y=Li("padding"),V=Li("iconSize"),Z=V/2,re=V/6,ae=re/2;await Promise.all(q.edges().map(async q=>{let{source:V,sourceDir:se,sourceArrow:oe,sourceGroup:he,target:de,targetDir:pe,targetArrow:ge,targetGroup:me,label:ve}=P0e(q),{x:be,y:we}=q[0].sourceEndpoint(),{x:Te,y:_e}=q[0].midpoint(),{x:Ee,y:Ce}=q[0].targetEndpoint(),Se=Y+4;if(he&&(C0e(se)?be+="L"===se?-Se:Se:we+="T"===se?-Se:Se+18),me&&(C0e(pe)?Ee+="L"===pe?-Se:Se:Ce+="T"===pe?-Se:Se+18),!he&&"junction"===s1e.getNode(V)?.type&&(C0e(se)?be+="L"===se?Z:-Z:we+="T"===se?Z:-Z),!me&&"junction"===s1e.getNode(de)?.type&&(C0e(pe)?Ee+="L"===pe?Z:-Z:Ce+="T"===pe?Z:-Z),q[0]._private.rscratch){let q=c.insert("g");if(q.insert("path").attr("d",`M ${be},${we} L ${Te},${_e} L${Ee},${Ce} `).attr("class","edge"),oe){let c=C0e(se)?T0e[se](be,re):be-ae,Y=S0e(se)?T0e[se](we,re):we-ae;q.insert("polygon").attr("points",k0e[se](re)).attr("transform",`translate(${c},${Y})`).attr("class","arrow")}if(ge){let c=C0e(pe)?T0e[pe](Ee,re):Ee-ae,Y=S0e(pe)?T0e[pe](Ce,re):Ce-ae;q.insert("polygon").attr("points",k0e[pe](re)).attr("transform",`translate(${c},${Y})`).attr("class","arrow")}if(ve){let c=A0e(se,pe)?"XY":C0e(se)?"X":"Y",Y=0;Y="X"===c?Math.abs(be-Ee):"Y"===c?Math.abs(we-Ce)/1.5:Math.abs(be-Ee)/2;let V=q.append("g");if(await dO(V,ve,{useHtmlLabels:!1,width:Y,classes:"architecture-service-label"},Xp()),V.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),"X"===c)V.attr("transform","translate("+Te+", "+_e+")");else if("Y"===c)V.attr("transform","translate("+Te+", "+_e+") rotate(-90)");else if("XY"===c){let c=I0e(se,pe);if(c&&L0e(c)){let q=V.node().getBoundingClientRect(),[Y,Z]=R0e(c);V.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*Y*Z*45})`);let re=V.node().getBoundingClientRect();V.attr("transform",`\n                translate(${Te}, ${_e-q.height/2})\n                translate(${Y*re.width/2}, ${Z*re.height/2})\n                rotate(${-1*Y*Z*45}, 0, ${q.height/2})\n              `)}}}}}))},"drawEdges"),m1e=o(async function(c,q){let Y=.75*Li("padding"),V=Li("fontSize"),Z=Li("iconSize")/2;await Promise.all(q.nodes().map(async q=>{let re=B0e(q);if("group"===re.type){let{h:ae,w:se,x1:oe,y1:he}=q.boundingBox();c.append("rect").attr("x",oe+Z).attr("y",he+Z).attr("width",se).attr("height",ae).attr("class","node-bkg");let de=c.append("g"),pe=oe,ge=he;if(re.icon){let c=de.append("g");c.html(`<g>${await it(re.icon,{height:Y,width:Y,fallbackPrefix:g1e.prefix})}</g>`),c.attr("transform","translate("+(pe+Z+1)+", "+(ge+Z+1)+")"),pe+=Y,ge+=V/2-1-2}if(re.label){let c=de.append("g");await dO(c,re.label,{useHtmlLabels:!1,width:se,classes:"architecture-service-label"},Xp()),c.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),c.attr("transform","translate("+(pe+Z+4)+", "+(ge+Z+2)+")")}}}))},"drawGroups"),y1e=o(async function(c,q,Y){for(let V of Y){let Y=q.append("g"),Z=Li("iconSize");if(V.title){let c=Y.append("g");await dO(c,V.title,{useHtmlLabels:!1,width:1.5*Z,classes:"architecture-service-label"},Xp()),c.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),c.attr("transform","translate("+Z/2+", "+Z+")")}let re=Y.append("g");if(V.icon)re.html(`<g>${await it(V.icon,{height:Z,width:Z,fallbackPrefix:g1e.prefix})}</g>`);else if(V.iconText){re.html(`<g>${await it("blank",{height:Z,width:Z,fallbackPrefix:g1e.prefix})}</g>`);let c=re.append("g").append("foreignObject").attr("width",Z).attr("height",Z).append("div").attr("class","node-icon-text").attr("style",`height: ${Z}px;`).append("div").html(V.iconText),q=parseInt(window.getComputedStyle(c.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;c.attr("style",`-webkit-line-clamp: ${Math.floor((Z-2)/q)};`)}else re.append("path").attr("class","node-bkg").attr("id","node-"+V.id).attr("d",`M0 ${Z} v${-Z} q0,-5 5,-5 h${Z} q5,0 5,5 v${Z} H0 Z`);Y.attr("class","architecture-service");let{width:ae,height:se}=Y._groups[0][0].getBBox();V.width=ae,V.height=se,c.setElementForId(V.id,Y)}return 0},"drawServices"),v1e=o(function(c,q,Y){Y.forEach(Y=>{let V=q.append("g"),Z=Li("iconSize");V.append("g").append("rect").attr("id","node-"+Y.id).attr("fill-opacity","0").attr("width",Z).attr("height",Z),V.attr("class","architecture-junction");let{width:re,height:ae}=V._groups[0][0].getBBox();V.width=re,V.height=ae,c.setElementForId(Y.id,V)})},"drawJunctions")});function Lit(c,q){c.forEach(c=>{q.add({group:"nodes",data:{type:"service",id:c.id,icon:c.icon,label:c.title,parent:c.in,width:Li("iconSize"),height:Li("iconSize")},classes:"node-service"})})}function Dit(c,q){c.forEach(c=>{q.add({group:"nodes",data:{type:"junction",id:c.id,parent:c.in,width:Li("iconSize"),height:Li("iconSize")},classes:"node-junction"})})}function Nit(c,q){q.nodes().map(q=>{let Y=B0e(q);"group"!==Y.type&&(Y.x=q.position().x,Y.y=q.position().y,c.getElementById(Y.id).attr("transform","translate("+(Y.x||0)+","+(Y.y||0)+")"))})}function Rit(c,q){c.forEach(c=>{q.add({group:"nodes",data:{type:"group",id:c.id,icon:c.icon,label:c.title,parent:c.in},classes:"node-group"})})}function Mit(c,q){c.forEach(c=>{let{lhsId:Y,rhsId:V,lhsInto:Z,lhsGroup:re,rhsInto:ae,lhsDir:se,rhsDir:oe,rhsGroup:he,title:de}=c,pe=A0e(c.lhsDir,c.rhsDir)?"segments":"straight",ge={id:`${Y}-${V}`,label:de,source:Y,sourceDir:se,sourceArrow:Z,sourceGroup:re,sourceEndpoint:"L"===se?"0 50%":"R"===se?"100% 50%":"T"===se?"50% 0":"50% 100%",target:V,targetDir:oe,targetArrow:ae,targetGroup:he,targetEndpoint:"L"===oe?"0 50%":"R"===oe?"100% 50%":"T"===oe?"50% 0":"50% 100%"};q.add({group:"edges",data:ge,classes:pe})})}function Iit(c){let q=c.map(c=>{let q={},Y={};return Object.entries(c).forEach(([c,[V,Z]])=>{q[Z]||(q[Z]=[]),Y[V]||(Y[V]=[]),q[Z].push(c),Y[V].push(c)}),{horiz:Object.values(q).filter(c=>c.length>1),vert:Object.values(Y).filter(c=>c.length>1)}}),[Y,V]=q.reduce(([c,q],{horiz:Y,vert:V})=>[[...c,...Y],[...q,...V]],[[],[]]);return{horizontal:Y,vertical:V}}function Oit(c){let q=[],Y=o(c=>`${c[0]},${c[1]}`,"posToStr"),V=o(c=>c.split(",").map(c=>parseInt(c)),"strToPos");return c.forEach(c=>{let Z=Object.fromEntries(Object.entries(c).map(([c,q])=>[Y(q),c])),re=[Y([0,0])],ae={},se={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;re.length>0;){let c=re.shift();if(c){ae[c]=1;let oe=Z[c];if(oe){let he=V(c);Object.entries(se).forEach(([c,V])=>{let se=Y([he[0]+V[0],he[1]+V[1]]),de=Z[se];de&&!ae[se]&&(re.push(se),q.push({[w0e[c]]:de,[w0e[_0e(c)]]:oe,gap:1.5*Li("iconSize")}))})}}}}),q}function Pit(c,q,Y,Z,{spatialMaps:re}){return new Promise(ae=>{let se=ze("body").append("div").attr("id","cy").attr("style","display:none"),oe=fVe({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Li("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Li("padding")}px`}}]});se.remove(),Rit(Y,oe),Lit(c,oe),Dit(q,oe),Mit(Z,oe);let he=Iit(re),de=Oit(re),pe=oe.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(c){let[q,Y]=c.connectedNodes(),{parent:V}=B0e(q),{parent:Z}=B0e(Y);return V===Z?1.5*Li("iconSize"):.5*Li("iconSize")},edgeElasticity(c){let[q,Y]=c.connectedNodes(),{parent:V}=B0e(q),{parent:Z}=B0e(Y);return V===Z?.45:.001},alignmentConstraint:he,relativePlacementConstraint:de});pe.one("layoutstop",()=>{function d(c,q,Y,V){let Z,re,{x:ae,y:se}=c,{x:oe,y:he}=q;re=(V-se+(ae-Y)*(se-he)/(ae-oe))/Math.sqrt(1+Math.pow((se-he)/(ae-oe),2)),Z=Math.sqrt(Math.pow(V-se,2)+Math.pow(Y-ae,2)-Math.pow(re,2)),Z/=Math.sqrt(Math.pow(oe-ae,2)+Math.pow(he-se,2));let de=(oe-ae)*(V-se)-(he-se)*(Y-ae);switch(!0){case de>=0:de=1;break;case de<0:de=-1}let pe=(oe-ae)*(Y-ae)+(he-se)*(V-se);switch(!0){case pe>=0:pe=1;break;case pe<0:pe=-1}return re=Math.abs(re)*de,Z*=pe,{distances:re,weights:Z}}o(d,"getSegmentWeights"),oe.startBatch();for(let c of Object.values(oe.edges()))if(c.data?.()){let{x:q,y:Y}=c.source().position(),{x:V,y:Z}=c.target().position();if(q!==V&&Y!==Z){let q=c.sourceEndpoint(),Y=c.targetEndpoint(),{sourceDir:V}=P0e(c),[Z,re]=S0e(V)?[q.x,Y.y]:[Y.x,q.y],{weights:ae,distances:se}=d(q,Y,Z,re);c.style("segment-distances",se),c.style("segment-weights",ae)}}oe.endBatch(),pe.run()}),pe.run(),oe.ready(c=>{V.info("Ready",c),ae(oe)})})}var M1e,R1e,D1e,P1e=M(()=>{ut(),mVe(),M1e=ka(S1e(),1),U_(),Ae(),jpe(),kp(),x1e(),L1e(),$0e(),N1e(),rt([{name:g1e.prefix,icons:g1e}]),fVe.use(M1e.default),o(Lit,"addServices"),o(Dit,"addJunctions"),o(Nit,"positionNodes"),o(Rit,"addGroups"),o(Mit,"addEdges"),o(Iit,"getAlignments"),o(Oit,"getRelativeConstraints"),o(Pit,"layoutArchitecture"),R1e=o(async(c,q,Y,V)=>{let Z=V.db,re=Z.getServices(),ae=Z.getJunctions(),se=Z.getGroups(),oe=Z.getEdges(),he=Z.getDataStructures(),de=Bpe(q),pe=de.append("g");pe.attr("class","architecture-edges");let ge=de.append("g");ge.attr("class","architecture-services");let me=de.append("g");me.attr("class","architecture-groups"),await y1e(Z,ge,re),v1e(Z,ge,ae);let ve=await Pit(re,ae,se,oe,he);await f1e(pe,ve),await m1e(me,ve),Nit(Z,ve),up(void 0,de,Li("padding"),Li("useMaxWidth"))},"draw"),D1e={draw:R1e}}),B1e={};vr(B1e,{diagram:()=>F1e});var F1e,$1e=M(()=>{b1e(),x1e(),T1e(),P1e(),F1e={parser:h1e,db:s1e,renderer:D1e,styles:d1e}}),z1e={};vr(z1e,{default:()=>O3e}),ut(),An(),In();var G1e=o(c=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(c),"detector"),U1e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(HM(),YM));return{id:"c4",diagram:c}},"loader"),q1e={id:"c4",detector:G1e,loader:U1e},j1e="flowchart",Y1e=o((c,q)=>"dagre-wrapper"!==q?.flowchart?.defaultRenderer&&"elk"!==q?.flowchart?.defaultRenderer&&/^\s*graph/.test(c),"detector"),W1e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(W4(),g4));return{id:j1e,diagram:c}},"loader"),H1e={id:j1e,detector:Y1e,loader:W1e},V1e="flowchart-v2",X1e=o((c,q)=>"dagre-d3"!==q?.flowchart?.defaultRenderer&&("elk"===q?.flowchart?.defaultRenderer&&(q.layout="elk"),!(!/^\s*graph/.test(c)||"dagre-wrapper"!==q?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(c)),"detector"),K1e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(W4(),g4));return{id:V1e,diagram:c}},"loader"),Q1e={id:V1e,detector:X1e,loader:K1e},Z1e=o(c=>/^\s*erDiagram/.test(c),"detector"),J1e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(H5(),Y5));return{id:"er",diagram:c}},"loader"),e2e={id:"er",detector:Z1e,loader:J1e},t2e="gitGraph",r2e=o(c=>/^\s*gitGraph/.test(c),"detector"),n2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(Uue(),Fue));return{id:t2e,diagram:c}},"loader"),i2e={id:t2e,detector:r2e,loader:n2e},a2e="gantt",s2e=o(c=>/^\s*gantt/.test(c),"detector"),o2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(zpe(),Ape));return{id:a2e,diagram:c}},"loader"),l2e={id:a2e,detector:s2e,loader:o2e},c2e="info",h2e=o(c=>/^\s*info/.test(c),"detector"),u2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(pge(),Wpe));return{id:c2e,diagram:c}},"loader"),d2e={id:c2e,detector:h2e,loader:u2e},p2e=o(c=>/^\s*pie/.test(c),"detector"),g2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(_ge(),vge));return{id:"pie",diagram:c}},"loader"),f2e={id:"pie",detector:p2e,loader:g2e},m2e="quadrantChart",y2e=o(c=>/^\s*quadrantChart/.test(c),"detector"),v2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(Yge(),zge));return{id:m2e,diagram:c}},"loader"),x2e={id:m2e,detector:y2e,loader:v2e},b2e="xychart",w2e=o(c=>/^\s*xychart-beta/.test(c),"detector"),k2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(zme(),zfe));return{id:b2e,diagram:c}},"loader"),T2e={id:b2e,detector:w2e,loader:k2e},E2e="requirement",C2e=o(c=>/^\s*requirement(Diagram)?/.test(c),"detector"),S2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(tye(),Qme));return{id:E2e,diagram:c}},"loader"),L2e={id:E2e,detector:C2e,loader:S2e},j2e="sequence",Y2e=o(c=>/^\s*sequenceDiagram/.test(c),"detector"),W2e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(uxe(),ixe));return{id:j2e,diagram:c}},"loader"),H2e={id:j2e,detector:Y2e,loader:W2e},K2e="class",J2e=o((c,q)=>"dagre-wrapper"!==q?.class?.defaultRenderer&&/^\s*classDiagram/.test(c),"detector"),e4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(Dbe(),Ibe));return{id:K2e,diagram:c}},"loader"),t4e={id:K2e,detector:J2e,loader:e4e},n4e="classDiagram",i4e=o((c,q)=>!(!/^\s*classDiagram/.test(c)||"dagre-wrapper"!==q?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(c),"detector"),a4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(kTe(),Obe));return{id:n4e,diagram:c}},"loader"),s4e={id:n4e,detector:i4e,loader:a4e},o4e="state",l4e=o((c,q)=>"dagre-wrapper"!==q?.state?.defaultRenderer&&/^\s*stateDiagram/.test(c),"detector"),c4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(MCe(),LCe));return{id:o4e,diagram:c}},"loader"),h4e={id:o4e,detector:l4e,loader:c4e},u4e="stateDiagram",d4e=o((c,q)=>!!(/^\s*stateDiagram-v2/.test(c)||/^\s*stateDiagram/.test(c)&&"dagre-wrapper"===q?.state?.defaultRenderer),"detector"),p4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(MSe(),DCe));return{id:u4e,diagram:c}},"loader"),g4e={id:u4e,detector:d4e,loader:p4e},f4e="journey",m4e=o(c=>/^\s*journey/.test(c),"detector"),y4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(ZSe(),VSe));return{id:f4e,diagram:c}},"loader"),v4e={id:f4e,detector:m4e,loader:y4e};Ae(),jpe(),kp();var x4e={draw:o((c,q,Y)=>{V.debug("rendering svg for syntax error\n");let Z=Bpe(q),re=Z.append("g");Z.attr("viewBox","0 0 2412 512"),hp(Z,100,512,!0),re.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),re.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),re.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),re.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),re.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),re.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),re.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),re.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${Y}`)},"draw")},b4e=x4e,w4e={db:{},renderer:x4e,parser:{parse:o(()=>{},"parse")}},k4e="flowchart-elk",T4e=o((c,q={})=>!!(/^\s*flowchart-elk/.test(c)||/^\s*flowchart|graph/.test(c)&&"elk"===q?.flowchart?.defaultRenderer)&&(q.layout="elk",!0),"detector"),_4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(W4(),g4));return{id:k4e,diagram:c}},"loader"),E4e={id:k4e,detector:T4e,loader:_4e},C4e="timeline",S4e=o(c=>/^\s*timeline/.test(c),"detector"),A4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(nNe(),ELe));return{id:C4e,diagram:c}},"loader"),L4e={id:C4e,detector:S4e,loader:A4e},N4e="mindmap",I4e=o(c=>/^\s*mindmap/.test(c),"detector"),M4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(LXe(),QVe));return{id:N4e,diagram:c}},"loader"),R4e={id:N4e,detector:I4e,loader:M4e},D4e="kanban",O4e=o(c=>/^\s*kanban/.test(c),"detector"),P4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(nKe(),PXe));return{id:D4e,diagram:c}},"loader"),$4e={id:D4e,detector:O4e,loader:P4e},z4e="sankey",G4e=o(c=>/^\s*sankey-beta/.test(c),"detector"),U4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(aQe(),PKe));return{id:z4e,diagram:c}},"loader"),q4e={id:z4e,detector:G4e,loader:U4e},j4e="packet",Y4e=o(c=>/^\s*packet-beta/.test(c),"detector"),W4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(vQe(),uQe));return{id:j4e,diagram:c}},"loader"),H4e={id:j4e,detector:Y4e,loader:W4e},V4e="block",X4e=o(c=>/^\s*block-beta/.test(c),"detector"),K4e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>(F0e(),x0e));return{id:V4e,diagram:c}},"loader"),Q4e={id:V4e,detector:X4e,loader:K4e},Z4e="architecture",J4e=o(c=>/^\s*architecture/.test(c),"detector"),e5e=o(async()=>{let{diagram:c}=await Promise.resolve().then(()=>($1e(),B1e));return{id:Z4e,diagram:c}},"loader"),t5e={id:Z4e,detector:J4e,loader:e5e};In(),hf();var r5e=!1,n5e=o(()=>{r5e||(r5e=!0,ag("error",w4e,c=>"error"===c.toLowerCase().trim()),ag("---",{db:{clear:o(()=>{},"clear")},styles:{},renderer:{draw:o(()=>{},"draw")},parser:{parse:o(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:o(()=>null,"init")},c=>c.toLowerCase().trimStart().startsWith("---")),wt(q1e,$4e,s4e,t4e,e2e,l2e,d2e,f2e,L2e,H2e,E4e,Q1e,H1e,R4e,L4e,i2e,g4e,h4e,v4e,x2e,q4e,H4e,T2e,Q4e,t5e))},"addDiagrams");Ae(),In(),hf();var i5e=o(async()=>{V.debug("Loading registered diagrams");let c=(await Promise.allSettled(Object.entries(xt).map(async([c,{detector:q,loader:Y}])=>{if(Y)try{sg(c)}catch{try{let{diagram:c,id:V}=await Y();ag(V,c,q)}catch(q){throw V.error(`Failed to load external diagram with key ${c}. Removing from detectors.`),delete xt[c],q}}}))).filter(c=>"rejected"===c.status);if(c.length>0){V.error(`Failed to load ${c.length} external diagrams`);for(let q of c)V.error(q);throw new Error(`Failed to load ${c.length} external diagrams`)}},"loadRegisteredDiagrams");Ae(),U_();var a5e="comm",s5e="rule",o5e="decl",c5e=Math.abs,u5e=String.fromCharCode;function lS(c){return c.trim()}function Tb(c,q,Y){return c.replace(q,Y)}function A2e(c,q,Y){return c.indexOf(q,Y)}function K0(c,q){return 0|c.charCodeAt(q)}function If(c,q,Y){return c.slice(q,Y)}function yo(c){return c.length}function _2e(c){return c.length}function A1(c,q){return q.push(c),c}o(lS,"trim"),o(Tb,"replace"),o(A2e,"indexof"),o(K0,"charat"),o(If,"substr"),o(yo,"strlen"),o(_2e,"sizeof"),o(A1,"append");var p5e=1,g5e=1,m5e=0,T5e=0,M5e=0,D5e="";function uS(c,q,Y,V,Z,re,ae,se){return{value:c,root:q,parent:Y,type:V,props:Z,children:re,line:p5e,column:g5e,length:ae,return:"",siblings:se}}function D2e(){return M5e}function N2e(){return M5e=T5e>0?K0(D5e,--T5e):0,g5e--,10===M5e&&(g5e=1,p5e--),M5e}function cl(){return M5e=T5e<m5e?K0(D5e,T5e++):0,g5e++,10===M5e&&(g5e=1,p5e++),M5e}function Ju(){return K0(D5e,T5e)}function kb(){return T5e}function hS(c,q){return If(D5e,c,q)}function L1(c){switch(c){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R2e(c){return p5e=g5e=1,m5e=yo(D5e=c),T5e=0,[]}function M2e(c){return D5e="",c}function fS(c){return lS(hS(T5e-1,yF(91===c?c+2:40===c?c+1:c)))}function I2e(c){for(;(M5e=Ju())&&M5e<33;)cl();return L1(c)>2||L1(M5e)>3?"":" "}function O2e(c,q){for(;--q&&cl()&&!(M5e<48||M5e>102||M5e>57&&M5e<65||M5e>70&&M5e<97););return hS(c,kb()+(q<6&&32==Ju()&&32==cl()))}function yF(c){for(;cl();)switch(M5e){case c:return T5e;case 34:case 39:34!==c&&39!==c&&yF(M5e);break;case 40:41===c&&yF(c);break;case 92:cl()}return T5e}function P2e(c,q){for(;cl()&&c+M5e!==57&&(c+M5e!==84||47!==Ju()););return"/*"+hS(q,T5e-1)+"*"+u5e(47===c?c:cl())}function B2e(c){for(;!L1(Ju());)cl();return hS(c,T5e)}function G2e(c){return M2e(dS("",null,null,null,[""],c=R2e(c),0,[0],c))}function dS(c,q,Y,V,Z,re,ae,se,oe){for(var he=0,de=0,pe=ae,ge=0,me=0,ve=0,be=1,we=1,Te=1,_e=0,Ee="",Ce=Z,Se=re,Ae=V,Le=Ee;we;)switch(ve=_e,_e=cl()){case 40:if(108!=ve&&58==K0(Le,pe-1)){-1!=A2e(Le+=Tb(fS(_e),"&","&\f"),"&\f",c5e(he?se[he-1]:0))&&(Te=-1);break}case 34:case 39:case 91:Le+=fS(_e);break;case 9:case 10:case 13:case 32:Le+=I2e(ve);break;case 92:Le+=O2e(kb()-1,7);continue;case 47:switch(Ju()){case 42:case 47:A1(Vit(P2e(cl(),kb()),q,Y,oe),oe),(5==L1(ve||1)||5==L1(Ju()||1))&&yo(Le)&&" "!==If(Le,-1,void 0)&&(Le+=" ");break;default:Le+="/"}break;case 123*be:se[he++]=yo(Le)*Te;case 125*be:case 59:case 0:switch(_e){case 0:case 125:we=0;case 59+de:-1==Te&&(Le=Tb(Le,/\f/g,"")),me>0&&(yo(Le)-pe||0===be&&47===ve)&&A1(me>32?z2e(Le+";",V,Y,pe-1,oe):z2e(Tb(Le," ","")+";",V,Y,pe-2,oe),oe);break;case 59:Le+=";";default:if(A1(Ae=F2e(Le,q,Y,he,de,Z,se,Ee,Ce=[],Se=[],pe,re),re),123===_e)if(0===de)dS(Le,q,Ae,Ae,Ce,re,pe,se,Se);else switch(99===ge&&110===K0(Le,3)?100:ge){case 100:case 108:case 109:case 115:dS(c,Ae,Ae,V&&A1(F2e(c,Ae,Ae,0,0,Z,se,Ee,Z,Ce=[],pe,Se),Se),Z,Se,pe,se,V?Ce:Se);break;default:dS(Le,Ae,Ae,Ae,[""],Se,0,se,Se)}}he=de=me=0,be=Te=1,Ee=Le="",pe=ae;break;case 58:pe=1+yo(Le),me=ve;default:if(be<1)if(123==_e)--be;else if(125==_e&&0==be++&&125==N2e())continue;switch(Le+=u5e(_e),_e*be){case 38:Te=de>0?1:(Le+="\f",-1);break;case 44:se[he++]=(yo(Le)-1)*Te,Te=1;break;case 64:45===Ju()&&(Le+=fS(cl())),ge=Ju(),de=pe=yo(Ee=Le+=B2e(kb())),_e++;break;case 45:45===ve&&2==yo(Le)&&(be=0)}}return re}function F2e(c,q,Y,V,Z,re,ae,se,oe,he,de,pe){for(var ge=Z-1,me=0===Z?re:[""],ve=_2e(me),be=0,we=0,Te=0;be<V;++be)for(var _e=0,Ee=If(c,ge+1,ge=c5e(we=ae[be])),Ce=c;_e<ve;++_e)(Ce=lS(we>0?me[_e]+" "+Ee:Tb(Ee,/&\f/g,me[_e])))&&(oe[Te++]=Ce);return uS(c,q,Y,0===Z?s5e:se,oe,he,de,pe)}function Vit(c,q,Y,V){return uS(c,q,Y,a5e,u5e(D2e()),If(c,2,-2),0,V)}function z2e(c,q,Y,V,Z){return uS(c,q,Y,o5e,If(c,0,V),If(c,V+1,-1),V,Z)}function pS(c,q){for(var Y="",V=0;V<c.length;V++)Y+=q(c[V],V,c,q)||"";return Y}function $2e(c,q,Y,V){switch(c.type){case"@layer":if(c.children.length)break;case"@import":case o5e:return c.return=c.return||c.value;case a5e:return"";case"@keyframes":return c.return=c.value+"{"+pS(c.children,V)+"}";case s5e:if(!yo(c.value=c.props.join(",")))return""}return yo(Y=pS(c.children,V))?c.return=c.value+"{"+Y+"}":""}o(uS,"node"),o(D2e,"char"),o(N2e,"prev"),o(cl,"next"),o(Ju,"peek"),o(kb,"caret"),o(hS,"slice"),o(L1,"token"),o(R2e,"alloc"),o(M2e,"dealloc"),o(fS,"delimit"),o(I2e,"whitespace"),o(O2e,"escaping"),o(yF,"delimiter"),o(P2e,"commenter"),o(B2e,"identifier"),o(G2e,"compile"),o(dS,"parse"),o(F2e,"ruleset"),o(Vit,"comment"),o(z2e,"declaration"),o(pS,"serialize"),o($2e,"stringify"),Oa(),VZ(),Upe();function V2e(c,q){c.attr("role","graphics-document document"),""!==q&&c.attr("aria-roledescription",q)}function U2e(c,q,Y,V){if(void 0!==c.insert){if(Y){let q=`chart-desc-${V}`;c.attr("aria-describedby",q),c.insert("desc",":first-child").attr("id",q).text(Y)}if(q){let Y=`chart-title-${V}`;c.attr("aria-labelledby",Y),c.insert("title",":first-child").attr("id",Y).text(q)}}}o(V2e,"setA11yDiagramInfo"),o(U2e,"addSVGa11yTitleDescription"),Rn(),ki(),ki(),hf(),In(),Nn(),yM();var e3e=class t{constructor(c,q,Y,V,Z){this.type=c,this.text=q,this.db=Y,this.parser=V,this.renderer=Z}static{o(this,"Diagram")}static async fromText(c,q={}){let Y=bn(),V=bt(c,Y);c=uM(c)+"\n";try{sg(V)}catch{let c=_t(V);if(!c)throw new mt(`Diagram ${V} not found.`);let{id:q,diagram:Y}=await c();ag(q,Y)}let{db:Z,parser:re,renderer:ae,init:se}=sg(V);return re.parser&&(re.parser.yy=Z),Z.clear?.(),se?.(Y),q.title&&Z.setDiagramTitle?.(q.title),await re.parse(c),new t(V,c,Z,re,ae)}async render(c,q){await this.renderer.draw(this.text,c,q,this)}getParser(){return this.parser}getType(){return this.type}};bp();var t3e=[],r3e=o(()=>{t3e.forEach(c=>{c()}),t3e=[]},"attachFunctions");Ae();var n3e=o(c=>c.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function q2e(c){let q=c.match(pt);if(!q)return{text:c,metadata:{}};let Y=V$(q[1],{schema:H$})??{};Y="object"!=typeof Y||Array.isArray(Y)?{}:Y;let V={};return Y.displayMode&&(V.displayMode=Y.displayMode.toString()),Y.title&&(V.title=Y.title.toString()),Y.config&&(V.config=Y.config),{text:c.slice(q[0].length),metadata:V}}Ln(),K$(),o(q2e,"extractFrontMatter"),yM();var i3e=o(c=>c.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(c,q,Y)=>"<"+q+Y.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),a3e=o(c=>{let{text:q,metadata:Y}=q2e(c),{displayMode:V,title:Z,config:re={}}=Y;return V&&(re.gantt||(re.gantt={}),re.gantt.displayMode=V),{title:Z,config:re,text:q}},"processFrontmatter"),s3e=o(c=>{let q=hM.detectInit(c)??{},Y=hM.detectDirective(c,"wrap");return Array.isArray(Y)?q.wrap=Y.some(({type:c})=>"wrap"===c):"wrap"===Y?.type&&(q.wrap=!0),{text:YI(c),directive:q}},"processDirectives");function vF(c){let q=i3e(c),Y=a3e(q),V=s3e(Y.text),Z=ws(Y.config,V.directive);return{code:c=n3e(V.text),title:Y.title,config:Z}}function X2e(c){let q=(new TextEncoder).encode(c),Y=Array.from(q,c=>String.fromCodePoint(c)).join("");return btoa(Y)}o(vF,"preprocessDiagram"),Tp(),vi(),yM(),o(X2e,"toBase64");var o3e=["foreignobject"],l3e=["dominant-baseline"];function Z2e(c){let q=vF(c);return Tn(),kn(q.config??{}),q}async function lat(c,q){n5e();try{let{code:q,config:Y}=Z2e(c);return{diagramType:(await y3e(q)).type,config:Y}}catch(c){if(q?.suppressErrors)return!1;throw c}}o(Z2e,"processAndSetConfigs"),o(lat,"parse");var c3e=o((c,q,Y=[])=>`\n.${c} ${q} { ${Y.join(" !important; ")} !important; }`,"cssImportantStyles"),h3e=o((c,q=new Map)=>{let Y="";if(void 0!==c.themeCSS&&(Y+=`\n${c.themeCSS}`),void 0!==c.fontFamily&&(Y+=`\n:root { --mermaid-font-family: ${c.fontFamily}}`),void 0!==c.altFontFamily&&(Y+=`\n:root { --mermaid-alt-font-family: ${c.altFontFamily}}`),q instanceof Map){let V=c.htmlLabels??c.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];q.forEach(c=>{HZ(c.styles)||V.forEach(q=>{Y+=c3e(c.id,q,c.styles)}),HZ(c.textStyles)||(Y+=c3e(c.id,"tspan",(c?.textStyles||[]).map(c=>c.replace("color","fill"))))})}return Y},"createCssStyles"),u3e=o((c,q,Y,V)=>{let Z=h3e(c,Y);return pS(G2e(`${V}{${mp(q,Z,c.themeVariables)}}`),$2e)},"createUserStyles"),d3e=o((c="",q,Y)=>{let V=c;return!Y&&!q&&(V=V.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),V=dM(V),V=V.replace(/<br>/g,"<br/>"),V},"cleanUpSvgCode"),p3e=o((c="",q)=>`<iframe style="width:100%;height:${q?.viewBox?.baseVal?.height?q.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${X2e(`<body style="margin:0">${c}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`,"putIntoIFrame"),g3e=o((c,q,Y,V,Z)=>{let re=c.append("div");re.attr("id",Y),V&&re.attr("style",V);let ae=re.append("svg").attr("id",q).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return Z&&ae.attr("xmlns:xlink",Z),ae.append("g"),c},"appendDivSvgG");function Q2e(c,q){return c.append("iframe").attr("id",q).attr("style","width: 100%; height: 100%;").attr("sandbox","")}o(Q2e,"sandboxedIframe");var f3e=o((c,q,Y,V)=>{c.getElementById(q)?.remove(),c.getElementById(Y)?.remove(),c.getElementById(V)?.remove()},"removeExistingElements"),m3e=o(async function(c,q,Y){n5e();let Z=Z2e(q);q=Z.code;let re=bn();V.debug(re),q.length>(re?.maxTextSize??5e4)&&(q="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let ae,se,oe="#"+c,he="i"+c,de="#"+he,pe="d"+c,ge="#"+pe,me=o(()=>{let c=ze(be?de:ge).node();c&&"remove"in c&&c.remove()},"removeTempElements"),ve=ze("body"),be="sandbox"===re.securityLevel,we="loose"===re.securityLevel,Te=re.fontFamily;if(void 0!==Y){if(Y&&(Y.innerHTML=""),be){let c=Q2e(ze(Y),he);ve=ze(c.nodes()[0].contentDocument.body),ve.node().style.margin=0}else ve=ze(Y);g3e(ve,c,pe,`font-family: ${Te}`,"http://www.w3.org/1999/xlink")}else{if(f3e(document,c,pe,he),be){let c=Q2e(ze("body"),he);ve=ze(c.nodes()[0].contentDocument.body),ve.node().style.margin=0}else ve=ze("body");g3e(ve,c,pe)}try{ae=await e3e.fromText(q,{title:Z.title})}catch(c){if(re.suppressErrorRendering)throw me(),c;ae=await e3e.fromText("error"),se=c}let _e=ve.select(ge).node(),Ee=ae.type,Ce=_e.firstChild,Se=Ce.firstChild,Ae=ae.renderer.getClasses?.(q,ae),Le=u3e(re,Ee,Ae,oe),Ne=document.createElement("style");Ne.innerHTML=Le,Ce.insertBefore(Ne,Se);try{await ae.renderer.draw(q,c,Mpe,ae)}catch(Y){throw re.suppressErrorRendering?me():b4e.draw(q,c,Mpe),Y}let Ie=ve.select(`${ge} svg`),Me=ae.db.getAccTitle?.(),Re=ae.db.getAccDescription?.();gat(Ee,Ie,Me,Re),ve.select(`[id="${c}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let Oe=ve.select(ge).node().innerHTML;if(V.debug("config.arrowMarkerAbsolute",re.arrowMarkerAbsolute),Oe=d3e(Oe,be,zd(re.arrowMarkerAbsolute)),be){let c=ve.select(ge+" svg").node();Oe=p3e(Oe,c)}else we||(Oe=Da.sanitize(Oe,{ADD_TAGS:o3e,ADD_ATTR:l3e,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(r3e(),se)throw se;return me(),{diagramType:Ee,svg:Oe,bindFunctions:ae.db.bindFunctions}},"render");function mat(c={}){let q=Nt({},c);q?.fontFamily&&!q.themeVariables?.fontFamily&&(q.themeVariables||(q.themeVariables={}),q.themeVariables.fontFamily=q.fontFamily),mn(q),q?.theme&&q.theme in Kr?q.themeVariables=Kr[q.theme].getThemeVariables(q.themeVariables):q&&(q.themeVariables=Kr.default.getThemeVariables(q.themeVariables));let Y="object"==typeof q?pn(q):vn();Z(Y.logLevel),n5e()}o(mat,"initialize");var y3e=o((c,q={})=>{let{code:Y}=vF(c);return e3e.fromText(Y,q)},"getDiagramFromText");function gat(c,q,Y,V){V2e(q,c),U2e(q,Y,V,q.attr("id"))}o(gat,"addA11yInfo");var v3e=Object.freeze({render:m3e,parse:lat,getDiagramFromText:y3e,initialize:mat,getConfig:bn,setConfig:xn,getSiteConfig:vn,updateSiteConfig:yn,reset:o(()=>{Tn()},"reset"),globalReset:o(()=>{Tn(on)},"globalReset"),defaultConfig:on});Z(bn().logLevel),Tn(bn()),c4(),yM();var b3e=o((c,q,Y)=>{V.warn(c),i9(c)?(Y&&Y(c.str,c.hash),q.push({...c,message:c.str,error:c})):(Y&&Y(c),c instanceof Error&&q.push({str:c.message,message:c.message,hash:c.name,error:c}))},"handleError"),w3e=o(async function(c={querySelector:".mermaid"}){try{await k3e(c)}catch(q){if(i9(q)&&V.error(q.str),D3e.parseError&&D3e.parseError(q),!c.suppressErrors)throw V.error("Use the suppressErrors option to suppress these errors"),q}},"run"),k3e=o(async function({postRenderCallback:c,querySelector:q,nodes:Y}={querySelector:".mermaid"}){let Z,re=v3e.getConfig();if(V.debug((c?"":"No ")+"Callback function found"),Y)Z=Y;else{if(!q)throw new Error("Nodes and querySelector are both undefined");Z=document.querySelectorAll(q)}V.debug(`Found ${Z.length} diagrams`),void 0!==re?.startOnLoad&&(V.debug("Start On Load: "+re?.startOnLoad),v3e.updateSiteConfig({startOnLoad:re?.startOnLoad}));let ae,se=new hM.InitIDGenerator(re.deterministicIds,re.deterministicIDSeed),oe=[];for(let q of Array.from(Z)){if(V.info("Rendering diagram: "+q.id),q.getAttribute("data-processed"))continue;q.setAttribute("data-processed","true");let Y=`mermaid-${se.next()}`;ae=q.innerHTML,ae=Ib(hM.entityDecode(ae)).trim().replace(/<br\s*\/?>/gi,"<br/>");let Z=hM.detectInit(ae);Z&&V.debug("Detected early reinit: ",Z);try{let{svg:V,bindFunctions:Z}=await R3e(Y,ae,q);q.innerHTML=V,c&&await c(Y),Z&&Z(q)}catch(c){b3e(c,oe,D3e.parseError)}}if(oe.length>0)throw oe[0]},"runThrowsErrors"),T3e=o(function(c){v3e.initialize(c)},"initialize"),_3e=o(async function(c,q,Y){V.warn("mermaid.init is deprecated. Please use run instead."),c&&T3e(c);let Z={postRenderCallback:Y,querySelector:".mermaid"};"string"==typeof q?Z.querySelector=q:q&&(q instanceof HTMLElement?Z.nodes=[q]:Z.nodes=q),await w3e(Z)},"init"),E3e=o(async(c,{lazyLoad:q=!0}={})=>{n5e(),wt(...c),!1===q&&await i5e()},"registerExternalDiagrams"),C3e=o(function(){if(D3e.startOnLoad){let{startOnLoad:c}=v3e.getConfig();c&&D3e.run().catch(c=>V.error("Mermaid failed to initialize",c))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",C3e,!1);var S3e,A3e=o(function(c){D3e.parseError=c},"setParseErrorHandler"),L3e=[],N3e=!1,I3e=o(async()=>{if(!N3e){for(N3e=!0;L3e.length>0;){let c=L3e.shift();if(c)try{await c()}catch(c){V.error("Error executing queue",c)}}N3e=!1}},"executeQueue"),M3e=o(async(c,q)=>new Promise((Y,Z)=>{let re=o(()=>new Promise((re,ae)=>{v3e.parse(c,q).then(c=>{re(c),Y(c)},c=>{V.error("Error parsing",c),D3e.parseError?.(c),ae(c),Z(c)})}),"performCall");L3e.push(re),I3e().catch(Z)}),"parse"),R3e=o((c,q,Y)=>new Promise((Z,re)=>{let ae=o(()=>new Promise((ae,se)=>{v3e.render(c,q,Y).then(c=>{ae(c),Z(c)},c=>{V.error("Error parsing",c),D3e.parseError?.(c),se(c),re(c)})}),"performCall");L3e.push(ae),I3e().catch(re)}),"render"),D3e={startOnLoad:!0,mermaidAPI:v3e,parse:M3e,render:R3e,init:_3e,run:w3e,registerExternalDiagrams:E3e,registerLayoutLoaders:H2,initialize:T3e,parseError:void 0,contentLoaded:C3e,setParseErrorHandler:A3e,detectType:bt,registerIconPacks:rt},O3e=D3e;S3e=z1e,Cb(we({},"__esModule",{value:!0}),S3e)})();globalThis.mermaid=globalThis.__esbuild_esm_mermaid.default;
//# sourceMappingURL=mermaid.min.js.map
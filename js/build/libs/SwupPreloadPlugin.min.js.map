{"version":3,"file":"SwupPreloadPlugin.min.js","names":["e","t","this","Object","assign","bind","arguments","length","r","o","prototype","hasOwnProperty","call","apply","String","split","map","parseInt","concat","slice","join","constructor","isSwupPlugin","swup","version","requires","handlersToUnregister","mount","unmount","forEach","_beforeMount","name","Error","_afterUnmount","_checkRequirements","entries","s","findPlugin","every","match","i","n","localeCompare","numeric","Array","isArray","on","startsWith","hooks","push","once","before","replace","off","hash","location","pathname","search","URL","document","baseURI","super","toString","url","fromElement","getAttribute","fromUrl","window","matchMedia","matches","requestIdleCallback","setTimeout","defaults","throttle","preloadInitialPage","preloadHoveredLinks","preloadVisibleLinks","enabled","threshold","delay","containers","ignore","options","queue","preloadObserver","preloadPromises","Map","mouseEnterDelegate","touchStartDelegate","focusDelegate","onPageLoad","to","has","get","onMouseEnter","target","delegateTarget","Promise","resolve","HTMLAnchorElement","callSync","el","event","preload","priority","reject","onTouchStart","onFocus","Boolean","shift","add","__queued","indexOf","splice","next","cache","console","warn","create","preloadLinks","linkSelector","passive","capture","delegateEvent","clear","destroy","stopPreloadingVisibleLinks","all","shouldPreload","a","performPreload","catch","then","finally","delete","set","from","querySelectorAll","update","callback","filter","l","IntersectionObserver","isIntersecting","h","u","href","Set","size","unobserve","c","observe","start","stop","disconnect","navigator","connection","saveData","effectiveType","endsWith","shouldIgnoreVisit","resolveUrl","fetchPage","page","exports","module","define","amd","self","SwupPreloadPlugin"],"sources":["0"],"mappings":"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","ignoreList":[]}